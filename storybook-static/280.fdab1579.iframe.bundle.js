/*! For license information please see 280.fdab1579.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkstorybook_demo=self.webpackChunkstorybook_demo||[]).push([[280],{"./node_modules/@ag-grid-community/angular/fesm2015/ag-grid-community-angular.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{sF:()=>AgGridModule});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ag-grid-community/core/dist/esm/es6/main.mjs");class AngularFrameworkOverrides extends _ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.vA3{constructor(_ngZone){super(),this._ngZone=_ngZone}setEmitterUsedCallback(isEmitterUsed){this.isEmitterUsed=isEmitterUsed}setTimeout(action,timeout){this._ngZone?this._ngZone.runOutsideAngular((()=>{window.setTimeout((()=>{action()}),timeout)})):window.setTimeout((()=>{action()}),timeout)}setInterval(action,interval){return new _ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.j_S((resolve=>{this._ngZone?this._ngZone.runOutsideAngular((()=>{resolve(window.setInterval((()=>{action()}),interval))})):resolve(window.setInterval((()=>{action()}),interval))}))}addEventListener(element,eventType,listener,useCapture){this.isOutsideAngular(eventType)&&this._ngZone?this._ngZone.runOutsideAngular((()=>{element.addEventListener(eventType,listener,useCapture)})):element.addEventListener(eventType,listener,useCapture)}dispatchEvent(eventType,listener,global=!1){this.isOutsideAngular(eventType)?this._ngZone?this._ngZone.runOutsideAngular(listener):listener():(this.isEmitterUsed(eventType)||global)&&(!_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()&&this._ngZone?this._ngZone.run(listener):listener())}isFrameworkComponent(comp){if(!comp)return!1;const prototype=comp.prototype;return prototype&&"agInit"in prototype}}AngularFrameworkOverrides.ɵfac=function AngularFrameworkOverrides_Factory(t){return new(t||AngularFrameworkOverrides)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone))},AngularFrameworkOverrides.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({token:AngularFrameworkOverrides,factory:AngularFrameworkOverrides.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AngularFrameworkOverrides,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable}],(function(){return[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone}]}),null);class AngularFrameworkComponentWrapper extends _ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.Nk3{setViewContainerRef(viewContainerRef){this.viewContainerRef=viewContainerRef}setComponentFactoryResolver(componentFactoryResolver){this.componentFactoryResolver=componentFactoryResolver}createWrapper(OriginalConstructor){let that=this;let wrapper=new class DynamicAgNg2Component extends BaseGuiComponent{init(params){super.init(params),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return that.createComponent(OriginalConstructor)}hasMethod(name){return null!=wrapper.getFrameworkComponentInstance()[name]}callMethod(name,args){const componentRef=this.getFrameworkComponentInstance();return wrapper.getFrameworkComponentInstance()[name].apply(componentRef,args)}addMethod(name,callback){wrapper[name]=callback}};return wrapper}createComponent(componentType){let factory=this.componentFactoryResolver.resolveComponentFactory(componentType);return this.viewContainerRef.createComponent(factory)}}AngularFrameworkComponentWrapper.ɵfac=function(){let ɵAngularFrameworkComponentWrapper_BaseFactory;return function AngularFrameworkComponentWrapper_Factory(t){return(ɵAngularFrameworkComponentWrapper_BaseFactory||(ɵAngularFrameworkComponentWrapper_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetInheritedFactory"](AngularFrameworkComponentWrapper)))(t||AngularFrameworkComponentWrapper)}}(),AngularFrameworkComponentWrapper.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({token:AngularFrameworkComponentWrapper,factory:AngularFrameworkComponentWrapper.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AngularFrameworkComponentWrapper,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable}],null,null);class BaseGuiComponent{init(params){this._params=params,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}class AgGridAngular{constructor(elementDef,viewContainerRef,angularFrameworkOverrides,frameworkComponentWrapper,componentFactoryResolver){this.viewContainerRef=viewContainerRef,this.angularFrameworkOverrides=angularFrameworkOverrides,this.frameworkComponentWrapper=frameworkComponentWrapper,this.componentFactoryResolver=componentFactoryResolver,this._initialised=!1,this._destroyed=!1,this._fullyReady=_ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.toolPanelSizeChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cutStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cutEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pasteStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pasteEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnVisible=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPinned=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnResized=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnMoved=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnValueChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPivotModeChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPivotChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnGroupOpened=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.newColumnsLoaded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridColumnsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.displayedColumnsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.virtualColumnsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnEverythingChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.componentStateChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellValueChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellEditRequest=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowValueChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellEditingStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellEditingStopped=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowEditingStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowEditingStopped=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.undoStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.undoEnded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.redoStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.redoEnded=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rangeDeleteStart=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rangeDeleteEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.filterOpened=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.filterChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.filterModified=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.advancedFilterBuilderVisibleChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartCreated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartRangeSelectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartOptionsChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.chartDestroyed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellKeyDown=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridReady=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridPreDestroyed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.firstDataRendered=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.gridSizeChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.modelUpdated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.virtualRowRemoved=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.viewportChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.bodyScroll=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.bodyScrollEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.dragStarted=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.dragStopped=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.paginationChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragEnter=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragMove=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragLeave=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDragEnd=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnRowGroupChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowGroupOpened=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.expandOrCollapseAll=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.pinnedRowDataChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDataChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDataUpdated=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.asyncTransactionsFlushed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.storeRefreshed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellDoubleClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellFocused=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellMouseOver=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellMouseOut=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellMouseDown=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowDoubleClicked=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rowSelected=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.selectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.cellContextMenu=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.rangeSelectionChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.tooltipShow=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.tooltipHide=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.sortChanged=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnRowGroupChangeRequest=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnPivotChangeRequest=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnValueChangeRequest=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.columnAggFuncChangeRequest=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this._nativeElement=elementDef.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=_ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.plv.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new _ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this.gridPreDestroyed.observers.length>0&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,(resolve=>resolve))}ngOnChanges(changes){this._initialised&&_ag_grid_community_core__WEBPACK_IMPORTED_MODULE_0__.plv.processOnChange(changes,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(eventType){const emitter=this[eventType],hasEmitter=!!emitter&&emitter.observers&&emitter.observers.length>0,asEventName=`on${eventType.charAt(0).toUpperCase()}${eventType.substring(1)}`,hasGridOptionListener=!!this.gridOptions&&!!this.gridOptions[asEventName];return hasEmitter||hasGridOptionListener}globalEventListener(eventType,event){if(this._destroyed)return;const emitter=this[eventType];emitter&&this.isEmitterUsed(eventType)&&("gridReady"===eventType?this._fullyReady.then((result=>{emitter.emit(event)})):emitter.emit(event))}}AgGridAngular.ɵfac=function AgGridAngular_Factory(t){return new(t||AgGridAngular)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](AngularFrameworkOverrides),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](AngularFrameworkComponentWrapper),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver))},AgGridAngular.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({type:AgGridAngular,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([AngularFrameworkOverrides,AngularFrameworkComponentWrapper]),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],decls:0,vars:0,template:function AgGridAngular_Template(rf,ctx){},encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AgGridAngular,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,args:[{selector:"ag-grid-angular",template:"",providers:[AngularFrameworkOverrides,AngularFrameworkComponentWrapper],encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None}]}],(function(){return[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef},{type:AngularFrameworkOverrides},{type:AngularFrameworkComponentWrapper},{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver}]}),{gridOptions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],modules:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],statusBar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],sideBar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],preventDefaultOnContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],allowContextMenuWithControlKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMenuHide:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableBrowserTooltips:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipTrigger:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipShowDelay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipHideDelay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipMouseTrack:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tooltipInteraction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],popupParent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],copyHeadersToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],copyGroupHeadersToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],clipboardDelimiter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCopyRowsToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCopySingleCellRanges:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressLastEmptyLineOnPaste:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressClipboardPaste:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressClipboardApi:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCutToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],columnDefs:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultColDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultColGroupDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],columnTypes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],dataTypeDefinitions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],maintainColumnOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressFieldDotNotation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],headerHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupHeaderHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],floatingFiltersHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotHeaderHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotGroupHeaderHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],allowDragFromColumnsToolPanel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMovableColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressColumnMoveAnimation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressDragLeaveHidesColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowGroupHidesColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],colResizeDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAutoSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],autoSizePadding:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],skipHeaderOnAutoSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],components:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],editType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],singleClickEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressClickEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],readOnlyEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],stopEditingWhenCellsLoseFocus:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enterMovesDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enterMovesDownAfterEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enterNavigatesVertically:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enterNavigatesVerticallyAfterEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableCellEditingOnBackspace:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],undoRedoCellEditing:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],undoRedoCellEditingLimit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultCsvExportParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCsvExport:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],defaultExcelExportParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressExcelExport:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],excelStyles:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],quickFilterText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cacheQuickFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],excludeHiddenColumnsFromQuickFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],includeHiddenColumnsInQuickFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],quickFilterParser:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],quickFilterMatcher:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],excludeChildrenWhenTreeDataFiltering:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableAdvancedFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],advancedFilterModel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],includeHiddenColumnsInAdvancedFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],advancedFilterParent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],advancedFilterBuilderParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableCharts:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],chartThemes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],customChartThemes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],chartThemeOverrides:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableChartToolPanelsButton:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressChartToolPanelsButton:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],chartToolPanelsDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingCellRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingCellRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingCellRendererSelector:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],localeText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],masterDetail:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],keepDetailRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],keepDetailRowsCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailCellRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailCellRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailRowHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],detailRowAutoHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],context:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alignedGrids:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tabIndex:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowBuffer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],valueCache:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],valueCacheNeverExpires:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableCellExpressions:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressParentsInRowNodes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressTouch:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressFocusAfterRefresh:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAsyncEvents:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressBrowserResizeObserver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressPropertyNamesCheck:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressChangeDetection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],debug:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],overlayLoadingTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingOverlayComponent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],loadingOverlayComponentParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressLoadingOverlay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],overlayNoRowsTemplate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],noRowsOverlayComponent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],noRowsOverlayComponentParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressNoRowsOverlay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pagination:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginationPageSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginationAutoPageSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginateChildRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressPaginationPanel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotMode:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotPanelShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotDefaultExpanded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotColumnGroupTotals:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotRowTotals:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pivotSuppressAutoColumn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressExpandablePivotGroups:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],functionsReadOnly:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],aggFuncs:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAggFuncInHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alwaysAggregateAtRootLevel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAggAtRootLevel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],aggregateOnlyChangedColumns:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAggFilteredOnly:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],removePivotHeaderRowWhenSingleValueColumn:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],animateRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableCellChangeFlash:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cellFlashDelay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cellFadeDelay:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],allowShowChangeAfterFilter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],domLayout:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],ensureDomOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableRtl:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressColumnVirtualisation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMaxRenderedRowRestriction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowVirtualisation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowDragManaged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowDrag:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMoveWhenRowDragging:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowDragEntireRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowDragMultiRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowDragText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fullWidthCellRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fullWidthCellRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],embedFullWidthRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupDisplayType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupDefaultExpanded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],autoGroupColumnDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupMaintainOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupSelectsChildren:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupAggFiltering:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupIncludeFooter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupIncludeTotalFooter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupSuppressBlankHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupSelectsFiltered:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],showOpenedGroup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRemoveSingleChildren:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRemoveLowestSingleChildren:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupHideOpenParents:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupAllowUnbalanced:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowGroupPanelShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRowRenderer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],groupRowRendererParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMakeColumnVisibleAfterUnGroup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],treeData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowGroupPanelSuppressSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressGroupRowsSticky:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rememberGroupStateWhenNewData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pinnedTopRowData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],pinnedBottomRowData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowModelType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],asyncTransactionWaitMillis:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressModelUpdateAfterUpdateTransaction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],datasource:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cacheOverflowSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],infiniteInitialRowCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideInitialRowCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideStoreType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressServerSideInfiniteScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],cacheBlockSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],maxBlocksInCache:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],maxConcurrentDatasourceRequests:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],blockLoadDebounceMillis:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],purgeClosedRowNodes:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideDatasource:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideSortAllLevels:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideOnlyRefreshFilteredGroups:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideFilterAllLevels:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideSortOnServer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideFilterOnServer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideSortingAlwaysResets:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSideFilteringAlwaysResets:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],serverSidePivotResultFieldSeparator:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],viewportDatasource:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],viewportRowModelPageSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],viewportRowModelBufferSize:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alwaysShowHorizontalScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alwaysShowVerticalScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],debounceVerticalScrollbar:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressHorizontalScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressScrollOnNewData:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressScrollWhenPopupsAreOpen:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressAnimationFrame:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMiddleClickScrolls:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressPreventDefaultOnMouseWheel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],scrollbarWidth:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowMultiSelectWithClick:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowDeselection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowClickSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressCellFocus:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMultiRangeSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableCellTextSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableRangeSelection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableRangeHandle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableFillHandle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fillHandleDirection:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressClearOnFillReduction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],sortingOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],accentedSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],unSortIcon:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMultiSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],alwaysMultiSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],multiSortKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressMaintainUnsortedOrder:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],icons:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],rowClassRules:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowHoverHighlight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],suppressRowTransform:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],columnHoverHighlight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],gridId:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],deltaSort:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],treeDataDisplayType:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],functionsPassive:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],enableGroupEdit:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getContextMenuItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getMainMenuItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],postProcessPopup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processCellForClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processHeaderForClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processGroupHeaderForClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processCellFromClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],sendToClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processDataFromClipboard:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isExternalFilterPresent:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],doesExternalFilterPass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getChartToolbarItems:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],createChartContainer:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],navigateToNextHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tabToNextHeader:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],navigateToNextCell:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],tabToNextCell:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getLocaleText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getDocument:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],paginationNumberFormatter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getGroupRowAgg:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isGroupOpenByDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],initialGroupOrderComparator:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processSecondaryColDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processSecondaryColGroupDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processPivotResultColDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processPivotResultColGroupDef:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getDataPath:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getChildCount:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getServerSideGroupLevelParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getServerSideStoreParams:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isServerSideGroupOpenByDefault:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isApplyServerSideTransaction:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isServerSideGroup:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getServerSideGroupKey:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getBusinessKeyForNode:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowId:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],resetRowDataOnUpdate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],processRowPostCreate:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isRowSelectable:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isRowMaster:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],fillOperation:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],postSortRows:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowStyle:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowClass:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],getRowHeight:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],isFullWidthRow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],toolPanelVisibleChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],toolPanelSizeChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cutStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cutEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pasteStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pasteEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnVisible:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPinned:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnResized:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnMoved:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnValueChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPivotModeChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPivotChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnGroupOpened:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],newColumnsLoaded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridColumnsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],displayedColumnsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],virtualColumnsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnEverythingChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],componentStateChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellValueChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellEditRequest:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowValueChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellEditingStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellEditingStopped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowEditingStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowEditingStopped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],undoStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],undoEnded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],redoStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],redoEnded:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rangeDeleteStart:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rangeDeleteEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],filterOpened:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],filterChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],filterModified:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],advancedFilterBuilderVisibleChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartCreated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartRangeSelectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartOptionsChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],chartDestroyed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellKeyDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridReady:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridPreDestroyed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],firstDataRendered:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],gridSizeChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],modelUpdated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],virtualRowRemoved:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],viewportChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],bodyScroll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],bodyScrollEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],dragStarted:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],dragStopped:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],paginationChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragEnter:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragMove:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragLeave:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDragEnd:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnRowGroupChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowGroupOpened:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],expandOrCollapseAll:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],pinnedRowDataChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDataChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDataUpdated:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],asyncTransactionsFlushed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],storeRefreshed:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellDoubleClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellFocused:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellMouseOver:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellMouseOut:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellMouseDown:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowDoubleClicked:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rowSelected:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],selectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],cellContextMenu:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],rangeSelectionChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],tooltipShow:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],tooltipHide:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],sortChanged:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnRowGroupChangeRequest:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnPivotChangeRequest:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnValueChangeRequest:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}],columnAggFuncChangeRequest:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output}]});class AgGridModule{}AgGridModule.ɵfac=function AgGridModule_Factory(t){return new(t||AgGridModule)},AgGridModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({type:AgGridModule,declarations:[AgGridAngular],exports:[AgGridAngular]}),AgGridModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({}),("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AgGridModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,args:[{declarations:[AgGridAngular],exports:[AgGridAngular]}]}],null,null)},"./node_modules/@ag-grid-community/client-side-row-model/dist/esm/es6/main.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>ClientSideRowModelModule});var main=__webpack_require__("./node_modules/@ag-grid-community/core/dist/esm/es6/main.mjs");class ClientSideNodeManager{constructor(rootNode,gridOptionsService,eventService,columnModel,selectionService,beans){this.nextId=0,this.allNodesMap={},this.rootNode=rootNode,this.gridOptionsService=gridOptionsService,this.eventService=eventService,this.columnModel=columnModel,this.beans=beans,this.selectionService=selectionService,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=ClientSideNodeManager.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")}getCopyOfNodesMap(){return main._.cloneObject(this.allNodesMap)}getRowNode(id){return this.allNodesMap[id]}setRowData(rowData){if("string"==typeof rowData)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");this.dispatchRowDataUpdateStartedEvent(rowData);const rootNode=this.rootNode,sibling=this.rootNode.sibling;rootNode.childrenAfterFilter=null,rootNode.childrenAfterGroup=null,rootNode.childrenAfterAggFilter=null,rootNode.childrenAfterSort=null,rootNode.childrenMapped=null,rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},rowData?rootNode.allLeafChildren=rowData.map((dataItem=>this.createNode(dataItem,this.rootNode,ClientSideNodeManager.TOP_LEVEL))):(rootNode.allLeafChildren=[],rootNode.childrenAfterGroup=[]),sibling&&(sibling.childrenAfterFilter=rootNode.childrenAfterFilter,sibling.childrenAfterGroup=rootNode.childrenAfterGroup,sibling.childrenAfterAggFilter=rootNode.childrenAfterAggFilter,sibling.childrenAfterSort=rootNode.childrenAfterSort,sibling.childrenMapped=rootNode.childrenMapped,sibling.allLeafChildren=rootNode.allLeafChildren)}updateRowData(rowDataTran,rowNodeOrder){this.dispatchRowDataUpdateStartedEvent(rowDataTran.add);const rowNodeTransaction={remove:[],update:[],add:[]},nodesToUnselect=[];return this.executeRemove(rowDataTran,rowNodeTransaction,nodesToUnselect),this.executeUpdate(rowDataTran,rowNodeTransaction,nodesToUnselect),this.executeAdd(rowDataTran,rowNodeTransaction),this.updateSelection(nodesToUnselect,"rowDataChanged"),rowNodeOrder&&main._.sortRowNodesByOrder(this.rootNode.allLeafChildren,rowNodeOrder),rowNodeTransaction}dispatchRowDataUpdateStartedEvent(rowData){const event={type:main.zW2.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:(null==rowData?void 0:rowData.length)?rowData[0]:null};this.eventService.dispatchEvent(event)}updateSelection(nodesToUnselect,source){const selectionChanged=nodesToUnselect.length>0;if(selectionChanged&&this.selectionService.setNodesSelected({newValue:!1,nodes:nodesToUnselect,suppressFinishActions:!0,source}),this.selectionService.updateGroupsFromChildrenSelections(source),selectionChanged){const event={type:main.zW2.EVENT_SELECTION_CHANGED,source};this.eventService.dispatchEvent(event)}}executeAdd(rowDataTran,rowNodeTransaction){var _a;const{add,addIndex}=rowDataTran;if(main._.missingOrEmpty(add))return;const newNodes=add.map((item=>this.createNode(item,this.rootNode,ClientSideNodeManager.TOP_LEVEL)));if("number"==typeof addIndex&&addIndex>=0){const{allLeafChildren}=this.rootNode,len=allLeafChildren.length;let normalisedAddIndex=addIndex;if(this.gridOptionsService.is("treeData")&&addIndex>0&&len>0)for(let i=0;i<len;i++)if((null===(_a=allLeafChildren[i])||void 0===_a?void 0:_a.rowIndex)==addIndex-1){normalisedAddIndex=i+1;break}const nodesBeforeIndex=allLeafChildren.slice(0,normalisedAddIndex),nodesAfterIndex=allLeafChildren.slice(normalisedAddIndex,allLeafChildren.length);this.rootNode.allLeafChildren=[...nodesBeforeIndex,...newNodes,...nodesAfterIndex]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...newNodes];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),rowNodeTransaction.add=newNodes}executeRemove(rowDataTran,rowNodeTransaction,nodesToUnselect){const{remove}=rowDataTran;if(main._.missingOrEmpty(remove))return;const rowIdsRemoved={};remove.forEach((item=>{const rowNode=this.lookupRowNode(item);rowNode&&(rowNode.isSelected()&&nodesToUnselect.push(rowNode),rowNode.clearRowTopAndRowIndex(),rowIdsRemoved[rowNode.id]=!0,delete this.allNodesMap[rowNode.id],rowNodeTransaction.remove.push(rowNode))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((rowNode=>!rowIdsRemoved[rowNode.id])),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(rowDataTran,rowNodeTransaction,nodesToUnselect){const{update}=rowDataTran;main._.missingOrEmpty(update)||update.forEach((item=>{const rowNode=this.lookupRowNode(item);rowNode&&(rowNode.updateData(item),!rowNode.selectable&&rowNode.isSelected()&&nodesToUnselect.push(rowNode),this.setMasterForRow(rowNode,item,ClientSideNodeManager.TOP_LEVEL,!1),rowNodeTransaction.update.push(rowNode))}))}lookupRowNode(data){const getRowIdFunc=this.gridOptionsService.getCallback("getRowId");let rowNode;if(getRowIdFunc){const id=getRowIdFunc({data,level:0});if(rowNode=this.allNodesMap[id],!rowNode)return console.error(`AG Grid: could not find row id=${id}, data item was not found for this id`),null}else if(rowNode=this.rootNode.allLeafChildren.find((node=>node.data===data)),!rowNode)return console.error("AG Grid: could not find data item as object was not found",data),console.error("Consider using getRowId to help the Grid find matching row data"),null;return rowNode||null}createNode(dataItem,parent,level){const node=new main.Fxk(this.beans);return node.group=!1,this.setMasterForRow(node,dataItem,level,!0),parent&&!this.suppressParentsInRowNodes&&(node.parent=parent),node.level=level,node.setDataAndId(dataItem,this.nextId.toString()),this.allNodesMap[node.id]&&console.warn(`AG Grid: duplicate node id '${node.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[node.id]=node,this.nextId++,node}setMasterForRow(rowNode,data,level,setExpanded){if(this.gridOptionsService.is("treeData"))rowNode.setMaster(!1),setExpanded&&(rowNode.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?rowNode.setMaster(this.isRowMasterFunc(data)):rowNode.setMaster(!0):rowNode.setMaster(!1),setExpanded){const rowGroupColumns=this.columnModel.getRowGroupColumns(),masterRowLevel=level+(rowGroupColumns?rowGroupColumns.length:0);rowNode.expanded=!!rowNode.master&&this.isExpanded(masterRowLevel)}}isExpanded(level){const expandByDefault=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===expandByDefault||level<expandByDefault}}ClientSideNodeManager.TOP_LEVEL=0,ClientSideNodeManager.ROOT_NODE_ID="ROOT_NODE_ID";var RecursionType,__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RecursionType){RecursionType[RecursionType.Normal=0]="Normal",RecursionType[RecursionType.AfterFilter=1]="AfterFilter",RecursionType[RecursionType.AfterFilterAndSort=2]="AfterFilterAndSort",RecursionType[RecursionType.PivotNodes=3]="PivotNodes"}(RecursionType||(RecursionType={}));let ClientSideRowModel=class ClientSideRowModel extends main.AS9{constructor(){super(...arguments),this.onRowHeightChanged_debounced=main._.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const refreshEverythingFunc=this.refreshModel.bind(this,{step:main.j_r.EVERYTHING}),animate=!this.gridOptionsService.is("suppressAnimationFrame"),refreshEverythingAfterColsChangedFunc=this.refreshModel.bind(this,{step:main.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate});this.addManagedListener(this.eventService,main.zW2.EVENT_NEW_COLUMNS_LOADED,refreshEverythingAfterColsChangedFunc),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,refreshEverythingFunc),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:main.j_r.PIVOT})),this.addManagedListener(this.eventService,main.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,main.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,refreshEverythingFunc),this.addManagedListener(this.eventService,main.zW2.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const refreshMapListener=this.refreshModel.bind(this,{step:main.j_r.MAP,keepRenderedRows:!0,animate});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],refreshMapListener);const refreshAggListener=this.refreshModel.bind(this,{step:main.j_r.AGGREGATE,keepRenderedRows:!0,animate});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],refreshAggListener),this.rootNode=new main.Fxk(this.beans),this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",(()=>{this.setRowData(this.rootNode.allLeafChildren.map((child=>child.data)))}))}start(){const rowData=this.gridOptionsService.get("rowData");rowData&&this.setRowData(rowData)}ensureRowHeightsValid(startPixel,endPixel,startLimitIndex,endLimitIndex){let atLeastOneChange,res=!1;do{atLeastOneChange=!1;const rowAtStartPixel=this.getRowIndexAtPixel(startPixel),rowAtEndPixel=this.getRowIndexAtPixel(endPixel),firstRow=Math.max(rowAtStartPixel,startLimitIndex),lastRow=Math.min(rowAtEndPixel,endLimitIndex);for(let rowIndex=firstRow;rowIndex<=lastRow;rowIndex++){const rowNode=this.getRow(rowIndex);if(rowNode.rowHeightEstimated){const rowHeight=this.gridOptionsService.getRowHeightForNode(rowNode);rowNode.setRowHeight(rowHeight.height),atLeastOneChange=!0,res=!0}}atLeastOneChange&&this.setRowTopAndRowIndex()}while(atLeastOneChange);return res}setRowTopAndRowIndex(){const defaultRowHeight=this.environment.getDefaultRowHeight();let nextRowTop=0;const displayedRowsMapped=new Set,allowEstimate=this.gridOptionsService.isDomLayout("normal");for(let i=0;i<this.rowsToDisplay.length;i++){const rowNode=this.rowsToDisplay[i];if(null!=rowNode.id&&displayedRowsMapped.add(rowNode.id),null==rowNode.rowHeight){const rowHeight=this.gridOptionsService.getRowHeightForNode(rowNode,allowEstimate,defaultRowHeight);rowNode.setRowHeight(rowHeight.height,rowHeight.estimated)}rowNode.setRowTop(nextRowTop),rowNode.setRowIndex(i),nextRowTop+=rowNode.rowHeight}return displayedRowsMapped}clearRowTopAndRowIndex(changedPath,displayedRowsMapped){const changedPathActive=changedPath.isActive(),clearIfNotDisplayed=rowNode=>{rowNode&&null!=rowNode.id&&!displayedRowsMapped.has(rowNode.id)&&rowNode.clearRowTopAndRowIndex()},recurse=rowNode=>{if(clearIfNotDisplayed(rowNode),clearIfNotDisplayed(rowNode.detailNode),clearIfNotDisplayed(rowNode.sibling),rowNode.hasChildren()&&rowNode.childrenAfterGroup){const isRootNode=-1==rowNode.level;changedPathActive&&!isRootNode&&!rowNode.expanded||rowNode.childrenAfterGroup.forEach(recurse)}};recurse(this.rootNode)}ensureRowsAtPixel(rowNodes,pixel,increment=0){const indexAtPixelNow=this.getRowIndexAtPixel(pixel),rowNodeAtPixelNow=this.getRow(indexAtPixelNow),animate=!this.gridOptionsService.is("suppressAnimationFrame");return rowNodeAtPixelNow!==rowNodes[0]&&(rowNodes.forEach((rowNode=>{main._.removeFromArray(this.rootNode.allLeafChildren,rowNode)})),rowNodes.forEach(((rowNode,idx)=>{main._.insertIntoArray(this.rootNode.allLeafChildren,rowNode,Math.max(indexAtPixelNow+increment,0)+idx)})),this.refreshModel({step:main.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate}),!0)}highlightRowAtPixel(rowNode,pixel){const indexAtPixelNow=null!=pixel?this.getRowIndexAtPixel(pixel):null,rowNodeAtPixelNow=null!=indexAtPixelNow?this.getRow(indexAtPixelNow):null;if(!rowNodeAtPixelNow||!rowNode||rowNodeAtPixelNow===rowNode||null==pixel)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const highlight=this.getHighlightPosition(pixel,rowNodeAtPixelNow);this.lastHighlightedRow&&this.lastHighlightedRow!==rowNodeAtPixelNow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),rowNodeAtPixelNow.setHighlighted(highlight),this.lastHighlightedRow=rowNodeAtPixelNow}getHighlightPosition(pixel,rowNode){if(!rowNode){const index=this.getRowIndexAtPixel(pixel);if(!(rowNode=this.getRow(index||0)))return main.oh5.Below}const{rowTop,rowHeight}=rowNode;return pixel-rowTop<rowHeight/2?main.oh5.Above:main.oh5.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const filteredChildren=this.rootNode.childrenAfterAggFilter;return filteredChildren?filteredChildren.length:0}getTopLevelRowDisplayedIndex(topLevelIndex){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return topLevelIndex;let rowNode=this.rootNode.childrenAfterSort[topLevelIndex];if(this.gridOptionsService.is("groupHideOpenParents"))for(;rowNode.expanded&&rowNode.childrenAfterSort&&rowNode.childrenAfterSort.length>0;)rowNode=rowNode.childrenAfterSort[0];return rowNode.rowIndex}getRowBounds(index){if(main._.missing(this.rowsToDisplay))return null;const rowNode=this.rowsToDisplay[index];return rowNode?{rowTop:rowNode.rowTop,rowHeight:rowNode.rowHeight}:null}onRowGroupOpened(){const animate=this.gridOptionsService.isAnimateRows();this.refreshModel({step:main.j_r.MAP,keepRenderedRows:!0,animate})}onFilterChanged(event){if(event.afterDataChange)return;const animate=this.gridOptionsService.isAnimateRows(),step=0===event.columns.length||event.columns.some((col=>col.isPrimary()))?main.j_r.FILTER:main.j_r.FILTER_AGGREGATES;this.refreshModel({step,keepRenderedRows:!0,animate})}onSortChanged(){const animate=this.gridOptionsService.isAnimateRows();this.refreshModel({step:main.j_r.SORT,keepRenderedRows:!0,animate,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:main.j_r.PIVOT}):this.refreshModel({step:main.j_r.AGGREGATE})}createChangePath(rowNodeTransactions){const noTransactions=main._.missingOrEmpty(rowNodeTransactions),changedPath=new main.Dkq(!1,this.rootNode);return(noTransactions||this.gridOptionsService.is("treeData"))&&changedPath.setInactive(),changedPath}isSuppressModelUpdateAfterUpdateTransaction(params){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==params.rowNodeTransactions)return!1;const transWithAddsOrDeletes=params.rowNodeTransactions.filter((tx=>null!=tx.add&&tx.add.length>0||null!=tx.remove&&tx.remove.length>0));return null==transWithAddsOrDeletes||0==transWithAddsOrDeletes.length}buildRefreshModelParams(step){let paramsStep=main.j_r.EVERYTHING;const stepsMapped={everything:main.j_r.EVERYTHING,group:main.j_r.EVERYTHING,filter:main.j_r.FILTER,map:main.j_r.MAP,aggregate:main.j_r.AGGREGATE,sort:main.j_r.SORT,pivot:main.j_r.PIVOT};if(main._.exists(step)&&(paramsStep=stepsMapped[step]),main._.missing(paramsStep))return void console.error(`AG Grid: invalid step ${step}, available steps are ${Object.keys(stepsMapped).join(", ")}`);return{step:paramsStep,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")}}refreshModel(paramsOrStep){let params="object"==typeof paramsOrStep&&"step"in paramsOrStep?paramsOrStep:this.buildRefreshModelParams(paramsOrStep);if(!params)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(params))return;const changedPath=this.createChangePath(params.rowNodeTransactions);switch(params.step){case main.j_r.EVERYTHING:this.doRowGrouping(params.groupState,params.rowNodeTransactions,params.rowNodeOrder,changedPath,!!params.afterColumnsChanged);case main.j_r.FILTER:this.doFilter(changedPath);case main.j_r.PIVOT:this.doPivot(changedPath);case main.j_r.AGGREGATE:this.doAggregate(changedPath);case main.j_r.FILTER_AGGREGATES:this.doFilterAggregates(changedPath);case main.j_r.SORT:this.doSort(params.rowNodeTransactions,changedPath);case main.j_r.MAP:this.doRowsToDisplay()}const displayedNodesMapped=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(changedPath,displayedNodesMapped);const event={type:main.zW2.EVENT_MODEL_UPDATED,animate:params.animate,keepRenderedRows:params.keepRenderedRows,newData:params.newData,newPage:!1,keepUndoRedoStack:params.keepUndoRedoStack};this.eventService.dispatchEvent(event)}isEmpty(){const rowsMissing=main._.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return main._.missing(this.rootNode)||rowsMissing||!this.columnModel.isReady()}isRowsToRender(){return main._.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(firstInRange,lastInRange){let started=!lastInRange,finished=!1;const result=[],groupsSelectChildren=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((rowNode=>{if(finished)return;if(started&&(rowNode===lastInRange||rowNode===firstInRange)&&(finished=!0,rowNode.group&&groupsSelectChildren))return void result.push(...rowNode.allLeafChildren);if(!started){if(rowNode!==lastInRange&&rowNode!==firstInRange)return;started=!0}(!rowNode.group||!groupsSelectChildren)&&result.push(rowNode)})),result}setDatasource(datasource){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(index){return this.rowsToDisplay[index]}isRowPresent(rowNode){return this.rowsToDisplay.indexOf(rowNode)>=0}getRowIndexAtPixel(pixelToMatch){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let bottomPointer=0,topPointer=this.rowsToDisplay.length-1;if(pixelToMatch<=0)return 0;if(main._.last(this.rowsToDisplay).rowTop<=pixelToMatch)return this.rowsToDisplay.length-1;let oldBottomPointer=-1,oldTopPointer=-1;for(;;){const midPointer=Math.floor((bottomPointer+topPointer)/2),currentRowNode=this.rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch))return midPointer;currentRowNode.rowTop<pixelToMatch?bottomPointer=midPointer+1:currentRowNode.rowTop>pixelToMatch&&(topPointer=midPointer-1);if(oldBottomPointer===bottomPointer&&oldTopPointer===topPointer)return midPointer;oldBottomPointer=bottomPointer,oldTopPointer=topPointer}}isRowInPixel(rowNode,pixelToMatch){const topPixel=rowNode.rowTop,bottomPixel=rowNode.rowTop+rowNode.rowHeight;return topPixel<=pixelToMatch&&bottomPixel>pixelToMatch}forEachLeafNode(callback){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((rowNode,index)=>callback(rowNode,index)))}forEachNode(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback,recursionType:RecursionType.Normal,index:0,includeFooterNodes})}forEachNodeAfterFilter(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback,recursionType:RecursionType.AfterFilter,index:0,includeFooterNodes})}forEachNodeAfterFilterAndSort(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback,recursionType:RecursionType.AfterFilterAndSort,index:0,includeFooterNodes})}forEachPivotNode(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback,recursionType:RecursionType.PivotNodes,index:0,includeFooterNodes})}recursivelyWalkNodesAndCallback(params){var _a;const{nodes,callback,recursionType,includeFooterNodes}=params;let{index}=params;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(callback(node,index++),node.hasChildren()&&!node.footer){let nodeChildren=null;switch(recursionType){case RecursionType.Normal:nodeChildren=node.childrenAfterGroup;break;case RecursionType.AfterFilter:nodeChildren=node.childrenAfterAggFilter;break;case RecursionType.AfterFilterAndSort:nodeChildren=node.childrenAfterSort;break;case RecursionType.PivotNodes:nodeChildren=node.leafGroup?null:node.childrenAfterSort}nodeChildren&&(index=this.recursivelyWalkNodesAndCallback({nodes:[...nodeChildren],callback,recursionType,index,includeFooterNodes}))}}const parentNode=null===(_a=nodes[0])||void 0===_a?void 0:_a.parent;if(!includeFooterNodes||!parentNode)return index;if(parentNode===this.rootNode){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return index}else{if(!this.gridOptionsService.getGroupIncludeFooter()({node:parentNode}))return index}return parentNode.createFooter(),callback(parentNode.sibling,index++),index}doAggregate(changedPath){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath})}doFilterAggregates(changedPath){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(expand){const usingTreeData=this.gridOptionsService.is("treeData"),usingPivotMode=this.columnModel.isPivotActive(),recursiveExpandOrCollapse=rowNodes=>{rowNodes&&rowNodes.forEach((rowNode=>{const actionRow=()=>{rowNode.expanded=expand,recursiveExpandOrCollapse(rowNode.childrenAfterGroup)};if(usingTreeData){return void(main._.exists(rowNode.childrenAfterGroup)&&actionRow())}if(usingPivotMode){return void(!rowNode.leafGroup&&actionRow())}rowNode.group&&actionRow()}))};this.rootNode&&recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup),this.refreshModel({step:main.j_r.MAP});const eventSource=expand?"expandAll":"collapseAll",event={type:main.zW2.EVENT_EXPAND_COLLAPSE_ALL,source:eventSource};this.eventService.dispatchEvent(event)}doSort(rowNodeTransactions,changedPath){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions,changedPath})}doRowGrouping(groupState,rowNodeTransactions,rowNodeOrder,changedPath,afterColumnsChanged){if(this.groupStage){if(rowNodeTransactions?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions,rowNodeOrder,changedPath}):(this.groupStage.execute({rowNode:this.rootNode,changedPath,afterColumnsChanged}),this.restoreGroupState(groupState)),this.gridOptionsService.is("groupSelectsChildren")){if(this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",changedPath)){const event={type:main.zW2.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(event)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()}restoreGroupState(groupState){groupState&&main._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,((node,key)=>{"boolean"==typeof groupState[key]&&(node.expanded=groupState[key])}))}doFilter(changedPath){this.filterStage.execute({rowNode:this.rootNode,changedPath})}doPivot(changedPath){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const result={};return main._.traverseNodesWithKey(this.rootNode.childrenAfterGroup,((node,key)=>result[key]=node.expanded)),result}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(id){if("string"==typeof id&&0==id.indexOf(main.Fxk.ID_PREFIX_ROW_GROUP)){let res;return this.forEachNode((node=>{node.id===id&&(res=node)})),res}return this.nodeManager.getRowNode(id)}setRowData(rowData){const groupState=this.getGroupState();this.nodeManager.setRowData(rowData),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");const rowDataUpdatedEvent={type:main.zW2.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(rowDataUpdatedEvent),this.refreshModel({step:main.j_r.EVERYTHING,groupState,newData:!0})}batchUpdateRowData(rowDataTransaction,callback){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const waitMillis=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.executeBatchUpdateRowData()}),waitMillis)}this.rowDataTransactionBatch.push({rowDataTransaction,callback})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const callbackFuncsBound=[],rowNodeTrans=[];let forceRowNodeOrder=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((tranItem=>{const rowNodeTran=this.nodeManager.updateRowData(tranItem.rowDataTransaction,void 0);rowNodeTrans.push(rowNodeTran),tranItem.callback&&callbackFuncsBound.push(tranItem.callback.bind(null,rowNodeTran)),"number"==typeof tranItem.rowDataTransaction.addIndex&&(forceRowNodeOrder=!0)})),this.commonUpdateRowData(rowNodeTrans,void 0,forceRowNodeOrder),callbackFuncsBound.length>0&&window.setTimeout((()=>{callbackFuncsBound.forEach((func=>func()))}),0),rowNodeTrans.length>0){const event={type:main.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:rowNodeTrans};this.eventService.dispatchEvent(event)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(rowDataTran,rowNodeOrder){this.valueCache.onDataChanged();const rowNodeTran=this.nodeManager.updateRowData(rowDataTran,rowNodeOrder),forceRowNodeOrder="number"==typeof rowDataTran.addIndex;return this.commonUpdateRowData([rowNodeTran],rowNodeOrder,forceRowNodeOrder),rowNodeTran}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const orderMap={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let index=0;index<this.rootNode.allLeafChildren.length;index++){orderMap[this.rootNode.allLeafChildren[index].id]=index}return orderMap}commonUpdateRowData(rowNodeTrans,rowNodeOrder,forceRowNodeOrder){const animate=!this.gridOptionsService.is("suppressAnimationFrame");forceRowNodeOrder&&(rowNodeOrder=this.createRowNodeOrder()),this.refreshModel({step:main.j_r.EVERYTHING,rowNodeTransactions:rowNodeTrans,rowNodeOrder,keepRenderedRows:!0,keepEditingRows:!0,animate}),this.filterManager.onNewRowsLoaded("rowDataUpdated");const event={type:main.zW2.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(event)}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:main.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const atLeastOne=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),atLeastOne&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let atLeastOne=!1;return this.forEachNode((rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,!0);const detailNode=rowNode.detailNode;detailNode&&detailNode.setRowHeight(detailNode.rowHeight,!0),rowNode.sibling&&rowNode.sibling.setRowHeight(rowNode.sibling.rowHeight,!0),atLeastOne=!0})),atLeastOne}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};__decorate([(0,main.fsG)("columnModel")],ClientSideRowModel.prototype,"columnModel",void 0),__decorate([(0,main.fsG)("selectionService")],ClientSideRowModel.prototype,"selectionService",void 0),__decorate([(0,main.fsG)("filterManager")],ClientSideRowModel.prototype,"filterManager",void 0),__decorate([(0,main.fsG)("valueCache")],ClientSideRowModel.prototype,"valueCache",void 0),__decorate([(0,main.fsG)("beans")],ClientSideRowModel.prototype,"beans",void 0),__decorate([(0,main.fsG)("filterStage")],ClientSideRowModel.prototype,"filterStage",void 0),__decorate([(0,main.fsG)("sortStage")],ClientSideRowModel.prototype,"sortStage",void 0),__decorate([(0,main.fsG)("flattenStage")],ClientSideRowModel.prototype,"flattenStage",void 0),__decorate([(0,main.FiY)("groupStage")],ClientSideRowModel.prototype,"groupStage",void 0),__decorate([(0,main.FiY)("aggregationStage")],ClientSideRowModel.prototype,"aggregationStage",void 0),__decorate([(0,main.FiY)("pivotStage")],ClientSideRowModel.prototype,"pivotStage",void 0),__decorate([(0,main.FiY)("filterAggregatesStage")],ClientSideRowModel.prototype,"filterAggregatesStage",void 0),__decorate([main.NqP],ClientSideRowModel.prototype,"init",null),ClientSideRowModel=__decorate([(0,main.Vu6)("rowModel")],ClientSideRowModel);var filterStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FilterStage=class FilterStage extends main.AS9{execute(params){const{changedPath}=params;this.filterService.filter(changedPath)}};filterStage_decorate([(0,main.fsG)("filterService")],FilterStage.prototype,"filterService",void 0),FilterStage=filterStage_decorate([(0,main.Vu6)("filterStage")],FilterStage);var sortStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let SortStage=class SortStage extends main.AS9{execute(params){const sortOptions=this.sortController.getSortOptions(),sortActive=main._.exists(sortOptions)&&sortOptions.length>0,deltaSort=sortActive&&main._.exists(params.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),sortContainsGroupColumns=sortOptions.some((opt=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?opt.column.isPrimary()&&opt.column.isRowGroupActive():!!opt.column.getColDef().showRowGroup));this.sortService.sort(sortOptions,sortActive,deltaSort,params.rowNodeTransactions,params.changedPath,sortContainsGroupColumns)}};sortStage_decorate([(0,main.fsG)("sortService")],SortStage.prototype,"sortService",void 0),sortStage_decorate([(0,main.fsG)("sortController")],SortStage.prototype,"sortController",void 0),sortStage_decorate([(0,main.fsG)("columnModel")],SortStage.prototype,"columnModel",void 0),SortStage=sortStage_decorate([(0,main.Vu6)("sortStage")],SortStage);var flattenStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FlattenStage=class FlattenStage extends main.AS9{execute(params){const rootNode=params.rowNode,result=[],skipLeafNodes=this.columnModel.isPivotMode(),showRootNode=skipLeafNodes&&rootNode.leafGroup,topList=showRootNode?[rootNode]:rootNode.childrenAfterSort,details=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(details,topList,result,skipLeafNodes,0);return!showRootNode&&result.length>0&&details.groupIncludeTotalFooter&&(rootNode.createFooter(),this.addRowNodeToRowsToDisplay(details,rootNode.sibling,result,0)),result}getFlattenDetails(){const groupRemoveSingleChildren=this.gridOptionsService.is("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!groupRemoveSingleChildren&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(details,rowsToFlatten,result,skipLeafNodes,uiLevel){if(!main._.missingOrEmpty(rowsToFlatten))for(let i=0;i<rowsToFlatten.length;i++){const rowNode=rowsToFlatten[i],isParent=rowNode.hasChildren(),isSkippedLeafNode=skipLeafNodes&&!isParent,isRemovedSingleChildrenGroup=details.groupRemoveSingleChildren&&isParent&&1===rowNode.childrenAfterGroup.length,isRemovedLowestSingleChildrenGroup=details.groupRemoveLowestSingleChildren&&isParent&&rowNode.leafGroup&&1===rowNode.childrenAfterGroup.length,neverAllowToExpand=skipLeafNodes&&rowNode.leafGroup,isHiddenOpenParent=details.hideOpenParents&&rowNode.expanded&&!rowNode.master&&!neverAllowToExpand;if(!(isSkippedLeafNode||isHiddenOpenParent||isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup)&&this.addRowNodeToRowsToDisplay(details,rowNode,result,uiLevel),!skipLeafNodes||!rowNode.leafGroup)if(isParent){const excludedParent=isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup;if(rowNode.expanded||excludedParent){const uiLevelForChildren=excludedParent?uiLevel:uiLevel+1;this.recursivelyAddToRowsToDisplay(details,rowNode.childrenAfterSort,result,skipLeafNodes,uiLevelForChildren);details.getGroupIncludeFooter({node:rowNode})?(rowNode.createFooter(),this.addRowNodeToRowsToDisplay(details,rowNode.sibling,result,uiLevelForChildren)):rowNode.destroyFooter()}}else if(rowNode.master&&rowNode.expanded){const detailNode=this.createDetailNode(rowNode);this.addRowNodeToRowsToDisplay(details,detailNode,result,uiLevel)}}}addRowNodeToRowsToDisplay(details,rowNode,result,uiLevel){result.push(rowNode),rowNode.setUiLevel(details.isGroupMultiAutoColumn?0:uiLevel)}createDetailNode(masterNode){if(main._.exists(masterNode.detailNode))return masterNode.detailNode;const detailNode=new main.Fxk(this.beans);return detailNode.detail=!0,detailNode.selectable=!1,detailNode.parent=masterNode,main._.exists(masterNode.id)&&(detailNode.id="detail_"+masterNode.id),detailNode.data=masterNode.data,detailNode.level=masterNode.level+1,masterNode.detailNode=detailNode,detailNode}};flattenStage_decorate([(0,main.fsG)("columnModel")],FlattenStage.prototype,"columnModel",void 0),flattenStage_decorate([(0,main.fsG)("beans")],FlattenStage.prototype,"beans",void 0),FlattenStage=flattenStage_decorate([(0,main.Vu6)("flattenStage")],FlattenStage);var sortService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let SortService=class SortService extends main.AS9{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(sortOptions,sortActive,useDeltaSort,rowNodeTransactions,changedPath,sortContainsGroupColumns){const groupMaintainOrder=this.gridOptionsService.is("groupMaintainOrder"),groupColumnsPresent=this.columnModel.getAllGridColumns().some((c=>c.isRowGroupActive()));let allDirtyNodes={};useDeltaSort&&rowNodeTransactions&&(allDirtyNodes=this.calculateDirtyNodes(rowNodeTransactions));const isPivotMode=this.columnModel.isPivotMode(),callback=rowNode=>{this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterAggFilter,!0);const skipSortingPivotLeafs=isPivotMode&&rowNode.leafGroup;if(groupMaintainOrder&&groupColumnsPresent&&!rowNode.leafGroup&&!sortContainsGroupColumns){const childrenToBeSorted=rowNode.childrenAfterAggFilter.slice(0);if(rowNode.childrenAfterSort){const indexedOrders={};rowNode.childrenAfterSort.forEach(((node,idx)=>{indexedOrders[node.id]=idx})),childrenToBeSorted.sort(((row1,row2)=>{var _a,_b;return(null!==(_a=indexedOrders[row1.id])&&void 0!==_a?_a:0)-(null!==(_b=indexedOrders[row2.id])&&void 0!==_b?_b:0)}))}rowNode.childrenAfterSort=childrenToBeSorted}else rowNode.childrenAfterSort=!sortActive||skipSortingPivotLeafs?rowNode.childrenAfterAggFilter.slice(0):useDeltaSort?this.doDeltaSort(rowNode,allDirtyNodes,changedPath,sortOptions):this.rowNodeSorter.doFullSort(rowNode.childrenAfterAggFilter,sortOptions);if(rowNode.sibling&&(rowNode.sibling.childrenAfterSort=rowNode.childrenAfterSort),this.updateChildIndexes(rowNode),this.postSortFunc){const params={nodes:rowNode.childrenAfterSort};this.postSortFunc(params)}};changedPath&&changedPath.forEachChangedNodeDepthFirst(callback),this.updateGroupDataForHideOpenParents(changedPath)}calculateDirtyNodes(rowNodeTransactions){const dirtyNodes={},addNodesFunc=rowNodes=>{rowNodes&&rowNodes.forEach((rowNode=>dirtyNodes[rowNode.id]=!0))};return rowNodeTransactions&&rowNodeTransactions.forEach((tran=>{addNodesFunc(tran.add),addNodesFunc(tran.update),addNodesFunc(tran.remove)})),dirtyNodes}doDeltaSort(rowNode,allTouchedNodes,changedPath,sortOptions){const unsortedRows=rowNode.childrenAfterAggFilter,oldSortedRows=rowNode.childrenAfterSort;if(!oldSortedRows)return this.rowNodeSorter.doFullSort(unsortedRows,sortOptions);const untouchedRowsMap={},touchedRows=[];unsortedRows.forEach((row=>{allTouchedNodes[row.id]||!changedPath.canSkip(row)?touchedRows.push(row):untouchedRowsMap[row.id]=!0}));const sortedUntouchedRows=oldSortedRows.filter((child=>untouchedRowsMap[child.id])),mapNodeToSortedNode=(rowNode,pos)=>({currentPos:pos,rowNode}),sortedChangedRows=touchedRows.map(mapNodeToSortedNode).sort(((a,b)=>this.rowNodeSorter.compareRowNodes(sortOptions,a,b)));return this.mergeSortedArrays(sortOptions,sortedChangedRows,sortedUntouchedRows.map(mapNodeToSortedNode)).map((({rowNode})=>rowNode))}mergeSortedArrays(sortOptions,arr1,arr2){const res=[];let i=0,j=0;for(;i<arr1.length&&j<arr2.length;){this.rowNodeSorter.compareRowNodes(sortOptions,arr1[i],arr2[j])<0?res.push(arr1[i++]):res.push(arr2[j++])}for(;i<arr1.length;)res.push(arr1[i++]);for(;j<arr2.length;)res.push(arr2[j++]);return res}updateChildIndexes(rowNode){if(main._.missing(rowNode.childrenAfterSort))return;const listToSort=rowNode.childrenAfterSort;for(let i=0;i<listToSort.length;i++){const child=listToSort[i],firstChild=0===i,lastChild=i===rowNode.childrenAfterSort.length-1;child.setFirstChild(firstChild),child.setLastChild(lastChild),child.setChildIndex(i)}}updateGroupDataForHideOpenParents(changedPath){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.is("treeData")){const msg="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return main._.doOnce((()=>console.warn(msg)),"sortService.hideOpenParentsWithTreeData"),!1}const callback=rowNode=>{this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterSort,!1),rowNode.childrenAfterSort.forEach((child=>{child.hasChildren()&&callback(child)}))};changedPath&&changedPath.executeFromRootNode((rowNode=>callback(rowNode)))}pullDownGroupDataForHideOpenParents(rowNodes,clearOperation){this.gridOptionsService.is("groupHideOpenParents")&&!main._.missing(rowNodes)&&rowNodes.forEach((childRowNode=>{this.columnModel.getGroupDisplayColumns().forEach((groupDisplayCol=>{const showRowGroup=groupDisplayCol.getColDef().showRowGroup;if("string"!=typeof showRowGroup)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const displayingGroupKey=showRowGroup,rowGroupColumn=this.columnModel.getPrimaryColumn(displayingGroupKey);if(!(rowGroupColumn===childRowNode.rowGroupColumn))if(clearOperation)childRowNode.setGroupValue(groupDisplayCol.getId(),void 0);else{const parentToStealFrom=childRowNode.getFirstChildOfFirstChild(rowGroupColumn);parentToStealFrom&&childRowNode.setGroupValue(groupDisplayCol.getId(),parentToStealFrom.key)}}))}))}};sortService_decorate([(0,main.fsG)("columnModel")],SortService.prototype,"columnModel",void 0),sortService_decorate([(0,main.fsG)("rowNodeSorter")],SortService.prototype,"rowNodeSorter",void 0),sortService_decorate([main.NqP],SortService.prototype,"init",null),SortService=sortService_decorate([(0,main.Vu6)("sortService")],SortService);var filterService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FilterService=class FilterService extends main.AS9{filter(changedPath){const filterActive=this.filterManager.isChildFilterPresent();this.filterNodes(filterActive,changedPath)}filterNodes(filterActive,changedPath){const filterCallback=(rowNode,includeChildNodes)=>{rowNode.hasChildren()?rowNode.childrenAfterFilter=filterActive&&!includeChildNodes?rowNode.childrenAfterGroup.filter((childNode=>{const passBecauseChildren=childNode.childrenAfterFilter&&childNode.childrenAfterFilter.length>0,passBecauseDataPasses=childNode.data&&this.filterManager.doesRowPassFilter({rowNode:childNode});return passBecauseChildren||passBecauseDataPasses})):rowNode.childrenAfterGroup:rowNode.childrenAfterFilter=rowNode.childrenAfterGroup,rowNode.sibling&&(rowNode.sibling.childrenAfterFilter=rowNode.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const treeDataDepthFirstFilter=(rowNode,alreadyFoundInParent)=>{if(rowNode.childrenAfterGroup)for(let i=0;i<rowNode.childrenAfterGroup.length;i++){const childNode=rowNode.childrenAfterGroup[i],foundInParent=alreadyFoundInParent||this.filterManager.doesRowPassFilter({rowNode:childNode});childNode.childrenAfterGroup?treeDataDepthFirstFilter(rowNode.childrenAfterGroup[i],foundInParent):filterCallback(childNode,foundInParent)}filterCallback(rowNode,alreadyFoundInParent)},treeDataFilterCallback=rowNode=>treeDataDepthFirstFilter(rowNode,!1);changedPath.executeFromRootNode(treeDataFilterCallback)}else{const defaultFilterCallback=rowNode=>filterCallback(rowNode,!1);changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};filterService_decorate([(0,main.fsG)("filterManager")],FilterService.prototype,"filterManager",void 0),FilterService=filterService_decorate([(0,main.Vu6)("filterService")],FilterService);var immutableService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ImmutableService=class ImmutableService extends main.AS9{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}isActive(){const getRowIdProvided=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&getRowIdProvided}setRowData(rowData){const transactionAndMap=this.createTransactionForRowData(rowData);if(!transactionAndMap)return;const[transaction,orderIdMap]=transactionAndMap;this.clientSideRowModel.updateRowData(transaction,orderIdMap)}createTransactionForRowData(rowData){if(main._.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const getRowIdFunc=this.gridOptionsService.getCallback("getRowId");if(null==getRowIdFunc)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const transaction={remove:[],update:[],add:[]},existingNodesMap=this.clientSideRowModel.getCopyOfNodesMap(),orderMap=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return main._.exists(rowData)&&rowData.forEach(((data,index)=>{const id=getRowIdFunc({data,level:0}),existingNode=existingNodesMap[id];if(orderMap&&(orderMap[id]=index),existingNode){existingNode.data!==data&&transaction.update.push(data),existingNodesMap[id]=void 0}else transaction.add.push(data)})),main._.iterateObject(existingNodesMap,((id,rowNode)=>{rowNode&&transaction.remove.push(rowNode.data)})),[transaction,orderMap]}};immutableService_decorate([(0,main.fsG)("rowModel")],ImmutableService.prototype,"rowModel",void 0),immutableService_decorate([(0,main.fsG)("rowRenderer")],ImmutableService.prototype,"rowRenderer",void 0),immutableService_decorate([main.NqP],ImmutableService.prototype,"postConstruct",null),ImmutableService=immutableService_decorate([(0,main.Vu6)("immutableService")],ImmutableService);const ClientSideRowModelModule={version:"30.2.1",moduleName:main.GXE.ClientSideRowModelModule,rowModel:"clientSide",beans:[ClientSideRowModel,FilterStage,SortStage,FlattenStage,SortService,FilterService,ImmutableService]}},"./node_modules/@ag-grid-community/core/dist/esm/es6/main.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{INo:()=>AgInputTextField,j_S:()=>promise_AgPromise,wGv:()=>AgSelect,fsG:()=>Autowired,Nk3:()=>BaseComponentWrapper,Vu6:()=>Bean,AS9:()=>BeanStub,Dkq:()=>ChangedPath,j_r:()=>ClientSideRowModelSteps,sgG:()=>Column,wA2:()=>Component,plv:()=>ComponentUtil,jUB:()=>DragAndDropService,rvo:()=>DragSourceType,zW2:()=>Events,rjZ:()=>Grid,VDZ:()=>KeyCode,D_6:()=>ManagedFocusFeature,GXE:()=>ModuleNames,at1:()=>NumberSequence,FiY:()=>Optional,Gxm:()=>PositionableFeature,NqP:()=>PostConstruct,$j7:()=>PreConstruct,cqo:()=>RefSelector,oh5:()=>RowHighlightPosition,Fxk:()=>RowNode,BxR:()=>TabGuardComp,rwP:()=>TouchListener,vA3:()=>VanillaFrameworkOverrides,CPJ:()=>VirtualList,_:()=>_});var generic_namespaceObject={};__webpack_require__.r(generic_namespaceObject),__webpack_require__.d(generic_namespaceObject,{attrToBoolean:()=>attrToBoolean,attrToNumber:()=>attrToNumber,attrToString:()=>attrToString,defaultComparator:()=>defaultComparator,exists:()=>exists,jsonEquals:()=>jsonEquals,makeNull:()=>makeNull,missing:()=>missing,missingOrEmpty:()=>missingOrEmpty,referenceCompare:()=>referenceCompare,toStringOrNull:()=>toStringOrNull,values:()=>values});var object_namespaceObject={};__webpack_require__.r(object_namespaceObject),__webpack_require__.d(object_namespaceObject,{cloneObject:()=>cloneObject,copyPropertiesIfPresent:()=>copyPropertiesIfPresent,copyPropertyIfPresent:()=>copyPropertyIfPresent,deepCloneDefinition:()=>deepCloneDefinition,deepCloneObject:()=>deepCloneObject,get:()=>get,getAllKeysInObjects:()=>getAllKeysInObjects,getAllValuesInObject:()=>getAllValuesInObject,getProperty:()=>getProperty,getValueUsingField:()=>getValueUsingField,isNonNullObject:()=>isNonNullObject,iterateObject:()=>iterateObject,mergeDeep:()=>mergeDeep,missingOrEmptyObject:()=>missingOrEmptyObject,removeAllReferences:()=>removeAllReferences,set:()=>set,setProperty:()=>setProperty});var function_namespaceObject={};__webpack_require__.r(function_namespaceObject),__webpack_require__.d(function_namespaceObject,{callIfPresent:()=>callIfPresent,compose:()=>compose,debounce:()=>debounce,doOnce:()=>function_doOnce,executeAfter:()=>executeAfter,executeInAWhile:()=>executeInAWhile,executeNextVMTurn:()=>executeNextVMTurn,getFunctionName:()=>getFunctionName,isFunction:()=>isFunction,noop:()=>noop,throttle:()=>throttle,waitUntil:()=>waitUntil});var array_namespaceObject={};__webpack_require__.r(array_namespaceObject),__webpack_require__.d(array_namespaceObject,{areEqual:()=>areEqual,existsAndNotEmpty:()=>existsAndNotEmpty,firstExistingValue:()=>firstExistingValue,flatten:()=>flatten,forEachReverse:()=>forEachReverse,includes:()=>includes,insertArrayIntoArray:()=>insertArrayIntoArray,insertIntoArray:()=>insertIntoArray,last:()=>last,moveInArray:()=>moveInArray,pushAll:()=>pushAll,removeAllFromArray:()=>removeAllFromArray,removeAllFromUnorderedArray:()=>removeAllFromUnorderedArray,removeFromArray:()=>removeFromArray,removeFromUnorderedArray:()=>removeFromUnorderedArray,removeRepeatsFromArray:()=>removeRepeatsFromArray,shallowCompare:()=>shallowCompare,sortNumerically:()=>sortNumerically,toStrings:()=>toStrings});var event_namespaceObject={};__webpack_require__.r(event_namespaceObject),__webpack_require__.d(event_namespaceObject,{addSafePassiveEventListener:()=>addSafePassiveEventListener,createEventPath:()=>createEventPath,getCtrlForEventTarget:()=>getCtrlForEventTarget,getEventPath:()=>getEventPath,isElementInEventPath:()=>isElementInEventPath,isEventSupported:()=>isEventSupported,isStopPropagationForAgGrid:()=>isStopPropagationForAgGrid,stopPropagationForAgGrid:()=>stopPropagationForAgGrid});var string_namespaceObject={};__webpack_require__.r(string_namespaceObject),__webpack_require__.d(string_namespaceObject,{camelCaseToHumanText:()=>camelCaseToHumanText,camelCaseToHyphenated:()=>camelCaseToHyphenated,capitalise:()=>capitalise,escapeString:()=>escapeString,utf8_encode:()=>utf8_encode});var map_namespaceObject={};__webpack_require__.r(map_namespaceObject),__webpack_require__.d(map_namespaceObject,{convertToMap:()=>convertToMap,keys:()=>keys,mapById:()=>mapById});var fuzzyMatch_namespaceObject={};__webpack_require__.r(fuzzyMatch_namespaceObject),__webpack_require__.d(fuzzyMatch_namespaceObject,{fuzzyCheckStrings:()=>fuzzyCheckStrings,fuzzySuggestions:()=>fuzzySuggestions});var aria_namespaceObject={};__webpack_require__.r(aria_namespaceObject),__webpack_require__.d(aria_namespaceObject,{getAriaCheckboxStateName:()=>getAriaCheckboxStateName,getAriaDescribedBy:()=>getAriaDescribedBy,getAriaLevel:()=>getAriaLevel,getAriaPosInSet:()=>getAriaPosInSet,getAriaSortState:()=>getAriaSortState,removeAriaExpanded:()=>removeAriaExpanded,removeAriaSort:()=>removeAriaSort,setAriaActiveDescendant:()=>setAriaActiveDescendant,setAriaChecked:()=>setAriaChecked,setAriaColCount:()=>setAriaColCount,setAriaColIndex:()=>setAriaColIndex,setAriaColSpan:()=>setAriaColSpan,setAriaControls:()=>setAriaControls,setAriaDescribedBy:()=>setAriaDescribedBy,setAriaDescription:()=>setAriaDescription,setAriaDisabled:()=>setAriaDisabled,setAriaExpanded:()=>setAriaExpanded,setAriaHidden:()=>setAriaHidden,setAriaLabel:()=>setAriaLabel,setAriaLabelledBy:()=>setAriaLabelledBy,setAriaLevel:()=>setAriaLevel,setAriaLive:()=>setAriaLive,setAriaMultiSelectable:()=>setAriaMultiSelectable,setAriaPosInSet:()=>setAriaPosInSet,setAriaRole:()=>setAriaRole,setAriaRowCount:()=>setAriaRowCount,setAriaRowIndex:()=>setAriaRowIndex,setAriaSelected:()=>setAriaSelected,setAriaSetSize:()=>setAriaSetSize,setAriaSort:()=>setAriaSort});var browser_namespaceObject={};__webpack_require__.r(browser_namespaceObject),__webpack_require__.d(browser_namespaceObject,{browserSupportsPreventScroll:()=>browserSupportsPreventScroll,getBodyHeight:()=>getBodyHeight,getBodyWidth:()=>getBodyWidth,getMaxDivHeight:()=>getMaxDivHeight,getSafariVersion:()=>getSafariVersion,getScrollbarWidth:()=>getScrollbarWidth,getTabIndex:()=>getTabIndex,isBrowserChrome:()=>isBrowserChrome,isBrowserFirefox:()=>isBrowserFirefox,isBrowserSafari:()=>isBrowserSafari,isIOSUserAgent:()=>isIOSUserAgent,isInvisibleScrollbar:()=>isInvisibleScrollbar,isMacOsUserAgent:()=>isMacOsUserAgent});var number_namespaceObject={};__webpack_require__.r(number_namespaceObject),__webpack_require__.d(number_namespaceObject,{cleanNumber:()=>cleanNumber,createArrayOfNumbers:()=>createArrayOfNumbers,decToHex:()=>decToHex,formatNumberCommas:()=>formatNumberCommas,formatNumberTwoDecimalPlacesAndCommas:()=>formatNumberTwoDecimalPlacesAndCommas,oneOrGreater:()=>oneOrGreater,padStartWidthZeros:()=>padStartWidthZeros,sum:()=>sum,zeroOrGreater:()=>zeroOrGreater});var date_namespaceObject={};__webpack_require__.r(date_namespaceObject),__webpack_require__.d(date_namespaceObject,{dateToFormattedString:()=>dateToFormattedString,parseDateTimeFromString:()=>parseDateTimeFromString,serialiseDate:()=>serialiseDate});var dom_namespaceObject={};__webpack_require__.r(dom_namespaceObject),__webpack_require__.d(dom_namespaceObject,{FOCUSABLE_EXCLUDE:()=>FOCUSABLE_EXCLUDE,FOCUSABLE_SELECTOR:()=>FOCUSABLE_SELECTOR,addOrRemoveAttribute:()=>addOrRemoveAttribute,addStylesToElement:()=>addStylesToElement,appendHtml:()=>appendHtml,bindCellRendererToHtmlElement:()=>bindCellRendererToHtmlElement,clearElement:()=>clearElement,copyNodeList:()=>copyNodeList,ensureDomOrder:()=>ensureDomOrder,formatSize:()=>formatSize,getAbsoluteHeight:()=>getAbsoluteHeight,getAbsoluteWidth:()=>getAbsoluteWidth,getElementAttribute:()=>getElementAttribute,getElementRectWithOffset:()=>getElementRectWithOffset,getElementSize:()=>getElementSize,getInnerHeight:()=>getInnerHeight,getInnerWidth:()=>getInnerWidth,getScrollLeft:()=>getScrollLeft,insertWithDomOrder:()=>insertWithDomOrder,isElementChildOfClass:()=>isElementChildOfClass,isFocusableFormField:()=>isFocusableFormField,isHorizontalScrollShowing:()=>isHorizontalScrollShowing,isNodeOrElement:()=>isNodeOrElement,isRtlNegativeScroll:()=>isRtlNegativeScroll,isVerticalScrollShowing:()=>isVerticalScrollShowing,isVisible:()=>isVisible,iterateNamedNodeMap:()=>iterateNamedNodeMap,loadTemplate:()=>loadTemplate,nodeListForEach:()=>nodeListForEach,offsetHeight:()=>offsetHeight,offsetWidth:()=>offsetWidth,prependDC:()=>prependDC,radioCssClass:()=>radioCssClass,removeElement:()=>removeElement,removeFromParent:()=>removeFromParent,setDisabled:()=>setDisabled,setDisplayed:()=>setDisplayed,setDomChildOrder:()=>setDomChildOrder,setElementHeight:()=>setElementHeight,setElementWidth:()=>setElementWidth,setFixedHeight:()=>setFixedHeight,setFixedWidth:()=>setFixedWidth,setScrollLeft:()=>setScrollLeft,setVisible:()=>setVisible});var icon_namespaceObject={};__webpack_require__.r(icon_namespaceObject),__webpack_require__.d(icon_namespaceObject,{createIcon:()=>createIcon,createIconNoSpan:()=>createIconNoSpan,iconNameClassMap:()=>iconNameClassMap});var keyboard_namespaceObject={};__webpack_require__.r(keyboard_namespaceObject),__webpack_require__.d(keyboard_namespaceObject,{isDeleteKey:()=>isDeleteKey,isEventFromPrintableCharacter:()=>isEventFromPrintableCharacter,isUserSuppressingHeaderKeyboardEvent:()=>isUserSuppressingHeaderKeyboardEvent,isUserSuppressingKeyboardEvent:()=>isUserSuppressingKeyboardEvent,normaliseQwertyAzerty:()=>normaliseQwertyAzerty});var mouse_namespaceObject={};__webpack_require__.r(mouse_namespaceObject),__webpack_require__.d(mouse_namespaceObject,{areEventsNear:()=>areEventsNear});var rowNode_namespaceObject={};__webpack_require__.r(rowNode_namespaceObject),__webpack_require__.d(rowNode_namespaceObject,{sortRowNodesByOrder:()=>sortRowNodesByOrder,traverseNodesWithKey:()=>traverseNodesWithKey});var set_namespaceObject={};function makeNull(value){return null==value||""===value?null:value}function exists(value,allowEmptyString=!1){return null!=value&&(""!==value||allowEmptyString)}function missing(value){return!exists(value)}function missingOrEmpty(value){return null==value||0===value.length}function toStringOrNull(value){return null!=value&&"function"==typeof value.toString?value.toString():null}function attrToNumber(value){if(void 0===value)return;if(null===value||""===value)return null;if("number"==typeof value)return isNaN(value)?void 0:value;const valueParsed=parseInt(value,10);return isNaN(valueParsed)?void 0:valueParsed}function attrToBoolean(value){if(void 0!==value)return null!==value&&""!==value&&("boolean"==typeof value?value:/true/i.test(value))}function attrToString(value){if(null!=value&&""!==value)return value}function referenceCompare(left,right){return null==left&&null==right||(null!=left||null==right)&&((null==left||null!=right)&&left===right)}function jsonEquals(val1,val2){return(val1?JSON.stringify(val1):null)===(val2?JSON.stringify(val2):null)}function defaultComparator(valueA,valueB,accentedCompare=!1){const valueAMissing=null==valueA,valueBMissing=null==valueB;if(valueA&&valueA.toNumber&&(valueA=valueA.toNumber()),valueB&&valueB.toNumber&&(valueB=valueB.toNumber()),valueAMissing&&valueBMissing)return 0;if(valueAMissing)return-1;if(valueBMissing)return 1;function doQuickCompare(a,b){return a>b?1:a<b?-1:0}if("string"!=typeof valueA)return doQuickCompare(valueA,valueB);if(!accentedCompare)return doQuickCompare(valueA,valueB);try{return valueA.localeCompare(valueB)}catch(e){return doQuickCompare(valueA,valueB)}}function values(object){if(object instanceof Set||object instanceof Map){const arr=[];return object.forEach((value=>arr.push(value))),arr}return Object.values(object)}__webpack_require__.r(set_namespaceObject),__webpack_require__.d(set_namespaceObject,{convertToSet:()=>convertToSet});class ColumnKeyCreator{constructor(){this.existingKeys={}}addExistingKeys(keys){for(let i=0;i<keys.length;i++)this.existingKeys[keys[i]]=!0}getUniqueKey(colId,colField){colId=toStringOrNull(colId);let count=0;for(;;){let idToTry;if(colId?(idToTry=colId,0!==count&&(idToTry+="_"+count)):colField?(idToTry=colField,0!==count&&(idToTry+="_"+count)):idToTry=count,!this.existingKeys[idToTry])return this.existingKeys[idToTry]=!0,String(idToTry);count++}}}function iterateObject(object,callback){if(null!=object)if(Array.isArray(object))for(let i=0;i<object.length;i++)callback(i.toString(),object[i]);else for(const[key,value]of Object.entries(object))callback(key,value)}function cloneObject(object){const copy={},keys=Object.keys(object);for(let i=0;i<keys.length;i++){const key=keys[i],value=object[key];copy[key]=value}return copy}function deepCloneObject(object){return JSON.parse(JSON.stringify(object))}function deepCloneDefinition(object,keysToSkip){if(!object)return;const obj=object,res={};return Object.keys(obj).forEach((key=>{if(keysToSkip&&keysToSkip.indexOf(key)>=0)return;const value=obj[key],sourceIsSimpleObject=isNonNullObject(value)&&value.constructor===Object;res[key]=sourceIsSimpleObject?deepCloneDefinition(value):value})),res}function getProperty(object,key){return object[key]}function setProperty(object,key,value){object[key]=value}function copyPropertiesIfPresent(source,target,...properties){properties.forEach((p=>copyPropertyIfPresent(source,target,p)))}function copyPropertyIfPresent(source,target,property,transform){const value=getProperty(source,property);void 0!==value&&setProperty(target,property,transform?transform(value):value)}function getAllKeysInObjects(objects){const allValues={};return objects.filter((obj=>null!=obj)).forEach((obj=>{Object.keys(obj).forEach((key=>allValues[key]=null))})),Object.keys(allValues)}function getAllValuesInObject(obj){if(!obj)return[];const anyObject=Object;if("function"==typeof anyObject.values)return anyObject.values(obj);const ret=[];for(const key in obj)obj.hasOwnProperty(key)&&obj.propertyIsEnumerable(key)&&ret.push(obj[key]);return ret}function mergeDeep(dest,source,copyUndefined=!0,makeCopyOfSimpleObjects=!1){exists(source)&&iterateObject(source,((key,sourceValue)=>{let destValue=dest[key];if(destValue!==sourceValue){if(makeCopyOfSimpleObjects){if(null==destValue&&null!=sourceValue){"object"==typeof sourceValue&&sourceValue.constructor===Object&&(destValue={},dest[key]=destValue)}}isNonNullObject(sourceValue)&&isNonNullObject(destValue)&&!Array.isArray(destValue)?mergeDeep(destValue,sourceValue,copyUndefined,makeCopyOfSimpleObjects):(copyUndefined||void 0!==sourceValue)&&(dest[key]=sourceValue)}}))}function missingOrEmptyObject(value){return missing(value)||0===Object.keys(value).length}function get(source,expression,defaultValue){if(null==source)return defaultValue;const keys=expression.split(".");let objectToRead=source;for(;keys.length>1;)if(objectToRead=objectToRead[keys.shift()],null==objectToRead)return defaultValue;const value=objectToRead[keys[0]];return null!=value?value:defaultValue}function set(target,expression,value){if(null==target)return;const keys=expression.split(".");let objectToUpdate=target;keys.forEach(((key,i)=>{objectToUpdate[key]||(objectToUpdate[key]={}),i<keys.length-1&&(objectToUpdate=objectToUpdate[key])})),objectToUpdate[keys[keys.length-1]]=value}function getValueUsingField(data,field,fieldContainsDots){if(!field||!data)return;if(!fieldContainsDots)return data[field];const fields=field.split(".");let currentObject=data;for(let i=0;i<fields.length;i++){if(null==currentObject)return;currentObject=currentObject[fields[i]]}return currentObject}function removeAllReferences(obj,objectName){Object.keys(obj).forEach((key=>{"object"==typeof obj[key]&&(obj[key]=void 0)}));const proto=Object.getPrototypeOf(obj),properties={};Object.keys(proto).forEach((key=>{if("function"==typeof proto[key]){const func=()=>{console.warn(`AG Grid: ${objectName} function ${key}() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.`)};properties[key]={value:func,writable:!0}}})),Object.defineProperties(obj,properties)}function isNonNullObject(value){return"object"==typeof value&&null!==value}const doOnceFlags={};function function_doOnce(func,key){doOnceFlags[key]||(func(),doOnceFlags[key]=!0)}function getFunctionName(funcConstructor){if(funcConstructor.name)return funcConstructor.name;const matches=/function\s+([^\(]+)/.exec(funcConstructor.toString());return matches&&2===matches.length?matches[1].trim():null}function isFunction(val){return!!(val&&val.constructor&&val.call&&val.apply)}function executeInAWhile(funcs){executeAfter(funcs,400)}const executeNextVMTurnFuncs=[];let executeNextVMTurnPending=!1;function executeNextVMTurn(func){executeNextVMTurnFuncs.push(func),executeNextVMTurnPending||(executeNextVMTurnPending=!0,window.setTimeout((()=>{const funcsCopy=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,funcsCopy.forEach((func=>func()))}),0))}function executeAfter(funcs,milliseconds=0){funcs.length>0&&window.setTimeout((()=>funcs.forEach((func=>func()))),milliseconds)}function debounce(func,delay){let timeout;return function(...args){const context=this;window.clearTimeout(timeout),timeout=window.setTimeout((function(){func.apply(context,args)}),delay)}}function throttle(func,wait){let previousCall=0;return function(...args){const currentCall=(new Date).getTime();currentCall-previousCall<wait||(previousCall=currentCall,func.apply(this,args))}}function waitUntil(condition,callback,timeout=100,timeoutMessage){const timeStamp=(new Date).getTime();let interval=null,executed=!1;const internalCallback=()=>{const reachedTimeout=(new Date).getTime()-timeStamp>timeout;(condition()||reachedTimeout)&&(callback(),executed=!0,null!=interval&&(window.clearInterval(interval),interval=null),reachedTimeout&&timeoutMessage&&console.warn(timeoutMessage))};internalCallback(),executed||(interval=window.setInterval(internalCallback,10))}function compose(...fns){return arg=>fns.reduce(((composed,f)=>f(composed)),arg)}function callIfPresent(func){func&&func()}const noop=()=>{};var ModuleNames;!function(ModuleNames){ModuleNames.CommunityCoreModule="@ag-grid-community/core",ModuleNames.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ModuleNames.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ModuleNames.CsvExportModule="@ag-grid-community/csv-export",ModuleNames.EnterpriseCoreModule="@ag-grid-enterprise/core",ModuleNames.RowGroupingModule="@ag-grid-enterprise/row-grouping",ModuleNames.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",ModuleNames.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",ModuleNames.MenuModule="@ag-grid-enterprise/menu",ModuleNames.SetFilterModule="@ag-grid-enterprise/set-filter",ModuleNames.MultiFilterModule="@ag-grid-enterprise/multi-filter",ModuleNames.StatusBarModule="@ag-grid-enterprise/status-bar",ModuleNames.SideBarModule="@ag-grid-enterprise/side-bar",ModuleNames.RangeSelectionModule="@ag-grid-enterprise/range-selection",ModuleNames.MasterDetailModule="@ag-grid-enterprise/master-detail",ModuleNames.RichSelectModule="@ag-grid-enterprise/rich-select",ModuleNames.GridChartsModule="@ag-grid-enterprise/charts",ModuleNames.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ModuleNames.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ModuleNames.ExcelExportModule="@ag-grid-enterprise/excel-export",ModuleNames.ClipboardModule="@ag-grid-enterprise/clipboard",ModuleNames.SparklinesModule="@ag-grid-enterprise/sparklines",ModuleNames.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",ModuleNames.AngularModule="@ag-grid-community/angular",ModuleNames.ReactModule="@ag-grid-community/react",ModuleNames.VueModule="@ag-grid-community/vue"}(ModuleNames||(ModuleNames={}));class ModuleRegistry{static register(module){ModuleRegistry.__register(module,!0,void 0)}static registerModules(modules){ModuleRegistry.__registerModules(modules,!0,void 0)}static __register(module,moduleBased,gridId){ModuleRegistry.runVersionChecks(module),void 0!==gridId?(ModuleRegistry.areGridScopedModules=!0,void 0===ModuleRegistry.gridModulesMap[gridId]&&(ModuleRegistry.gridModulesMap[gridId]={}),ModuleRegistry.gridModulesMap[gridId][module.moduleName]=module):ModuleRegistry.globalModulesMap[module.moduleName]=module,ModuleRegistry.setModuleBased(moduleBased)}static __unRegisterGridModules(gridId){delete ModuleRegistry.gridModulesMap[gridId]}static __registerModules(modules,moduleBased,gridId){ModuleRegistry.setModuleBased(moduleBased),modules&&modules.forEach((module=>ModuleRegistry.__register(module,moduleBased,gridId)))}static isValidModuleVersion(module){const[moduleMajor,moduleMinor]=module.version.split(".")||[],[currentModuleMajor,currentModuleMinor]=ModuleRegistry.currentModuleVersion.split(".")||[];return moduleMajor===currentModuleMajor&&moduleMinor===currentModuleMinor}static runVersionChecks(module){if(ModuleRegistry.currentModuleVersion||(ModuleRegistry.currentModuleVersion=module.version),module.version?ModuleRegistry.isValidModuleVersion(module)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${module.moduleName}' is version ${module.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${module.moduleName}' is incompatible. Please update all modules to the same version.`),module.validate){const result=module.validate();if(!result.isValid){const errorResult=result;console.error(`AG Grid: ${errorResult.message}`)}}}static setModuleBased(moduleBased){void 0===ModuleRegistry.moduleBased?ModuleRegistry.moduleBased=moduleBased:ModuleRegistry.moduleBased!==moduleBased&&function_doOnce((()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")}static __setIsBundled(){ModuleRegistry.isBundled=!0}static __assertRegistered(moduleName,reason,gridId){var _a;if(this.__isRegistered(moduleName,gridId))return!0;const warningKey=reason+moduleName;let warningMessage;if(ModuleRegistry.isBundled)warningMessage=`AG Grid: unable to use ${reason} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(ModuleRegistry.moduleBased||void 0===ModuleRegistry.moduleBased){let modName=null===(_a=Object.entries(ModuleNames).find((([k,v])=>v===moduleName)))||void 0===_a?void 0:_a[0];warningMessage=`AG Grid: unable to use ${reason} as the ${modName} is not registered${ModuleRegistry.areGridScopedModules?` for gridId: ${gridId}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${modName} } from '${moduleName}';\n    \n    ModuleRegistry.registerModules([ ${modName} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else warningMessage=`AG Grid: unable to use ${reason} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return function_doOnce((()=>{console.warn(warningMessage)}),warningKey),!1}static __isRegistered(moduleName,gridId){var _a;return!!ModuleRegistry.globalModulesMap[moduleName]||!!(null===(_a=ModuleRegistry.gridModulesMap[gridId])||void 0===_a?void 0:_a[moduleName])}static __getRegisteredModules(gridId){return[...values(ModuleRegistry.globalModulesMap),...values(ModuleRegistry.gridModulesMap[gridId]||{})]}static __getGridRegisteredModules(gridId){var _a;return values(null!==(_a=ModuleRegistry.gridModulesMap[gridId])&&void 0!==_a?_a:{})||[]}static __isPackageBased(){return!ModuleRegistry.moduleBased}}ModuleRegistry.globalModulesMap={},ModuleRegistry.gridModulesMap={},ModuleRegistry.areGridScopedModules=!1;class Context{constructor(params,logger){if(this.beanWrappers={},this.destroyed=!1,!params||!params.beanClasses)return;this.contextParams=params,this.logger=logger,this.logger.log(">> creating ag-Application Context"),this.createBeans();const beanInstances=this.getBeanInstances();this.wireBeans(beanInstances),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return values(this.beanWrappers).map((beanEntry=>beanEntry.beanInstance))}createBean(bean,afterPreCreateCallback){if(!bean)throw Error("Can't wire to bean since it is null");return this.wireBeans([bean],afterPreCreateCallback),bean}wireBeans(beanInstances,afterPreCreateCallback){this.autoWireBeans(beanInstances),this.methodWireBeans(beanInstances),this.callLifeCycleMethods(beanInstances,"preConstructMethods"),exists(afterPreCreateCallback)&&beanInstances.forEach(afterPreCreateCallback),this.callLifeCycleMethods(beanInstances,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),iterateObject(this.beanWrappers,((key,beanEntry)=>{let constructorParamsMeta;beanEntry.bean.__agBeanMetaData&&beanEntry.bean.__agBeanMetaData.autowireMethods&&beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor&&(constructorParamsMeta=beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor);const constructorParams=this.getBeansForParameters(constructorParamsMeta,beanEntry.bean.name),newInstance=new(beanEntry.bean.bind.apply(beanEntry.bean,[null,...constructorParams]));beanEntry.beanInstance=newInstance}));const createdBeanNames=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${createdBeanNames}`)}createBeanWrapper(BeanClass){const metaData=BeanClass.__agBeanMetaData;if(!metaData){let beanName;return beanName=BeanClass.prototype.constructor?getFunctionName(BeanClass.prototype.constructor):""+BeanClass,void console.error(`Context item ${beanName} is not a bean`)}const beanEntry={bean:BeanClass,beanInstance:null,beanName:metaData.beanName};this.beanWrappers[metaData.beanName]=beanEntry}autoWireBeans(beanInstances){beanInstances.forEach((beanInstance=>{this.forEachMetaDataInHierarchy(beanInstance,((metaData,beanName)=>{const attributes=metaData.agClassAttributes;attributes&&attributes.forEach((attribute=>{const otherBean=this.lookupBeanInstance(beanName,attribute.beanName,attribute.optional);beanInstance[attribute.attributeName]=otherBean}))}))}))}methodWireBeans(beanInstances){beanInstances.forEach((beanInstance=>{this.forEachMetaDataInHierarchy(beanInstance,((metaData,beanName)=>{iterateObject(metaData.autowireMethods,((methodName,wireParams)=>{if("agConstructor"===methodName)return;const initParams=this.getBeansForParameters(wireParams,beanName);beanInstance[methodName].apply(beanInstance,initParams)}))}))}))}forEachMetaDataInHierarchy(beanInstance,callback){let prototype=Object.getPrototypeOf(beanInstance);for(;null!=prototype;){const constructor=prototype.constructor;if(constructor.hasOwnProperty("__agBeanMetaData")){callback(constructor.__agBeanMetaData,this.getBeanName(constructor))}prototype=Object.getPrototypeOf(prototype)}}getBeanName(constructor){if(constructor.__agBeanMetaData&&constructor.__agBeanMetaData.beanName)return constructor.__agBeanMetaData.beanName;const constructorString=constructor.toString();return constructorString.substring(9,constructorString.indexOf("("))}getBeansForParameters(parameters,beanName){const beansList=[];return parameters&&iterateObject(parameters,((paramIndex,otherBeanName)=>{const otherBean=this.lookupBeanInstance(beanName,otherBeanName);beansList[Number(paramIndex)]=otherBean})),beansList}lookupBeanInstance(wiringBean,beanName,optional=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${beanName} is used after the grid is destroyed!`),null;if("context"===beanName)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(beanName))return this.contextParams.providedBeanInstances[beanName];const beanEntry=this.beanWrappers[beanName];return beanEntry?beanEntry.beanInstance:(optional||console.error(`AG Grid: unable to find bean reference ${beanName} while initialising ${wiringBean}`),null)}callLifeCycleMethods(beanInstances,lifeCycleMethod){beanInstances.forEach((beanInstance=>this.callLifeCycleMethodsOnBean(beanInstance,lifeCycleMethod)))}callLifeCycleMethodsOnBean(beanInstance,lifeCycleMethod,methodToIgnore){const allMethods={};this.forEachMetaDataInHierarchy(beanInstance,(metaData=>{const methods=metaData[lifeCycleMethod];methods&&methods.forEach((methodName=>{methodName!=methodToIgnore&&(allMethods[methodName]=!0)}))}));Object.keys(allMethods).forEach((methodName=>beanInstance[methodName]()))}getBean(name){return this.lookupBeanInstance("getBean",name,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const beanInstances=this.getBeanInstances();this.destroyBeans(beanInstances),this.contextParams.providedBeanInstances=null,ModuleRegistry.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(bean){bean&&this.destroyBeans([bean])}destroyBeans(beans){return beans?(beans.forEach((bean=>{this.callLifeCycleMethodsOnBean(bean,"preDestroyMethods","destroy");const beanAny=bean;"function"==typeof beanAny.destroy&&beanAny.destroy()})),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}function PreConstruct(target,methodName,descriptor){const props=getOrCreateProps(target.constructor);props.preConstructMethods||(props.preConstructMethods=[]),props.preConstructMethods.push(methodName)}function PostConstruct(target,methodName,descriptor){const props=getOrCreateProps(target.constructor);props.postConstructMethods||(props.postConstructMethods=[]),props.postConstructMethods.push(methodName)}function PreDestroy(target,methodName,descriptor){const props=getOrCreateProps(target.constructor);props.preDestroyMethods||(props.preDestroyMethods=[]),props.preDestroyMethods.push(methodName)}function Bean(beanName){return classConstructor=>{getOrCreateProps(classConstructor).beanName=beanName}}function Autowired(name){return(target,propertyKey,descriptor)=>{autowiredFunc(target,name,!1,target,propertyKey,null)}}function Optional(name){return(target,propertyKey,descriptor)=>{autowiredFunc(target,name,!0,target,propertyKey,null)}}function autowiredFunc(target,name,optional,classPrototype,methodOrAttributeName,index){if(null===name)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof index)return void console.error("AG Grid: Autowired should be on an attribute");const props=getOrCreateProps(target.constructor);props.agClassAttributes||(props.agClassAttributes=[]),props.agClassAttributes.push({attributeName:methodOrAttributeName,beanName:name,optional})}function Qualifier(name){return(classPrototype,methodOrAttributeName,index)=>{const constructor="function"==typeof classPrototype?classPrototype:classPrototype.constructor;let props;if("number"==typeof index){let methodName;methodOrAttributeName?(props=getOrCreateProps(constructor),methodName=methodOrAttributeName):(props=getOrCreateProps(constructor),methodName="agConstructor"),props.autowireMethods||(props.autowireMethods={}),props.autowireMethods[methodName]||(props.autowireMethods[methodName]={}),props.autowireMethods[methodName][index]=name}}}function getOrCreateProps(target){return target.hasOwnProperty("__agBeanMetaData")||(target.__agBeanMetaData={}),target.__agBeanMetaData}var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let EventService=class EventService{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(loggerFactory,gridOptionsService,frameworkOverrides,globalEventListener=null,globalSyncEventListener=null){if(this.frameworkOverrides=frameworkOverrides,this.gridOptionsService=gridOptionsService,globalEventListener){const async=gridOptionsService.useAsyncEvents();this.addGlobalListener(globalEventListener,async)}globalSyncEventListener&&this.addGlobalListener(globalSyncEventListener,!1)}getListeners(eventType,async,autoCreateListenerCollection){const listenerMap=async?this.allAsyncListeners:this.allSyncListeners;let listeners=listenerMap.get(eventType);return!listeners&&autoCreateListenerCollection&&(listeners=new Set,listenerMap.set(eventType,listeners)),listeners}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(eventType,listener,async=!1){this.getListeners(eventType,async,!0).add(listener)}removeEventListener(eventType,listener,async=!1){const listeners=this.getListeners(eventType,async,!1);if(listeners&&(listeners.delete(listener),0===listeners.size)){(async?this.allAsyncListeners:this.allSyncListeners).delete(eventType)}}addGlobalListener(listener,async=!1){(async?this.globalAsyncListeners:this.globalSyncListeners).add(listener)}removeGlobalListener(listener,async=!1){(async?this.globalAsyncListeners:this.globalSyncListeners).delete(listener)}dispatchEvent(event){let agEvent=event;if(this.gridOptionsService){const{api,columnApi,context}=this.gridOptionsService;agEvent.api=api,agEvent.columnApi=columnApi,agEvent.context=context}this.dispatchToListeners(agEvent,!0),this.dispatchToListeners(agEvent,!1),this.firedEvents[agEvent.type]=!0}dispatchEventOnce(event){this.firedEvents[event.type]||this.dispatchEvent(event)}dispatchToListeners(event,async){const eventType=event.type;if(async&&"event"in event){const browserEvent=event.event;browserEvent instanceof Event&&(event.eventPath=browserEvent.composedPath())}const processEventListeners=listeners=>listeners.forEach((listener=>{async?this.dispatchAsync((()=>listener(event))):listener(event)})),listeners=new Set(this.getListeners(eventType,async,!1));listeners.size>0&&processEventListeners(listeners);new Set(async?this.globalAsyncListeners:this.globalSyncListeners).forEach((listener=>{async?this.dispatchAsync((()=>this.frameworkOverrides.dispatchEvent(eventType,(()=>listener(eventType,event)),!0))):this.frameworkOverrides.dispatchEvent(eventType,(()=>listener(eventType,event)),!0)}))}dispatchAsync(func){this.asyncFunctionsQueue.push(func),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const queueCopy=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],queueCopy.forEach((func=>func()))}};__decorate([__param(0,Qualifier("loggerFactory")),__param(1,Qualifier("gridOptionsService")),__param(2,Qualifier("frameworkOverrides")),__param(3,Qualifier("globalEventListener")),__param(4,Qualifier("globalSyncEventListener"))],EventService.prototype,"setBeans",null),EventService=__decorate([Bean("eventService")],EventService);var column_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++}class Column{constructor(colDef,userProvidedColDef,colId,primary){this.instanceId=getNextColInstanceId(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new EventService,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.colId=colId,this.primary=primary,this.setState(colDef)}getInstanceId(){return this.instanceId}setState(colDef){void 0!==colDef.sort?"asc"!==colDef.sort&&"desc"!==colDef.sort||(this.sort=colDef.sort):"asc"!==colDef.initialSort&&"desc"!==colDef.initialSort||(this.sort=colDef.initialSort);const sortIndex=attrToNumber(colDef.sortIndex),initialSortIndex=attrToNumber(colDef.initialSortIndex);void 0!==sortIndex?null!==sortIndex&&(this.sortIndex=sortIndex):null!==initialSortIndex&&(this.sortIndex=initialSortIndex);const hide=attrToBoolean(colDef.hide),initialHide=attrToBoolean(colDef.initialHide);this.visible=void 0!==hide?!hide:!initialHide,void 0!==colDef.pinned?this.setPinned(colDef.pinned):this.setPinned(colDef.initialPinned);const flex=attrToNumber(colDef.flex),initialFlex=attrToNumber(colDef.initialFlex);void 0!==flex?this.flex=flex:void 0!==initialFlex&&(this.flex=initialFlex)}setColDef(colDef,userProvidedColDef){this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(parent){this.parent=parent}getParent(){return this.parent}setOriginalParent(originalParent){this.originalParent=originalParent}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const suppressDotNotation=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!suppressDotNotation,this.tooltipFieldContainsDots=exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!suppressDotNotation}initMinAndMaxWidths(){const colDef=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(colDef),this.maxWidth=this.columnUtils.calculateColMaxWidth(colDef)}initTooltip(){this.tooltipEnabled=exists(this.colDef.tooltipField)||exists(this.colDef.tooltipValueGetter)||exists(this.colDef.tooltipComponent)}resetActualWidth(source="api"){const initialWidth=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(initialWidth,source,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(colId){if(missing(this.colDef)||missing(this.colDef.showRowGroup))return!1;const showingAllGroups=!0===this.colDef.showRowGroup,showingThisGroup=this.colDef.showRowGroup===colId;return showingAllGroups||showingThisGroup}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const colDefAny=this.colDef;function warnOnce(msg,key,obj){function_doOnce((()=>{obj?console.warn(msg,obj):function_doOnce((()=>console.warn(msg)),key)}),key)}if(this.gridOptionsService.isRowModelType("clientSide")&&!ModuleRegistry.__isRegistered(ModuleNames.RowGroupingModule,this.gridOptionsService.getGridId())){const itemsUsed=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter((x=>exists(colDefAny[x])));itemsUsed.length>0&&ModuleRegistry.__assertRegistered(ModuleNames.RowGroupingModule,itemsUsed.map((i=>"colDef."+i)).join(", "),this.gridOptionsService.getGridId())}if("agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||ModuleRegistry.__assertRegistered(ModuleNames.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")){const itemsUsed=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter((x=>exists(colDefAny[x])));itemsUsed.length>0&&warnOnce(`AG Grid: ${itemsUsed.join()} is not possible when doing tree data, your column definition should not have ${itemsUsed.join()}`,"TreeDataCannotRowGroup")}if(exists(colDefAny.menuTabs))if(Array.isArray(colDefAny.menuTabs)){const communityMenuTabs=["filterMenuTab"],enterpriseMenuTabs=["columnsMenuTab","generalMenuTab"],itemsUsed=enterpriseMenuTabs.filter((x=>colDefAny.menuTabs.includes(x)));itemsUsed.length>0&&ModuleRegistry.__assertRegistered(ModuleNames.MenuModule,`menuTab(s): ${itemsUsed.map((t=>`'${t}'`)).join()}`,this.gridOptionsService.getGridId()),colDefAny.menuTabs.forEach((tab=>{enterpriseMenuTabs.includes(tab)||communityMenuTabs.includes(tab)||warnOnce(`AG Grid: '${tab}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...communityMenuTabs,...enterpriseMenuTabs].map((t=>`'${t}'`)).join()}.`,"wrongValue_menuTabs_"+tab)}))}else warnOnce("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof colDefAny.menuTabs,"wrongType_menuTabs");exists(colDefAny.columnsMenuParams)&&ModuleRegistry.__assertRegistered(ModuleNames.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),exists(colDefAny.columnsMenuParams)&&ModuleRegistry.__assertRegistered(ModuleNames.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),exists(this.colDef.width)&&"number"!=typeof this.colDef.width&&warnOnce("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),exists(colDefAny.columnGroupShow)&&"closed"!==colDefAny.columnGroupShow&&"open"!==colDefAny.columnGroupShow&&warnOnce(`AG Grid: '${colDefAny.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(eventType,listener){this.eventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.eventService.removeEventListener(eventType,listener)}createColumnFunctionCallbackParams(rowNode){return{node:rowNode,data:rowNode.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(rowNode){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const params=this.createColumnFunctionCallbackParams(rowNode);return(0,this.colDef.suppressNavigable)(params)}return!1}isCellEditable(rowNode){return!(rowNode.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(rowNode,this.colDef.editable)}isSuppressFillHandle(){return!!attrToBoolean(this.colDef.suppressFillHandle)}isAutoHeight(){return!!attrToBoolean(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!attrToBoolean(this.colDef.autoHeaderHeight)}isRowDrag(rowNode){return this.isColumnFunc(rowNode,this.colDef.rowDrag)}isDndSource(rowNode){return this.isColumnFunc(rowNode,this.colDef.dndSource)}isCellCheckboxSelection(rowNode){return this.isColumnFunc(rowNode,this.colDef.checkboxSelection)}isSuppressPaste(rowNode){return this.isColumnFunc(rowNode,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!attrToBoolean(this.colDef.resizable)}isColumnFunc(rowNode,value){if("boolean"==typeof value)return value;if("function"==typeof value){return value(this.createColumnFunctionCallbackParams(rowNode))}return!1}setMoving(moving,source="api"){this.moving=moving,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",source))}createColumnEvent(type,source){return{type,column:this,columns:[this],source,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(sort,source="api"){this.sort!==sort&&(this.sort=sort,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",source))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(visible,source="api"){this.menuVisible!==visible&&(this.menuVisible=visible,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",source)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return missing(this.sort)}isSorting(){return exists(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(sortOrder){this.sortIndex=sortOrder,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(aggFunc){this.aggFunc=aggFunc,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(left,source="api"){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",source)))}isFilterActive(){return this.filterActive}setFilterActive(active,source="api",additionalEventAttributes){this.filterActive!==active&&(this.filterActive=active,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",source)));const filterChangedEvent=this.createColumnEvent("filterChanged",source);additionalEventAttributes&&mergeDeep(filterChangedEvent,additionalEventAttributes),this.eventService.dispatchEvent(filterChangedEvent)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(pinned){this.pinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(firstRightPinned,source="api"){this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",source)))}setLastLeftPinned(lastLeftPinned,source="api"){this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",source)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(visible,source="api"){const newValue=!0===visible;this.visible!==newValue&&(this.visible=newValue,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",source))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const colDef=this.getColDef();return!colDef.suppressSpanHeaderHeight&&!colDef.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(height){const changed=height!==this.autoHeaderHeight;return this.autoHeaderHeight=height,changed}createBaseColDefParams(rowNode){return{node:rowNode,data:rowNode.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(rowNode){if(missing(this.colDef.colSpan))return 1;const params=this.createBaseColDefParams(rowNode),colSpan=this.colDef.colSpan(params);return Math.max(colSpan,1)}getRowSpan(rowNode){if(missing(this.colDef.rowSpan))return 1;const params=this.createBaseColDefParams(rowNode),rowSpan=this.colDef.rowSpan(params);return Math.max(rowSpan,1)}setActualWidth(actualWidth,source="api",silent=!1){null!=this.minWidth&&(actualWidth=Math.max(actualWidth,this.minWidth)),null!=this.maxWidth&&(actualWidth=Math.min(actualWidth,this.maxWidth)),this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,this.flex&&"flex"!==source&&"gridInitializing"!==source&&(this.flex=null),silent||this.fireColumnWidthChangedEvent(source)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(source){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",source))}isGreaterThanMax(width){return null!=this.maxWidth&&width>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(flex){this.flex!==flex&&(this.flex=flex),this.dispatchStateUpdatedEvent("flex")}setMinimum(source="api"){exists(this.minWidth)&&this.setActualWidth(this.minWidth,source)}setRowGroupActive(rowGroup,source="api"){this.rowGroupActive!==rowGroup&&(this.rowGroupActive=rowGroup,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",source))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(pivot,source="api"){this.pivotActive!==pivot&&(this.pivotActive=pivot,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",source))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(value,source="api"){this.aggregationActive!==value&&(this.aggregationActive=value,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",source)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(defaultValues){let menuTabs=this.getColDef().menuTabs;return null==menuTabs&&(menuTabs=defaultValues),menuTabs}dispatchStateUpdatedEvent(key){this.eventService.dispatchEvent({type:Column.EVENT_STATE_UPDATED,key})}}Column.EVENT_MOVING_CHANGED="movingChanged",Column.EVENT_LEFT_CHANGED="leftChanged",Column.EVENT_WIDTH_CHANGED="widthChanged",Column.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",Column.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",Column.EVENT_VISIBLE_CHANGED="visibleChanged",Column.EVENT_FILTER_CHANGED="filterChanged",Column.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",Column.EVENT_SORT_CHANGED="sortChanged",Column.EVENT_COL_DEF_CHANGED="colDefChanged",Column.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",Column.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",Column.EVENT_PIVOT_CHANGED="columnPivotChanged",Column.EVENT_VALUE_CHANGED="columnValueChanged",Column.EVENT_STATE_UPDATED="columnStateUpdated",column_decorate([Autowired("gridOptionsService")],Column.prototype,"gridOptionsService",void 0),column_decorate([Autowired("columnUtils")],Column.prototype,"columnUtils",void 0),column_decorate([Autowired("columnHoverService")],Column.prototype,"columnHoverService",void 0),column_decorate([PostConstruct],Column.prototype,"initialise",null);var providedColumnGroup_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ProvidedColumnGroup{constructor(colGroupDef,groupId,padding,level){this.localEventService=new EventService,this.expandable=!1,this.instanceId=getNextColInstanceId(),this.expandableListenerRemoveCallback=null,this.colGroupDef=colGroupDef,this.groupId=groupId,this.expanded=!!colGroupDef&&!!colGroupDef.openByDefault,this.padding=padding,this.level=level}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(colGroupDef,level){this.colGroupDef=colGroupDef,this.level=level,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(originalParent){this.originalParent=originalParent}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((child=>child.isVisible()))}isPadding(){return this.padding}setExpanded(expanded){this.expanded=void 0!==expanded&&expanded;const event={type:ProvidedColumnGroup.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(event)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(children){this.children=children}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}addLeafColumns(leafColumns){this.children&&this.children.forEach((child=>{child instanceof Column?leafColumns.push(child):child instanceof ProvidedColumnGroup&&child.addLeafColumns(leafColumns)}))}getColumnGroupShow(){const colGroupDef=this.colGroupDef;if(colGroupDef)return colGroupDef.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const listener=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((col=>col.addEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((col=>col.removeEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1;const children=this.findChildrenRemovingPadding();for(let i=0,j=children.length;i<j;i++){const abstractColumn=children[i];if(!abstractColumn.isVisible())continue;const headerGroupShow=abstractColumn.getColumnGroupShow();"open"===headerGroupShow?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):"closed"===headerGroupShow?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}const expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable;if(this.expandable!==expandable){this.expandable=expandable;const event={type:ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(event)}}findChildrenRemovingPadding(){const res=[],process=items=>{items.forEach((item=>{item instanceof ProvidedColumnGroup&&item.isPadding()?process(item.children):res.push(item)}))};return process(this.children),res}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener)}}ProvidedColumnGroup.EVENT_EXPANDED_CHANGED="expandedChanged",ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED="expandableChanged",providedColumnGroup_decorate([PreDestroy],ProvidedColumnGroup.prototype,"destroy",null);const DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function firstExistingValue(...values){for(let i=0;i<values.length;i++){const value=values[i];if(exists(value))return value}return null}function existsAndNotEmpty(value){return null!=value&&value.length>0}function last(arr){if(arr&&arr.length)return arr[arr.length-1]}function areEqual(a,b,comparator){return null==a&&null==b||null!=a&&null!=b&&a.length===b.length&&a.every(((value,index)=>comparator?comparator(value,b[index]):b[index]===value))}function shallowCompare(arr1,arr2){return areEqual(arr1,arr2)}function sortNumerically(array){return array.sort(((a,b)=>a-b))}function removeRepeatsFromArray(array,object){if(array)for(let index=array.length-2;index>=0;index--){const thisOneMatches=array[index]===object,nextOneMatches=array[index+1]===object;thisOneMatches&&nextOneMatches&&array.splice(index+1,1)}}function removeFromUnorderedArray(array,object){const index=array.indexOf(object);index>=0&&(array[index]=array[array.length-1],array.pop())}function removeFromArray(array,object){const index=array.indexOf(object);index>=0&&array.splice(index,1)}function removeAllFromUnorderedArray(array,toRemove){for(let i=0;i<toRemove.length;i++)removeFromUnorderedArray(array,toRemove[i])}function removeAllFromArray(array,toRemove){for(let i=0;i<toRemove.length;i++)removeFromArray(array,toRemove[i])}function insertIntoArray(array,object,toIndex){array.splice(toIndex,0,object)}function insertArrayIntoArray(dest,src,toIndex){if(null!=dest&&null!=src)for(let i=src.length-1;i>=0;i--){insertIntoArray(dest,src[i],toIndex)}}function moveInArray(array,objectsToMove,toIndex){removeAllFromArray(array,objectsToMove),objectsToMove.slice().reverse().forEach((obj=>insertIntoArray(array,obj,toIndex)))}function includes(array,value){return array.indexOf(value)>-1}function flatten(arrayOfArrays){return[].concat.apply([],arrayOfArrays)}function pushAll(target,source){null!=source&&null!=target&&source.forEach((value=>target.push(value)))}function toStrings(array){return array.map(toStringOrNull)}function forEachReverse(list,action){if(null!=list)for(let i=list.length-1;i>=0;i--)action(list[i],i)}const AG_GRID_STOP_PROPAGATION="__ag_Grid_Stop_Propagation",PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel","scroll"],supports={};function stopPropagationForAgGrid(event){event[AG_GRID_STOP_PROPAGATION]=!0}function isStopPropagationForAgGrid(event){return!0===event[AG_GRID_STOP_PROPAGATION]}const isEventSupported=(()=>{const tags={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return eventName=>{if("boolean"==typeof supports[eventName])return supports[eventName];const el=document.createElement(tags[eventName]||"div");return supports[eventName="on"+eventName]=eventName in el}})();function getCtrlForEventTarget(gridOptionsService,eventTarget,type){let sourceElement=eventTarget;for(;sourceElement;){const renderedComp=gridOptionsService.getDomData(sourceElement,type);if(renderedComp)return renderedComp;sourceElement=sourceElement.parentElement}return null}function isElementInEventPath(element,event){return!(!event||!element)&&getEventPath(event).indexOf(element)>=0}function createEventPath(event){const res=[];let pointer=event.target;for(;pointer;)res.push(pointer),pointer=pointer.parentElement;return res}function getEventPath(event){const eventNoType=event;return eventNoType.path?eventNoType.path:eventNoType.composedPath?eventNoType.composedPath():createEventPath(eventNoType)}function addSafePassiveEventListener(frameworkOverrides,eElement,event,listener){const options=includes(PASSIVE_EVENTS,event)?{passive:!0}:void 0;frameworkOverrides&&frameworkOverrides.addEventListener&&frameworkOverrides.addEventListener(eElement,event,listener,options)}var beanStub_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class BeanStub{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach((func=>func())),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:BeanStub.EVENT_DESTROYED})}addEventListener(eventType,listener){this.localEventService||(this.localEventService=new EventService),this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService&&this.localEventService.removeEventListener(eventType,listener)}dispatchEventAsync(event){window.setTimeout((()=>this.dispatchEvent(event)),0)}dispatchEvent(event){this.localEventService&&this.localEventService.dispatchEvent(event)}addManagedListener(object,event,listener){if(this.destroyed)return;object instanceof HTMLElement?addSafePassiveEventListener(this.getFrameworkOverrides(),object,event,listener):object.addEventListener(event,listener);const destroyFunc=()=>(object.removeEventListener(event,listener),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null);return this.destroyFunctions.push(destroyFunc),destroyFunc}setupGridOptionListener(event,listener){this.gridOptionsService.addEventListener(event,listener);const destroyFunc=()=>(this.gridOptionsService.removeEventListener(event,listener),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null);this.destroyFunctions.push(destroyFunc)}addManagedPropertyListener(event,listener){this.destroyed||this.setupGridOptionListener(event,listener)}addManagedPropertyListeners(events,listener){if(this.destroyed)return;const eventsKey=events.join("-")+this.propertyListenerId++,wrappedListener=event=>{if(event.changeSet){if(event.changeSet&&event.changeSet.id===this.lastChangeSetIdLookup[eventsKey])return;this.lastChangeSetIdLookup[eventsKey]=event.changeSet.id}const propertiesChangeEvent={type:"gridPropertyChanged",changeSet:event.changeSet};listener(propertiesChangeEvent)};events.forEach((event=>this.setupGridOptionListener(event,wrappedListener)))}addDestroyFunc(func){this.isAlive()?this.destroyFunctions.push(func):func()}createManagedBean(bean,context){const res=this.createBean(bean,context);return this.addDestroyFunc(this.destroyBean.bind(this,bean,context)),res}createBean(bean,context,afterPreCreateCallback){return(context||this.getContext()).createBean(bean,afterPreCreateCallback)}destroyBean(bean,context){return(context||this.getContext()).destroyBean(bean)}destroyBeans(beans,context){return beans&&beans.forEach((bean=>this.destroyBean(bean,context))),[]}}BeanStub.EVENT_DESTROYED="destroyed",beanStub_decorate([Autowired("frameworkOverrides")],BeanStub.prototype,"frameworkOverrides",void 0),beanStub_decorate([Autowired("context")],BeanStub.prototype,"context",void 0),beanStub_decorate([Autowired("eventService")],BeanStub.prototype,"eventService",void 0),beanStub_decorate([Autowired("gridOptionsService")],BeanStub.prototype,"gridOptionsService",void 0),beanStub_decorate([Autowired("localeService")],BeanStub.prototype,"localeService",void 0),beanStub_decorate([Autowired("environment")],BeanStub.prototype,"environment",void 0),beanStub_decorate([PreDestroy],BeanStub.prototype,"destroy",null);var columnFactory_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},columnFactory_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let ColumnFactory=class ColumnFactory extends BeanStub{setBeans(loggerFactory){this.logger=loggerFactory.create("ColumnFactory")}createColumnTree(defs,primaryColumns,existingTree){const columnKeyCreator=new ColumnKeyCreator,{existingCols,existingGroups,existingColKeys}=this.extractExistingTreeData(existingTree);columnKeyCreator.addExistingKeys(existingColKeys);const unbalancedTree=this.recursivelyCreateColumns(defs,0,primaryColumns,existingCols,columnKeyCreator,existingGroups),treeDept=this.findMaxDept(unbalancedTree,0);this.logger.log("Number of levels for grouped columns is "+treeDept);const columnTree=this.balanceColumnTree(unbalancedTree,0,treeDept,columnKeyCreator);return this.columnUtils.depthFirstOriginalTreeSearch(null,columnTree,((child,parent)=>{child instanceof ProvidedColumnGroup&&child.setupExpandable(),child.setOriginalParent(parent)})),{columnTree,treeDept}}extractExistingTreeData(existingTree){const existingCols=[],existingGroups=[],existingColKeys=[];return existingTree&&this.columnUtils.depthFirstOriginalTreeSearch(null,existingTree,(item=>{if(item instanceof ProvidedColumnGroup){const group=item;existingGroups.push(group)}else{const col=item;existingColKeys.push(col.getId()),existingCols.push(col)}})),{existingCols,existingGroups,existingColKeys}}createForAutoGroups(autoGroupCols,gridBalancedTree){return autoGroupCols.map((col=>this.createAutoGroupTreeItem(gridBalancedTree,col)))}createAutoGroupTreeItem(balancedColumnTree,column){const dept=this.findDepth(balancedColumnTree);let nextChild=column;for(let i=dept-1;i>=0;i--){const autoGroup=new ProvidedColumnGroup(null,`FAKE_PATH_${column.getId()}}_${i}`,!0,i);this.createBean(autoGroup),autoGroup.setChildren([nextChild]),nextChild.setOriginalParent(autoGroup),nextChild=autoGroup}return 0===dept&&column.setOriginalParent(null),nextChild}findDepth(balancedColumnTree){let dept=0,pointer=balancedColumnTree;for(;pointer&&pointer[0]&&pointer[0]instanceof ProvidedColumnGroup;)dept++,pointer=pointer[0].getChildren();return dept}balanceColumnTree(unbalancedTree,currentDept,columnDept,columnKeyCreator){const result=[];for(let i=0;i<unbalancedTree.length;i++){const child=unbalancedTree[i];if(child instanceof ProvidedColumnGroup){const originalGroup=child,newChildren=this.balanceColumnTree(originalGroup.getChildren(),currentDept+1,columnDept,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{let firstPaddedGroup,currentPaddedGroup;for(let j=columnDept-1;j>=currentDept;j--){const newColId=columnKeyCreator.getUniqueKey(null,null),colGroupDefMerged=this.createMergedColGroupDef(null),paddedGroup=new ProvidedColumnGroup(colGroupDefMerged,newColId,!0,currentDept);this.createBean(paddedGroup),currentPaddedGroup&&currentPaddedGroup.setChildren([paddedGroup]),currentPaddedGroup=paddedGroup,firstPaddedGroup||(firstPaddedGroup=currentPaddedGroup)}if(firstPaddedGroup&&currentPaddedGroup){result.push(firstPaddedGroup);if(unbalancedTree.some((leaf=>leaf instanceof ProvidedColumnGroup))){currentPaddedGroup.setChildren([child]);continue}currentPaddedGroup.setChildren(unbalancedTree);break}result.push(child)}}return result}findMaxDept(treeChildren,dept){let maxDeptThisLevel=dept;for(let i=0;i<treeChildren.length;i++){const abstractColumn=treeChildren[i];if(abstractColumn instanceof ProvidedColumnGroup){const originalGroup=abstractColumn,newDept=this.findMaxDept(originalGroup.getChildren(),dept+1);maxDeptThisLevel<newDept&&(maxDeptThisLevel=newDept)}}return maxDeptThisLevel}recursivelyCreateColumns(defs,level,primaryColumns,existingColsCopy,columnKeyCreator,existingGroups){if(!defs)return[];const result=new Array(defs.length);for(let i=0;i<result.length;i++){const def=defs[i];this.isColumnGroup(def)?result[i]=this.createColumnGroup(primaryColumns,def,level,existingColsCopy,columnKeyCreator,existingGroups):result[i]=this.createColumn(primaryColumns,def,existingColsCopy,columnKeyCreator)}return result}createColumnGroup(primaryColumns,colGroupDef,level,existingColumns,columnKeyCreator,existingGroups){const colGroupDefMerged=this.createMergedColGroupDef(colGroupDef),groupId=columnKeyCreator.getUniqueKey(colGroupDefMerged.groupId||null,null),providedGroup=new ProvidedColumnGroup(colGroupDefMerged,groupId,!1,level);this.createBean(providedGroup);const existingGroupAndIndex=this.findExistingGroup(colGroupDef,existingGroups);existingGroupAndIndex&&existingGroups.splice(existingGroupAndIndex.idx,1);let existingGroup=null==existingGroupAndIndex?void 0:existingGroupAndIndex.group;existingGroup&&providedGroup.setExpanded(existingGroup.isExpanded());const children=this.recursivelyCreateColumns(colGroupDefMerged.children,level+1,primaryColumns,existingColumns,columnKeyCreator,existingGroups);return providedGroup.setChildren(children),providedGroup}createMergedColGroupDef(colGroupDef){const colGroupDefMerged={};return Object.assign(colGroupDefMerged,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(colGroupDefMerged,colGroupDef),colGroupDefMerged}createColumn(primaryColumns,colDef,existingColsCopy,columnKeyCreator){const existingColAndIndex=this.findExistingColumn(colDef,existingColsCopy);existingColAndIndex&&(null==existingColsCopy||existingColsCopy.splice(existingColAndIndex.idx,1));let column=null==existingColAndIndex?void 0:existingColAndIndex.column;if(column){const colDefMerged=this.addColumnDefaultAndTypes(colDef,column.getColId());column.setColDef(colDefMerged,colDef),this.applyColumnState(column,colDefMerged)}else{const colId=columnKeyCreator.getUniqueKey(colDef.colId,colDef.field),colDefMerged=this.addColumnDefaultAndTypes(colDef,colId);column=new Column(colDefMerged,colDef,colId,primaryColumns),this.context.createBean(column)}return this.dataTypeService.addColumnListeners(column),column}applyColumnState(column,colDef){const flex=attrToNumber(colDef.flex);void 0!==flex&&column.setFlex(flex);if(column.getFlex()<=0){const width=attrToNumber(colDef.width);if(null!=width)column.setActualWidth(width);else{const widthBeforeUpdate=column.getActualWidth();column.setActualWidth(widthBeforeUpdate)}}void 0!==colDef.sort&&("asc"==colDef.sort||"desc"==colDef.sort?column.setSort(colDef.sort):column.setSort(void 0));const sortIndex=attrToNumber(colDef.sortIndex);void 0!==sortIndex&&column.setSortIndex(sortIndex);const hide=attrToBoolean(colDef.hide);void 0!==hide&&column.setVisible(!hide),void 0!==colDef.pinned&&column.setPinned(colDef.pinned)}findExistingColumn(newColDef,existingColsCopy){if(existingColsCopy)for(let i=0;i<existingColsCopy.length;i++){const def=existingColsCopy[i].getUserProvidedColDef();if(!def)continue;if(null!=newColDef.colId){if(existingColsCopy[i].getId()===newColDef.colId)return{idx:i,column:existingColsCopy[i]};continue}if(null!=newColDef.field){if(def.field===newColDef.field)return{idx:i,column:existingColsCopy[i]}}else if(def===newColDef)return{idx:i,column:existingColsCopy[i]}}}findExistingGroup(newGroupDef,existingGroups){if(null!=newGroupDef.groupId)for(let i=0;i<existingGroups.length;i++){const existingGroup=existingGroups[i];if(existingGroup.getColGroupDef()&&existingGroup.getId()===newGroupDef.groupId)return{idx:i,group:existingGroup}}}addColumnDefaultAndTypes(colDef,colId){const res={};mergeDeep(res,this.gridOptionsService.get("defaultColDef"),!1,!0);const columnType=this.dataTypeService.updateColDefAndGetColumnType(res,colDef,colId);columnType&&this.assignColumnTypes(columnType,res),mergeDeep(res,colDef,!1,!0);const autoGroupColDef=this.gridOptionsService.get("autoGroupColumnDef"),isSortingCoupled=this.gridOptionsService.isColumnsSortingCoupledToGroup();return colDef.rowGroup&&autoGroupColDef&&isSortingCoupled&&mergeDeep(res,{sort:autoGroupColDef.sort,initialSort:autoGroupColDef.initialSort},!1,!0),this.dataTypeService.validateColDef(res),res}assignColumnTypes(typeKeys,colDefMerged){if(!typeKeys.length)return;const allColumnTypes=Object.assign({},DefaultColumnTypes);iterateObject(this.gridOptionsService.get("columnTypes")||{},((key,value)=>{key in allColumnTypes?console.warn(`AG Grid: the column type '${key}' is a default column type and cannot be overridden.`):allColumnTypes[key]=value})),typeKeys.forEach((t=>{const typeColDef=allColumnTypes[t.trim()];typeColDef?mergeDeep(colDefMerged,typeColDef,!1,!0):console.warn("AG Grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(abstractColDef){return void 0!==abstractColDef.children}};columnFactory_decorate([Autowired("columnUtils")],ColumnFactory.prototype,"columnUtils",void 0),columnFactory_decorate([Autowired("dataTypeService")],ColumnFactory.prototype,"dataTypeService",void 0),columnFactory_decorate([columnFactory_param(0,Qualifier("loggerFactory"))],ColumnFactory.prototype,"setBeans",null),ColumnFactory=columnFactory_decorate([Bean("columnFactory")],ColumnFactory);var columnGroup_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ColumnGroup{constructor(providedColumnGroup,groupId,partId,pinned){this.displayedChildren=[],this.localEventService=new EventService,this.groupId=groupId,this.partId=partId,this.providedColumnGroup=providedColumnGroup,this.pinned=pinned}static createUniqueId(groupId,instanceId){return groupId+"_"+instanceId}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(parent){this.parent=parent}getUniqueId(){return ColumnGroup.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const allLeafColumns=this.getProvidedColumnGroup().getLeafColumns();return!(!allLeafColumns||0===allLeafColumns.length)&&allLeafColumns.every((col=>col.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((child=>{child instanceof ColumnGroup&&child.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const lastChildLeft=last(this.displayedChildren).getLeft();this.setLeft(lastChildLeft)}else{const firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(left){this.oldLeft=left,this.left!==left&&(this.left=left,this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(type){return{type}}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(wantedChild){let result=!1;return this.children.forEach((foundChild=>{wantedChild===foundChild&&(result=!0),foundChild instanceof ColumnGroup&&foundChild.isChildInThisGroupDeepSearch(wantedChild)&&(result=!0)})),result}getActualWidth(){let groupActualWidth=0;return this.displayedChildren&&this.displayedChildren.forEach((child=>{groupActualWidth+=child.getActualWidth()})),groupActualWidth}isResizable(){if(!this.displayedChildren)return!1;let result=!1;return this.displayedChildren.forEach((child=>{child.isResizable()&&(result=!0)})),result}getMinWidth(){let result=0;return this.displayedChildren.forEach((groupChild=>{result+=groupChild.getMinWidth()||0})),result}addChild(child){this.children||(this.children=[]),this.children.push(child)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}getDisplayedLeafColumns(){const result=[];return this.addDisplayedLeafColumns(result),result}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(expanded){this.providedColumnGroup.setExpanded(expanded)}addDisplayedLeafColumns(leafColumns){this.displayedChildren.forEach((child=>{child instanceof Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addDisplayedLeafColumns(leafColumns)}))}addLeafColumns(leafColumns){this.children.forEach((child=>{child instanceof Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addLeafColumns(leafColumns)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const parent=this.getParent();return this.isPadding()&&parent&&parent.isPadding()?1+parent.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let parentWithExpansion=this;for(;null!=parentWithExpansion&&parentWithExpansion.isPadding();)parentWithExpansion=parentWithExpansion.getParent();if(!(!!parentWithExpansion&&parentWithExpansion.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((child=>{if(child instanceof ColumnGroup&&(!child.displayedChildren||!child.displayedChildren.length))return;switch(child.getColumnGroupShow()){case"open":parentWithExpansion.providedColumnGroup.isExpanded()&&this.displayedChildren.push(child);break;case"closed":parentWithExpansion.providedColumnGroup.isExpanded()||this.displayedChildren.push(child);break;default:this.displayedChildren.push(child)}})),this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED))}}ColumnGroup.EVENT_LEFT_CHANGED="leftChanged",ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",columnGroup_decorate([Autowired("gridOptionsService")],ColumnGroup.prototype,"gridOptionsService",void 0);class Events{}Events.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",Events.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",Events.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",Events.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",Events.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",Events.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",Events.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",Events.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",Events.EVENT_COLUMN_MOVED="columnMoved",Events.EVENT_COLUMN_VISIBLE="columnVisible",Events.EVENT_COLUMN_PINNED="columnPinned",Events.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",Events.EVENT_COLUMN_RESIZED="columnResized",Events.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",Events.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",Events.EVENT_ROW_GROUP_OPENED="rowGroupOpened",Events.EVENT_ROW_DATA_CHANGED="rowDataChanged",Events.EVENT_ROW_DATA_UPDATED="rowDataUpdated",Events.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",Events.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",Events.EVENT_CHART_CREATED="chartCreated",Events.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",Events.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",Events.EVENT_CHART_DESTROYED="chartDestroyed",Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",Events.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",Events.EVENT_MODEL_UPDATED="modelUpdated",Events.EVENT_CUT_START="cutStart",Events.EVENT_CUT_END="cutEnd",Events.EVENT_PASTE_START="pasteStart",Events.EVENT_PASTE_END="pasteEnd",Events.EVENT_FILL_START="fillStart",Events.EVENT_FILL_END="fillEnd",Events.EVENT_RANGE_DELETE_START="rangeDeleteStart",Events.EVENT_RANGE_DELETE_END="rangeDeleteEnd",Events.EVENT_UNDO_STARTED="undoStarted",Events.EVENT_UNDO_ENDED="undoEnded",Events.EVENT_REDO_STARTED="redoStarted",Events.EVENT_REDO_ENDED="redoEnded",Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",Events.EVENT_CELL_CLICKED="cellClicked",Events.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",Events.EVENT_CELL_MOUSE_DOWN="cellMouseDown",Events.EVENT_CELL_CONTEXT_MENU="cellContextMenu",Events.EVENT_CELL_VALUE_CHANGED="cellValueChanged",Events.EVENT_CELL_EDIT_REQUEST="cellEditRequest",Events.EVENT_ROW_VALUE_CHANGED="rowValueChanged",Events.EVENT_CELL_FOCUSED="cellFocused",Events.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",Events.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",Events.EVENT_ROW_SELECTED="rowSelected",Events.EVENT_SELECTION_CHANGED="selectionChanged",Events.EVENT_TOOLTIP_SHOW="tooltipShow",Events.EVENT_TOOLTIP_HIDE="tooltipHide",Events.EVENT_CELL_KEY_DOWN="cellKeyDown",Events.EVENT_CELL_MOUSE_OVER="cellMouseOver",Events.EVENT_CELL_MOUSE_OUT="cellMouseOut",Events.EVENT_FILTER_CHANGED="filterChanged",Events.EVENT_FILTER_MODIFIED="filterModified",Events.EVENT_FILTER_OPENED="filterOpened",Events.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",Events.EVENT_SORT_CHANGED="sortChanged",Events.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",Events.EVENT_ROW_CLICKED="rowClicked",Events.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",Events.EVENT_GRID_READY="gridReady",Events.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",Events.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",Events.EVENT_VIEWPORT_CHANGED="viewportChanged",Events.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",Events.EVENT_FIRST_DATA_RENDERED="firstDataRendered",Events.EVENT_DRAG_STARTED="dragStarted",Events.EVENT_DRAG_STOPPED="dragStopped",Events.EVENT_CHECKBOX_CHANGED="checkboxChanged",Events.EVENT_ROW_EDITING_STARTED="rowEditingStarted",Events.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",Events.EVENT_CELL_EDITING_STARTED="cellEditingStarted",Events.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",Events.EVENT_BODY_SCROLL="bodyScroll",Events.EVENT_BODY_SCROLL_END="bodyScrollEnd",Events.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",Events.EVENT_PAGINATION_CHANGED="paginationChanged",Events.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",Events.EVENT_STORE_REFRESHED="storeRefreshed",Events.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",Events.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",Events.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",Events.EVENT_FLASH_CELLS="flashCells",Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",Events.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",Events.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",Events.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",Events.EVENT_ROW_DRAG_ENTER="rowDragEnter",Events.EVENT_ROW_DRAG_MOVE="rowDragMove",Events.EVENT_ROW_DRAG_LEAVE="rowDragLeave",Events.EVENT_ROW_DRAG_END="rowDragEnd",Events.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",Events.EVENT_POPUP_TO_FRONT="popupToFront",Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",Events.EVENT_KEYBOARD_FOCUS="keyboardFocus",Events.EVENT_MOUSE_FOCUS="mouseFocus",Events.EVENT_STORE_UPDATED="storeUpdated",Events.EVENT_FILTER_DESTROYED="filterDestroyed",Events.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",Events.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",Events.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",Events.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",Events.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";class GroupInstanceIdCreator{constructor(){this.existingIds={}}getInstanceIdForKey(key){const lastResult=this.existingIds[key];let result;return result="number"!=typeof lastResult?0:lastResult+1,this.existingIds[key]=result,result}}var autoGroupColService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AutoGroupColService=class AutoGroupColService extends BeanStub{createAutoGroupColumns(rowGroupColumns){const groupAutoColumns=[],doingTreeData=this.gridOptionsService.is("treeData");let doingMultiAutoColumn=this.gridOptionsService.isGroupMultiAutoColumn();return doingTreeData&&doingMultiAutoColumn&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),doingMultiAutoColumn=!1),doingMultiAutoColumn?rowGroupColumns.forEach(((rowGroupCol,index)=>{groupAutoColumns.push(this.createOneAutoGroupColumn(rowGroupCol,index))})):groupAutoColumns.push(this.createOneAutoGroupColumn()),groupAutoColumns}updateAutoGroupColumns(autoGroupColumns){autoGroupColumns.forEach(((column,index)=>this.updateOneAutoGroupColumn(column,index)))}createOneAutoGroupColumn(rowGroupCol,index){let colId;colId=rowGroupCol?`ag-Grid-AutoColumn-${rowGroupCol.getId()}`:"ag-Grid-AutoColumn";const colDef=this.createAutoGroupColDef(colId,rowGroupCol,index);colDef.colId=colId;const newCol=new Column(colDef,null,colId,!0);return this.context.createBean(newCol),newCol}updateOneAutoGroupColumn(colToUpdate,index){const oldColDef=colToUpdate.getColDef(),underlyingColId="string"==typeof oldColDef.showRowGroup?oldColDef.showRowGroup:void 0,underlyingColumn=null!=underlyingColId?this.columnModel.getPrimaryColumn(underlyingColId):void 0,colDef=this.createAutoGroupColDef(colToUpdate.getId(),null!=underlyingColumn?underlyingColumn:void 0,index);colToUpdate.setColDef(colDef,null),this.columnFactory.applyColumnState(colToUpdate,colDef)}createAutoGroupColDef(colId,underlyingColumn,index){let res=this.createBaseColDef(underlyingColumn);if(mergeDeep(res,this.gridOptionsService.get("autoGroupColumnDef")),res=this.columnFactory.addColumnDefaultAndTypes(res,colId),!this.gridOptionsService.is("treeData")){missing(res.field)&&missing(res.valueGetter)&&missing(res.filterValueGetter)&&"agGroupColumnFilter"!==res.filter&&(res.filter=!1)}index&&index>0&&(res.headerCheckboxSelection=!1);const isSortingCoupled=this.gridOptionsService.isColumnsSortingCoupledToGroup(),hasOwnData=res.valueGetter||null!=res.field;return isSortingCoupled&&!hasOwnData&&(res.sortIndex=void 0,res.initialSort=void 0),res}createBaseColDef(rowGroupCol){const userDef=this.gridOptionsService.get("autoGroupColumnDef"),res={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(userDef&&(userDef.cellRenderer||userDef.cellRendererSelector)||(res.cellRenderer="agGroupCellRenderer"),rowGroupCol){const colDef=rowGroupCol.getColDef();Object.assign(res,{headerName:this.columnModel.getDisplayNameForColumn(rowGroupCol,"header"),headerValueGetter:colDef.headerValueGetter}),colDef.cellRenderer&&Object.assign(res,{cellRendererParams:{innerRenderer:colDef.cellRenderer,innerRendererParams:colDef.cellRendererParams}}),res.showRowGroup=rowGroupCol.getColId()}else res.showRowGroup=!0;return res}};autoGroupColService_decorate([Autowired("columnModel")],AutoGroupColService.prototype,"columnModel",void 0),autoGroupColService_decorate([Autowired("columnFactory")],AutoGroupColService.prototype,"columnFactory",void 0),AutoGroupColService=autoGroupColService_decorate([Bean("autoGroupColService")],AutoGroupColService);const reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function utf8_encode(s){const stringFromCharCode=String.fromCharCode;function createByte(point,shift){return stringFromCharCode(point>>shift&63|128)}function encodeCodePoint(point){if(point>=0&&point<=31&&10!==point){return`_x${point.toString(16).toUpperCase().padStart(4,"0")}_`}if(0==(4294967168&point))return stringFromCharCode(point);let symbol="";return 0==(4294965248&point)?symbol=stringFromCharCode(point>>6&31|192):0==(4294901760&point)?(!function checkScalarValue(point){if(point>=55296&&point<=57343)throw Error("Lone surrogate U+"+point.toString(16).toUpperCase()+" is not a scalar value")}(point),symbol=stringFromCharCode(point>>12&15|224),symbol+=createByte(point,6)):0==(4292870144&point)&&(symbol=stringFromCharCode(point>>18&7|240),symbol+=createByte(point,12),symbol+=createByte(point,6)),symbol+=stringFromCharCode(63&point|128),symbol}const codePoints=function ucs2decode(string){const output=[];if(!string)return[];const len=string.length;let value,extra,counter=0;for(;counter<len;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<len?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}(s),length=codePoints.length;let codePoint,index=-1,byteString="";for(;++index<length;)codePoint=codePoints[index],byteString+=encodeCodePoint(codePoint);return byteString}function capitalise(str){return str[0].toUpperCase()+str.substr(1).toLowerCase()}function escapeString(toEscape,skipEscapingHtmlChars){if(null==toEscape)return null;const stringResult=toEscape.toString().toString();return skipEscapingHtmlChars?stringResult:stringResult.replace(reUnescapedHtml,(chr=>HTML_ESCAPES[chr]))}function camelCaseToHumanText(camelCase){if(!camelCase||null==camelCase)return null;return camelCase.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((word=>word.substring(0,1).toUpperCase()+(word.length>1?word.substring(1,word.length):""))).join(" ")}function camelCaseToHyphenated(camelCase){return camelCase.replace(/[A-Z]/g,(s=>`-${s.toLocaleLowerCase()}`))}function convertToMap(arr){const map=new Map;return arr.forEach((pair=>map.set(pair[0],pair[1]))),map}function mapById(arr,callback){const map=new Map;return arr.forEach((item=>map.set(callback(item),item))),map}function keys(map){const arr=[];return map.forEach(((_,key)=>arr.push(key))),arr}class ColDefUtil{}ColDefUtil.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},ColDefUtil.ALL_PROPERTIES=Object.keys(ColDefUtil.ColDefPropertyMap);class PropertyKeys{}PropertyKeys.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],PropertyKeys.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"],PropertyKeys.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],PropertyKeys.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],PropertyKeys.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],PropertyKeys.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],PropertyKeys.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],PropertyKeys.FUNCTION_PROPERTIES=[...PropertyKeys.FUNCTIONAL_PROPERTIES,...PropertyKeys.CALLBACK_PROPERTIES],PropertyKeys.ALL_PROPERTIES=[...PropertyKeys.ARRAY_PROPERTIES,...PropertyKeys.OBJECT_PROPERTIES,...PropertyKeys.STRING_PROPERTIES,...PropertyKeys.NUMBER_PROPERTIES,...PropertyKeys.FUNCTION_PROPERTIES,...PropertyKeys.BOOLEAN_PROPERTIES];class ComponentUtil{static getCallbackForEvent(eventName){return!eventName||eventName.length<2?eventName:"on"+eventName[0].toUpperCase()+eventName.substr(1)}static getCoercionLookup(){let coercionLookup={};return[...ComponentUtil.ARRAY_PROPERTIES,...ComponentUtil.OBJECT_PROPERTIES,...ComponentUtil.STRING_PROPERTIES,...ComponentUtil.FUNCTION_PROPERTIES,...ComponentUtil.EVENT_CALLBACKS].forEach((key=>coercionLookup[key]="none")),ComponentUtil.BOOLEAN_PROPERTIES.forEach((key=>coercionLookup[key]="boolean")),ComponentUtil.NUMBER_PROPERTIES.forEach((key=>coercionLookup[key]="number")),coercionLookup}static getValue(key,rawValue){const coercionStep=ComponentUtil.coercionLookup[key];if(coercionStep){let newValue=rawValue;switch(coercionStep){case"number":newValue=ComponentUtil.toNumber(rawValue);break;case"boolean":newValue=ComponentUtil.toBoolean(rawValue);break;case"none":"groupAggFiltering"===key&&"function"!=typeof rawValue&&(newValue=ComponentUtil.toBoolean(rawValue))}return newValue}}static getGridOptionKeys(component,isVue){return isVue?Object.keys(ComponentUtil.coercionLookup):Object.keys(component)}static copyAttributesToGridOptions(gridOptions,component,isVue=!1){"object"!=typeof gridOptions&&(gridOptions={});const pGridOptions=gridOptions;return ComponentUtil.getGridOptionKeys(component,isVue).forEach((key=>{const value=component[key];if(void 0!==value){const coercedValue=ComponentUtil.getValue(key,value);void 0!==coercedValue&&(pGridOptions[key]=coercedValue)}})),gridOptions}static processOnChange(changes,api){if(!changes||0===Object.keys(changes).length)return;this.changeSetId++;const changesToApply=Object.assign({},changes);changesToApply.columnTypes&&(api.setColumnTypes(changesToApply.columnTypes.currentValue,"gridOptionsChanged"),delete changesToApply.columnTypes),changesToApply.autoGroupColumnDef&&(api.setAutoGroupColumnDef(changesToApply.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete changesToApply.autoGroupColumnDef),changesToApply.defaultColDef&&(api.setDefaultColDef(changesToApply.defaultColDef.currentValue,"gridOptionsChanged"),delete changesToApply.defaultColDef),changesToApply.columnDefs&&(api.setColumnDefs(changesToApply.columnDefs.currentValue,"gridOptionsChanged"),delete changesToApply.columnDefs);const updates=Object.keys(changesToApply).map((key=>{const gridKey=key,coercedValue=ComponentUtil.getValue(gridKey,changesToApply[gridKey].currentValue);return{gridKey,coercedValue,isChanged:api.__setPropertyOnly(gridKey,coercedValue)}})).filter((u=>u.isChanged)),updatedKeys=updates.map((u=>u.gridKey));updates.forEach((u=>api.__updateProperty(u.gridKey,u.coercedValue,u.isChanged,{id:this.changeSetId,properties:updatedKeys})));const event={type:Events.EVENT_COMPONENT_STATE_CHANGED};iterateObject(changes,((key,value)=>{event[key]=value})),api.dispatchEvent(event)}static toBoolean(value){return"boolean"==typeof value?value:"string"==typeof value&&("TRUE"===value.toUpperCase()||""==value)}static toNumber(value){return"number"==typeof value?value:"string"==typeof value?Number(value):void 0}}function fuzzyCheckStrings(inputValues,validValues,allSuggestions){const fuzzyMatches={},invalidInputs=inputValues.filter((inputValue=>!validValues.some((validValue=>validValue===inputValue))));return invalidInputs.length>0&&invalidInputs.forEach((invalidInput=>fuzzyMatches[invalidInput]=fuzzySuggestions(invalidInput,allSuggestions).values)),fuzzyMatches}function fuzzySuggestions(inputValue,allSuggestions,hideIrrelevant,filterByPercentageOfBestMatch){let thisSuggestions=allSuggestions.map(((text,idx)=>({value:text,relevance:stringWeightedDistances(inputValue.toLowerCase(),text.toLocaleLowerCase()),idx})));if(thisSuggestions.sort(((a,b)=>b.relevance-a.relevance)),hideIrrelevant&&(thisSuggestions=thisSuggestions.filter((suggestion=>0!==suggestion.relevance))),thisSuggestions.length>0&&filterByPercentageOfBestMatch&&filterByPercentageOfBestMatch>0){const limit=thisSuggestions[0].relevance*filterByPercentageOfBestMatch;thisSuggestions=thisSuggestions.filter((suggestion=>limit-suggestion.relevance<0))}const values=[],indices=[];for(const suggestion of thisSuggestions)values.push(suggestion.value),indices.push(suggestion.idx);return{values,indices}}function stringWeightedDistances(str1,str2){const a=str1.replace(/\s/g,""),b=str2.replace(/\s/g,"");let weight=0,lastIndex=-1;for(let i=0;i<a.length;i++){const idx=b.indexOf(a[i],lastIndex+1);-1!==idx&&(lastIndex=idx,weight+=100-100*lastIndex/1e4*100)}return weight}ComponentUtil.EVENTS=values(Events),ComponentUtil.EXCLUDED_INTERNAL_EVENTS=[Events.EVENT_SCROLLBAR_WIDTH_CHANGED,Events.EVENT_CHECKBOX_CHANGED,Events.EVENT_HEIGHT_SCALE_CHANGED,Events.EVENT_BODY_HEIGHT_CHANGED,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Events.EVENT_SCROLL_VISIBILITY_CHANGED,Events.EVENT_COLUMN_HOVER_CHANGED,Events.EVENT_FLASH_CELLS,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Events.EVENT_DISPLAYED_ROWS_CHANGED,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Events.EVENT_POPUP_TO_FRONT,Events.EVENT_KEYBOARD_FOCUS,Events.EVENT_MOUSE_FOCUS,Events.EVENT_STORE_UPDATED,Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Events.EVENT_FILL_START,Events.EVENT_FILL_END,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,Events.EVENT_FULL_WIDTH_ROW_FOCUSED,Events.EVENT_HEADER_HEIGHT_CHANGED,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,Events.EVENT_CELL_FOCUS_CLEARED,Events.EVENT_GRID_STYLES_CHANGED,Events.EVENT_FILTER_DESTROYED,Events.EVENT_ROW_DATA_UPDATE_STARTED,Events.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,Events.EVENT_DATA_TYPES_INFERRED,Events.EVENT_FIELD_VALUE_CHANGED,Events.EVENT_FIELD_PICKER_VALUE_SELECTED],ComponentUtil.PUBLIC_EVENTS=ComponentUtil.EVENTS.filter((e=>!includes(ComponentUtil.EXCLUDED_INTERNAL_EVENTS,e))),ComponentUtil.EVENT_CALLBACKS=ComponentUtil.EVENTS.map((event=>ComponentUtil.getCallbackForEvent(event))),ComponentUtil.STRING_PROPERTIES=PropertyKeys.STRING_PROPERTIES,ComponentUtil.OBJECT_PROPERTIES=PropertyKeys.OBJECT_PROPERTIES,ComponentUtil.ARRAY_PROPERTIES=PropertyKeys.ARRAY_PROPERTIES,ComponentUtil.NUMBER_PROPERTIES=PropertyKeys.NUMBER_PROPERTIES,ComponentUtil.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES,ComponentUtil.FUNCTION_PROPERTIES=PropertyKeys.FUNCTION_PROPERTIES,ComponentUtil.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES,ComponentUtil.ALL_PROPERTIES_SET=new Set(PropertyKeys.ALL_PROPERTIES),ComponentUtil.changeSetId=0,ComponentUtil.coercionLookup=ComponentUtil.getCoercionLookup();var gridOptionsValidator_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};function logDeprecation(version,oldProp,newProp,message){const newPropMsg=newProp?`Please use '${newProp}' instead. `:"";function_doOnce((()=>console.warn(`AG Grid: since v${version}, '${oldProp}' is deprecated. ${newPropMsg}${null!=message?message:""}`)),`Deprecated_${oldProp}`)}const VUE_FRAMEWORK_PROPS=["__ob__","__v_skip","__metadata__"];let GridOptionsValidator=class GridOptionsValidator{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}pickOneWarning(prop1,prop2){console.warn(`AG Grid: ${prop1} and ${prop2} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){const msg=(prop,alt)=>`AG Grid: '${prop}' is not supported on the Server-Side Row Model.`+(alt?` Please use ${alt} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(msg("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(msg("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(msg("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?ModuleRegistry.__assertRegistered(ModuleNames.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const validateRegistered=(prop,module)=>this.gridOptionsService.exists(prop)&&ModuleRegistry.__assertRegistered(module,prop,this.gridOptionsService.getGridId());validateRegistered("sideBar",ModuleNames.SideBarModule),validateRegistered("statusBar",ModuleNames.StatusBarModule),validateRegistered("enableCharts",ModuleNames.GridChartsModule),validateRegistered("getMainMenuItems",ModuleNames.MenuModule),validateRegistered("getContextMenuItems",ModuleNames.MenuModule),validateRegistered("allowContextMenuWithControlKey",ModuleNames.MenuModule),validateRegistered("enableAdvancedFilter",ModuleNames.AdvancedFilterModule),validateRegistered("treeData",ModuleNames.RowGroupingModule),validateRegistered("enableRangeSelection",ModuleNames.RangeSelectionModule),validateRegistered("masterDetail",ModuleNames.MasterDetailModule)}checkColumnDefProperties(){if(null==this.gridOptions.columnDefs)return;const validProperties=ColDefUtil.ALL_PROPERTIES,validateColDef=(colDef,propertyName)=>{const userProperties=Object.getOwnPropertyNames(colDef);this.checkProperties(userProperties,[...validProperties,...VUE_FRAMEWORK_PROPS],validProperties,propertyName,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),colDef.children&&colDef.children.forEach((child=>validateColDef(child,"columnDefs.children")))};this.gridOptions.columnDefs.forEach((colDef=>validateColDef(colDef,"columnDefs"))),this.gridOptions.defaultColDef&&validateColDef(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var _a;const rowModel=null!==(_a=this.gridOptionsService.get("rowModelType"))&&void 0!==_a?_a:"clientSide",unsupportedProperties={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[rowModel];if(!unsupportedProperties)return;const isMultiSelect="multiple"===this.gridOptionsService.get("rowSelection"),multiSelectDependencies=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],validateColDef=colDef=>{isMultiSelect||multiSelectDependencies.forEach((property=>{property in colDef&&colDef[property]&&console.warn(`AG Grid: Column property ${property} is not supported unless rowSelection='multiple'.`)})),unsupportedProperties.forEach((property=>{property in colDef&&colDef[property]&&console.warn(`AG Grid: Column property ${property} is not supported with the row model type ${rowModel}.`)}))};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((colDef=>validateColDef(colDef))),null!=this.gridOptions.autoGroupColumnDef&&validateColDef(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&validateColDef(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const userProperties=Object.getOwnPropertyNames(this.gridOptions),validProperties=[...PropertyKeys.ALL_PROPERTIES,...ComponentUtil.EVENT_CALLBACKS],validPropertiesAndExceptions=[...validProperties,"api","columnApi",...VUE_FRAMEWORK_PROPS,...Object.keys(this.deprecatedProperties)];this.checkProperties(userProperties,validPropertiesAndExceptions,validProperties,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(userProperties,validPropertiesAndExceptions,validProperties,containerName,docsUrl){const invalidProperties=fuzzyCheckStrings(userProperties,validPropertiesAndExceptions,validProperties);iterateObject(invalidProperties,((key,value)=>{function_doOnce((()=>console.warn(`AG Grid: invalid ${containerName} property '${key}' did you mean any of these: ${value.slice(0,8).join(", ")}`)),"invalidProperty"+containerName+key)})),Object.keys(invalidProperties).length>0&&function_doOnce((()=>console.warn(`AG Grid: to see all the valid ${containerName} properties please check: ${docsUrl}`)),"invalidProperties"+containerName+docsUrl)}checkForDeprecated(){const options=this.gridOptions;Object.entries(this.deprecatedProperties).forEach((([oldProp,details])=>{var _a;const oldPropValue=options[oldProp];oldPropValue&&(logDeprecation(details.version,oldProp,details.newProp,details.message),details.copyToNewProp&&details.newProp&&null==options[details.newProp]&&(options[details.newProp]=null!==(_a=details.newPropValue)&&void 0!==_a?_a:oldPropValue))})),options.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),options.suppressServerSideInfiniteScroll="partial"!==options.serverSideStoreType)}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};function matchesGroupDisplayType(toMatch,supplied){const groupDisplayTypeValues=["groupRows","multipleColumns","custom","singleColumn"];return groupDisplayTypeValues.indexOf(supplied)<0?(console.warn(`AG Grid: '${supplied}' is not a valid groupDisplayType value - possible values are: '${groupDisplayTypeValues.join("', '")}'`),!1):supplied===toMatch}gridOptionsValidator_decorate([Autowired("gridOptions")],GridOptionsValidator.prototype,"gridOptions",void 0),gridOptionsValidator_decorate([Autowired("gridOptionsService")],GridOptionsValidator.prototype,"gridOptionsService",void 0),gridOptionsValidator_decorate([PostConstruct],GridOptionsValidator.prototype,"init",null),GridOptionsValidator=gridOptionsValidator_decorate([Bean("gridOptionsValidator")],GridOptionsValidator);var columnModel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},columnModel_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};let ColumnModel=class ColumnModel extends BeanStub{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const pivotMode=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(pivotMode)&&(this.pivotMode=pivotMode),this.addManagedPropertyListeners(["groupDisplayType","treeData"],(()=>this.buildAutoGroupColumns())),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.onAutoGroupColumnDefChanged())),this.addManagedPropertyListener("defaultColDef",(params=>this.onSharedColDefChanged(params.source))),this.addManagedPropertyListener("columnTypes",(params=>this.onSharedColDefChanged(params.source)))}buildAutoGroupColumns(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))}onAutoGroupColumnDefChanged(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)}onSharedColDefChanged(source="api"){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,source)}setColumnDefs(columnDefs,source="api"){const colsPreviouslyExisted=!!this.columnDefs;this.columnDefs=columnDefs,this.createColumnsFromColumnDefs(colsPreviouslyExisted,source)}recreateColumnDefs(source="api"){this.onSharedColDefChanged(source)}destroyOldColumns(oldTree,newTree){const oldObjectsById={};if(!oldTree)return;this.columnUtils.depthFirstOriginalTreeSearch(null,oldTree,(child=>{oldObjectsById[child.getInstanceId()]=child})),newTree&&this.columnUtils.depthFirstOriginalTreeSearch(null,newTree,(child=>{oldObjectsById[child.getInstanceId()]=null}));const colsToDestroy=Object.values(oldObjectsById).filter((item=>null!=item));this.destroyBeans(colsToDestroy)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(colsPreviouslyExisted,source="api"){const dispatchEventsFunc=colsPreviouslyExisted?this.compareColumnStatesAndDispatchEvents(source):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const oldPrimaryColumns=this.primaryColumns,oldPrimaryTree=this.primaryColumnTree,balancedTreeResult=this.columnFactory.createColumnTree(this.columnDefs,!0,oldPrimaryTree);this.destroyOldColumns(this.primaryColumnTree,balancedTreeResult.columnTree),this.primaryColumnTree=balancedTreeResult.columnTree,this.primaryHeaderRowCount=balancedTreeResult.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((col=>this.primaryColumnsMap[col.getId()]=col)),this.extractRowGroupColumns(source,oldPrimaryColumns),this.extractPivotColumns(source,oldPrimaryColumns),this.extractValueColumns(source,oldPrimaryColumns),this.ready=!0;const gridColsNotProcessed=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||gridColsNotProcessed||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),colsPreviouslyExisted&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(source),this.checkViewportColumns()),this.dispatchEverythingChanged(source),dispatchEventsFunc&&dispatchEventsFunc(),this.dispatchNewColumnsLoaded(source)}dispatchNewColumnsLoaded(source){const newColumnsLoadedEvent={type:Events.EVENT_NEW_COLUMNS_LOADED,source};this.eventService.dispatchEvent(newColumnsLoadedEvent)}dispatchEverythingChanged(source="api"){const eventEverythingChanged={type:Events.EVENT_COLUMN_EVERYTHING_CHANGED,source};this.eventService.dispatchEvent(eventEverythingChanged)}orderGridColumnsLikePrimary(){const primaryColumns=this.primaryColumns;if(!primaryColumns)return;const primaryColsOrdered=primaryColumns.filter((col=>this.gridColumns.indexOf(col)>=0)),otherCols=this.gridColumns.filter((col=>primaryColsOrdered.indexOf(col)<0));this.gridColumns=[...otherCols,...primaryColsOrdered],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(column){let currentColumn=column;const columns=[];for(;null!=currentColumn;)columns.push(currentColumn),currentColumn=this.getDisplayedColAfter(currentColumn);return columns}checkViewportColumns(afterScroll=!1){if(null==this.displayedColumnsCenter)return;if(!this.extractViewport())return;const event={type:Events.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll};this.eventService.dispatchEvent(event)}setViewportPosition(scrollWidth,scrollPosition,afterScroll=!1){(scrollWidth!==this.scrollWidth||scrollPosition!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=scrollWidth,this.scrollPosition=scrollPosition,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(afterScroll))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(pivot){return!pivot||!this.gridOptionsService.is("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(pivotMode,source="api"){if(pivotMode===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))return;this.pivotMode=pivotMode,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(source);const event={type:Events.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(event)}getSecondaryPivotColumn(pivotKeys,valueColKey){if(missing(this.secondaryColumns))return null;const valueColumnToFind=this.getPrimaryColumn(valueColKey);let foundColumn=null;return this.secondaryColumns.forEach((column=>{const thisPivotKeys=column.getColDef().pivotKeys,pivotValueColumn=column.getColDef().pivotValueColumn;areEqual(thisPivotKeys,pivotKeys)&&pivotValueColumn===valueColumnToFind&&(foundColumn=column)})),foundColumn}setBeans(loggerFactory){this.logger=loggerFactory.create("columnModel")}setFirstRightAndLastLeftPinned(source){let lastLeft,firstRight;this.gridOptionsService.is("enableRtl")?(lastLeft=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,firstRight=this.displayedColumnsRight?last(this.displayedColumnsRight):null):(lastLeft=this.displayedColumnsLeft?last(this.displayedColumnsLeft):null,firstRight=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((column=>{column.setLastLeftPinned(column===lastLeft,source),column.setFirstRightPinned(column===firstRight,source)}))}autoSizeColumns(params){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push((()=>this.autoSizeColumns(params)));const{columns,skipHeader,skipHeaderGroups,stopAtGroup,source="api"}=params;this.animationFrameService.flushAllFrames();const columnsAutosized=[];let changesThisTimeAround=-1;const shouldSkipHeader=null!=skipHeader?skipHeader:this.gridOptionsService.is("skipHeaderOnAutoSize"),shouldSkipHeaderGroups=null!=skipHeaderGroups?skipHeaderGroups:shouldSkipHeader;for(;0!==changesThisTimeAround;)changesThisTimeAround=0,this.actionOnGridColumns(columns,(column=>{if(columnsAutosized.indexOf(column)>=0)return!1;const preferredWidth=this.autoWidthCalculator.getPreferredWidthForColumn(column,shouldSkipHeader);if(preferredWidth>0){const newWidth=this.normaliseColumnWidth(column,preferredWidth);column.setActualWidth(newWidth,source),columnsAutosized.push(column),changesThisTimeAround++}return!0}),source);shouldSkipHeaderGroups||this.autoSizeColumnGroupsByColumns(columns,source,stopAtGroup),this.dispatchColumnResizedEvent(columnsAutosized,!0,"autosizeColumns")}dispatchColumnResizedEvent(columns,finished,source,flexColumns=null){if(columns&&columns.length){const event={type:Events.EVENT_COLUMN_RESIZED,columns,column:1===columns.length?columns[0]:null,flexColumns,finished,source};this.eventService.dispatchEvent(event)}}dispatchColumnChangedEvent(type,columns,source){const event={type,columns,column:columns&&1==columns.length?columns[0]:null,source};this.eventService.dispatchEvent(event)}dispatchColumnMovedEvent(params){const{movedColumns,source,toIndex,finished}=params,event={type:Events.EVENT_COLUMN_MOVED,columns:movedColumns,column:movedColumns&&1===movedColumns.length?movedColumns[0]:null,toIndex,finished,source};this.eventService.dispatchEvent(event)}dispatchColumnPinnedEvent(changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,pinned=this.getCommonValue(changedColumns,(col=>col.getPinned())),event={type:Events.EVENT_COLUMN_PINNED,pinned:null!=pinned?pinned:null,columns:changedColumns,column,source};this.eventService.dispatchEvent(event)}dispatchColumnVisibleEvent(changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,visible=this.getCommonValue(changedColumns,(col=>col.isVisible())),event={type:Events.EVENT_COLUMN_VISIBLE,visible,columns:changedColumns,column,source};this.eventService.dispatchEvent(event)}autoSizeColumn(key,skipHeader,source="api"){key&&this.autoSizeColumns({columns:[key],skipHeader,skipHeaderGroups:!0,source})}autoSizeColumnGroupsByColumns(keys,source,stopAtGroup){const columnGroups=new Set;let headerGroupCtrl;this.getGridColumns(keys).forEach((col=>{let parent=col.getParent();for(;parent&&parent!=stopAtGroup;)parent.isPadding()||columnGroups.add(parent),parent=parent.getParent()}));for(const columnGroup of columnGroups){for(const headerContainerCtrl of this.ctrlsService.getHeaderRowContainerCtrls())if(headerGroupCtrl=headerContainerCtrl.getHeaderCtrlForColumn(columnGroup),headerGroupCtrl)break;headerGroupCtrl&&headerGroupCtrl.resizeLeafColumnsToFit(source)}return[]}autoSizeAllColumns(skipHeader,source="api"){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push((()=>this.autoSizeAllColumns(skipHeader,source)));const allDisplayedColumns=this.getAllDisplayedColumns();this.autoSizeColumns({columns:allDisplayedColumns,skipHeader,source})}getColumnsFromTree(rootColumns){const result=[],recursiveFindColumns=childColumns=>{for(let i=0;i<childColumns.length;i++){const child=childColumns[i];child instanceof Column?result.push(child):child instanceof ProvidedColumnGroup&&recursiveFindColumns(child.getChildren())}};return recursiveFindColumns(rootColumns),result}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(column){return this.getAllDisplayedColumns().indexOf(column)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(rowNode){return this.colSpanActive?this.getDisplayedColumnsForRow(rowNode,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(rowNode){return this.colSpanActive?this.getDisplayedColumnsForRow(rowNode,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(rowNode,displayedColumns,filterCallback,emptySpaceBeforeColumn){const result=[];let lastConsideredCol=null;for(let i=0;i<displayedColumns.length;i++){const col=displayedColumns[i],maxAllowedColSpan=displayedColumns.length-i,colSpan=Math.min(col.getColSpan(rowNode),maxAllowedColSpan),columnsToCheckFilter=[col];if(colSpan>1){const colsToRemove=colSpan-1;for(let j=1;j<=colsToRemove;j++)columnsToCheckFilter.push(displayedColumns[i+j]);i+=colsToRemove}let filterPasses;if(filterCallback?(filterPasses=!1,columnsToCheckFilter.forEach((colForFilter=>{filterCallback(colForFilter)&&(filterPasses=!0)}))):filterPasses=!0,filterPasses){if(0===result.length&&lastConsideredCol){!!emptySpaceBeforeColumn&&emptySpaceBeforeColumn(col)&&result.push(lastConsideredCol)}result.push(col)}lastConsideredCol=col}return result}getViewportCenterColumnsForRow(rowNode){if(!this.colSpanActive)return this.viewportColumnsCenter;const filterCallback=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(rowNode,this.displayedColumnsCenter,filterCallback,(col=>{const left=col.getLeft();return exists(left)&&left>this.viewportLeft}))}getAriaColumnIndex(col){return this.getAllGridColumns().indexOf(col)+1}isColumnInHeaderViewport(col){return!!col.isAutoHeaderHeight()||this.isColumnInRowViewport(col)}isColumnInRowViewport(col){if(col.isAutoHeight())return!0;const columnLeft=col.getLeft()||0,columnRight=columnLeft+col.getActualWidth(),leftBounds=this.viewportLeft-200,rightBounds=this.viewportRight+200;return!(columnLeft<leftBounds&&columnRight<leftBounds)&&!(columnLeft>rightBounds&&columnRight>rightBounds)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(keys,masterList,actionIsAdd,columnCallback,eventType,source="api"){if(!keys||missingOrEmpty(keys))return;let atLeastOne=!1;if(keys.forEach((key=>{const columnToAdd=this.getPrimaryColumn(key);if(columnToAdd){if(actionIsAdd){if(masterList.indexOf(columnToAdd)>=0)return;masterList.push(columnToAdd)}else{if(masterList.indexOf(columnToAdd)<0)return;removeFromArray(masterList,columnToAdd)}columnCallback(columnToAdd),atLeastOne=!0}})),!atLeastOne)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(source);const event={type:eventType,columns:masterList,column:1===masterList.length?masterList[0]:null,source};this.eventService.dispatchEvent(event)}setRowGroupColumns(colKeys,source="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(colKeys,this.rowGroupColumns,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),source)}setRowGroupActive(active,column,source){active!==column.isRowGroupActive()&&(column.setRowGroupActive(active,source),active&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(column,!1,source),active||this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(column,!0,source))}addRowGroupColumn(key,source="api"){key&&this.addRowGroupColumns([key],source)}addRowGroupColumns(keys,source="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(keys,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,source)}removeRowGroupColumns(keys,source="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(keys,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Events.EVENT_COLUMN_ROW_GROUP_CHANGED,source)}removeRowGroupColumn(key,source="api"){key&&this.removeRowGroupColumns([key],source)}addPivotColumns(keys,source="api"){this.updatePrimaryColumnList(keys,this.pivotColumns,!0,(column=>column.setPivotActive(!0,source)),Events.EVENT_COLUMN_PIVOT_CHANGED,source)}setPivotColumns(colKeys,source="api"){this.setPrimaryColumnList(colKeys,this.pivotColumns,Events.EVENT_COLUMN_PIVOT_CHANGED,!0,((added,column)=>{column.setPivotActive(added,source)}),source)}addPivotColumn(key,source="api"){this.addPivotColumns([key],source)}removePivotColumns(keys,source="api"){this.updatePrimaryColumnList(keys,this.pivotColumns,!1,(column=>column.setPivotActive(!1,source)),Events.EVENT_COLUMN_PIVOT_CHANGED,source)}removePivotColumn(key,source="api"){this.removePivotColumns([key],source)}setPrimaryColumnList(colKeys,masterList,eventName,detectOrderChange,columnCallback,source){const changes=new Map;masterList.forEach(((col,idx)=>changes.set(col,idx))),masterList.length=0,exists(colKeys)&&colKeys.forEach((key=>{const column=this.getPrimaryColumn(key);column&&masterList.push(column)})),masterList.forEach(((col,idx)=>{const oldIndex=changes.get(col);void 0!==oldIndex?detectOrderChange&&oldIndex!==idx||changes.delete(col):changes.set(col,0)})),(this.primaryColumns||[]).forEach((column=>{const added=masterList.indexOf(column)>=0;columnCallback(added,column)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(source),this.dispatchColumnChangedEvent(eventName,[...changes.keys()],source)}setValueColumns(colKeys,source="api"){this.setPrimaryColumnList(colKeys,this.valueColumns,Events.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),source)}setValueActive(active,column,source){if(active!==column.isValueActive()&&(column.setValueActive(active,source),active&&!column.getAggFunc())){const initialAggFunc=this.aggFuncService.getDefaultAggFunc(column);column.setAggFunc(initialAggFunc)}}addValueColumns(keys,source="api"){this.updatePrimaryColumnList(keys,this.valueColumns,!0,this.setValueActive.bind(this,!0),Events.EVENT_COLUMN_VALUE_CHANGED,source)}addValueColumn(colKey,source="api"){colKey&&this.addValueColumns([colKey],source)}removeValueColumn(colKey,source="api"){this.removeValueColumns([colKey],source)}removeValueColumns(keys,source="api"){this.updatePrimaryColumnList(keys,this.valueColumns,!1,this.setValueActive.bind(this,!1),Events.EVENT_COLUMN_VALUE_CHANGED,source)}normaliseColumnWidth(column,newWidth){const minWidth=column.getMinWidth();exists(minWidth)&&newWidth<minWidth&&(newWidth=minWidth);const maxWidth=column.getMaxWidth();return exists(maxWidth)&&column.isGreaterThanMax(newWidth)&&(newWidth=maxWidth),newWidth}getPrimaryOrGridColumn(key){return this.getPrimaryColumn(key)||this.getGridColumn(key)}setColumnWidths(columnWidths,shiftKey,finished,source="api"){const sets=[];columnWidths.forEach((columnWidth=>{const col=this.getPrimaryOrGridColumn(columnWidth.key);if(!col)return;sets.push({width:columnWidth.newWidth,ratios:[1],columns:[col]});if("shift"===this.gridOptionsService.get("colResizeDefault")&&(shiftKey=!shiftKey),shiftKey){const otherCol=this.getDisplayedColAfter(col);if(!otherCol)return;const widthDiff=col.getActualWidth()-columnWidth.newWidth,otherColWidth=otherCol.getActualWidth()+widthDiff;sets.push({width:otherColWidth,ratios:[1],columns:[otherCol]})}})),0!==sets.length&&this.resizeColumnSets({resizeSets:sets,finished,source})}checkMinAndMaxWidthsForSet(columnResizeSet){const{columns,width}=columnResizeSet;let minWidthAccumulated=0,maxWidthAccumulated=0,maxWidthActive=!0;columns.forEach((col=>{const minWidth=col.getMinWidth();minWidthAccumulated+=minWidth||0;const maxWidth=col.getMaxWidth();exists(maxWidth)&&maxWidth>0?maxWidthAccumulated+=maxWidth:maxWidthActive=!1}));return width>=minWidthAccumulated&&(!maxWidthActive||width<=maxWidthAccumulated)}resizeColumnSets(params){const{resizeSets,finished,source}=params;if(!(!resizeSets||resizeSets.every((columnResizeSet=>this.checkMinAndMaxWidthsForSet(columnResizeSet))))){if(finished){const columns=resizeSets&&resizeSets.length>0?resizeSets[0].columns:null;this.dispatchColumnResizedEvent(columns,finished,source)}return}const changedCols=[],allResizedCols=[];resizeSets.forEach((set=>{const{width,columns,ratios}=set,newWidths={},finishedCols={};columns.forEach((col=>allResizedCols.push(col)));let finishedColsGrew=!0,loopCount=0;for(;finishedColsGrew;){if(loopCount++,loopCount>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}finishedColsGrew=!1;const subsetCols=[];let subsetRatioTotal=0,pixelsToDistribute=width;columns.forEach(((col,index)=>{if(finishedCols[col.getId()])pixelsToDistribute-=newWidths[col.getId()];else{subsetCols.push(col);const ratioThisCol=ratios[index];subsetRatioTotal+=ratioThisCol}}));const ratioScale=1/subsetRatioTotal;subsetCols.forEach(((col,index)=>{let colNewWidth;index===subsetCols.length-1?colNewWidth=pixelsToDistribute:(colNewWidth=Math.round(ratios[index]*width*ratioScale),pixelsToDistribute-=colNewWidth);const minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();exists(minWidth)&&colNewWidth<minWidth?(colNewWidth=minWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0):exists(maxWidth)&&maxWidth>0&&colNewWidth>maxWidth&&(colNewWidth=maxWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0),newWidths[col.getId()]=colNewWidth}))}columns.forEach((col=>{const newWidth=newWidths[col.getId()];col.getActualWidth()!==newWidth&&(col.setActualWidth(newWidth,source),changedCols.push(col))}))}));const atLeastOneColChanged=changedCols.length>0;let flexedCols=[];atLeastOneColChanged&&(flexedCols=this.refreshFlexedColumns({resizingCols:allResizedCols,skipSetLeft:!0}),this.setLeftValues(source),this.updateBodyWidths(),this.checkViewportColumns());const colsForEvent=allResizedCols.concat(flexedCols);(atLeastOneColChanged||finished)&&this.dispatchColumnResizedEvent(colsForEvent,finished,source,flexedCols)}setColumnAggFunc(key,aggFunc,source="api"){if(!key)return;const column=this.getPrimaryColumn(key);column&&(column.setAggFunc(aggFunc),this.dispatchColumnChangedEvent(Events.EVENT_COLUMN_VALUE_CHANGED,[column],source))}moveRowGroupColumn(fromIndex,toIndex,source="api"){const column=this.rowGroupColumns[fromIndex],impactedColumns=this.rowGroupColumns.slice(fromIndex,toIndex);this.rowGroupColumns.splice(fromIndex,1),this.rowGroupColumns.splice(toIndex,0,column);const event={type:Events.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:impactedColumns,column:1===impactedColumns.length?impactedColumns[0]:null,source};this.eventService.dispatchEvent(event)}moveColumns(columnsToMoveKeys,toIndex,source="api",finished=!0){if(this.columnAnimationService.start(),toIndex>this.gridColumns.length-columnsToMoveKeys.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+toIndex),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const movedColumns=this.getGridColumns(columnsToMoveKeys);!this.doesMovePassRules(movedColumns,toIndex)||(moveInArray(this.gridColumns,movedColumns,toIndex),this.updateDisplayedColumns(source),this.dispatchColumnMovedEvent({movedColumns,source,toIndex,finished}),this.columnAnimationService.finish())}doesMovePassRules(columnsToMove,toIndex){const proposedColumnOrder=this.getProposedColumnOrder(columnsToMove,toIndex);return this.doesOrderPassRules(proposedColumnOrder)}doesOrderPassRules(gridOrder){return!!this.doesMovePassMarryChildren(gridOrder)&&!!this.doesMovePassLockedPositions(gridOrder)}getProposedColumnOrder(columnsToMove,toIndex){const proposedColumnOrder=this.gridColumns.slice();return moveInArray(proposedColumnOrder,columnsToMove,toIndex),proposedColumnOrder}sortColumnsLikeGridColumns(cols){if(!cols||cols.length<=1)return;cols.filter((c=>this.gridColumns.indexOf(c)<0)).length>0||cols.sort(((a,b)=>this.gridColumns.indexOf(a)-this.gridColumns.indexOf(b)))}doesMovePassLockedPositions(proposedColumnOrder){let lastPlacement=0,rulePassed=!0;return proposedColumnOrder.forEach((col=>{const placement=(position=col.getColDef().lockPosition)?!0===position||"left"===position?0:2:1;var position;placement<lastPlacement&&(rulePassed=!1),lastPlacement=placement})),rulePassed}doesMovePassMarryChildren(allColumnsCopy){let rulePassed=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(child=>{if(!(child instanceof ProvidedColumnGroup))return;const columnGroup=child,colGroupDef=columnGroup.getColGroupDef();if(!(colGroupDef&&colGroupDef.marryChildren))return;const newIndexes=[];columnGroup.getLeafColumns().forEach((col=>{const newColIndex=allColumnsCopy.indexOf(col);newIndexes.push(newColIndex)}));Math.max.apply(Math,newIndexes)-Math.min.apply(Math,newIndexes)>columnGroup.getLeafColumns().length-1&&(rulePassed=!1)})),rulePassed}moveColumn(key,toIndex,source="api"){this.moveColumns([key],toIndex,source)}moveColumnByIndex(fromIndex,toIndex,source="api"){const column=this.gridColumns[fromIndex];this.moveColumn(column,toIndex,source)}getColumnDefs(){if(!this.primaryColumns)return;const cols=this.primaryColumns.slice();return this.gridColsArePrimary?cols.sort(((a,b)=>this.gridColumns.indexOf(a)-this.gridColumns.indexOf(b))):this.lastPrimaryOrder&&cols.sort(((a,b)=>this.lastPrimaryOrder.indexOf(a)-this.lastPrimaryOrder.indexOf(b))),this.columnDefFactory.buildColumnDefs(cols,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(pinned){switch(pinned){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const newBodyWidth=this.getWidthOfColsInList(this.displayedColumnsCenter),newLeftWidth=this.getWidthOfColsInList(this.displayedColumnsLeft),newRightWidth=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==newBodyWidth;if(this.bodyWidth!==newBodyWidth||this.leftWidth!==newLeftWidth||this.rightWidth!==newRightWidth){this.bodyWidth=newBodyWidth,this.leftWidth=newLeftWidth,this.rightWidth=newRightWidth;const event={type:Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(event)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(type){switch(type){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return missingOrEmpty(this.gridColumns)}isRowGroupEmpty(){return missingOrEmpty(this.rowGroupColumns)}setColumnVisible(key,visible,source="api"){this.setColumnsVisible([key],visible,source)}setColumnsVisible(keys,visible=!1,source="api"){this.applyColumnState({state:keys.map((key=>({colId:"string"==typeof key?key:key.getColId(),hide:!visible})))},source)}setColumnPinned(key,pinned,source="api"){key&&this.setColumnsPinned([key],pinned,source)}setColumnsPinned(keys,pinned,source="api"){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let actualPinned;this.columnAnimationService.start(),actualPinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null,this.actionOnGridColumns(keys,(col=>col.getPinned()!==actualPinned&&(col.setPinned(actualPinned),!0)),source,(()=>({type:Events.EVENT_COLUMN_PINNED,pinned:actualPinned,column:null,columns:null,source}))),this.columnAnimationService.finish()}actionOnGridColumns(keys,action,source,createEvent){if(missingOrEmpty(keys))return;const updatedColumns=[];if(keys.forEach((key=>{const column=this.getGridColumn(key);if(!column)return;!1!==action(column)&&updatedColumns.push(column)})),updatedColumns.length&&(this.updateDisplayedColumns(source),exists(createEvent)&&createEvent)){const event=createEvent();event.columns=updatedColumns,event.column=1===updatedColumns.length?updatedColumns[0]:null,this.eventService.dispatchEvent(event)}}getDisplayedColBefore(col){const allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex>0?allDisplayedColumns[oldIndex-1]:null}getDisplayedColAfter(col){const allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null}getDisplayedGroupAfter(columnGroup){return this.getDisplayedGroupAtDirection(columnGroup,"After")}getDisplayedGroupBefore(columnGroup){return this.getDisplayedGroupAtDirection(columnGroup,"Before")}getDisplayedGroupAtDirection(columnGroup,direction){const requiredLevel=columnGroup.getProvidedColumnGroup().getLevel()+columnGroup.getPaddingLevel(),colGroupLeafColumns=columnGroup.getDisplayedLeafColumns(),col="After"===direction?last(colGroupLeafColumns):colGroupLeafColumns[0],getDisplayColMethod=`getDisplayedCol${direction}`;for(;;){const column=this[getDisplayColMethod](col);if(!column)return null;const groupPointer=this.getColumnGroupAtLevel(column,requiredLevel);if(groupPointer!==columnGroup)return groupPointer}}getColumnGroupAtLevel(column,level){let originalGroupLevel,groupPointerLevel,groupPointer=column.getParent();for(;;){if(originalGroupLevel=groupPointer.getProvidedColumnGroup().getLevel(),groupPointerLevel=groupPointer.getPaddingLevel(),originalGroupLevel+groupPointerLevel<=level)break;groupPointer=groupPointer.getParent()}return groupPointer}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(column){const rowGroupIndex=column.isRowGroupActive()?this.rowGroupColumns.indexOf(column):null,pivotIndex=column.isPivotActive()?this.pivotColumns.indexOf(column):null,aggFunc=column.isValueActive()?column.getAggFunc():null,sort=null!=column.getSort()?column.getSort():null,sortIndex=null!=column.getSortIndex()?column.getSortIndex():null,flex=null!=column.getFlex()&&column.getFlex()>0?column.getFlex():null;return{colId:column.getColId(),width:column.getActualWidth(),hide:!column.isVisible(),pinned:column.getPinned(),sort,sortIndex,aggFunc,rowGroup:column.isRowGroupActive(),rowGroupIndex,pivot:column.isPivotActive(),pivotIndex,flex}}getColumnState(){if(missing(this.primaryColumns)||!this.isAlive())return[];const res=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(res),res}orderColumnStateList(columnStateList){const colIdToGridIndexMap=convertToMap(this.gridColumns.map(((col,index)=>[col.getColId(),index])));columnStateList.sort(((itemA,itemB)=>(colIdToGridIndexMap.has(itemA.colId)?colIdToGridIndexMap.get(itemA.colId):-1)-(colIdToGridIndexMap.has(itemB.colId)?colIdToGridIndexMap.get(itemB.colId):-1)))}resetColumnState(source="api"){const primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),columnStates=[];let letRowGroupIndex=1e3,letPivotIndex=1e3,colsToProcess=[];this.groupAutoColumns&&(colsToProcess=colsToProcess.concat(this.groupAutoColumns)),primaryColumns&&(colsToProcess=colsToProcess.concat(primaryColumns)),colsToProcess.forEach((column=>{const stateItem=this.getColumnStateFromColDef(column);missing(stateItem.rowGroupIndex)&&stateItem.rowGroup&&(stateItem.rowGroupIndex=letRowGroupIndex++),missing(stateItem.pivotIndex)&&stateItem.pivot&&(stateItem.pivotIndex=letPivotIndex++),columnStates.push(stateItem)})),this.applyColumnState({state:columnStates,applyOrder:!0},source)}getColumnStateFromColDef(column){const getValueOrNull=(a,b)=>null!=a?a:null!=b?b:null,colDef=column.getColDef(),sort=getValueOrNull(colDef.sort,colDef.initialSort),sortIndex=getValueOrNull(colDef.sortIndex,colDef.initialSortIndex),hide=getValueOrNull(colDef.hide,colDef.initialHide),pinned=getValueOrNull(colDef.pinned,colDef.initialPinned),width=getValueOrNull(colDef.width,colDef.initialWidth),flex=getValueOrNull(colDef.flex,colDef.initialFlex);let rowGroupIndex=getValueOrNull(colDef.rowGroupIndex,colDef.initialRowGroupIndex),rowGroup=getValueOrNull(colDef.rowGroup,colDef.initialRowGroup);null!=rowGroupIndex||null!=rowGroup&&0!=rowGroup||(rowGroupIndex=null,rowGroup=null);let pivotIndex=getValueOrNull(colDef.pivotIndex,colDef.initialPivotIndex),pivot=getValueOrNull(colDef.pivot,colDef.initialPivot);null!=pivotIndex||null!=pivot&&0!=pivot||(pivotIndex=null,pivot=null);const aggFunc=getValueOrNull(colDef.aggFunc,colDef.initialAggFunc);return{colId:column.getColId(),sort,sortIndex,hide,pinned,width,flex,rowGroup,rowGroupIndex,pivot,pivotIndex,aggFunc}}applyColumnState(params,source){if(missingOrEmpty(this.primaryColumns))return!1;if(params&&params.state&&!params.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const applyStates=(states,existingColumns,getById)=>{const dispatchEventsFunc=this.compareColumnStatesAndDispatchEvents(source);this.autoGroupsNeedBuilding=!0;const columnsWithNoState=existingColumns.slice(),rowGroupIndexes={},pivotIndexes={},autoGroupColumnStates=[],unmatchedAndAutoStates=[];let unmatchedCount=0;const previousRowGroupCols=this.rowGroupColumns.slice(),previousPivotCols=this.pivotColumns.slice();states.forEach((state=>{const colId=state.colId||"";if(colId.startsWith("ag-Grid-AutoColumn"))return autoGroupColumnStates.push(state),void unmatchedAndAutoStates.push(state);const column=getById(colId);column?(this.syncColumnWithStateItem(column,state,params.defaultState,rowGroupIndexes,pivotIndexes,!1,source),removeFromArray(columnsWithNoState,column)):(unmatchedAndAutoStates.push(state),unmatchedCount+=1)}));const applyDefaultsFunc=col=>this.syncColumnWithStateItem(col,null,params.defaultState,rowGroupIndexes,pivotIndexes,!1,source);columnsWithNoState.forEach(applyDefaultsFunc);const comparator=(indexes,oldList,colA,colB)=>{const indexA=indexes[colA.getId()],indexB=indexes[colB.getId()],aHasIndex=null!=indexA,bHasIndex=null!=indexB;if(aHasIndex&&bHasIndex)return indexA-indexB;if(aHasIndex)return-1;if(bHasIndex)return 1;const oldIndexA=oldList.indexOf(colA),oldIndexB=oldList.indexOf(colB),aHasOldIndex=oldIndexA>=0;return aHasOldIndex&&oldIndexB>=0?oldIndexA-oldIndexB:aHasOldIndex?-1:1};this.rowGroupColumns.sort(comparator.bind(this,rowGroupIndexes,previousRowGroupCols)),this.pivotColumns.sort(comparator.bind(this,pivotIndexes,previousPivotCols)),this.updateGridColumns();const autoGroupColsCopy=this.groupAutoColumns?this.groupAutoColumns.slice():[];return autoGroupColumnStates.forEach((stateItem=>{const autoCol=this.getAutoColumn(stateItem.colId);removeFromArray(autoGroupColsCopy,autoCol),this.syncColumnWithStateItem(autoCol,stateItem,params.defaultState,null,null,!0,source)})),autoGroupColsCopy.forEach(applyDefaultsFunc),this.applyOrderAfterApplyState(params),this.updateDisplayedColumns(source),this.dispatchEverythingChanged(source),dispatchEventsFunc(),{unmatchedAndAutoStates,unmatchedCount}};this.columnAnimationService.start();let{unmatchedAndAutoStates,unmatchedCount}=applyStates(params.state||[],this.primaryColumns||[],(id=>this.getPrimaryColumn(id)));return(unmatchedAndAutoStates.length>0||exists(params.defaultState))&&(unmatchedCount=applyStates(unmatchedAndAutoStates,this.secondaryColumns||[],(id=>this.getSecondaryColumn(id))).unmatchedCount),this.columnAnimationService.finish(),0===unmatchedCount}applyOrderAfterApplyState(params){if(!params.applyOrder||!params.state)return;let newOrder=[];const processedColIds={};params.state.forEach((item=>{if(!item.colId||processedColIds[item.colId])return;const col=this.gridColumnsMap[item.colId];col&&(newOrder.push(col),processedColIds[item.colId]=!0)}));let autoGroupInsertIndex=0;this.gridColumns.forEach((col=>{const colId=col.getColId();if(null!=processedColIds[colId])return;colId.startsWith("ag-Grid-AutoColumn")?insertIntoArray(newOrder,col,autoGroupInsertIndex++):newOrder.push(col)})),newOrder=this.placeLockedColumns(newOrder),this.doesMovePassMarryChildren(newOrder)?this.gridColumns=newOrder:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(source){const startState={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},columnStateBefore=this.getColumnState(),columnStateBeforeMap={};return columnStateBefore.forEach((col=>{columnStateBeforeMap[col.colId]=col})),()=>{const colsForState=this.getPrimaryAndSecondaryAndAutoColumns(),dispatchWhenListsDifferent=(eventType,colsBefore,colsAfter,idMapper)=>{if(areEqual(colsBefore.map(idMapper),colsAfter.map(idMapper)))return;const changes=new Set(colsBefore);colsAfter.forEach((id=>{changes.delete(id)||changes.add(id)}));const changesArr=[...changes],event={type:eventType,columns:changesArr,column:1===changesArr.length?changesArr[0]:null,source};this.eventService.dispatchEvent(event)},getChangedColumns=changedPredicate=>{const changedColumns=[];return colsForState.forEach((column=>{const colStateBefore=columnStateBeforeMap[column.getColId()];colStateBefore&&changedPredicate(colStateBefore,column)&&changedColumns.push(column)})),changedColumns},columnIdMapper=c=>c.getColId();dispatchWhenListsDifferent(Events.EVENT_COLUMN_ROW_GROUP_CHANGED,startState.rowGroupColumns,this.rowGroupColumns,columnIdMapper),dispatchWhenListsDifferent(Events.EVENT_COLUMN_PIVOT_CHANGED,startState.pivotColumns,this.pivotColumns,columnIdMapper);const changedValues=getChangedColumns(((cs,c)=>{const oldActive=null!=cs.aggFunc,activeChanged=oldActive!=c.isValueActive(),aggFuncChanged=oldActive&&cs.aggFunc!=c.getAggFunc();return activeChanged||aggFuncChanged}));changedValues.length>0&&this.dispatchColumnChangedEvent(Events.EVENT_COLUMN_VALUE_CHANGED,changedValues,source);this.dispatchColumnResizedEvent(getChangedColumns(((cs,c)=>cs.width!=c.getActualWidth())),!0,source);this.dispatchColumnPinnedEvent(getChangedColumns(((cs,c)=>cs.pinned!=c.getPinned())),source);this.dispatchColumnVisibleEvent(getChangedColumns(((cs,c)=>cs.hide==c.isVisible())),source);getChangedColumns(((cs,c)=>cs.sort!=c.getSort()||cs.sortIndex!=c.getSortIndex())).length>0&&this.sortController.dispatchSortChangedEvents(source),this.normaliseColumnMovedEventForColumnState(columnStateBefore,source)}}getCommonValue(cols,valueGetter){if(!cols||0==cols.length)return;const firstValue=valueGetter(cols[0]);for(let i=1;i<cols.length;i++)if(firstValue!==valueGetter(cols[i]))return;return firstValue}normaliseColumnMovedEventForColumnState(colStateBefore,source){const colStateAfter=this.getColumnState(),colStateAfterMapped={};colStateAfter.forEach((s=>colStateAfterMapped[s.colId]=s));const colsIntersectIds={};colStateBefore.forEach((s=>{colStateAfterMapped[s.colId]&&(colsIntersectIds[s.colId]=!0)}));const beforeFiltered=colStateBefore.filter((c=>colsIntersectIds[c.colId])),afterFiltered=colStateAfter.filter((c=>colsIntersectIds[c.colId])),movedColumns=[];afterFiltered.forEach(((csAfter,index)=>{const csBefore=beforeFiltered&&beforeFiltered[index];if(csBefore&&csBefore.colId!==csAfter.colId){const gridCol=this.getGridColumn(csBefore.colId);gridCol&&movedColumns.push(gridCol)}})),movedColumns.length&&this.dispatchColumnMovedEvent({movedColumns,source,finished:!0})}syncColumnWithStateItem(column,stateItem,defaultState,rowGroupIndexes,pivotIndexes,autoCol,source){if(!column)return;const getValue=(key1,key2)=>{const obj={value1:void 0,value2:void 0};let calculated=!1;return stateItem&&(void 0!==stateItem[key1]&&(obj.value1=stateItem[key1],calculated=!0),exists(key2)&&void 0!==stateItem[key2]&&(obj.value2=stateItem[key2],calculated=!0)),!calculated&&defaultState&&(void 0!==defaultState[key1]&&(obj.value1=defaultState[key1]),exists(key2)&&void 0!==defaultState[key2]&&(obj.value2=defaultState[key2])),obj},hide=getValue("hide").value1;void 0!==hide&&column.setVisible(!hide,source);const pinned=getValue("pinned").value1;void 0!==pinned&&column.setPinned(pinned);const minColWidth=this.columnUtils.calculateColMinWidth(column.getColDef()),flex=getValue("flex").value1;void 0!==flex&&column.setFlex(flex);if(column.getFlex()<=0){const width=getValue("width").value1;null!=width&&null!=minColWidth&&width>=minColWidth&&column.setActualWidth(width,source)}const sort=getValue("sort").value1;void 0!==sort&&("desc"===sort||"asc"===sort?column.setSort(sort,source):column.setSort(void 0,source));const sortIndex=getValue("sortIndex").value1;if(void 0!==sortIndex&&column.setSortIndex(sortIndex),autoCol||!column.isPrimary())return;const aggFunc=getValue("aggFunc").value1;void 0!==aggFunc&&("string"==typeof aggFunc?(column.setAggFunc(aggFunc),column.isValueActive()||(column.setValueActive(!0,source),this.valueColumns.push(column))):(exists(aggFunc)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),column.isValueActive()&&(column.setValueActive(!1,source),removeFromArray(this.valueColumns,column))));const{value1:rowGroup,value2:rowGroupIndex}=getValue("rowGroup","rowGroupIndex");void 0===rowGroup&&void 0===rowGroupIndex||("number"==typeof rowGroupIndex||rowGroup?(column.isRowGroupActive()||(column.setRowGroupActive(!0,source),this.rowGroupColumns.push(column)),rowGroupIndexes&&"number"==typeof rowGroupIndex&&(rowGroupIndexes[column.getId()]=rowGroupIndex)):column.isRowGroupActive()&&(column.setRowGroupActive(!1,source),removeFromArray(this.rowGroupColumns,column)));const{value1:pivot,value2:pivotIndex}=getValue("pivot","pivotIndex");void 0===pivot&&void 0===pivotIndex||("number"==typeof pivotIndex||pivot?(column.isPivotActive()||(column.setPivotActive(!0,source),this.pivotColumns.push(column)),pivotIndexes&&"number"==typeof pivotIndex&&(pivotIndexes[column.getId()]=pivotIndex)):column.isPivotActive()&&(column.setPivotActive(!1,source),removeFromArray(this.pivotColumns,column)))}getGridColumns(keys){return this.getColumns(keys,this.getGridColumn.bind(this))}getColumns(keys,columnLookupCallback){const foundColumns=[];return keys&&keys.forEach((key=>{const column=columnLookupCallback(key);column&&foundColumns.push(column)})),foundColumns}getColumnWithValidation(key){if(null==key)return null;const column=this.getGridColumn(key);return column||console.warn("AG Grid: could not find column "+key),column}getPrimaryColumn(key){return this.primaryColumns?this.getColumn(key,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(key){return this.getColumn(key,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(key){return this.gridColumnsMap[key]}getSecondaryColumn(key){return this.secondaryColumns?this.getColumn(key,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(key,columnList,columnMap){if(!key)return null;if("string"==typeof key&&columnMap[key])return columnMap[key];for(let i=0;i<columnList.length;i++)if(this.columnsMatch(columnList[i],key))return columnList[i];return this.getAutoColumn(key)}getSourceColumnsForGroupColumn(groupCol){const sourceColumnId=groupCol.getColDef().showRowGroup;if(!sourceColumnId)return null;if(!0===sourceColumnId)return this.rowGroupColumns.slice(0);const column=this.getPrimaryColumn(sourceColumnId);return column?[column]:null}getAutoColumn(key){return this.groupAutoColumns&&exists(this.groupAutoColumns)&&!missing(this.groupAutoColumns)&&this.groupAutoColumns.find((groupCol=>this.columnsMatch(groupCol,key)))||null}columnsMatch(column,key){const columnMatches=column===key,colDefMatches=column.getColDef()===key,idMatches=column.getColId()==key;return columnMatches||colDefMatches||idMatches}getDisplayNameForColumn(column,location,includeAggFunc=!1){if(!column)return null;const headerName=this.getHeaderName(column.getColDef(),column,null,null,location);return includeAggFunc?this.wrapHeaderNameWithAggFunc(column,headerName):headerName}getDisplayNameForProvidedColumnGroup(columnGroup,providedColumnGroup,location){const colGroupDef=providedColumnGroup?providedColumnGroup.getColGroupDef():null;return colGroupDef?this.getHeaderName(colGroupDef,null,columnGroup,providedColumnGroup,location):null}getDisplayNameForColumnGroup(columnGroup,location){return this.getDisplayNameForProvidedColumnGroup(columnGroup,columnGroup.getProvidedColumnGroup(),location)}getHeaderName(colDef,column,columnGroup,providedColumnGroup,location){const headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){const params={colDef,column,columnGroup,providedColumnGroup,location,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof headerValueGetter?headerValueGetter(params):"string"==typeof headerValueGetter?this.expressionService.evaluate(headerValueGetter,params):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=colDef.headerName?colDef.headerName:colDef.field?camelCaseToHumanText(colDef.field):""}wrapHeaderNameWithAggFunc(column,headerName){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return headerName;const pivotValueColumn=column.getColDef().pivotValueColumn;let aggFuncFound,aggFunc=null;if(exists(pivotValueColumn)){const isCollapsedHeaderEnabled=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,isTotalColumn=void 0!==column.getColDef().pivotTotalColumnIds;if(isCollapsedHeaderEnabled&&!isTotalColumn)return headerName;aggFunc=pivotValueColumn?pivotValueColumn.getAggFunc():null,aggFuncFound=!0}else{const measureActive=column.isValueActive(),aggregationPresent=this.pivotMode||!this.isRowGroupEmpty();measureActive&&aggregationPresent?(aggFunc=column.getAggFunc(),aggFuncFound=!0):aggFuncFound=!1}if(aggFuncFound){const aggFuncString="string"==typeof aggFunc?aggFunc:"func";return`${this.localeService.getLocaleTextFunc()(aggFuncString,aggFuncString)}(${headerName})`}return headerName}getColumnGroup(colId,partId){if(!colId)return null;if(colId instanceof ColumnGroup)return colId;const allColumnGroups=this.getAllDisplayedTrees(),checkPartId="number"==typeof partId;let result=null;return this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups,(child=>{if(child instanceof ColumnGroup){const columnGroup=child;let matched;matched=checkPartId?colId===columnGroup.getGroupId()&&partId===columnGroup.getPartId():colId===columnGroup.getGroupId(),matched&&(result=columnGroup)}})),result}isReady(){return this.ready}extractValueColumns(source,oldPrimaryColumns){this.valueColumns=this.extractColumns(oldPrimaryColumns,this.valueColumns,((col,flag)=>col.setValueActive(flag,source)),(()=>{}),(()=>{}),(colDef=>{const aggFunc=colDef.aggFunc;return null===aggFunc||""===aggFunc?null:void 0!==aggFunc?!!aggFunc:void 0}),(colDef=>null!=colDef.initialAggFunc&&""!=colDef.initialAggFunc)),this.valueColumns.forEach((col=>{const colDef=col.getColDef();null!=colDef.aggFunc&&""!=colDef.aggFunc?col.setAggFunc(colDef.aggFunc):col.getAggFunc()||col.setAggFunc(colDef.initialAggFunc)}))}extractRowGroupColumns(source,oldPrimaryColumns){this.rowGroupColumns=this.extractColumns(oldPrimaryColumns,this.rowGroupColumns,((col,flag)=>col.setRowGroupActive(flag,source)),(colDef=>colDef.rowGroupIndex),(colDef=>colDef.initialRowGroupIndex),(colDef=>colDef.rowGroup),(colDef=>colDef.initialRowGroup))}extractColumns(oldPrimaryColumns=[],previousCols=[],setFlagFunc,getIndexFunc,getInitialIndexFunc,getValueFunc,getInitialValueFunc){const colsWithIndex=[],colsWithValue=[];(this.primaryColumns||[]).forEach((col=>{const colIsNew=oldPrimaryColumns.indexOf(col)<0,colDef=col.getColDef(),value=attrToBoolean(getValueFunc(colDef)),initialValue=attrToBoolean(getInitialValueFunc(colDef)),index=attrToNumber(getIndexFunc(colDef)),initialIndex=attrToNumber(getInitialIndexFunc(colDef));let include;if(include=void 0!==value?value:void 0!==index?null!==index&&index>=0:colIsNew?void 0!==initialValue?initialValue:!!(void 0!==initialIndex)&&(null!=initialIndex&&initialIndex>=0):previousCols.indexOf(col)>=0,include){(colIsNew?null!=index||null!=initialIndex:null!=index)?colsWithIndex.push(col):colsWithValue.push(col)}}));const getIndexForCol=col=>{const index=getIndexFunc(col.getColDef()),defaultIndex=getInitialIndexFunc(col.getColDef());return null!=index?index:defaultIndex};colsWithIndex.sort(((colA,colB)=>{const indexA=getIndexForCol(colA),indexB=getIndexForCol(colB);return indexA===indexB?0:indexA<indexB?-1:1}));const res=[].concat(colsWithIndex);return previousCols.forEach((col=>{colsWithValue.indexOf(col)>=0&&res.push(col)})),colsWithValue.forEach((col=>{res.indexOf(col)<0&&res.push(col)})),previousCols.forEach((col=>{res.indexOf(col)<0&&setFlagFunc(col,!1)})),res.forEach((col=>{previousCols.indexOf(col)<0&&setFlagFunc(col,!0)})),res}extractPivotColumns(source,oldPrimaryColumns){this.pivotColumns=this.extractColumns(oldPrimaryColumns,this.pivotColumns,((col,flag)=>col.setPivotActive(flag,source)),(colDef=>colDef.pivotIndex),(colDef=>colDef.initialPivotIndex),(colDef=>colDef.pivot),(colDef=>colDef.initialPivot))}resetColumnGroupState(source="api"){const stateItems=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(child=>{if(child instanceof ProvidedColumnGroup){const colGroupDef=child.getColGroupDef(),groupState={groupId:child.getGroupId(),open:colGroupDef?colGroupDef.openByDefault:void 0};stateItems.push(groupState)}})),this.setColumnGroupState(stateItems,source)}getColumnGroupState(){const columnGroupState=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(node=>{node instanceof ProvidedColumnGroup&&columnGroupState.push({groupId:node.getGroupId(),open:node.isExpanded()})})),columnGroupState}setColumnGroupState(stateItems,source="api"){this.columnAnimationService.start();const impactedGroups=[];stateItems.forEach((stateItem=>{const groupKey=stateItem.groupId,newValue=stateItem.open,providedColumnGroup=this.getProvidedColumnGroup(groupKey);providedColumnGroup&&providedColumnGroup.isExpanded()!==newValue&&(this.logger.log("columnGroupOpened("+providedColumnGroup.getGroupId()+","+newValue+")"),providedColumnGroup.setExpanded(newValue),impactedGroups.push(providedColumnGroup))})),this.updateGroupsAndDisplayedColumns(source),this.setFirstRightAndLastLeftPinned(source),impactedGroups.forEach((providedColumnGroup=>{const event={type:Events.EVENT_COLUMN_GROUP_OPENED,columnGroup:providedColumnGroup};this.eventService.dispatchEvent(event)})),this.columnAnimationService.finish()}setColumnGroupOpened(key,newValue,source="api"){let keyAsString;keyAsString=key instanceof ProvidedColumnGroup?key.getId():key||"",this.setColumnGroupState([{groupId:keyAsString,open:newValue}],source)}getProvidedColumnGroup(key){"string"!=typeof key&&console.error("AG Grid: group key must be a string");let res=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(node=>{node instanceof ProvidedColumnGroup&&node.getId()===key&&(res=node)})),res}calculateColumnsForDisplay(){let columnsForDisplay;return columnsForDisplay=this.pivotMode&&missing(this.secondaryColumns)?this.gridColumns.filter((column=>{const isAutoGroupCol=this.groupAutoColumns&&includes(this.groupAutoColumns,column),isValueCol=this.valueColumns&&includes(this.valueColumns,column);return isAutoGroupCol||isValueCol})):this.gridColumns.filter((column=>this.groupAutoColumns&&includes(this.groupAutoColumns,column)||column.isVisible())),columnsForDisplay}checkColSpanActiveInCols(columns){let result=!1;return columns.forEach((col=>{exists(col.getColDef().colSpan)&&(result=!0)})),result}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};this.gridColumns.forEach((col=>{const colDef=col.getColDef(),underlyingColumn=colDef.showRowGroup;colDef&&exists(underlyingColumn)&&(this.groupDisplayColumns.push(col),"string"==typeof underlyingColumn?this.groupDisplayColumnsMap[underlyingColumn]=col:!0===underlyingColumn&&this.getRowGroupColumns().forEach((rowGroupCol=>{this.groupDisplayColumnsMap[rowGroupCol.getId()]=col})))}))}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(rowGroupColumnId){return this.groupDisplayColumnsMap[rowGroupColumnId]}updateDisplayedColumns(source){const columnsForDisplay=this.calculateColumnsForDisplay();this.buildDisplayedTrees(columnsForDisplay),this.updateGroupsAndDisplayedColumns(source),this.setFirstRightAndLastLeftPinned(source)}isSecondaryColumnsPresent(){return exists(this.secondaryColumns)}setSecondaryColumns(colDefs,source="api"){const newColsPresent=colDefs&&colDefs.length>0;if(newColsPresent||!missing(this.secondaryColumns)){if(newColsPresent){this.processSecondaryColumnDefinitions(colDefs);const balancedTreeResult=this.columnFactory.createColumnTree(colDefs,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,balancedTreeResult.columnTree),this.secondaryBalancedTree=balancedTreeResult.columnTree,this.secondaryHeaderRowCount=balancedTreeResult.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((col=>this.secondaryColumnsMap[col.getId()]=col)),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(source)}}processSecondaryColumnDefinitions(colDefs){const columnCallback=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),groupCallback=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!columnCallback&&!groupCallback)return;const searchForColDefs=colDefs2=>{colDefs2.forEach((abstractColDef=>{if(exists(abstractColDef.children)){const colGroupDef=abstractColDef;groupCallback&&groupCallback(colGroupDef),searchForColDefs(colGroupDef.children)}else{columnCallback&&columnCallback(abstractColDef)}}))};colDefs&&searchForColDefs(colDefs)}updateGridColumns(){const prevGridCols=this.gridBalancedTree;let sortOrderToRecover;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){const hasSameColumns=this.secondaryColumns.every((col=>void 0!==this.gridColumnsMap[col.getColId()]));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,hasSameColumns&&(sortOrderToRecover=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,sortOrderToRecover=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&sortOrderToRecover){const groupAutoColsMap=convertToMap(this.groupAutoColumns.map((col=>[col,!0])));sortOrderToRecover=sortOrderToRecover.filter((col=>!groupAutoColsMap.has(col))),sortOrderToRecover=[...this.groupAutoColumns,...sortOrderToRecover]}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(sortOrderToRecover),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((col=>this.gridColumnsMap[col.getId()]=col)),this.setAutoHeightActive(),!areEqual(prevGridCols,this.gridBalancedTree)){const event={type:Events.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(event)}}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter((col=>col.isAutoHeight())).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;if(!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide"))){const message="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";function_doOnce((()=>console.warn(message)),"autoHeightActive.wrongRowModel")}}}orderGridColsLike(colsOrder){if(missing(colsOrder))return;const lastOrderMapped=convertToMap(colsOrder.map(((col,index)=>[col,index])));let noColsFound=!0;if(this.gridColumns.forEach((col=>{lastOrderMapped.has(col)&&(noColsFound=!1)})),noColsFound)return;const gridColsMap=convertToMap(this.gridColumns.map((col=>[col,!0]))),oldColsOrdered=colsOrder.filter((col=>gridColsMap.has(col))),oldColsMap=convertToMap(oldColsOrdered.map((col=>[col,!0]))),newColsOrdered=this.gridColumns.filter((col=>!oldColsMap.has(col))),newGridColumns=oldColsOrdered.slice();newColsOrdered.forEach((newCol=>{let parent=newCol.getOriginalParent();if(!parent)return void newGridColumns.push(newCol);const siblings=[];for(;!siblings.length&&parent;){parent.getLeafColumns().forEach((leafCol=>{const presentInNewGriColumns=newGridColumns.indexOf(leafCol)>=0,noYetInSiblings=siblings.indexOf(leafCol)<0;presentInNewGriColumns&&noYetInSiblings&&siblings.push(leafCol)})),parent=parent.getOriginalParent()}if(!siblings.length)return void newGridColumns.push(newCol);const indexes=siblings.map((col=>newGridColumns.indexOf(col))),lastIndex=Math.max(...indexes);insertIntoArray(newGridColumns,newCol,lastIndex+1)})),this.gridColumns=newGridColumns}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var _a;let columnsForQuickFilter=null!==(_a=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==_a?_a:[];this.groupAutoColumns&&(columnsForQuickFilter=columnsForQuickFilter.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?columnsForQuickFilter:columnsForQuickFilter.filter((col=>col.isVisible()||col.isRowGroupActive()))}placeLockedColumns(cols){const left=[],normal=[],right=[];return cols.forEach((col=>{const position=col.getColDef().lockPosition;"right"===position?right.push(col):"left"===position||!0===position?left.push(col):normal.push(col)})),[...left,...normal,...right]}addAutoGroupToGridColumns(){if(missing(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const newAutoColsTree=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,newAutoColsTree),this.groupAutoColsBalancedTree=newAutoColsTree,this.gridBalancedTree=newAutoColsTree.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(source){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(source),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const event={type:Events.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(event)}deriveDisplayedColumns(source){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(source),this.displayedAutoHeightCols=this.displayedColumns.filter((col=>col.isAutoHeight()))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(source){this.setLeftValuesOfColumns(source),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(source){if(!this.primaryColumns)return;const allColumns=this.primaryColumns.slice(0),doingRtl=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((columns=>{if(doingRtl){let left=this.getWidthOfColsInList(columns);columns.forEach((column=>{left-=column.getActualWidth(),column.setLeft(left,source)}))}else{let left=0;columns.forEach((column=>{column.setLeft(left,source),left+=column.getActualWidth()}))}removeAllFromUnorderedArray(allColumns,columns)})),allColumns.forEach((column=>{column.setLeft(null,source)}))}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((columns=>{columns.forEach((column=>{if(column instanceof ColumnGroup){column.checkLeft()}}))}))}derivedDisplayedColumnsFromDisplayedTree(tree,columns){columns.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(tree,(child=>{child instanceof Column&&columns.push(child)}))}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(type,dept){let result;switch(type){case"left":result=this.viewportRowLeft[dept];break;case"right":result=this.viewportRowRight[dept];break;default:result=this.viewportRowCenter[dept]}return missing(result)&&(result=[]),result}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const virtualColIds={};this.headerViewportColumns.forEach((col=>virtualColIds[col.getId()]=!0));const testGroup=(children,result,dept)=>{let returnValue=!1;for(let i=0;i<children.length;i++){const child=children[i];let addThisItem=!1;if(child instanceof Column)addThisItem=!0===virtualColIds[child.getId()];else{const displayedChildren=child.getDisplayedChildren();displayedChildren&&(addThisItem=testGroup(displayedChildren,result,dept+1))}addThisItem&&(returnValue=!0,result[dept]||(result[dept]=[]),result[dept].push(child))}return returnValue};testGroup(this.displayedTreeLeft,this.viewportRowLeft,0),testGroup(this.displayedTreeRight,this.viewportRowRight,0),testGroup(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const newHash=this.viewportColumns.map((c=>`${c.getId()}-${c.getPinned()||"normal"}`)).join("#"),changed=this.viewportColumnsHash!==newHash;return changed&&(this.viewportColumnsHash=newHash,this.calculateHeaderRows()),changed}refreshFlexedColumns(params={}){var _a;const source=params.source?params.source:"flex";if(null!=params.viewportWidth&&(this.flexViewportWidth=params.viewportWidth),!this.flexViewportWidth)return[];let flexAfterDisplayIndex=-1;if(params.resizingCols){const allResizingCols=new Set(params.resizingCols);let displayedCols=this.displayedColumnsCenter;for(let i=displayedCols.length-1;i>=0;i--)if(allResizingCols.has(displayedCols[i])){flexAfterDisplayIndex=i;break}}let knownColumnsWidth=0,flexingColumns=[],minimumFlexedWidth=0,totalFlex=0;for(let i=0;i<this.displayedColumnsCenter.length;i++){this.displayedColumnsCenter[i].getFlex()&&i>flexAfterDisplayIndex?(flexingColumns.push(this.displayedColumnsCenter[i]),totalFlex+=this.displayedColumnsCenter[i].getFlex(),minimumFlexedWidth+=null!==(_a=this.displayedColumnsCenter[i].getMinWidth())&&void 0!==_a?_a:0):knownColumnsWidth+=this.displayedColumnsCenter[i].getActualWidth()}if(!flexingColumns.length)return[];let changedColumns=[];knownColumnsWidth+minimumFlexedWidth>this.flexViewportWidth&&(flexingColumns.forEach((col=>{var _a;return col.setActualWidth(null!==(_a=col.getMinWidth())&&void 0!==_a?_a:0,source)})),changedColumns=flexingColumns,flexingColumns=[]);const flexingColumnSizes=[];let spaceForFlexingColumns;outer:for(;;){spaceForFlexingColumns=this.flexViewportWidth-knownColumnsWidth;const spacePerFlex=spaceForFlexingColumns/totalFlex;for(let i=0;i<flexingColumns.length;i++){const col=flexingColumns[i],widthByFlexRule=spacePerFlex*col.getFlex();let constrainedWidth=0;const minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();if(exists(minWidth)&&widthByFlexRule<minWidth?constrainedWidth=minWidth:exists(maxWidth)&&widthByFlexRule>maxWidth&&(constrainedWidth=maxWidth),constrainedWidth){col.setActualWidth(constrainedWidth,source),removeFromUnorderedArray(flexingColumns,col),totalFlex-=col.getFlex(),changedColumns.push(col),knownColumnsWidth+=col.getActualWidth();continue outer}flexingColumnSizes[i]=Math.round(widthByFlexRule)}break}let remainingSpace=spaceForFlexingColumns;return flexingColumns.forEach(((col,i)=>{col.setActualWidth(Math.min(flexingColumnSizes[i],remainingSpace),source),changedColumns.push(col),remainingSpace-=flexingColumnSizes[i]})),params.skipSetLeft||this.setLeftValues(source),params.updateBodyWidths&&this.updateBodyWidths(),params.fireResizedEvent&&this.dispatchColumnResizedEvent(changedColumns,!0,source,flexingColumns),flexingColumns}sizeColumnsToFit(gridWidth,source="sizeColumnsToFit",silent,params){var _a,_b,_c,_d,_e;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push((()=>this.sizeColumnsToFit(gridWidth,source,silent,params)));const limitsMap={};params&&(null===(_a=null==params?void 0:params.columnLimits)||void 0===_a||_a.forEach((_a=>{var{key}=_a,dimensions=__rest(_a,["key"]);limitsMap["string"==typeof key?key:key.getColId()]=dimensions})));const allDisplayedColumns=this.getAllDisplayedColumns(),doColumnsAlreadyFit=gridWidth===this.getWidthOfColsInList(allDisplayedColumns);if(gridWidth<=0||!allDisplayedColumns.length||doColumnsAlreadyFit)return;const colsToSpread=[],colsToNotSpread=[];allDisplayedColumns.forEach((column=>{!0===column.getColDef().suppressSizeToFit?colsToNotSpread.push(column):colsToSpread.push(column)}));const colsToDispatchEventFor=colsToSpread.slice(0);let finishedResizing=!1;const moveToNotSpread=column=>{removeFromArray(colsToSpread,column),colsToNotSpread.push(column)};for(colsToSpread.forEach((column=>{var _a,_b;column.resetActualWidth(source);const widthOverride=null==limitsMap?void 0:limitsMap[column.getId()],minOverride=null!==(_a=null==widthOverride?void 0:widthOverride.minWidth)&&void 0!==_a?_a:null==params?void 0:params.defaultMinWidth,maxOverride=null!==(_b=null==widthOverride?void 0:widthOverride.maxWidth)&&void 0!==_b?_b:null==params?void 0:params.defaultMaxWidth,colWidth=column.getActualWidth();"number"==typeof minOverride&&colWidth<minOverride?column.setActualWidth(minOverride,source,!0):"number"==typeof maxOverride&&colWidth>maxOverride&&column.setActualWidth(maxOverride,source,!0)}));!finishedResizing;){finishedResizing=!0;const availablePixels=gridWidth-this.getWidthOfColsInList(colsToNotSpread);if(availablePixels<=0)colsToSpread.forEach((column=>{var _a,_b;const widthOverride=null!==(_b=null===(_a=null==limitsMap?void 0:limitsMap[column.getId()])||void 0===_a?void 0:_a.minWidth)&&void 0!==_b?_b:null==params?void 0:params.defaultMinWidth;"number"!=typeof widthOverride?column.setMinimum(source):column.setActualWidth(widthOverride,source,!0)}));else{const scale=availablePixels/this.getWidthOfColsInList(colsToSpread);let pixelsForLastCol=availablePixels;for(let i=colsToSpread.length-1;i>=0;i--){const column=colsToSpread[i],widthOverride=null==limitsMap?void 0:limitsMap[column.getId()],minOverride=null!==(_b=null==widthOverride?void 0:widthOverride.minWidth)&&void 0!==_b?_b:null==params?void 0:params.defaultMinWidth,maxOverride=null!==(_c=null==widthOverride?void 0:widthOverride.maxWidth)&&void 0!==_c?_c:null==params?void 0:params.defaultMaxWidth,colMinWidth=null!==(_d=column.getMinWidth())&&void 0!==_d?_d:0,colMaxWidth=null!==(_e=column.getMaxWidth())&&void 0!==_e?_e:Number.MAX_VALUE,minWidth="number"==typeof minOverride&&minOverride>colMinWidth?minOverride:column.getMinWidth(),maxWidth="number"==typeof maxOverride&&maxOverride<colMaxWidth?maxOverride:column.getMaxWidth();let newWidth=Math.round(column.getActualWidth()*scale);exists(minWidth)&&newWidth<minWidth?(newWidth=minWidth,moveToNotSpread(column),finishedResizing=!1):exists(maxWidth)&&newWidth>maxWidth?(newWidth=maxWidth,moveToNotSpread(column),finishedResizing=!1):0===i&&(newWidth=pixelsForLastCol),column.setActualWidth(newWidth,source,!0),pixelsForLastCol-=newWidth}}}colsToDispatchEventFor.forEach((col=>{col.fireColumnWidthChangedEvent(source)})),this.setLeftValues(source),this.updateBodyWidths(),silent||this.dispatchColumnResizedEvent(colsToDispatchEventFor,!0,source)}buildDisplayedTrees(visibleColumns){const leftVisibleColumns=[],rightVisibleColumns=[],centerVisibleColumns=[];visibleColumns.forEach((column=>{switch(column.getPinned()){case"left":leftVisibleColumns.push(column);break;case"right":rightVisibleColumns.push(column);break;default:centerVisibleColumns.push(column)}}));const groupInstanceIdCreator=new GroupInstanceIdCreator;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(leftVisibleColumns,groupInstanceIdCreator,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(rightVisibleColumns,groupInstanceIdCreator,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(centerVisibleColumns,groupInstanceIdCreator,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const func=child=>{this.displayedColumnsAndGroupsMap[child.getUniqueId()]=child};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,func),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,func),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,func)}isDisplayed(item){return this.displayedColumnsAndGroupsMap[item.getUniqueId()]===item}updateOpenClosedVisibilityInColumnGroups(){const allColumnGroups=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups,(child=>{child instanceof ColumnGroup&&child.calculateDisplayedColumns()}))}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const forceRecreateAutoGroups=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const groupFullWidthRow=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),suppressAutoColumn=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"))&&!suppressAutoColumn&&!groupFullWidthRow){const newAutoGroupCols=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(newAutoGroupCols,this.groupAutoColumns)||forceRecreateAutoGroups)return this.groupAutoColumns=newAutoGroupCols,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){const groupDisplayType=this.gridOptionsService.get("groupDisplayType");if(!!groupDisplayType&&matchesGroupDisplayType("custom",groupDisplayType))return!0;const treeDataDisplayType=this.gridOptionsService.get("treeDataDisplayType");return!!treeDataDisplayType&&function matchesTreeDataDisplayType(toMatch,supplied){const treeDataDisplayTypeValues=["auto","custom"];return treeDataDisplayTypeValues.indexOf(supplied)<0?(console.warn(`AG Grid: '${supplied}' is not a valid treeDataDisplayType value - possible values are: '${treeDataDisplayTypeValues.join("', '")}'`),!1):supplied===toMatch}("custom",treeDataDisplayType)}autoColsEqual(colsA,colsB){return areEqual(colsA,colsB,((a,b)=>a.getColId()===b.getColId()))}getWidthOfColsInList(columnList){return columnList.reduce(((width,col)=>width+col.getActualWidth()),0)}getGridBalancedTree(){return this.gridBalancedTree}getFirstDisplayedColumn(){const isRtl=this.gridOptionsService.is("enableRtl"),queryOrder=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];isRtl&&queryOrder.reverse();for(let i=0;i<queryOrder.length;i++){const container=this[queryOrder[i]]();if(container.length)return isRtl?last(container):container[0]}return null}setColumnHeaderHeight(col,height){if(col.setAutoHeaderHeight(height)){const event={type:Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:col,columns:[col],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(event)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const defaultHeight=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),displayedHeights=this.getAllDisplayedColumns().filter((col=>col.isAutoHeaderHeight())).map((col=>col.getAutoHeaderHeight()||0));return Math.max(defaultHeight,...displayedHeights)}getHeaderHeight(){var _a;return null!==(_a=this.gridOptionsService.getNum("headerHeight"))&&void 0!==_a?_a:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var _a;return null!==(_a=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==_a?_a:this.getHeaderHeight()}getGroupHeaderHeight(){var _a;return null!==(_a=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==_a?_a:this.getHeaderHeight()}getPivotHeaderHeight(){var _a;return null!==(_a=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==_a?_a:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var _a;return null!==(_a=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==_a?_a:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((resizeOperation=>resizeOperation())),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(column){const userColDef=column.getUserProvidedColDef();if(!userColDef)return!1;const newColDef=this.columnFactory.addColumnDefaultAndTypes(userColDef,column.getColId());return column.setColDef(newColDef,userColDef),!0}generateColumnStateForRowGroupAndPivotIndexes(updatedRowGroupColumnState,updatedPivotColumnState){let existingColumnStateUpdates={};const orderColumns=(updatedColumnState,colList,enableProp,initialEnableProp,indexProp,initialIndexProp)=>{if(!colList.length||!this.primaryColumns)return[];const updatedColIdArray=Object.keys(updatedColumnState),updatedColIds=new Set(updatedColIdArray),newColIds=new Set(updatedColIdArray),allColIds=new Set(colList.map((column=>{const colId=column.getColId();return newColIds.delete(colId),colId})).concat(updatedColIdArray)),colIdsInOriginalOrder=[],originalOrderMap={};let orderIndex=0;for(let i=0;i<this.primaryColumns.length;i++){const colId=this.primaryColumns[i].getColId();allColIds.has(colId)&&(colIdsInOriginalOrder.push(colId),originalOrderMap[colId]=orderIndex++)}let index=1e3,hasAddedNewCols=!1,lastIndex=0;const processPrecedingNewCols=colId=>{const originalOrderIndex=originalOrderMap[colId];for(let i=lastIndex;i<originalOrderIndex;i++){const newColId=colIdsInOriginalOrder[i];newColIds.has(newColId)&&(updatedColumnState[newColId][indexProp]=index++,newColIds.delete(newColId))}lastIndex=originalOrderIndex};colList.forEach((column=>{const colId=column.getColId();if(updatedColIds.has(colId))processPrecedingNewCols(colId),updatedColumnState[colId][indexProp]=index++;else{const colDef=column.getColDef();if(null===colDef[indexProp]||void 0===colDef[indexProp]&&null==colDef[initialIndexProp]){if(!hasAddedNewCols){colDef[enableProp]||void 0===colDef[enableProp]&&colDef[initialEnableProp]?processPrecedingNewCols(colId):(newColIds.forEach((newColId=>{updatedColumnState[newColId][indexProp]=index+originalOrderMap[newColId]})),index+=colIdsInOriginalOrder.length,hasAddedNewCols=!0)}existingColumnStateUpdates[colId]||(existingColumnStateUpdates[colId]={colId}),existingColumnStateUpdates[colId][indexProp]=index++}}}))};return orderColumns(updatedRowGroupColumnState,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),orderColumns(updatedPivotColumnState,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(existingColumnStateUpdates)}};columnModel_decorate([Autowired("expressionService")],ColumnModel.prototype,"expressionService",void 0),columnModel_decorate([Autowired("columnFactory")],ColumnModel.prototype,"columnFactory",void 0),columnModel_decorate([Autowired("displayedGroupCreator")],ColumnModel.prototype,"displayedGroupCreator",void 0),columnModel_decorate([Autowired("ctrlsService")],ColumnModel.prototype,"ctrlsService",void 0),columnModel_decorate([Autowired("autoWidthCalculator")],ColumnModel.prototype,"autoWidthCalculator",void 0),columnModel_decorate([Autowired("columnUtils")],ColumnModel.prototype,"columnUtils",void 0),columnModel_decorate([Autowired("columnAnimationService")],ColumnModel.prototype,"columnAnimationService",void 0),columnModel_decorate([Autowired("autoGroupColService")],ColumnModel.prototype,"autoGroupColService",void 0),columnModel_decorate([Optional("aggFuncService")],ColumnModel.prototype,"aggFuncService",void 0),columnModel_decorate([Optional("valueCache")],ColumnModel.prototype,"valueCache",void 0),columnModel_decorate([Optional("animationFrameService")],ColumnModel.prototype,"animationFrameService",void 0),columnModel_decorate([Autowired("sortController")],ColumnModel.prototype,"sortController",void 0),columnModel_decorate([Autowired("columnDefFactory")],ColumnModel.prototype,"columnDefFactory",void 0),columnModel_decorate([PostConstruct],ColumnModel.prototype,"init",null),columnModel_decorate([PreDestroy],ColumnModel.prototype,"destroyColumns",null),columnModel_decorate([columnModel_param(0,Qualifier("loggerFactory"))],ColumnModel.prototype,"setBeans",null),ColumnModel=columnModel_decorate([Bean("columnModel")],ColumnModel);var columnUtils_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ColumnUtils=class ColumnUtils extends BeanStub{calculateColMinWidth(colDef){return null!=colDef.minWidth?colDef.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(colDef){return null!=colDef.maxWidth?colDef.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(colDef){const minColWidth=this.calculateColMinWidth(colDef),maxColWidth=this.calculateColMaxWidth(colDef);let width;const colDefWidth=attrToNumber(colDef.width),colDefInitialWidth=attrToNumber(colDef.initialWidth);return width=null!=colDefWidth?colDefWidth:null!=colDefInitialWidth?colDefInitialWidth:200,Math.max(Math.min(width,maxColWidth),minColWidth)}getOriginalPathForColumn(column,originalBalancedTree){const result=[];let found=!1;const recursePath=(balancedColumnTree,dept)=>{for(let i=0;i<balancedColumnTree.length;i++){if(found)return;const node=balancedColumnTree[i];if(node instanceof ProvidedColumnGroup){recursePath(node.getChildren(),dept+1),result[dept]=node}else node===column&&(found=!0)}};return recursePath(originalBalancedTree,0),found?result:null}depthFirstOriginalTreeSearch(parent,tree,callback){tree&&tree.forEach((child=>{child instanceof ProvidedColumnGroup&&this.depthFirstOriginalTreeSearch(child,child.getChildren(),callback),callback(child,parent)}))}depthFirstAllColumnTreeSearch(tree,callback){tree&&tree.forEach((child=>{child instanceof ColumnGroup&&this.depthFirstAllColumnTreeSearch(child.getChildren(),callback),callback(child)}))}depthFirstDisplayedColumnTreeSearch(tree,callback){tree&&tree.forEach((child=>{child instanceof ColumnGroup&&this.depthFirstDisplayedColumnTreeSearch(child.getDisplayedChildren(),callback),callback(child)}))}};ColumnUtils=columnUtils_decorate([Bean("columnUtils")],ColumnUtils);var displayedGroupCreator_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let DisplayedGroupCreator=class DisplayedGroupCreator extends BeanStub{createDisplayedGroups(sortedVisibleColumns,groupInstanceIdCreator,pinned,oldDisplayedGroups){const oldColumnsMapped=this.mapOldGroupsById(oldDisplayedGroups),topLevelResultCols=[];let groupsOrColsAtCurrentLevel=sortedVisibleColumns;for(;groupsOrColsAtCurrentLevel.length;){const currentlyIterating=groupsOrColsAtCurrentLevel;groupsOrColsAtCurrentLevel=[];let lastGroupedColIdx=0;const createGroupToIndex=to=>{const from=lastGroupedColIdx;lastGroupedColIdx=to;const previousNode=currentlyIterating[from],previousNodeParent=(previousNode instanceof ColumnGroup?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent();if(null==previousNodeParent){for(let i=from;i<to;i++)topLevelResultCols.push(currentlyIterating[i]);return}const newGroup=this.createColumnGroup(previousNodeParent,groupInstanceIdCreator,oldColumnsMapped,pinned);for(let i=from;i<to;i++)newGroup.addChild(currentlyIterating[i]);groupsOrColsAtCurrentLevel.push(newGroup)};for(let i=1;i<currentlyIterating.length;i++){const thisNode=currentlyIterating[i],thisNodeParent=(thisNode instanceof ColumnGroup?thisNode.getProvidedColumnGroup():thisNode).getOriginalParent(),previousNode=currentlyIterating[lastGroupedColIdx];thisNodeParent!==(previousNode instanceof ColumnGroup?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent()&&createGroupToIndex(i)}lastGroupedColIdx<currentlyIterating.length&&createGroupToIndex(currentlyIterating.length)}return this.setupParentsIntoColumns(topLevelResultCols,null),topLevelResultCols}createColumnGroup(providedGroup,groupInstanceIdCreator,oldColumnsMapped,pinned){const groupId=providedGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId);let columnGroup=oldColumnsMapped[ColumnGroup.createUniqueId(groupId,instanceId)];return columnGroup&&columnGroup.getProvidedColumnGroup()!==providedGroup&&(columnGroup=null),exists(columnGroup)?columnGroup.reset():(columnGroup=new ColumnGroup(providedGroup,groupId,instanceId,pinned),this.context.createBean(columnGroup)),columnGroup}mapOldGroupsById(displayedGroups){const result={},recursive=columnsOrGroups=>{columnsOrGroups.forEach((columnOrGroup=>{if(columnOrGroup instanceof ColumnGroup){const columnGroup=columnOrGroup;result[columnOrGroup.getUniqueId()]=columnGroup,recursive(columnGroup.getChildren())}}))};return displayedGroups&&recursive(displayedGroups),result}setupParentsIntoColumns(columnsOrGroups,parent){columnsOrGroups.forEach((columnsOrGroup=>{if(columnsOrGroup.setParent(parent),columnsOrGroup instanceof ColumnGroup){const columnGroup=columnsOrGroup;this.setupParentsIntoColumns(columnGroup.getChildren(),columnGroup)}}))}};DisplayedGroupCreator=displayedGroupCreator_decorate([Bean("displayedGroupCreator")],DisplayedGroupCreator);var agStackComponentsRegistry_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let isSafari,safariVersion,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,AgStackComponentsRegistry=class AgStackComponentsRegistry extends BeanStub{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(components){components&&components.forEach((componentMeta=>this.addComponent(componentMeta)))}addComponent(componentMeta){const classUpperCase=componentMeta.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[classUpperCase]=componentMeta.componentClass}getComponentClass(htmlTag){return this.componentsMappedByName[htmlTag]}};function toggleAriaAttribute(element,attribute,value){null==value||""==value?removeAriaAttribute(element,attribute):setAriaAttribute(element,attribute,value)}function setAriaAttribute(element,attribute,value){element.setAttribute(ariaAttributeName(attribute),value.toString())}function removeAriaAttribute(element,attribute){element.removeAttribute(ariaAttributeName(attribute))}function ariaAttributeName(attribute){return`aria-${attribute}`}function setAriaRole(element,role){role?element.setAttribute("role",role):element.removeAttribute("role")}function getAriaSortState(sortDirection){let sort;return sort="asc"===sortDirection?"ascending":"desc"===sortDirection?"descending":"mixed"===sortDirection?"other":"none",sort}function getAriaLevel(element){return parseInt(element.getAttribute("aria-level"),10)}function getAriaPosInSet(element){return parseInt(element.getAttribute("aria-posinset"),10)}function getAriaDescribedBy(element){return element.getAttribute("aria-describedby")||""}function setAriaLabel(element,label){toggleAriaAttribute(element,"label",label)}function setAriaLabelledBy(element,labelledBy){toggleAriaAttribute(element,"labelledby",labelledBy)}function setAriaDescription(element,description){toggleAriaAttribute(element,"description",description)}function setAriaDescribedBy(element,describedby){toggleAriaAttribute(element,"describedby",describedby)}function setAriaLive(element,live){toggleAriaAttribute(element,"live",live)}function setAriaLevel(element,level){toggleAriaAttribute(element,"level",level)}function setAriaDisabled(element,disabled){toggleAriaAttribute(element,"disabled",disabled)}function setAriaHidden(element,hidden){toggleAriaAttribute(element,"hidden",hidden)}function setAriaActiveDescendant(element,descendantId){toggleAriaAttribute(element,"activedescendant",descendantId)}function setAriaExpanded(element,expanded){setAriaAttribute(element,"expanded",expanded)}function removeAriaExpanded(element){removeAriaAttribute(element,"expanded")}function setAriaSetSize(element,setsize){setAriaAttribute(element,"setsize",setsize)}function setAriaPosInSet(element,position){setAriaAttribute(element,"posinset",position)}function setAriaMultiSelectable(element,multiSelectable){setAriaAttribute(element,"multiselectable",multiSelectable)}function setAriaRowCount(element,rowCount){setAriaAttribute(element,"rowcount",rowCount)}function setAriaRowIndex(element,rowIndex){setAriaAttribute(element,"rowindex",rowIndex)}function setAriaColCount(element,colCount){setAriaAttribute(element,"colcount",colCount)}function setAriaColIndex(element,colIndex){setAriaAttribute(element,"colindex",colIndex)}function setAriaColSpan(element,colSpan){setAriaAttribute(element,"colspan",colSpan)}function setAriaSort(element,sort){setAriaAttribute(element,"sort",sort)}function removeAriaSort(element){removeAriaAttribute(element,"sort")}function setAriaSelected(element,selected){toggleAriaAttribute(element,"selected",selected)}function setAriaChecked(element,checked){setAriaAttribute(element,"checked",void 0===checked?"mixed":checked)}function setAriaControls(controllerElement,controlledElement){toggleAriaAttribute(controllerElement,"controls",controlledElement.id),setAriaLabelledBy(controlledElement,controllerElement.id)}function getAriaCheckboxStateName(translate,state){return void 0===state?translate("ariaIndeterminate","indeterminate"):!0===state?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked")}function isBrowserSafari(){return void 0===isSafari&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function getSafariVersion(){if(void 0===safariVersion)if(isBrowserSafari()){const versionMatch=navigator.userAgent.match(/version\/(\d+)/i);versionMatch&&(safariVersion=null!=versionMatch[1]?parseFloat(versionMatch[1]):0)}else safariVersion=0;return safariVersion}function isBrowserChrome(){if(void 0===isChrome){const win=window;isChrome=!!win.chrome&&(!!win.chrome.webstore||!!win.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function isBrowserFirefox(){return void 0===isFirefox&&(isFirefox=/(firefox)/i.test(navigator.userAgent)),isFirefox}function isMacOsUserAgent(){return void 0===isMacOs&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function isIOSUserAgent(){return void 0===isIOS&&(isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),isIOS}function browserSupportsPreventScroll(){return!isBrowserSafari()||getSafariVersion()>=15}function getTabIndex(el){if(!el)return null;const numberTabIndex=el.tabIndex,tabIndex=el.getAttribute("tabIndex");return-1!==numberTabIndex||null!==tabIndex&&(""!==tabIndex||isBrowserFirefox())?numberTabIndex.toString():null}function getMaxDivHeight(){if(!document.body)return-1;let res=1e6;const testUpTo=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,div=document.createElement("div");for(document.body.appendChild(div);;){const test=2*res;if(div.style.height=test+"px",test>testUpTo||div.clientHeight!==test)break;res=test}return document.body.removeChild(div),res}function getBodyWidth(){var _a,_b,_c;return null!==(_b=null===(_a=document.body)||void 0===_a?void 0:_a.clientWidth)&&void 0!==_b?_b:window.innerHeight||(null===(_c=document.documentElement)||void 0===_c?void 0:_c.clientWidth)||-1}function getBodyHeight(){var _a,_b,_c;return null!==(_b=null===(_a=document.body)||void 0===_a?void 0:_a.clientHeight)&&void 0!==_b?_b:window.innerHeight||(null===(_c=document.documentElement)||void 0===_c?void 0:_c.clientHeight)||-1}function getScrollbarWidth(){return null==browserScrollbarWidth&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}function initScrollbarWidthAndVisibility(){const body=document.body,div=document.createElement("div");div.style.width=div.style.height="100px",div.style.opacity="0",div.style.overflow="scroll",div.style.msOverflowStyle="scrollbar",div.style.position="absolute",body.appendChild(div);let width=div.offsetWidth-div.clientWidth;0===width&&0===div.clientWidth&&(width=null),div.parentNode&&div.parentNode.removeChild(div),null!=width&&(browserScrollbarWidth=width,invisibleScrollbar=0===width)}function isInvisibleScrollbar(){return null==invisibleScrollbar&&initScrollbarWidthAndVisibility(),invisibleScrollbar}function padStartWidthZeros(value,totalStringSize){return value.toString().padStart(totalStringSize,"0")}function createArrayOfNumbers(first,last){const result=[];for(let i=first;i<=last;i++)result.push(i);return result}function cleanNumber(value){return"string"==typeof value&&(value=parseInt(value,10)),"number"==typeof value?Math.floor(value):null}function decToHex(number,bytes){let hex="";for(let i=0;i<bytes;i++)hex+=String.fromCharCode(255&number),number>>>=8;return hex}function formatNumberTwoDecimalPlacesAndCommas(value,thousandSeparator,decimalSeparator){return"number"!=typeof value?"":formatNumberCommas(Math.round(100*value)/100,thousandSeparator,decimalSeparator)}function formatNumberCommas(value,thousandSeparator,decimalSeparator){return"number"!=typeof value?"":value.toString().replace(".",decimalSeparator).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${thousandSeparator}`)}function sum(values){return null==values?null:values.reduce(((total,value)=>total+value),0)}function zeroOrGreater(value,defaultValue){return value>=0?value:defaultValue}function oneOrGreater(value,defaultValue){const valueNumber=parseInt(value,10);return!isNaN(valueNumber)&&isFinite(valueNumber)&&valueNumber>0?valueNumber:defaultValue}function serialiseDate(date,includeTime=!0,separator="-"){if(!date)return null;let serialised=[date.getFullYear(),date.getMonth()+1,date.getDate()].map((part=>padStartWidthZeros(part,2))).join(separator);return includeTime&&(serialised+=" "+[date.getHours(),date.getMinutes(),date.getSeconds()].map((part=>padStartWidthZeros(part,2))).join(":")),serialised}AgStackComponentsRegistry=agStackComponentsRegistry_decorate([Bean("agStackComponentsRegistry")],AgStackComponentsRegistry);const calculateOrdinal=value=>{if(value>3&&value<21)return"th";switch(value%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function dateToFormattedString(date,format="YYYY-MM-DD"){const fullYear=padStartWidthZeros(date.getFullYear(),4),months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],replace={YYYY:()=>fullYear.slice(fullYear.length-4,fullYear.length),YY:()=>fullYear.slice(fullYear.length-2,fullYear.length),Y:()=>`${date.getFullYear()}`,MMMM:()=>months[date.getMonth()],MMM:()=>months[date.getMonth()].slice(0,3),MM:()=>padStartWidthZeros(date.getMonth()+1,2),Mo:()=>`${date.getMonth()+1}${calculateOrdinal(date.getMonth()+1)}`,M:()=>`${date.getMonth()+1}`,Do:()=>`${date.getDate()}${calculateOrdinal(date.getDate())}`,DD:()=>padStartWidthZeros(date.getDate(),2),D:()=>`${date.getDate()}`,dddd:()=>days[date.getDay()],ddd:()=>days[date.getDay()].slice(0,3),dd:()=>days[date.getDay()].slice(0,2),do:()=>`${date.getDay()}${calculateOrdinal(date.getDay())}`,d:()=>`${date.getDay()}`},regexp=new RegExp(Object.keys(replace).join("|"),"g");return format.replace(regexp,(match=>match in replace?replace[match]():match))}function parseDateTimeFromString(value){if(!value)return null;const[dateStr,timeStr]=value.split(" ");if(!dateStr)return null;const fields=dateStr.split("-").map((f=>parseInt(f,10)));if(3!==fields.filter((f=>!isNaN(f))).length)return null;const[year,month,day]=fields,date=new Date(year,month-1,day);if(date.getFullYear()!==year||date.getMonth()!==month-1||date.getDate()!==day)return null;if(!timeStr||"00:00:00"===timeStr)return date;const[hours,minutes,seconds]=timeStr.split(":").map((part=>parseInt(part,10)));return hours>=0&&hours<24&&date.setHours(hours),minutes>=0&&minutes<60&&date.setMinutes(minutes),seconds>=0&&seconds<60&&date.setSeconds(seconds),date}let rtlNegativeScroll;function radioCssClass(element,elementClass,otherElementClass){const parent=element.parentElement;let sibling=parent&&parent.firstChild;for(;sibling;)elementClass&&sibling.classList.toggle(elementClass,sibling===element),otherElementClass&&sibling.classList.toggle(otherElementClass,sibling!==element),sibling=sibling.nextSibling}const FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *.mjs";function isFocusableFormField(element){const matches=Element.prototype.matches||Element.prototype.msMatchesSelector,isFocusable=matches.call(element,"input, select, button, textarea"),isNotFocusable=matches.call(element,FOCUSABLE_EXCLUDE),isElementVisible=isVisible(element);return isFocusable&&!isNotFocusable&&isElementVisible}function setDisplayed(element,displayed,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-hidden",!displayed),skipAriaHidden||setAriaHidden(element,!displayed)}function setVisible(element,visible,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-invisible",!visible),skipAriaHidden||setAriaHidden(element,!visible)}function setDisabled(element,disabled){const addOrRemoveDisabledAttribute=disabled?e=>e.setAttribute("disabled",""):e=>e.removeAttribute("disabled");addOrRemoveDisabledAttribute(element),nodeListForEach(element.querySelectorAll("input"),(input=>addOrRemoveDisabledAttribute(input)))}function isElementChildOfClass(element,cls,maxNest){let counter=0;for(;element;){if(element.classList.contains(cls))return!0;if(element=element.parentElement,"number"==typeof maxNest){if(++counter>maxNest)break}else if(element===maxNest)break}return!1}function getElementSize(el){const{height,width,borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth,paddingTop,paddingRight,paddingBottom,paddingLeft,marginTop,marginRight,marginBottom,marginLeft,boxSizing}=window.getComputedStyle(el);return{height:parseFloat(height),width:parseFloat(width),borderTopWidth:parseFloat(borderTopWidth),borderRightWidth:parseFloat(borderRightWidth),borderBottomWidth:parseFloat(borderBottomWidth),borderLeftWidth:parseFloat(borderLeftWidth),paddingTop:parseFloat(paddingTop),paddingRight:parseFloat(paddingRight),paddingBottom:parseFloat(paddingBottom),paddingLeft:parseFloat(paddingLeft),marginTop:parseFloat(marginTop),marginRight:parseFloat(marginRight),marginBottom:parseFloat(marginBottom),marginLeft:parseFloat(marginLeft),boxSizing}}function getInnerHeight(el){const size=getElementSize(el);return"border-box"===size.boxSizing?size.height-size.paddingTop-size.paddingBottom:size.height}function getInnerWidth(el){const size=getElementSize(el);return"border-box"===size.boxSizing?size.width-size.paddingLeft-size.paddingRight:size.width}function getAbsoluteHeight(el){const size=getElementSize(el),marginRight=size.marginBottom+size.marginTop;return Math.ceil(el.offsetHeight+marginRight)}function getAbsoluteWidth(el){const size=getElementSize(el),marginWidth=size.marginLeft+size.marginRight;return Math.ceil(el.offsetWidth+marginWidth)}function getElementRectWithOffset(el){const offsetElementRect=el.getBoundingClientRect(),{borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth}=getElementSize(el);return{top:offsetElementRect.top+(borderTopWidth||0),left:offsetElementRect.left+(borderLeftWidth||0),right:offsetElementRect.right+(borderRightWidth||0),bottom:offsetElementRect.bottom+(borderBottomWidth||0)}}function isRtlNegativeScroll(){if("boolean"==typeof rtlNegativeScroll)return rtlNegativeScroll;const template=document.createElement("div");return template.style.direction="rtl",template.style.width="1px",template.style.height="1px",template.style.position="fixed",template.style.top="0px",template.style.overflow="hidden",template.dir="rtl",template.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(template),template.scrollLeft=1,rtlNegativeScroll=0===Math.floor(template.scrollLeft),document.body.removeChild(template),rtlNegativeScroll}function getScrollLeft(element,rtl){let scrollLeft=element.scrollLeft;return rtl&&(scrollLeft=Math.abs(scrollLeft),isBrowserChrome()&&!isRtlNegativeScroll()&&(scrollLeft=element.scrollWidth-element.clientWidth-scrollLeft)),scrollLeft}function setScrollLeft(element,value,rtl){rtl&&(isRtlNegativeScroll()?value*=-1:(isBrowserSafari()||isBrowserChrome())&&(value=element.scrollWidth-element.clientWidth-value)),element.scrollLeft=value}function clearElement(el){for(;el&&el.firstChild;)el.removeChild(el.firstChild)}function removeElement(parent,cssSelector){removeFromParent(parent.querySelector(cssSelector))}function removeFromParent(node){node&&node.parentNode&&node.parentNode.removeChild(node)}function isVisible(element){return null!==element.offsetParent}function loadTemplate(template){const tempDiv=document.createElement("div");return tempDiv.innerHTML=(template||"").trim(),tempDiv.firstChild}function appendHtml(eContainer,htmlTemplate){eContainer.lastChild?eContainer.insertAdjacentHTML("afterbegin",htmlTemplate):eContainer.innerHTML=htmlTemplate}function getElementAttribute(element,attributeName){if(element.attributes&&element.attributes[attributeName]){return element.attributes[attributeName].value}return null}function offsetHeight(element){return element&&element.clientHeight?element.clientHeight:0}function offsetWidth(element){return element&&element.clientWidth?element.clientWidth:0}function ensureDomOrder(eContainer,eChild,eChildBefore){if(eChildBefore&&eChildBefore.nextSibling===eChild)return;const focusedEl=document.activeElement,eChildHasFocus=eChild.contains(focusedEl);eChildBefore?eChildBefore.nextSibling?eContainer.insertBefore(eChild,eChildBefore.nextSibling):eContainer.appendChild(eChild):eContainer.firstChild&&eContainer.firstChild!==eChild&&eContainer.insertAdjacentElement("afterbegin",eChild),eChildHasFocus&&focusedEl&&browserSupportsPreventScroll()&&focusedEl.focus({preventScroll:!0})}function setDomChildOrder(eContainer,orderedChildren){for(let i=0;i<orderedChildren.length;i++){const correctCellAtIndex=orderedChildren[i],actualCellAtIndex=eContainer.children[i];actualCellAtIndex!==correctCellAtIndex&&eContainer.insertBefore(correctCellAtIndex,actualCellAtIndex)}}function insertWithDomOrder(eContainer,eToInsert,eChildBefore){eChildBefore?eChildBefore.insertAdjacentElement("afterend",eToInsert):eContainer.firstChild?eContainer.insertAdjacentElement("afterbegin",eToInsert):eContainer.appendChild(eToInsert)}function prependDC(parent,documentFragment){exists(parent.firstChild)?parent.insertBefore(documentFragment,parent.firstChild):parent.appendChild(documentFragment)}function addStylesToElement(eElement,styles){if(styles)for(const[key,value]of Object.entries(styles)){if(!key||!key.length||null==value)continue;const parsedKey=camelCaseToHyphenated(key),valueAsString=value.toString(),parsedValue=valueAsString.replace(/\s*!important/g,""),priority=parsedValue.length!=valueAsString.length?"important":void 0;eElement.style.setProperty(parsedKey,parsedValue,priority)}}function isHorizontalScrollShowing(element){return element.clientWidth<element.scrollWidth}function isVerticalScrollShowing(element){return element.clientHeight<element.scrollHeight}function setElementWidth(element,width){"flex"===width?(element.style.removeProperty("width"),element.style.removeProperty("minWidth"),element.style.removeProperty("maxWidth"),element.style.flex="1 1 auto"):setFixedWidth(element,width)}function setFixedWidth(element,width){width=formatSize(width),element.style.width=width.toString(),element.style.maxWidth=width.toString(),element.style.minWidth=width.toString()}function setElementHeight(element,height){"flex"===height?(element.style.removeProperty("height"),element.style.removeProperty("minHeight"),element.style.removeProperty("maxHeight"),element.style.flex="1 1 auto"):setFixedHeight(element,height)}function setFixedHeight(element,height){height=formatSize(height),element.style.height=height.toString(),element.style.maxHeight=height.toString(),element.style.minHeight=height.toString()}function formatSize(size){return"number"==typeof size?`${size}px`:size}function isNodeOrElement(o){return o instanceof Node||o instanceof HTMLElement}function copyNodeList(nodeList){if(null==nodeList)return[];const result=[];return nodeListForEach(nodeList,(node=>result.push(node))),result}function iterateNamedNodeMap(map,callback){if(map)for(let i=0;i<map.length;i++){const attr=map[i];callback(attr.name,attr.value)}}function addOrRemoveAttribute(element,name,value){null==value?element.removeAttribute(name):element.setAttribute(name,value.toString())}function nodeListForEach(nodeList,action){if(null!=nodeList)for(let i=0;i<nodeList.length;i++)action(nodeList[i])}function bindCellRendererToHtmlElement(cellRendererPromise,eTarget){cellRendererPromise.then((cellRenderer=>{const gui=cellRenderer.getGui();null!=gui&&("object"==typeof gui?eTarget.appendChild(gui):eTarget.innerHTML=gui)}))}const iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function createIcon(iconName,gridOptionsService,column){const iconContents=createIconNoSpan(iconName,gridOptionsService,column);if(iconContents){const{className}=iconContents;if("string"==typeof className&&className.indexOf("ag-icon")>-1||"object"==typeof className&&className["ag-icon"])return iconContents}const eResult=document.createElement("span");return eResult.appendChild(iconContents),eResult}function createIconNoSpan(iconName,gridOptionsService,column,forceCreate){let userProvidedIcon=null;const icons=column&&column.getColDef().icons;if(icons&&(userProvidedIcon=icons[iconName]),gridOptionsService&&!userProvidedIcon){const optionsIcons=gridOptionsService.get("icons");optionsIcons&&(userProvidedIcon=optionsIcons[iconName])}if(!userProvidedIcon){const span=document.createElement("span");let cssClass=iconNameClassMap[iconName];return cssClass||(forceCreate?cssClass=iconName:(console.warn(`AG Grid: Did not find icon ${iconName}`),cssClass="")),span.setAttribute("class",`ag-icon ag-icon-${cssClass}`),span.setAttribute("unselectable","on"),setAriaRole(span,"presentation"),span}{let rendererResult;if("function"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else{if("string"!=typeof userProvidedIcon)throw new Error("icon from grid options needs to be a string or a function");rendererResult=userProvidedIcon}if("string"==typeof rendererResult)return loadTemplate(rendererResult);if(isNodeOrElement(rendererResult))return rendererResult;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}class KeyCode{}KeyCode.BACKSPACE="Backspace",KeyCode.TAB="Tab",KeyCode.ENTER="Enter",KeyCode.ESCAPE="Escape",KeyCode.SPACE=" ",KeyCode.LEFT="ArrowLeft",KeyCode.UP="ArrowUp",KeyCode.RIGHT="ArrowRight",KeyCode.DOWN="ArrowDown",KeyCode.DELETE="Delete",KeyCode.F2="F2",KeyCode.PAGE_UP="PageUp",KeyCode.PAGE_DOWN="PageDown",KeyCode.PAGE_HOME="Home",KeyCode.PAGE_END="End",KeyCode.A="KeyA",KeyCode.C="KeyC",KeyCode.D="KeyD",KeyCode.V="KeyV",KeyCode.X="KeyX",KeyCode.Y="KeyY",KeyCode.Z="KeyZ";const A_KEYCODE=65,C_KEYCODE=67,V_KEYCODE=86,D_KEYCODE=68,Z_KEYCODE=90,Y_KEYCODE=89;function isEventFromPrintableCharacter(event){if(event.altKey||event.ctrlKey||event.metaKey)return!1;return 1===event.key.length}function isUserSuppressingKeyboardEvent(gridOptionsService,keyboardEvent,rowNode,column,editing){const colDefFunc=column?column.getColDef().suppressKeyboardEvent:void 0;if(!colDefFunc)return!1;const params={event:keyboardEvent,editing,column,api:gridOptionsService.api,node:rowNode,data:rowNode.data,colDef:column.getColDef(),context:gridOptionsService.context,columnApi:gridOptionsService.columnApi};if(colDefFunc){if(colDefFunc(params))return!0}return!1}function isUserSuppressingHeaderKeyboardEvent(gridOptionsService,keyboardEvent,headerRowIndex,column){const colDef=column.getDefinition(),colDefFunc=colDef&&colDef.suppressHeaderKeyboardEvent;if(!exists(colDefFunc))return!1;return!!colDefFunc({api:gridOptionsService.api,columnApi:gridOptionsService.columnApi,context:gridOptionsService.context,colDef,column,headerRowIndex,event:keyboardEvent})}function normaliseQwertyAzerty(keyboardEvent){const{keyCode}=keyboardEvent;let code;switch(keyCode){case A_KEYCODE:code=KeyCode.A;break;case C_KEYCODE:code=KeyCode.C;break;case V_KEYCODE:code=KeyCode.V;break;case D_KEYCODE:code=KeyCode.D;break;case Z_KEYCODE:code=KeyCode.Z;break;case Y_KEYCODE:code=KeyCode.Y;break;default:code=keyboardEvent.code}return code}function isDeleteKey(key,alwaysReturnFalseOnBackspace=!1){return key===KeyCode.DELETE||!alwaysReturnFalseOnBackspace&&key===KeyCode.BACKSPACE&&isMacOsUserAgent()}function areEventsNear(e1,e2,pixelCount){if(0===pixelCount)return!1;const diffX=Math.abs(e1.clientX-e2.clientX),diffY=Math.abs(e1.clientY-e2.clientY);return Math.max(diffX,diffY)<=pixelCount}function sortRowNodesByOrder(rowNodes,rowNodeOrder){if(!rowNodes)return!1;const comparator=(nodeA,nodeB)=>{const positionA=rowNodeOrder[nodeA.id],positionB=rowNodeOrder[nodeB.id],aHasIndex=void 0!==positionA,bHasIndex=void 0!==positionB;return aHasIndex&&bHasIndex?positionA-positionB:!aHasIndex&&!bHasIndex?nodeA.__objectId-nodeB.__objectId:aHasIndex?1:-1};let rowNodeA,rowNodeB,atLeastOneOutOfOrder=!1;for(let i=0;i<rowNodes.length-1;i++)if(rowNodeA=rowNodes[i],rowNodeB=rowNodes[i+1],comparator(rowNodeA,rowNodeB)>0){atLeastOneOutOfOrder=!0;break}return!!atLeastOneOutOfOrder&&(rowNodes.sort(comparator),!0)}function traverseNodesWithKey(nodes,callback){const keyParts=[];!function recursiveSearchNodes(currentNodes){if(!currentNodes)return;currentNodes.forEach((node=>{if(node.group||node.hasChildren()){keyParts.push(node.key);const key=keyParts.join("|");callback(node,key),recursiveSearchNodes(node.childrenAfterGroup),keyParts.pop()}}))}(nodes)}function convertToSet(list){const set=new Set;return list.forEach((x=>set.add(x))),set}const _=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aria_namespaceObject),array_namespaceObject),browser_namespaceObject),date_namespaceObject),dom_namespaceObject),event_namespaceObject),function_namespaceObject),fuzzyMatch_namespaceObject),generic_namespaceObject),icon_namespaceObject),keyboard_namespaceObject),map_namespaceObject),mouse_namespaceObject),number_namespaceObject),object_namespaceObject),rowNode_namespaceObject),set_namespaceObject),string_namespaceObject);class NumberSequence{constructor(initValue=0,step=1){this.nextValue=initValue,this.step=step}next(){const valToReturn=this.nextValue;return this.nextValue+=this.step,valToReturn}peek(){return this.nextValue}skip(count){this.nextValue+=count}}var AgPromiseStatus;!function(AgPromiseStatus){AgPromiseStatus[AgPromiseStatus.IN_PROGRESS=0]="IN_PROGRESS",AgPromiseStatus[AgPromiseStatus.RESOLVED=1]="RESOLVED"}(AgPromiseStatus||(AgPromiseStatus={}));class promise_AgPromise{constructor(callback){this.status=AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],callback((value=>this.onDone(value)),(params=>this.onReject(params)))}static all(promises){return new promise_AgPromise((resolve=>{let remainingToResolve=promises.length;const combinedValues=new Array(remainingToResolve);promises.forEach(((promise,index)=>{promise.then((value=>{combinedValues[index]=value,remainingToResolve--,0===remainingToResolve&&resolve(combinedValues)}))}))}))}static resolve(value=null){return new promise_AgPromise((resolve=>resolve(value)))}then(func){return new promise_AgPromise((resolve=>{this.status===AgPromiseStatus.RESOLVED?resolve(func(this.resolution)):this.waiters.push((value=>resolve(func(value))))}))}resolveNow(ifNotResolvedValue,ifResolved){return this.status===AgPromiseStatus.RESOLVED?ifResolved(this.resolution):ifNotResolvedValue}onDone(value){this.status=AgPromiseStatus.RESOLVED,this.resolution=value,this.waiters.forEach((waiter=>waiter(value)))}onReject(params){console.warn("TBI")}}var TooltipStates,TooltipTrigger,customTooltipFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(TooltipStates){TooltipStates[TooltipStates.NOTHING=0]="NOTHING",TooltipStates[TooltipStates.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",TooltipStates[TooltipStates.SHOWING=2]="SHOWING"}(TooltipStates||(TooltipStates={})),function(TooltipTrigger){TooltipTrigger[TooltipTrigger.HOVER=0]="HOVER",TooltipTrigger[TooltipTrigger.FOCUS=1]="FOCUS"}(TooltipTrigger||(TooltipTrigger={}));class CustomTooltipFeature extends BeanStub{constructor(parentComp,tooltipShowDelayOverride,tooltipHideDelayOverride){super(),this.parentComp=parentComp,this.tooltipShowDelayOverride=tooltipShowDelayOverride,this.tooltipHideDelayOverride=tooltipHideDelayOverride,this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=TooltipStates.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const el=this.parentComp.getGui();this.tooltipTrigger===TooltipTrigger.HOVER&&(this.addManagedListener(el,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(el,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===TooltipTrigger.FOCUS&&(this.addManagedListener(el,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(el,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(el,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(el,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(el,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(delayOption){const delay=this.gridOptionsService.getNum(delayOption);if(exists(delay))return delay<0&&function_doOnce((()=>console.warn(`AG Grid: ${delayOption} should not be lower than 0`)),`${delayOption}Warn`),Math.max(200,delay)}getTooltipDelay(type){var _a,_b,_c,_d;return"show"===type?null!==(_b=null!==(_a=this.getGridOptionsTooltipDelay("tooltipShowDelay"))&&void 0!==_a?_a:this.tooltipShowDelayOverride)&&void 0!==_b?_b:this.DEFAULT_SHOW_TOOLTIP_DELAY:null!==(_d=null!==(_c=this.getGridOptionsTooltipDelay("tooltipHideDelay"))&&void 0!==_c?_c:this.tooltipHideDelayOverride)&&void 0!==_d?_d:this.DEFAULT_HIDE_TOOLTIP_DELAY}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const trigger=this.gridOptionsService.get("tooltipTrigger");return trigger&&"hover"!==trigger?TooltipTrigger.FOCUS:TooltipTrigger.HOVER}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),isIOSUserAgent()||(CustomTooltipFeature.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(e)}),this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===TooltipStates.SHOWING&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var _a;const relatedTarget=e.relatedTarget,parentCompGui=this.parentComp.getGui(),tooltipGui=null===(_a=this.tooltipComp)||void 0===_a?void 0:_a.getGui();this.isInteractingWithTooltip||parentCompGui.contains(relatedTarget)||this.interactionEnabled&&(null==tooltipGui?void 0:tooltipGui.contains(relatedTarget))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(mouseEvent){if(this.state!=TooltipStates.NOTHING||CustomTooltipFeature.isLocked)return!1;let delay=0;return mouseEvent&&(delay=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=mouseEvent||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),delay),this.state=TooltipStates.WAITING_TO_SHOW,!0}isLastTooltipHiddenRecently(){return(new Date).getTime()-CustomTooltipFeature.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===TooltipStates.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=TooltipStates.NOTHING,this.lastMouseEvent=null}showTooltip(){const params=Object.assign({},this.parentComp.getTooltipParams());if(!exists(params.value))return void this.setToDoNothing();this.state=TooltipStates.SHOWING,this.tooltipInstanceCount++;const callback=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(params).newAgStackInstance().then(callback)}hideTooltip(forceHide){if(!forceHide&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),CustomTooltipFeature.lastTooltipHideTime=(new Date).getTime());const event={type:Events.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(event),this.state=TooltipStates.NOTHING}newTooltipComponentCallback(tooltipInstanceCopy,tooltipComp){if(this.state!==TooltipStates.SHOWING||this.tooltipInstanceCount!==tooltipInstanceCopy)return void this.getContext().destroyBean(tooltipComp);const eGui=tooltipComp.getGui();this.tooltipComp=tooltipComp,eGui.classList.contains("ag-tooltip")||eGui.classList.add("ag-tooltip-custom"),this.tooltipTrigger===TooltipTrigger.HOVER&&eGui.classList.add("ag-tooltip-animate"),this.interactionEnabled&&eGui.classList.add("ag-tooltip-interactive");const translate=this.localeService.getLocaleTextFunc(),addPopupRes=this.popupService.addPopup({eChild:eGui,ariaLabel:translate("ariaLabelTooltip","Tooltip")});addPopupRes&&(this.tooltipPopupDestroyFunc=addPopupRes.hideFunc),this.positionTooltip(),this.tooltipTrigger===TooltipTrigger.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===TooltipTrigger.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(eGui,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(eGui,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(eGui,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(eGui,"focusout",this.onTooltipFocusOut.bind(this))||null));const event={type:Events.EVENT_TOOLTIP_SHOW,tooltipGui:eGui,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(event),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var _a;const parentGui=this.parentComp.getGui(),tooltipGui=null===(_a=this.tooltipComp)||void 0===_a?void 0:_a.getGui(),relatedTarget=e.relatedTarget;(null==tooltipGui?void 0:tooltipGui.contains(relatedTarget))||(this.isInteractingWithTooltip=!1,parentGui.contains(relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const params={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Object.assign(Object.assign({},params),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Object.assign(Object.assign({},params),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const tooltipPopupDestroyFunc=this.tooltipPopupDestroyFunc,tooltipComp=this.tooltipComp,delay=this.tooltipTrigger===TooltipTrigger.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout((()=>{tooltipPopupDestroyFunc(),this.getContext().destroyBean(tooltipComp)}),delay),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((listener=>{listener&&listener()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){CustomTooltipFeature.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),this.INTERACTIVE_HIDE_DELAY)}unlockService(){CustomTooltipFeature.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}}CustomTooltipFeature.isLocked=!1,customTooltipFeature_decorate([Autowired("popupService")],CustomTooltipFeature.prototype,"popupService",void 0),customTooltipFeature_decorate([Autowired("userComponentFactory")],CustomTooltipFeature.prototype,"userComponentFactory",void 0),customTooltipFeature_decorate([PostConstruct],CustomTooltipFeature.prototype,"postConstruct",null);class CssClassManager{constructor(getGui){this.cssClassStates={},this.getGui=getGui}addCssClass(className){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.addCssClass(cls)));if(!0!==this.cssClassStates[className]&&className.length){const eGui=this.getGui();eGui&&eGui.classList.add(className),this.cssClassStates[className]=!0}}removeCssClass(className){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.removeCssClass(cls)));if(!1!==this.cssClassStates[className]&&className.length){const eGui=this.getGui();eGui&&eGui.classList.remove(className),this.cssClassStates[className]=!1}}containsCssClass(className){const eGui=this.getGui();return!!eGui&&eGui.classList.contains(className)}addOrRemoveCssClass(className,addOrRemove){if(!className)return;if(className.indexOf(" ")>=0){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.addOrRemoveCssClass(cls,addOrRemove)))}if(this.cssClassStates[className]!==addOrRemove&&className.length){const eGui=this.getGui();eGui&&eGui.classList.toggle(className,addOrRemove),this.cssClassStates[className]=addOrRemove}}}var component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const compIdSequence=new NumberSequence;class Component extends BeanStub{constructor(template){super(),this.displayed=!0,this.visible=!0,this.compId=compIdSequence.next(),this.cssClassManager=new CssClassManager((()=>this.eGui)),template&&this.setTemplate(template)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(newTooltipText,showDelayOverride,hideDelayOverride){const removeTooltip=()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)},addTooltip=()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new CustomTooltipFeature(this,showDelayOverride,hideDelayOverride))};this.tooltipText!=newTooltipText&&(this.tooltipText&&removeTooltip(),null!=newTooltipText&&(this.tooltipText=newTooltipText,this.tooltipText&&addTooltip()))}createChildComponentsFromTags(parentNode,paramsMap){copyNodeList(parentNode.childNodes).forEach((childNode=>{if(!(childNode instanceof HTMLElement))return;const childComp=this.createComponentFromElement(childNode,(childComp=>{childComp.getGui()&&this.copyAttributesFromNode(childNode,childComp.getGui())}),paramsMap);if(childComp){if(childComp.addItems&&childNode.children.length){this.createChildComponentsFromTags(childNode,paramsMap);const items=Array.prototype.slice.call(childNode.children);childComp.addItems(items)}this.swapComponentForNode(childComp,parentNode,childNode)}else childNode.childNodes&&this.createChildComponentsFromTags(childNode,paramsMap)}))}createComponentFromElement(element,afterPreCreateCallback,paramsMap){const key=element.nodeName,componentParams=paramsMap?paramsMap[element.getAttribute("ref")]:void 0,ComponentClass=this.agStackComponentsRegistry.getComponentClass(key);if(ComponentClass){Component.elementGettingCreated=element;const newComponent=new ComponentClass(componentParams);return newComponent.setParentComponent(this),this.createBean(newComponent,null,afterPreCreateCallback),newComponent}return null}copyAttributesFromNode(source,dest){iterateNamedNodeMap(source.attributes,((name,value)=>dest.setAttribute(name,value)))}swapComponentForNode(newComponent,parentNode,childNode){const eComponent=newComponent.getGui();parentNode.replaceChild(eComponent,childNode),parentNode.insertBefore(document.createComment(childNode.nodeName),eComponent),this.addDestroyFunc(this.destroyBean.bind(this,newComponent)),this.swapInComponentForQuerySelectors(newComponent,childNode)}swapInComponentForQuerySelectors(newComponent,childNode){const thisNoType=this;this.iterateOverQuerySelectors((querySelector=>{thisNoType[querySelector.attributeName]===childNode&&(thisNoType[querySelector.attributeName]=newComponent)}))}iterateOverQuerySelectors(action){let thisPrototype=Object.getPrototypeOf(this);for(;null!=thisPrototype;){const metaData=thisPrototype.__agComponentMetaData,currentProtoName=getFunctionName(thisPrototype.constructor);metaData&&metaData[currentProtoName]&&metaData[currentProtoName].querySelectors&&metaData[currentProtoName].querySelectors.forEach((querySelector=>action(querySelector))),thisPrototype=Object.getPrototypeOf(thisPrototype)}}activateTabIndex(elements){const tabIndex=this.gridOptionsService.getNum("tabIndex")||0;elements||(elements=[]),elements.length||elements.push(this.getGui()),elements.forEach((el=>el.setAttribute("tabindex",tabIndex.toString())))}setTemplate(template,paramsMap){const eGui=loadTemplate(template);this.setTemplateFromElement(eGui,paramsMap)}setTemplateFromElement(element,paramsMap){this.eGui=element,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),paramsMap)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const thisNoType=this;this.iterateOverQuerySelectors((querySelector=>{const setResult=result=>thisNoType[querySelector.attributeName]=result;if(querySelector.refSelector&&this.getAttribute("ref")===querySelector.refSelector)setResult(this.eGui);else{const resultOfQuery=this.eGui.querySelector(querySelector.querySelector);resultOfQuery&&setResult(resultOfQuery.__agComponent||resultOfQuery)}}))}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(component){this.parentComponent=component}getParentComponent(){return this.parentComponent}setGui(eGui){this.eGui=eGui}queryForHtmlElement(cssSelector){return this.eGui.querySelector(cssSelector)}queryForHtmlInputElement(cssSelector){return this.eGui.querySelector(cssSelector)}appendChild(newChild,container){if(null!=newChild)if(container||(container=this.eGui),isNodeOrElement(newChild))container.appendChild(newChild);else{const childComponent=newChild;container.appendChild(childComponent.getGui())}}isDisplayed(){return this.displayed}setVisible(visible,options={}){if(visible!==this.visible){this.visible=visible;const{skipAriaHidden}=options;setVisible(this.eGui,visible,{skipAriaHidden})}}setDisplayed(displayed,options={}){if(displayed!==this.displayed){this.displayed=displayed;const{skipAriaHidden}=options;setDisplayed(this.eGui,displayed,{skipAriaHidden});const event={type:Component.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(event)}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const eGui=this.eGui;eGui&&eGui.__agComponent&&(eGui.__agComponent=void 0),super.destroy()}addGuiEventListener(event,listener,options){this.eGui.addEventListener(event,listener,options),this.addDestroyFunc((()=>this.eGui.removeEventListener(event,listener)))}addCssClass(className){this.cssClassManager.addCssClass(className)}removeCssClass(className){this.cssClassManager.removeCssClass(className)}containsCssClass(className){return this.cssClassManager.containsCssClass(className)}addOrRemoveCssClass(className,addOrRemove){this.cssClassManager.addOrRemoveCssClass(className,addOrRemove)}getAttribute(key){const{eGui}=this;return eGui?eGui.getAttribute(key):null}getRefElement(refName){return this.queryForHtmlElement(`[ref="${refName}"]`)}}function RefSelector(ref){return querySelectorFunc.bind(this,`[ref=${ref}]`,ref)}function querySelectorFunc(selector,refSelector,classPrototype,methodOrAttributeName,index){null!==selector?"number"!=typeof index?function addToObjectProps(target,key,value){const props=function componentAnnotations_getOrCreateProps(target,instanceName){target.__agComponentMetaData||(target.__agComponentMetaData={});target.__agComponentMetaData[instanceName]||(target.__agComponentMetaData[instanceName]={});return target.__agComponentMetaData[instanceName]}(target,getFunctionName(target.constructor));props[key]||(props[key]=[]);props[key].push(value)}(classPrototype,"querySelectors",{attributeName:methodOrAttributeName,querySelector:selector,refSelector}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}Component.EVENT_DISPLAYED_CHANGED="displayedChanged",component_decorate([Autowired("agStackComponentsRegistry")],Component.prototype,"agStackComponentsRegistry",void 0),component_decorate([PreConstruct],Component.prototype,"preConstructOnComponent",null),component_decorate([PreConstruct],Component.prototype,"createChildComponentsPreConstruct",null);var readOnlyFloatingFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ReadOnlyFloatingFilter extends Component{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(params){this.params=params;const displayName=this.columnModel.getDisplayNameForColumn(params.column,"header",!0),translate=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${displayName} ${translate("ariaFilterInput","Filter Input")}`)}onParentModelChanged(parentModel){parentModel?this.params.parentFilterInstance((filterInstance=>{if(filterInstance.getModelAsString){const modelAsString=filterInstance.getModelAsString(parentModel);this.eFloatingFilterText.setValue(modelAsString)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(params){this.init(params)}}readOnlyFloatingFilter_decorate([RefSelector("eFloatingFilterText")],ReadOnlyFloatingFilter.prototype,"eFloatingFilterText",void 0),readOnlyFloatingFilter_decorate([Autowired("columnModel")],ReadOnlyFloatingFilter.prototype,"columnModel",void 0);class DateCompWrapper{constructor(context,userComponentFactory,dateComponentParams,eParent){this.alive=!0,this.context=context,this.eParent=eParent;userComponentFactory.getDateCompDetails(dateComponentParams).newAgStackInstance().then((dateComp=>{this.alive?(this.dateComp=dateComp,dateComp&&(eParent.appendChild(dateComp.getGui()),dateComp.afterGuiAttached&&dateComp.afterGuiAttached(),this.tempValue&&dateComp.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):context.destroyBean(dateComp)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(value){this.dateComp?this.dateComp.setDate(value):this.tempValue=value}setDisabled(disabled){this.dateComp?this.setDateCompDisabled(disabled):this.disabled=disabled}setDisplayed(displayed){setDisplayed(this.eParent,displayed)}setInputPlaceholder(placeholder){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(placeholder)}setInputAriaLabel(label){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(label)}afterGuiAttached(params){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(params)}updateParams(params){var _a;(null===(_a=this.dateComp)||void 0===_a?void 0:_a.onParamsUpdated)&&"function"==typeof this.dateComp.onParamsUpdated&&this.dateComp.onParamsUpdated(params)}setDateCompDisabled(disabled){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(disabled)}}class OptionsFactory{constructor(){this.customFilterOptions={}}init(params,defaultOptions){this.filterOptions=params.filterOptions||defaultOptions,this.mapCustomOptions(),this.selectDefaultItem(params)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((filterOption=>{if("string"==typeof filterOption)return;[["displayKey"],["displayName"],["predicate","test"]].every((keys=>!!keys.some((key=>null!=filterOption[key]))||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${keys}'`),!1)))?this.customFilterOptions[filterOption.displayKey]=filterOption:this.filterOptions=this.filterOptions.filter((v=>v===filterOption))||[]}))}selectDefaultItem(params){if(params.defaultOption)this.defaultOption=params.defaultOption;else if(this.filterOptions.length>=1){const firstFilterOption=this.filterOptions[0];"string"==typeof firstFilterOption?this.defaultOption=firstFilterOption:firstFilterOption.displayKey?this.defaultOption=firstFilterOption.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(name){return this.customFilterOptions[name]}}const DEFAULT_FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var managedFocusFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ManagedFocusFeature extends BeanStub{constructor(eFocusableElement,callbacks={}){super(),this.eFocusableElement=eFocusableElement,this.callbacks=callbacks,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const nextRoot=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);nextRoot&&(nextRoot.focus(),e.preventDefault())}},callbacks)}postConstruct(){this.eFocusableElement.classList.add(ManagedFocusFeature.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(eGui){this.addManagedListener(eGui,"keydown",(e=>{e.defaultPrevented||isStopPropagationForAgGrid(e)||(this.callbacks.shouldStopEventPropagation(e)?stopPropagationForAgGrid(e):e.key===KeyCode.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}))}}ManagedFocusFeature.FOCUS_MANAGED_CLASS="ag-focus-managed",managedFocusFeature_decorate([Autowired("focusService")],ManagedFocusFeature.prototype,"focusService",void 0),managedFocusFeature_decorate([PostConstruct],ManagedFocusFeature.prototype,"postConstruct",null);var positionableFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class PositionableFeature extends BeanStub{constructor(element,config){super(),this.element=element,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},config)}center(){const{clientHeight,clientWidth}=this.offsetParent,x=clientWidth/2-this.getWidth()/2,y=clientHeight/2-this.getHeight()/2;this.offsetElement(x,y)}initialisePosition(){if(this.positioned)return;const{centered,forcePopupParentAsOffsetParent,minWidth,width,minHeight,height,x,y}=this.config;this.offsetParent||this.setOffsetParent();let computedMinHeight=0,computedMinWidth=0;const isVisible=!!this.element.offsetParent;if(isVisible){const boundaryEl=this.findBoundaryElement(),offsetParentComputedStyles=window.getComputedStyle(boundaryEl);if(null!=offsetParentComputedStyles.minWidth){const paddingWidth=boundaryEl.offsetWidth-this.element.offsetWidth;computedMinWidth=parseInt(offsetParentComputedStyles.minWidth,10)-paddingWidth}if(null!=offsetParentComputedStyles.minHeight){const paddingHeight=boundaryEl.offsetHeight-this.element.offsetHeight;computedMinHeight=parseInt(offsetParentComputedStyles.minHeight,10)-paddingHeight}}if(this.minHeight=minHeight||computedMinHeight,this.minWidth=minWidth||computedMinWidth,width&&this.setWidth(width),height&&this.setHeight(height),width&&height||this.refreshSize(),centered)this.center();else if(x||y)this.offsetElement(x,y);else if(isVisible&&forcePopupParentAsOffsetParent){let boundaryEl=this.boundaryEl,initialisedDuringPositioning=!0;if(boundaryEl||(boundaryEl=this.findBoundaryElement(),initialisedDuringPositioning=!1),boundaryEl){const top=parseFloat(boundaryEl.style.top),left=parseFloat(boundaryEl.style.left);initialisedDuringPositioning?this.offsetElement(isNaN(left)?0:left,isNaN(top)?0:top):this.setPosition(left,top)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(movable,moveElement){if(!this.config.popup||movable===this.movable)return;this.movable=movable;const params=this.moveElementDragListener||{eElement:moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};movable?(this.dragService.addDragSource(params),this.moveElementDragListener=params):(this.dragService.removeDragSource(params),this.moveElementDragListener=void 0)}setResizable(resizable){if(this.clearResizeListeners(),resizable?this.addResizers():this.removeResizers(),"boolean"==typeof resizable){if(!1===resizable)return;resizable={topLeft:resizable,top:resizable,topRight:resizable,right:resizable,bottomRight:resizable,bottom:resizable,bottomLeft:resizable,left:resizable}}Object.keys(resizable).forEach((side=>{const isSideResizable=!!resizable[side],resizerEl=this.getResizerElement(side),params={dragStartPixels:0,eElement:resizerEl,onDragStart:e=>this.onResizeStart(e,side),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,side)};(isSideResizable||!this.isAlive()&&!isSideResizable)&&(isSideResizable?(this.dragService.addDragSource(params),this.resizeListeners.push(params),resizerEl.style.pointerEvents="all"):resizerEl.style.pointerEvents="none",this.resizable[side]=isSideResizable)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height,width}=this.lastSize;-1!==width&&(this.element.style.width=`${width}px`),-1!==height&&(this.element.style.height=`${height}px`)}getHeight(){return this.element.offsetHeight}setHeight(height){const{popup}=this.config,eGui=this.element;let isPercent=!1;if("string"==typeof height&&-1!==height.indexOf("%"))setFixedHeight(eGui,height),height=getAbsoluteHeight(eGui),isPercent=!0;else if(height=Math.max(this.minHeight,height),this.positioned){const availableHeight=this.getAvailableHeight();availableHeight&&height>availableHeight&&(height=availableHeight)}this.getHeight()!==height&&(isPercent?(eGui.style.maxHeight="unset",eGui.style.minHeight="unset"):popup?setFixedHeight(eGui,height):(eGui.style.height=`${height}px`,eGui.style.flex="0 0 auto",this.lastSize.height="number"==typeof height?height:parseFloat(height)))}getAvailableHeight(){const{popup,forcePopupParentAsOffsetParent}=this.config;this.positioned||this.initialisePosition();const{clientHeight}=this.offsetParent;if(!clientHeight)return null;const elRect=this.element.getBoundingClientRect(),offsetParentRect=this.offsetParent.getBoundingClientRect(),yPosition=popup?this.position.y:elRect.top,parentTop=popup?0:offsetParentRect.top;let additionalHeight=0;if(forcePopupParentAsOffsetParent){const parentEl=this.element.parentElement;if(parentEl){const{bottom}=parentEl.getBoundingClientRect();additionalHeight=bottom-elRect.bottom}}return clientHeight+parentTop-yPosition-additionalHeight}getWidth(){return this.element.offsetWidth}setWidth(width){const eGui=this.element,{popup}=this.config;let isPercent=!1;if("string"==typeof width&&-1!==width.indexOf("%"))setFixedWidth(eGui,width),width=getAbsoluteWidth(eGui),isPercent=!0;else if(this.positioned){width=Math.max(this.minWidth,width);const{clientWidth}=this.offsetParent,xPosition=popup?this.position.x:this.element.getBoundingClientRect().left;clientWidth&&width+xPosition>clientWidth&&(width=clientWidth-xPosition)}this.getWidth()!==width&&(isPercent?(eGui.style.maxWidth="unset",eGui.style.minWidth="unset"):this.config.popup?setFixedWidth(eGui,width):(eGui.style.width=`${width}px`,eGui.style.flex=" unset",this.lastSize.width="number"==typeof width?width:parseFloat(width)))}offsetElement(x=0,y=0){const{forcePopupParentAsOffsetParent}=this.config,ePopup=forcePopupParentAsOffsetParent?this.boundaryEl:this.element;ePopup&&(this.popupService.positionPopup({ePopup,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x,y})}),this.setPosition(parseFloat(ePopup.style.left),parseFloat(ePopup.style.top)))}constrainSizeToAvailableHeight(constrain){if(!this.config.forcePopupParentAsOffsetParent)return;const applyMaxHeightToElement=()=>{const availableHeight=this.getAvailableHeight();this.element.style.setProperty("max-height",`${availableHeight}px`)};constrain?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),applyMaxHeightToElement):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(x,y){this.position.x=x,this.position.y=y}updateDragStartPosition(x,y){this.dragStartPosition={x,y}}calculateMouseMovement(params){const{e,isLeft,isTop,anywhereWithin,topBuffer}=params,xDiff=e.clientX-this.dragStartPosition.x,yDiff=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!isLeft,!!anywhereWithin,xDiff)?0:xDiff,movementY:this.shouldSkipY(e,!!isTop,topBuffer,yDiff)?0:yDiff}}shouldSkipX(e,isLeft,anywhereWithin,diff){const elRect=this.element.getBoundingClientRect(),parentRect=this.offsetParent.getBoundingClientRect(),boundaryElRect=this.boundaryEl.getBoundingClientRect(),xPosition=this.config.popup?this.position.x:elRect.left;let skipX=xPosition<=0&&parentRect.left>=e.clientX||parentRect.right<=e.clientX&&parentRect.right<=boundaryElRect.right;return!!skipX||(skipX=isLeft?diff<0&&e.clientX>xPosition+parentRect.left||diff>0&&e.clientX<xPosition+parentRect.left:anywhereWithin?diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<xPosition+parentRect.left:diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<boundaryElRect.right,skipX)}shouldSkipY(e,isTop,topBuffer=0,diff){const elRect=this.element.getBoundingClientRect(),parentRect=this.offsetParent.getBoundingClientRect(),boundaryElRect=this.boundaryEl.getBoundingClientRect(),yPosition=this.config.popup?this.position.y:elRect.top;let skipY=yPosition<=0&&parentRect.top>=e.clientY||parentRect.bottom<=e.clientY&&parentRect.bottom<=boundaryElRect.bottom;return!!skipY||(skipY=isTop?diff<0&&e.clientY>yPosition+parentRect.top+topBuffer||diff>0&&e.clientY<yPosition+parentRect.top:diff<0&&e.clientY>boundaryElRect.bottom||diff>0&&e.clientY<boundaryElRect.bottom,skipY)}createResizeMap(){const eGui=this.element;this.resizerMap={topLeft:{element:eGui.querySelector("[ref=eTopLeftResizer]")},top:{element:eGui.querySelector("[ref=eTopResizer]")},topRight:{element:eGui.querySelector("[ref=eTopRightResizer]")},right:{element:eGui.querySelector("[ref=eRightResizer]")},bottomRight:{element:eGui.querySelector("[ref=eBottomRightResizer]")},bottom:{element:eGui.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:eGui.querySelector("[ref=eBottomLeftResizer]")},left:{element:eGui.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const eGui=this.element;if(!eGui)return;const resizers=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;eGui.appendChild(resizers.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const resizerEl=this.element.querySelector(".ag-resizer-wrapper");resizerEl&&this.element.removeChild(resizerEl),this.resizersAdded=!1}getResizerElement(side){return this.resizerMap[side].element}onResizeStart(e,side){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!side.match(/top/i),isRight:!!side.match(/right/i),isBottom:!!side.match(/bottom/i),isLeft:!!side.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[side].element.classList.add("ag-active");const{popup,forcePopupParentAsOffsetParent}=this.config;popup||forcePopupParentAsOffsetParent||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const parent=this.element.parentElement;return parent?Array.prototype.slice.call(parent.children).filter((el=>!el.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const siblings=this.getSiblings()||[];let height=0,width=0;for(let i=0;i<siblings.length;i++){const currentEl=siblings[i],isFlex=!!currentEl.style.flex&&"0 0 auto"!==currentEl.style.flex;if(currentEl===this.element)continue;let nextHeight=this.minHeight||0,nextWidth=this.minWidth||0;if(isFlex){const computedStyle=window.getComputedStyle(currentEl);computedStyle.minHeight&&(nextHeight=parseInt(computedStyle.minHeight,10)),computedStyle.minWidth&&(nextWidth=parseInt(computedStyle.minWidth,10))}else nextHeight=currentEl.offsetHeight,nextWidth=currentEl.offsetWidth;height+=nextHeight,width+=nextWidth}return{height,width}}applySizeToSiblings(vertical){let containerToFlex=null;const siblings=this.getSiblings();if(siblings){for(let i=0;i<siblings.length;i++){const el=siblings[i];el!==containerToFlex&&(vertical?el.style.height=`${el.offsetHeight}px`:el.style.width=`${el.offsetWidth}px`,el.style.flex="0 0 auto",el===this.element&&(containerToFlex=siblings[i+1]))}containerToFlex&&(containerToFlex.style.removeProperty("height"),containerToFlex.style.removeProperty("min-height"),containerToFlex.style.removeProperty("max-height"),containerToFlex.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((value=>value))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup,forcePopupParentAsOffsetParent}=this.config,{isTop,isRight,isBottom,isLeft}=this.currentResizer,isHorizontal=isRight||isLeft,isVertical=isBottom||isTop,{movementX,movementY}=this.calculateMouseMovement({e,isLeft,isTop}),xPosition=this.position.x,yPosition=this.position.y;let offsetLeft=0,offsetTop=0;if(isHorizontal&&movementX){const direction=isLeft?-1:1,oldWidth=this.getWidth(),newWidth=oldWidth+movementX*direction;let skipWidth=!1;isLeft&&(offsetLeft=oldWidth-newWidth,(xPosition+offsetLeft<=0||newWidth<=this.minWidth)&&(skipWidth=!0,offsetLeft=0)),skipWidth||this.setWidth(newWidth)}if(isVertical&&movementY){const direction=isTop?-1:1,oldHeight=this.getHeight(),newHeight=oldHeight+movementY*direction;let skipHeight=!1;isTop?(offsetTop=oldHeight-newHeight,(yPosition+offsetTop<=0||newHeight<=this.minHeight)&&(skipHeight=!0,offsetTop=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&oldHeight<newHeight&&this.getMinSizeOfSiblings().height+newHeight>this.element.parentElement.offsetHeight&&(skipHeight=!0),skipHeight||this.setHeight(newHeight)}this.updateDragStartPosition(e.clientX,e.clientY),((popup||forcePopupParentAsOffsetParent)&&offsetLeft||offsetTop)&&this.offsetElement(xPosition+offsetLeft,yPosition+offsetTop)}onResizeEnd(e,side){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const params={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[side].element.classList.remove("ag-active"),this.dispatchEvent(params)}refreshSize(){const eGui=this.element;this.config.popup&&(this.config.width||this.setWidth(eGui.offsetWidth),this.config.height||this.setHeight(eGui.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x,y}=this.position;let topBuffer;this.config.calculateTopBuffer&&(topBuffer=this.config.calculateTopBuffer());const{movementX,movementY}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer});this.offsetElement(x+movementX,y+movementY),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let el=this.element;for(;el;){if("static"!==window.getComputedStyle(el).position)return el;el=el.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const params=this.resizeListeners.pop();this.dragService.removeDragSource(params)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}}positionableFeature_decorate([Autowired("popupService")],PositionableFeature.prototype,"popupService",void 0),positionableFeature_decorate([Autowired("resizeObserverService")],PositionableFeature.prototype,"resizeObserverService",void 0),positionableFeature_decorate([Autowired("dragService")],PositionableFeature.prototype,"dragService",void 0);var providedFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ProvidedFilter extends Component{constructor(filterNameKey){super(),this.filterNameKey=filterNameKey,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new PositionableFeature(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(paramsMap){let eGui=this.getGui();eGui&&eGui.removeEventListener("submit",this.onFormSubmit);const templateString=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(templateString,paramsMap),eGui=this.getGui(),eGui&&eGui.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(params){this.setParams(params),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(params){this.providedFilterParams=params,this.applyActive=ProvidedFilter.isUseApplyButton(params),this.createButtonPanel()}createButtonPanel(){const{buttons}=this.providedFilterParams;if(!buttons||buttons.length<1||this.isReadOnly())return;const eButtonsPanel=document.createElement("div");eButtonsPanel.classList.add("ag-filter-apply-panel");const addButton=type=>{let text,clickListener;switch(type){case"apply":text=this.translate("applyFilter"),clickListener=e=>this.onBtApply(!1,!1,e);break;case"clear":text=this.translate("clearFilter"),clickListener=()=>this.onBtClear();break;case"reset":text=this.translate("resetFilter"),clickListener=()=>this.onBtReset();break;case"cancel":text=this.translate("cancelFilter"),clickListener=e=>{this.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const button=loadTemplate(`<button\n                    type="${"apply"===type?"submit":"button"}"\n                    ref="${type}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${text}\n                </button>`);eButtonsPanel.appendChild(button),this.addManagedListener(button,"click",clickListener)};convertToSet(buttons).forEach((type=>addButton(type))),this.getGui().appendChild(eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const debounceMs=ProvidedFilter.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),debounceFunc=debounce(this.checkApplyDebounce.bind(this),debounceMs);this.onBtApplyDebounce=()=>{this.debouncePending=!0,debounceFunc()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(model){return(null!=model?this.setModelIntoUi(model):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(currentModel,afterUiUpdatedFunc){const afterAppliedFunc=()=>{this.onUiChanged(!1,"prevent"),null==afterUiUpdatedFunc||afterUiUpdatedFunc()};null!=currentModel?this.setModelIntoUi(currentModel).then(afterAppliedFunc):this.resetUiToDefaults().then(afterAppliedFunc)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(source="api"){const newModel=this.getModelFromUi();if(!this.isModelValid(newModel))return!1;const previousModel=this.appliedModel;return this.appliedModel=newModel,!this.areModelsEqual(previousModel,newModel)}isModelValid(model){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(afterFloatingFilter=!1,afterDataChange=!1,e){if(e&&e.preventDefault(),this.applyModel(afterDataChange?"rowDataUpdated":"ui")){const source="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter,afterDataChange,source})}const{closeOnApply}=this.providedFilterParams;closeOnApply&&this.applyActive&&!afterFloatingFilter&&!afterDataChange&&this.close(e)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const keyboardEvent=e,key=keyboardEvent&&keyboardEvent.key;let params;"Enter"!==key&&"Space"!==key||(params={keyboardEvent}),this.hidePopup(params),this.hidePopup=null}onUiChanged(fromFloatingFilter=!1,apply){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const isValid=this.isModelValid(this.getModelFromUi());setDisabled(this.getRefElement("applyFilterButton"),!isValid)}fromFloatingFilter&&!apply||"immediately"===apply?this.onBtApply(fromFloatingFilter):(this.applyActive||apply)&&"debounce"!==apply||this.onBtApplyDebounce()}afterGuiAttached(params){params&&(this.hidePopup=params.hidePopup),this.refreshFilterResizer(null==params?void 0:params.container)}refreshFilterResizer(containerType){if(!this.positionableFeature||"toolPanel"===containerType)return;const isFloatingFilter="floatingFilter"===containerType,{positionableFeature,gridOptionsService}=this;isFloatingFilter?(positionableFeature.restoreLastSize(),positionableFeature.setResizable(gridOptionsService.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(params,debounceDefault){return ProvidedFilter.isUseApplyButton(params)?(null!=params.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=params.debounceMs?params.debounceMs:debounceDefault}static isUseApplyButton(params){return!!params.buttons&&params.buttons.indexOf("apply")>=0}destroy(){const eGui=this.getGui();eGui&&eGui.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(key){return this.localeService.getLocaleTextFunc()(key,DEFAULT_FILTER_LOCALE_TEXT[key])}getCellValue(rowNode){const{api,colDef,column,columnApi,context}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api,colDef,column,columnApi,context,data:rowNode.data,getValue:field=>rowNode.data[field],node:rowNode})}getPositionableElement(){return this.eFilterBody}}providedFilter_decorate([Autowired("rowModel")],ProvidedFilter.prototype,"rowModel",void 0),providedFilter_decorate([RefSelector("eFilterBody")],ProvidedFilter.prototype,"eFilterBody",void 0),providedFilter_decorate([PostConstruct],ProvidedFilter.prototype,"postConstruct",null);var agAbstractLabel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgAbstractLabel extends Component{constructor(config,template){super(template),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=config||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator,label,labelWidth,labelAlignment}=this.config;null!=labelSeparator&&this.setLabelSeparator(labelSeparator),null!=label&&this.setLabel(label),null!=labelWidth&&this.setLabelWidth(labelWidth),this.setLabelAlignment(labelAlignment||this.labelAlignment),this.refreshLabel()}refreshLabel(){clearElement(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(setDisplayed(this.eLabel,!1),setAriaRole(this.eLabel,"presentation")):(setDisplayed(this.eLabel,!0),setAriaRole(this.eLabel,null))}setLabelSeparator(labelSeparator){return this.labelSeparator===labelSeparator||(this.labelSeparator=labelSeparator,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(label){return this.label===label||(this.label=label,this.refreshLabel()),this}setLabelAlignment(alignment){const eGuiClassList=this.getGui().classList;return eGuiClassList.toggle("ag-label-align-left","left"===alignment),eGuiClassList.toggle("ag-label-align-right","right"===alignment),eGuiClassList.toggle("ag-label-align-top","top"===alignment),this}setLabelEllipsis(hasEllipsis){return this.eLabel.classList.toggle("ag-label-ellipsis",hasEllipsis),this}setLabelWidth(width){return null==this.label||setElementWidth(this.eLabel,width),this}setDisabled(disabled){disabled=!!disabled;const element=this.getGui();return setDisabled(element,disabled),element.classList.toggle("ag-disabled",disabled),this.disabled=disabled,this}isDisabled(){return!!this.disabled}}agAbstractLabel_decorate([PostConstruct],AgAbstractLabel.prototype,"postConstruct",null);class AgAbstractField extends AgAbstractLabel{constructor(config,template,className){super(config,template),this.className=className}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(callbackFn){return this.addManagedListener(this,Events.EVENT_FIELD_VALUE_CHANGED,(()=>callbackFn(this.getValue()))),this}getWidth(){return this.getGui().clientWidth}setWidth(width){return setFixedWidth(this.getGui(),width),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(value,silent){return this.value===value||(this.previousValue=this.value,this.value=value,silent||this.dispatchEvent({type:Events.EVENT_FIELD_VALUE_CHANGED})),this}}var agPickerField_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgPickerField extends AgAbstractField{constructor(config){if(super(config,(null==config?void 0:config.template)||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',null==config?void 0:config.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=null==config?void 0:config.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!config)return;const{pickerGap,maxPickerHeight,variableWidth,minPickerWidth,maxPickerWidth}=config;null!=pickerGap&&(this.pickerGap=pickerGap),this.variableWidth=!!variableWidth,null!=maxPickerHeight&&this.setPickerMaxHeight(maxPickerHeight),null!=minPickerWidth&&this.setPickerMinWidth(minPickerWidth),null!=maxPickerWidth&&this.setPickerMaxWidth(maxPickerWidth)}postConstruct(){super.postConstruct(),this.setupAria();const displayId=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",displayId);const ariaEl=this.getAriaElement();setAriaDescribedBy(ariaEl,displayId),this.addManagedListener(ariaEl,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon}=this.config;if(pickerIcon){const icon=createIconNoSpan(pickerIcon,this.gridOptionsService);icon&&this.eIcon.appendChild(icon)}}setupAria(){const ariaEl=this.getAriaElement();ariaEl.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),setAriaExpanded(ariaEl,!1),this.ariaRole&&setAriaRole(ariaEl,this.ariaRole)}refreshLabel(){var _a;setAriaLabelledBy(this.getAriaElement(),null!==(_a=this.getLabelId())&&void 0!==_a?_a:""),super.refreshLabel()}onLabelOrWrapperMouseDown(e){e&&(e.preventDefault(),this.getFocusableElement().focus()),this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case KeyCode.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const pickerGui=this.pickerComponent.getGui();pickerGui.addEventListener("focusin",this.onPickerFocusIn),pickerGui.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const eDocument=this.gridOptionsService.getDocument(),ePicker=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(eDocument.body,"wheel",(e=>{ePicker.contains(e.target)||this.hidePicker()})));const translate=this.localeService.getLocaleTextFunc(),{pickerType,pickerAriaLabelKey,pickerAriaLabelValue,modalPicker=!0}=this.config,popupParams={modal:modalPicker,eChild:ePicker,closeOnEsc:!0,closedCallback:()=>{const shouldRestoreFocus=eDocument.activeElement===eDocument.body;this.beforeHidePicker(),shouldRestoreFocus&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:translate(pickerAriaLabelKey,pickerAriaLabelValue)},addPopupRes=this.popupService.addPopup(popupParams),{maxPickerHeight,minPickerWidth,maxPickerWidth,pickerGap,variableWidth}=this;variableWidth?(minPickerWidth&&(ePicker.style.minWidth=minPickerWidth),ePicker.style.width=formatSize(getAbsoluteWidth(this.eWrapper)),maxPickerWidth&&(ePicker.style.maxWidth=maxPickerWidth)):setElementWidth(ePicker,null!=maxPickerWidth?maxPickerWidth:getAbsoluteWidth(this.eWrapper));const maxHeight=null!=maxPickerHeight?maxPickerHeight:`${getInnerHeight(this.popupService.getPopupParent())}px`;ePicker.style.setProperty("max-height",maxHeight),ePicker.style.position="absolute";const alignSide=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:pickerType,eventSource:this.eWrapper,ePopup:ePicker,position:"under",alignSide,keepWithinBounds:!0,nudgeY:pickerGap}),addPopupRes.hideFunc}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const pickerGui=this.pickerComponent.getGui();pickerGui.removeEventListener("focusin",this.onPickerFocusIn),pickerGui.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(expanded){if(!this.isAlive())return;setAriaExpanded(this.getAriaElement(),expanded),this.eWrapper.classList.toggle("ag-picker-expanded",expanded),this.eWrapper.classList.toggle("ag-picker-collapsed",!expanded)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var _a;(null===(_a=this.pickerComponent)||void 0===_a?void 0:_a.getGui().contains(e.relatedTarget))||this.togglePickerHasFocus(!1)}togglePickerHasFocus(focused){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",focused)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setAriaLabel(label){return setAriaLabel(this.getAriaElement(),label),this}setInputWidth(width){return setElementWidth(this.eWrapper,width),this}getFocusableElement(){return this.eWrapper}setPickerGap(gap){return this.pickerGap=gap,this}setPickerMinWidth(width){return"number"==typeof width&&(width=`${width}px`),this.minPickerWidth=null==width?void 0:width,this}setPickerMaxWidth(width){return"number"==typeof width&&(width=`${width}px`),this.maxPickerWidth=null==width?void 0:width,this}setPickerMaxHeight(height){return"number"==typeof height&&(height=`${height}px`),this.maxPickerHeight=null==height?void 0:height,this}destroy(){this.hidePicker(),super.destroy()}}agPickerField_decorate([Autowired("popupService")],AgPickerField.prototype,"popupService",void 0),agPickerField_decorate([RefSelector("eLabel")],AgPickerField.prototype,"eLabel",void 0),agPickerField_decorate([RefSelector("eWrapper")],AgPickerField.prototype,"eWrapper",void 0),agPickerField_decorate([RefSelector("eDisplayField")],AgPickerField.prototype,"eDisplayField",void 0),agPickerField_decorate([RefSelector("eIcon")],AgPickerField.prototype,"eIcon",void 0);var agList_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgList extends Component{constructor(cssIdentifier="default"){super(`<div class="ag-list ag-${cssIdentifier}-list" role="listbox"></div>`),this.cssIdentifier=cssIdentifier,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const key=e.key;switch(key){case KeyCode.ENTER:if(this.highlightedEl){const pos=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(pos)}else this.setValue(this.getValue());break;case KeyCode.DOWN:case KeyCode.UP:const isDown=key===KeyCode.DOWN;let itemToHighlight;if(e.preventDefault(),this.highlightedEl){let nextPos=this.itemEls.indexOf(this.highlightedEl)+(isDown?1:-1);nextPos=Math.min(Math.max(nextPos,0),this.itemEls.length-1),itemToHighlight=this.itemEls[nextPos]}else itemToHighlight=this.itemEls[isDown?0:this.itemEls.length-1];this.highlightItem(itemToHighlight)}}addOptions(listOptions){return listOptions.forEach((listOption=>this.addOption(listOption))),this}addOption(listOption){const{value,text}=listOption,sanitisedText=escapeString(text||value);return this.options.push({value,text:sanitisedText}),this.renderOption(value,sanitisedText),this.updateIndices(),this}updateIndices(){const options=this.getGui().querySelectorAll(".ag-list-item");options.forEach(((option,idx)=>{setAriaPosInSet(option,idx+1),setAriaSetSize(option,options.length)}))}renderOption(value,text){const itemEl=document.createElement("div");setAriaRole(itemEl,"option"),itemEl.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),itemEl.innerHTML=`<span>${text}</span>`,itemEl.tabIndex=-1,this.itemEls.push(itemEl),this.addManagedListener(itemEl,"mouseover",(()=>this.highlightItem(itemEl))),this.addManagedListener(itemEl,"mouseleave",(()=>this.clearHighlighted())),this.addManagedListener(itemEl,"click",(()=>this.setValue(value))),this.getGui().appendChild(itemEl)}setValue(value,silent){if(this.value===value)return this.fireItemSelected(),this;if(null==value)return this.reset(),this;const idx=this.options.findIndex((option=>option.value===value));if(-1!==idx){const option=this.options[idx];this.value=option.value,this.displayValue=null!=option.text?option.text:option.value,this.highlightItem(this.itemEls[idx]),silent||this.fireChangeEvent()}return this}setValueByIndex(idx){return this.setValue(this.options[idx].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const idx=this.options.findIndex((option=>option.value===this.value));-1!==idx&&this.highlightItem(this.itemEls[idx])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(el){el.offsetParent&&(this.clearHighlighted(),this.highlightedEl=el,this.highlightedEl.classList.add(AgList.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(AgList.ACTIVE_CLASS),setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:Events.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:AgList.EVENT_ITEM_SELECTED})}}AgList.EVENT_ITEM_SELECTED="selectedItem",AgList.ACTIVE_CLASS="ag-active-item",agList_decorate([PostConstruct],AgList.prototype,"init",null);class AgSelect extends AgPickerField{constructor(config){super(Object.assign({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},config))}postConstruct(){var _a;super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=null!==(_a=this.gridOptionsService.getNum("tabIndex"))&&void 0!==_a?_a:0}createListComponent(){this.listComponent=this.createBean(new AgList("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",(e=>{e.key===KeyCode.TAB&&(e.preventDefault(),e.stopImmediatePropagation(),this.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,bubbles:!0})))})),this.listComponent.addManagedListener(this.listComponent,AgList.EVENT_ITEM_SELECTED,(()=>{this.hidePicker(),this.dispatchEvent({type:AgSelect.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,Events.EVENT_FIELD_VALUE_CHANGED,(()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}))}createPickerComponent(){return this.listComponent}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(options){return options.forEach((option=>this.addOption(option))),this}addOption(option){return this.listComponent.addOption(option),this}setValue(value,silent,fromPicker){if(this.value===value||!this.listComponent)return this;fromPicker||this.listComponent.setValue(value,!0);return this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(value,silent))}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}}AgSelect.EVENT_ITEM_SELECTED="selectedItem";var agAbstractInputField_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgAbstractInputField extends AgAbstractField{constructor(config,className,inputType="text",displayFieldTag="input"){super(config,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${displayFieldTag} ref="eInput" class="ag-input-field-input"></${displayFieldTag}>\n                </div>\n            </div>`,className),this.inputType=inputType,this.displayFieldTag=displayFieldTag}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width,value}=this.config;null!=width&&this.setWidth(width),null!=value&&this.setValue(value),this.addInputListeners(),this.activateTabIndex([this.eInput])}refreshLabel(){exists(this.getLabel())?setAriaLabelledBy(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",(e=>this.setValue(e.target.value)))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(width){return setElementWidth(this.eWrapper,width),this}setInputName(name){return this.getInputElement().setAttribute("name",name),this}getFocusableElement(){return this.eInput}setMaxLength(length){return this.eInput.maxLength=length,this}setInputPlaceholder(placeholder){return addOrRemoveAttribute(this.eInput,"placeholder",placeholder),this}setInputAriaLabel(label){return setAriaLabel(this.eInput,label),this}setDisabled(disabled){return setDisabled(this.eInput,disabled),super.setDisabled(disabled)}setAutoComplete(value){if(!0===value)addOrRemoveAttribute(this.eInput,"autocomplete",null);else{const autoCompleteValue="string"==typeof value?value:"off";addOrRemoveAttribute(this.eInput,"autocomplete",autoCompleteValue)}return this}}agAbstractInputField_decorate([RefSelector("eLabel")],AgAbstractInputField.prototype,"eLabel",void 0),agAbstractInputField_decorate([RefSelector("eWrapper")],AgAbstractInputField.prototype,"eWrapper",void 0),agAbstractInputField_decorate([RefSelector("eInput")],AgAbstractInputField.prototype,"eInput",void 0);class AgCheckbox extends AgAbstractInputField{constructor(config,className="ag-checkbox",inputType="checkbox"){super(config,className,inputType),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(passive){this.passive=passive}isReadOnly(){return this.readOnly}setReadOnly(readOnly){this.eWrapper.classList.toggle("ag-disabled",readOnly),this.eInput.disabled=readOnly,this.readOnly=readOnly}setDisabled(disabled){return this.eWrapper.classList.toggle("ag-disabled",disabled),super.setDisabled(disabled)}toggle(){if(this.eInput.disabled)return;const previousValue=this.isSelected(),nextValue=this.getNextValue();this.passive?this.dispatchChange(nextValue,previousValue):this.setValue(nextValue)}getValue(){return this.isSelected()}setValue(value,silent){return this.refreshSelectedClass(value),this.setSelected(value,silent),this}setName(name){return this.getInputElement().name=name,this}isSelected(){return this.selected}setSelected(selected,silent){this.isSelected()!==selected&&(this.previousValue=this.isSelected(),selected=this.selected="boolean"==typeof selected?selected:void 0,this.eInput.checked=selected,this.eInput.indeterminate=void 0===selected,silent||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(selected,previousValue,event){this.dispatchEvent({type:Events.EVENT_FIELD_VALUE_CHANGED,selected,previousValue,event});const input=this.getInputElement(),checkboxChangedEvent={type:Events.EVENT_CHECKBOX_CHANGED,id:input.id,name:input.name,selected,previousValue};this.eventService.dispatchEvent(checkboxChangedEvent)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const previousValue=this.isSelected(),selected=this.selected=e.target.checked;this.refreshSelectedClass(selected),this.dispatchChange(selected,previousValue,e)}refreshSelectedClass(value){this.eWrapper.classList.toggle("ag-checked",!0===value),this.eWrapper.classList.toggle("ag-indeterminate",null==value)}}class AgRadioButton extends AgCheckbox{constructor(config){super(config,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,Events.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(event){event.selected&&event.name&&this.eInput.name&&this.eInput.name===event.name&&event.id&&this.eInput.id!==event.id&&this.setValue(!1,!0)}}class SimpleFilterModelFormatter{constructor(localeService,optionsFactory,valueFormatter){this.localeService=localeService,this.optionsFactory=optionsFactory,this.valueFormatter=valueFormatter}getModelAsString(model){if(!model)return null;const isCombined=null!=model.operator,translate=this.localeService.getLocaleTextFunc();if(isCombined){const combinedModel=model;let{conditions}=combinedModel;if(!conditions){const{condition1,condition2}=combinedModel;conditions=[condition1,condition2]}const customOptions=conditions.map((condition=>this.getModelAsString(condition))),joinOperatorTranslateKey="AND"===combinedModel.operator?"andCondition":"orCondition";return customOptions.join(` ${translate(joinOperatorTranslateKey,DEFAULT_FILTER_LOCALE_TEXT[joinOperatorTranslateKey])} `)}if(model.type===SimpleFilter.BLANK||model.type===SimpleFilter.NOT_BLANK)return translate(model.type,model.type);{const condition=model,customOption=this.optionsFactory.getCustomOption(condition.type),{displayKey,displayName,numberOfInputs}=customOption||{};return displayKey&&displayName&&0===numberOfInputs?(translate(displayKey,displayName),displayName):this.conditionToString(condition,customOption)}}updateParams(params){this.optionsFactory=params.optionsFactory}formatValue(value){var _a;return this.valueFormatter?null!==(_a=this.valueFormatter(null!=value?value:null))&&void 0!==_a?_a:"":String(value)}}class SimpleFilter extends ProvidedFilter{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(type){const customOpts=this.optionsFactory.getCustomOption(type);if(customOpts){const{numberOfInputs}=customOpts;return null!=numberOfInputs?numberOfInputs:1}const zeroInputTypes=[SimpleFilter.EMPTY,SimpleFilter.NOT_BLANK,SimpleFilter.BLANK];return type&&zeroInputTypes.indexOf(type)>=0?0:type===SimpleFilter.IN_RANGE?2:1}onFloatingFilterChanged(type,value){this.setTypeFromFloatingFilter(type),this.setValueFromFloatingFilter(value),this.onUiChanged(!0)}setTypeFromFloatingFilter(type){this.eTypes.forEach(((eType,position)=>{0===position?eType.setValue(type,!0):eType.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const conditions=this.getUiCompleteConditions();return 0===conditions.length?null:this.maxNumConditions>1&&conditions.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:conditions[0],condition2:conditions[1],conditions}:conditions[0]}getConditionTypes(){return this.eTypes.map((eType=>eType.getValue()))}getConditionType(position){return this.eTypes[position].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(a,b){if(!a&&!b)return!0;if(!a&&b||a&&!b)return!1;const aIsSimple=!a.operator,bIsSimple=!b.operator;if(!aIsSimple&&bIsSimple||aIsSimple&&!bIsSimple)return!1;let res;if(aIsSimple){const aSimple=a,bSimple=b;res=this.areSimpleModelsEqual(aSimple,bSimple)}else{const aCombined=a,bCombined=b;res=aCombined.operator===bCombined.operator&&areEqual(aCombined.conditions,bCombined.conditions,((aModel,bModel)=>this.areSimpleModelsEqual(aModel,bModel)))}return res}setModelIntoUi(model){if(model.operator){let combinedModel=model;combinedModel.conditions||(combinedModel.conditions=[combinedModel.condition1,combinedModel.condition2]);const numConditions=this.validateAndUpdateConditions(combinedModel.conditions),numPrevConditions=this.getNumConditions();if(numConditions<numPrevConditions)this.removeConditionsAndOperators(numConditions);else if(numConditions>numPrevConditions)for(let i=numPrevConditions;i<numConditions;i++)this.createJoinOperatorPanel(),this.createOption();const orChecked="OR"===combinedModel.operator;this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd=>eJoinOperatorAnd.setValue(!orChecked,!0))),this.eJoinOperatorsOr.forEach((eJoinOperatorOr=>eJoinOperatorOr.setValue(orChecked,!0))),combinedModel.conditions.forEach(((condition,position)=>{this.eTypes[position].setValue(condition.type,!0),this.setConditionIntoUi(condition,position)}))}else{const simpleModel=model;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(simpleModel.type,!0),this.setConditionIntoUi(simpleModel,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),promise_AgPromise.resolve()}validateAndUpdateConditions(conditions){let numConditions=conditions.length;return numConditions>this.maxNumConditions&&(conditions.splice(this.maxNumConditions),function_doOnce((()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')),"simpleFilterSetModelMaxNumConditions"),numConditions=this.maxNumConditions),numConditions}doesFilterPass(params){var _a;const model=this.getModel();if(null==model)return!0;const{operator}=model,models=[];if(operator){const combinedModel=model;models.push(...null!==(_a=combinedModel.conditions)&&void 0!==_a?_a:[])}else models.push(model);return models[operator&&"OR"===operator?"some":"every"]((m=>this.individualConditionPasses(params,m)))}setParams(params){super.setParams(params),this.setNumConditions(params),this.defaultJoinOperator=this.getDefaultJoinOperator(params.defaultJoinOperator),this.filterPlaceholder=params.filterPlaceholder,this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(params){var _a,_b;null!=params.suppressAndOrCondition&&function_doOnce((()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')),"simpleFilterSuppressAndOrCondition"),null!=params.alwaysShowBothConditions&&function_doOnce((()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(_a=params.maxNumConditions)&&void 0!==_a?_a:params.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(function_doOnce((()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(_b=params.numAlwaysVisibleConditions)&&void 0!==_b?_b:params.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(function_doOnce((()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(function_doOnce((()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const eType=this.createManagedBean(new AgSelect);this.eTypes.push(eType),eType.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(eType.getGui());const eConditionBody=this.createValueElement();this.eConditionBodies.push(eConditionBody),this.eFilterBody.appendChild(eConditionBody),this.putOptionsIntoDropdown(eType),this.resetType(eType);const position=this.getNumConditions()-1;this.forEachPositionInput(position,(element=>this.resetInput(element))),this.addChangedListeners(eType,position)}createJoinOperatorPanel(){const eJoinOperatorPanel=document.createElement("div");this.eJoinOperatorPanels.push(eJoinOperatorPanel),eJoinOperatorPanel.classList.add("ag-filter-condition");const eJoinOperatorAnd=this.createJoinOperator(this.eJoinOperatorsAnd,eJoinOperatorPanel,"and"),eJoinOperatorOr=this.createJoinOperator(this.eJoinOperatorsOr,eJoinOperatorPanel,"or");this.eFilterBody.appendChild(eJoinOperatorPanel);const index=this.eJoinOperatorPanels.length-1,uniqueGroupId=this.joinOperatorId++;this.resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId),this.resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId),this.isReadOnly()||(eJoinOperatorAnd.onValueChange(this.listener),eJoinOperatorOr.onValueChange(this.listener))}createJoinOperator(eJoinOperators,eJoinOperatorPanel,andOr){const eJoinOperator=this.createManagedBean(new AgRadioButton);return eJoinOperators.push(eJoinOperator),eJoinOperator.addCssClass("ag-filter-condition-operator"),eJoinOperator.addCssClass(`ag-filter-condition-operator-${andOr}`),eJoinOperatorPanel.appendChild(eJoinOperator.getGui()),eJoinOperator}getDefaultJoinOperator(defaultJoinOperator){return"AND"===defaultJoinOperator||"OR"===defaultJoinOperator?defaultJoinOperator:"AND"}createFilterListOptions(){const filterOptions=this.optionsFactory.getFilterOptions();this.filterListOptions=filterOptions.map((option=>"string"==typeof option?this.createBoilerplateListOption(option):this.createCustomListOption(option)))}putOptionsIntoDropdown(eType){this.filterListOptions.forEach((listOption=>{eType.addOption(listOption)})),eType.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(option){return{value:option,text:this.translate(option)}}createCustomListOption(option){const{displayKey}=option,customOption=this.optionsFactory.getCustomOption(option.displayKey);return{value:displayKey,text:customOption?this.localeService.getLocaleTextFunc()(customOption.displayKey,customOption.displayName):this.translate(displayKey)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const joinOperator=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,joinOperator)}updateNumConditions(){var _a;let lastUiCompletePosition=-1,areAllConditionsUiComplete=!0;for(let position=0;position<this.getNumConditions();position++)this.isConditionUiComplete(position)?lastUiCompletePosition=position:areAllConditionsUiComplete=!1;if(this.shouldAddNewConditionAtEnd(areAllConditionsUiComplete))this.createJoinOperatorPanel(),this.createOption();else{const activePosition=null!==(_a=this.lastUiCompletePosition)&&void 0!==_a?_a:this.getNumConditions()-2;if(lastUiCompletePosition<activePosition){this.removeConditionsAndOperators(activePosition+1);const removeStartPosition=lastUiCompletePosition+1,numConditionsToRemove=activePosition-removeStartPosition;numConditionsToRemove>0&&this.removeConditionsAndOperators(removeStartPosition,numConditionsToRemove),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=lastUiCompletePosition}updateConditionStatusesAndValues(lastUiCompletePosition,joinOperator){this.eTypes.forEach(((eType,position)=>{const disabled=this.isConditionDisabled(position,lastUiCompletePosition);eType.setDisabled(disabled||this.filterListOptions.length<=1),1===position&&(setDisabled(this.eJoinOperatorPanels[0],disabled),this.eJoinOperatorsAnd[0].setDisabled(disabled),this.eJoinOperatorsOr[0].setDisabled(disabled))})),this.eConditionBodies.forEach(((element,index)=>{setDisplayed(element,this.isConditionBodyVisible(index))}));const orChecked="OR"===(null!=joinOperator?joinOperator:this.getJoinOperator());this.eJoinOperatorsAnd.forEach(((eJoinOperatorAnd,index)=>{eJoinOperatorAnd.setValue(!orChecked,!0)})),this.eJoinOperatorsOr.forEach(((eJoinOperatorOr,index)=>{eJoinOperatorOr.setValue(orChecked,!0)})),this.forEachInput(((element,index,position,numberOfInputs)=>{this.setElementDisplayed(element,index<numberOfInputs),this.setElementDisabled(element,this.isConditionDisabled(position,lastUiCompletePosition))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(areAllConditionsUiComplete){return areAllConditionsUiComplete&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(startPosition,deleteCount){if(startPosition>=this.getNumConditions())return;this.removeComponents(this.eTypes,startPosition,deleteCount),this.removeElements(this.eConditionBodies,startPosition,deleteCount),this.removeValueElements(startPosition,deleteCount);const joinOperatorIndex=Math.max(startPosition-1,0);this.removeElements(this.eJoinOperatorPanels,joinOperatorIndex,deleteCount),this.removeComponents(this.eJoinOperatorsAnd,joinOperatorIndex,deleteCount),this.removeComponents(this.eJoinOperatorsOr,joinOperatorIndex,deleteCount)}removeElements(elements,startPosition,deleteCount){this.removeItems(elements,startPosition,deleteCount).forEach((element=>removeFromParent(element)))}removeComponents(components,startPosition,deleteCount){this.removeItems(components,startPosition,deleteCount).forEach((comp=>{removeFromParent(comp.getGui()),this.destroyBean(comp)}))}removeItems(items,startPosition,deleteCount){return null==deleteCount?items.splice(startPosition):items.splice(startPosition,deleteCount)}afterGuiAttached(params){if(super.afterGuiAttached(params),this.resetPlaceholder(),!(null==params?void 0:params.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const firstInput=this.getInputs(0)[0];if(!firstInput)return;firstInput instanceof AgAbstractInputField&&firstInput.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const appliedModel=this.getModel();this.areModelsEqual(appliedModel,this.getModelFromUi())&&!this.hasInvalidInputs()||this.resetUiToActiveModel(appliedModel);let lastUiCompletePosition=-1,updatedLastUiCompletePosition=-1,conditionsRemoved=!1;const joinOperator=this.getJoinOperator();for(let position=this.getNumConditions()-1;position>=0;position--)if(this.isConditionUiComplete(position))-1===lastUiCompletePosition&&(lastUiCompletePosition=position,updatedLastUiCompletePosition=position);else{const positionBeforeLastUiCompletePosition=position<lastUiCompletePosition;(position>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(position-1)||positionBeforeLastUiCompletePosition)&&(this.removeConditionsAndOperators(position,1),conditionsRemoved=!0,positionBeforeLastUiCompletePosition&&updatedLastUiCompletePosition--)}let shouldUpdateConditionStatusesAndValues=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),shouldUpdateConditionStatusesAndValues=!0),this.shouldAddNewConditionAtEnd(updatedLastUiCompletePosition===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),shouldUpdateConditionStatusesAndValues=!0),shouldUpdateConditionStatusesAndValues&&this.updateConditionStatusesAndValues(updatedLastUiCompletePosition,joinOperator),conditionsRemoved&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=updatedLastUiCompletePosition}getPlaceholderText(defaultPlaceholder,position){let placeholder=this.translate(defaultPlaceholder);if(isFunction(this.filterPlaceholder)){const filterPlaceholderFn=this.filterPlaceholder,filterOptionKey=this.eTypes[position].getValue();placeholder=filterPlaceholderFn({filterOptionKey,filterOption:this.translate(filterOptionKey),placeholder})}else"string"==typeof this.filterPlaceholder&&(placeholder=this.filterPlaceholder);return placeholder}resetPlaceholder(){const globalTranslate=this.localeService.getLocaleTextFunc();this.forEachInput(((element,index,position,numberOfInputs)=>{if(!(element instanceof AgAbstractInputField))return;const placeholder=0===index&&numberOfInputs>1?"inRangeStart":0===index?"filterOoo":"inRangeEnd",ariaLabel=0===index&&numberOfInputs>1?globalTranslate("ariaFilterFromValue","Filter from value"):0===index?globalTranslate("ariaFilterValue","Filter Value"):globalTranslate("ariaFilterToValue","Filter to Value");element.setInputPlaceholder(this.getPlaceholderText(placeholder,position)),element.setInputAriaLabel(ariaLabel)}))}setElementValue(element,value,fromFloatingFilter){element instanceof AgAbstractInputField&&element.setValue(null!=value?String(value):null,!0)}setElementDisplayed(element,displayed){element instanceof Component&&setDisplayed(element.getGui(),displayed)}setElementDisabled(element,disabled){element instanceof Component&&setDisabled(element.getGui(),disabled)}attachElementOnChange(element,listener){element instanceof AgAbstractInputField&&element.onValueChange(listener)}forEachInput(cb){this.getConditionTypes().forEach(((type,position)=>{this.forEachPositionTypeInput(position,type,cb)}))}forEachPositionInput(position,cb){const type=this.getConditionType(position);this.forEachPositionTypeInput(position,type,cb)}forEachPositionTypeInput(position,type,cb){const numberOfInputs=this.getNumberOfInputs(type),inputs=this.getInputs(position);for(let index=0;index<inputs.length;index++){const input=inputs[index];null!=input&&cb(input,index,position,numberOfInputs)}}isConditionDisabled(position,lastUiCompletePosition){return!!this.isReadOnly()||0!==position&&position>lastUiCompletePosition+1}isConditionBodyVisible(position){const type=this.getConditionType(position);return this.getNumberOfInputs(type)>0}isConditionUiComplete(position){if(position>=this.getNumConditions())return!1;return this.getConditionType(position)!==SimpleFilter.EMPTY&&!this.getValues(position).some((v=>null==v))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const conditions=[];for(let position=0;position<this.getNumConditions();position++)this.isConditionUiComplete(position)&&conditions.push(this.createCondition(position));return conditions}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let i=this.getNumConditions();i<this.numAlwaysVisibleConditions;i++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(silent){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((eType=>this.resetType(eType))),this.eJoinOperatorsAnd.forEach(((eJoinOperatorAnd,index)=>this.resetJoinOperatorAnd(eJoinOperatorAnd,index,this.joinOperatorId+index))),this.eJoinOperatorsOr.forEach(((eJoinOperatorOr,index)=>this.resetJoinOperatorOr(eJoinOperatorOr,index,this.joinOperatorId+index))),this.joinOperatorId++,this.forEachInput((element=>this.resetInput(element))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,silent||this.onUiChanged(),promise_AgPromise.resolve()}resetType(eType){const filteringLabel=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");eType.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(filteringLabel).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorAnd,index,this.isDefaultOperator("AND"),this.translate("andCondition"),uniqueGroupId)}resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorOr,index,this.isDefaultOperator("OR"),this.translate("orCondition"),uniqueGroupId)}resetJoinOperator(eJoinOperator,index,value,label,uniqueGroupId){this.updateJoinOperatorDisabled(eJoinOperator.setValue(value,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${uniqueGroupId}`).setLabel(label),index)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((eJoinOperator,index)=>this.updateJoinOperatorDisabled(eJoinOperator,index))),this.eJoinOperatorsOr.forEach(((eJoinOperator,index)=>this.updateJoinOperatorDisabled(eJoinOperator,index)))}updateJoinOperatorDisabled(eJoinOperator,index){eJoinOperator.setDisabled(this.isReadOnly()||index>0)}resetInput(element){this.setElementValue(element,null),this.setElementDisabled(element,this.isReadOnly())}setConditionIntoUi(model,position){const values=this.mapValuesFromModel(model);this.forEachInput(((element,index,elPosition,_)=>{elPosition===position&&this.setElementValue(element,null!=values[index]?values[index]:null)}))}setValueFromFloatingFilter(value){this.forEachInput(((element,index,position,_)=>{this.setElementValue(element,0===index&&0===position?value:null,!0)}))}isDefaultOperator(operator){return operator===this.defaultJoinOperator}addChangedListeners(eType,position){this.isReadOnly()||(eType.onValueChange(this.listener),this.forEachPositionInput(position,(element=>{this.attachElementOnChange(element,this.listener)})))}individualConditionPasses(params,filterModel){const cellValue=this.getCellValue(params.node),values=this.mapValuesFromModel(filterModel),customFilterOption=this.optionsFactory.getCustomOption(filterModel.type),customFilterResult=this.evaluateCustomFilter(customFilterOption,values,cellValue);return null!=customFilterResult?customFilterResult:null==cellValue?this.evaluateNullValue(filterModel.type):this.evaluateNonNullValue(values,cellValue,filterModel,params)}evaluateCustomFilter(customFilterOption,values,cellValue){if(null==customFilterOption)return;const{predicate}=customFilterOption;return null==predicate||values.some((v=>null==v))?void 0:predicate(values,cellValue)}isBlank(cellValue){return null==cellValue||"string"==typeof cellValue&&0===cellValue.trim().length}hasInvalidInputs(){return!1}}SimpleFilter.EMPTY="empty",SimpleFilter.BLANK="blank",SimpleFilter.NOT_BLANK="notBlank",SimpleFilter.EQUALS="equals",SimpleFilter.NOT_EQUAL="notEqual",SimpleFilter.LESS_THAN="lessThan",SimpleFilter.LESS_THAN_OR_EQUAL="lessThanOrEqual",SimpleFilter.GREATER_THAN="greaterThan",SimpleFilter.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",SimpleFilter.IN_RANGE="inRange",SimpleFilter.CONTAINS="contains",SimpleFilter.NOT_CONTAINS="notContains",SimpleFilter.STARTS_WITH="startsWith",SimpleFilter.ENDS_WITH="endsWith";class ScalarFilter extends SimpleFilter{setParams(params){super.setParams(params),this.scalarFilterParams=params}evaluateNullValue(filterType){switch(filterType){case ScalarFilter.EQUALS:case ScalarFilter.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case ScalarFilter.GREATER_THAN:case ScalarFilter.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case ScalarFilter.LESS_THAN:case ScalarFilter.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case ScalarFilter.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case ScalarFilter.BLANK:return!0;case ScalarFilter.NOT_BLANK:return!1}return!1}evaluateNonNullValue(values,cellValue,filterModel){const comparator=this.comparator(),compareResult=null!=values[0]?comparator(values[0],cellValue):0;switch(filterModel.type){case ScalarFilter.EQUALS:return 0===compareResult;case ScalarFilter.NOT_EQUAL:return 0!==compareResult;case ScalarFilter.GREATER_THAN:return compareResult>0;case ScalarFilter.GREATER_THAN_OR_EQUAL:return compareResult>=0;case ScalarFilter.LESS_THAN:return compareResult<0;case ScalarFilter.LESS_THAN_OR_EQUAL:return compareResult<=0;case ScalarFilter.IN_RANGE:{const compareToResult=comparator(values[1],cellValue);return this.scalarFilterParams.inRangeInclusive?compareResult>=0&&compareToResult<=0:compareResult>0&&compareToResult<0}case ScalarFilter.BLANK:return this.isBlank(cellValue);case ScalarFilter.NOT_BLANK:return!this.isBlank(cellValue);default:return console.warn('AG Grid: Unexpected type of filter "'+filterModel.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}}var dateFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DateFilterModelFormatter extends SimpleFilterModelFormatter{constructor(dateFilterParams,localeService,optionsFactory){super(localeService,optionsFactory),this.dateFilterParams=dateFilterParams}conditionToString(condition,options){const{type}=condition,{numberOfInputs}=options||{},isRange=type==SimpleFilter.IN_RANGE||2===numberOfInputs,dateFrom=parseDateTimeFromString(condition.dateFrom),dateTo=parseDateTimeFromString(condition.dateTo),format=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(isRange){return`${null!==dateFrom?dateToFormattedString(dateFrom,format):"null"}-${null!==dateTo?dateToFormattedString(dateTo,format):"null"}`}return null!=dateFrom?dateToFormattedString(dateFrom,format):`${type}`}updateParams(params){super.updateParams(params),this.dateFilterParams=params.dateFilterParams}}class DateFilter extends ScalarFilter{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=Infinity,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(params){super.afterGuiAttached(params),this.dateConditionFromComps[0].afterGuiAttached(params)}mapValuesFromModel(filterModel){const{dateFrom,dateTo,type}=filterModel||{};return[dateFrom&&parseDateTimeFromString(dateFrom)||null,dateTo&&parseDateTimeFromString(dateTo)||null].slice(0,this.getNumberOfInputs(type))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(filterDate,cellValue){return null==cellValue||cellValue<filterDate?-1:cellValue>filterDate?1:0}setParams(params){this.dateFilterParams=params,super.setParams(params);const yearParser=(param,fallback)=>{if(null!=params[param]){if(!isNaN(params[param]))return null==params[param]?fallback:Number(params[param]);console.warn(`AG Grid: DateFilter ${param} is not a number`)}return fallback};this.minValidYear=yearParser("minValidYear",1e3),this.maxValidYear=yearParser("maxValidYear",Infinity),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),params.minValidDate?this.minValidDate=params.minValidDate instanceof Date?params.minValidDate:parseDateTimeFromString(params.minValidDate):this.minValidDate=null,params.maxValidDate?this.maxValidDate=params.maxValidDate instanceof Date?params.maxValidDate:parseDateTimeFromString(params.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new DateFilterModelFormatter(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(element){const dateCompWrapper=new DateCompWrapper(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},element);return this.addDestroyFunc((()=>dateCompWrapper.destroy())),dateCompWrapper}setElementValue(element,value){element.setDate(value)}setElementDisplayed(element,displayed){element.setDisplayed(displayed)}setElementDisabled(element,disabled){element.setDisabled(disabled)}getDefaultFilterOptions(){return DateFilter.DEFAULT_FILTER_OPTIONS}createValueElement(){const eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),this.createFromToElement(eCondition,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(eCondition,this.eConditionPanelsTo,this.dateConditionToComps,"to"),eCondition}createFromToElement(eCondition,eConditionPanels,dateConditionComps,fromTo){const eConditionPanel=document.createElement("div");eConditionPanel.classList.add(`ag-filter-${fromTo}`),eConditionPanel.classList.add(`ag-filter-date-${fromTo}`),eConditionPanels.push(eConditionPanel),eCondition.appendChild(eConditionPanel),dateConditionComps.push(this.createDateCompWrapper(eConditionPanel))}removeValueElements(startPosition,deleteCount){this.removeDateComps(this.dateConditionFromComps,startPosition,deleteCount),this.removeDateComps(this.dateConditionToComps,startPosition,deleteCount),this.removeItems(this.eConditionPanelsFrom,startPosition,deleteCount),this.removeItems(this.eConditionPanelsTo,startPosition,deleteCount)}removeDateComps(components,startPosition,deleteCount){this.removeItems(components,startPosition,deleteCount).forEach((comp=>comp.destroy()))}isValidDateValue(value){if(null===value)return!1;if(this.minValidDate){if(value<this.minValidDate)return!1}else if(value.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(value>this.maxValidDate)return!1}else if(value.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(position){if(!super.isConditionUiComplete(position))return!1;let valid=!0;return this.forEachInput(((element,index,elPosition,numberOfInputs)=>{elPosition!==position||!valid||index>=numberOfInputs||(valid=valid&&this.isValidDateValue(element.getDate()))})),valid}areSimpleModelsEqual(aSimple,bSimple){return aSimple.dateFrom===bSimple.dateFrom&&aSimple.dateTo===bSimple.dateTo&&aSimple.type===bSimple.type}getFilterType(){return"date"}createCondition(position){const type=this.getConditionType(position),model={},values=this.getValues(position);return values.length>0&&(model.dateFrom=serialiseDate(values[0])),values.length>1&&(model.dateTo=serialiseDate(values[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type},model)}resetPlaceholder(){const globalTranslate=this.localeService.getLocaleTextFunc(),placeholder=this.translate("dateFormatOoo"),ariaLabel=globalTranslate("ariaFilterValue","Filter Value");this.forEachInput((element=>{element.setInputPlaceholder(placeholder),element.setInputAriaLabel(ariaLabel)}))}getInputs(position){return position>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[position],this.dateConditionToComps[position]]}getValues(position){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{index<numberOfInputs&&result.push(element.getDate())})),result}getModelAsString(model){var _a;return null!==(_a=this.filterModelFormatter.getModelAsString(model))&&void 0!==_a?_a:""}}DateFilter.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.GREATER_THAN,ScalarFilter.LESS_THAN,ScalarFilter.NOT_EQUAL,ScalarFilter.IN_RANGE,ScalarFilter.BLANK,ScalarFilter.NOT_BLANK],dateFilter_decorate([Autowired("userComponentFactory")],DateFilter.prototype,"userComponentFactory",void 0);class SimpleFloatingFilter extends Component{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(event){return event&&event.afterFloatingFilter}isEventFromDataChange(event){return null==event?void 0:event.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(model){if(!model)return void(this.lastType=this.optionsFactory.getDefaultOption());let condition;if(model.operator){condition=model.conditions[0]}else condition=model;this.lastType=condition.type}canWeEditAfterModelFromParentFilter(model){if(!model)return this.isTypeEditable(this.lastType);if(model.operator)return!1;const simpleModel=model;return this.isTypeEditable(simpleModel.type)}init(params){this.setSimpleParams(params)}setSimpleParams(params){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!params.filterParams.readOnly;const editable=this.isTypeEditable(this.lastType);this.setEditable(editable)}onParamsUpdated(params){this.setSimpleParams(params)}doesFilterHaveSingleInput(filterType){const customFilterOption=this.optionsFactory.getCustomOption(filterType),{numberOfInputs}=customFilterOption||{};return null==numberOfInputs||1==numberOfInputs}isTypeEditable(type){const uneditableTypes=[SimpleFilter.IN_RANGE,SimpleFilter.EMPTY,SimpleFilter.BLANK,SimpleFilter.NOT_BLANK];return!!type&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(type)&&uneditableTypes.indexOf(type)<0}}var dateFloatingFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DateFloatingFilter extends SimpleFloatingFilter{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return DateFilter.DEFAULT_FILTER_OPTIONS}init(params){super.init(params),this.params=params,this.filterParams=params.filterParams,this.createDateComponent(),this.filterModelFormatter=new DateFilterModelFormatter(this.filterParams,this.localeService,this.optionsFactory);const translate=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(translate("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(params){super.onParamsUpdated(params),this.params=params,this.filterParams=params.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})}setEditable(editable){setDisplayed(this.eDateWrapper,editable),setDisplayed(this.eReadOnlyText.getGui(),!editable)}onParentModelChanged(model,event){if(this.isEventFromFloatingFilter(event)||this.isEventFromDataChange(event))return;super.setLastTypeFromModel(model);const allowEditing=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(model);if(this.setEditable(allowEditing),allowEditing){if(model){const dateModel=model;this.dateComp.setDate(parseDateTimeFromString(dateModel.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(model)),this.dateComp.setDate(null)}onDateChanged(){const filterValueText=serialiseDate(this.dateComp.getDate());this.params.parentFilterInstance((filterInstance=>{if(filterInstance){const date=parseDateTimeFromString(filterValueText);filterInstance.onFloatingFilterChanged(this.getLastType()||null,date)}}))}getDateComponentParams(){const debounceMs=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:debounce(this.onDateChanged.bind(this),debounceMs),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new DateCompWrapper(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const params=this.getDateComponentParams(),{api,columnApi,context}=this.gridOptionsService;params.api=api,params.columnApi=columnApi,params.context=context,this.dateComp.updateParams(params)}getFilterModelFormatter(){return this.filterModelFormatter}}dateFloatingFilter_decorate([Autowired("userComponentFactory")],DateFloatingFilter.prototype,"userComponentFactory",void 0),dateFloatingFilter_decorate([RefSelector("eReadOnlyText")],DateFloatingFilter.prototype,"eReadOnlyText",void 0),dateFloatingFilter_decorate([RefSelector("eDateWrapper")],DateFloatingFilter.prototype,"eDateWrapper",void 0);var defaultDateComponent_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DefaultDateComponent extends Component{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(params){this.params=params,this.setParams(params);const eDocument=this.gridOptionsService.getDocument(),inputElement=this.eDateInput.getInputElement();this.addManagedListener(inputElement,"mousedown",(()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||inputElement.focus()})),this.addManagedListener(inputElement,"input",(e=>{e.target===eDocument.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}))}setParams(params){const inputElement=this.eDateInput.getInputElement(),shouldUseBrowserDatePicker=this.shouldUseBrowserDatePicker(params);this.usingSafariDatePicker=shouldUseBrowserDatePicker&&isBrowserSafari(),inputElement.type=shouldUseBrowserDatePicker?"date":"text";const{minValidYear,maxValidYear,minValidDate,maxValidDate}=params.filterParams||{};if(minValidDate&&minValidYear&&function_doOnce((()=>console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")),"DateFilter.minValidDateAndMinValidYearWarning"),maxValidDate&&maxValidYear&&function_doOnce((()=>console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")),"DateFilter.maxValidDateAndMaxValidYearWarning"),minValidDate&&maxValidDate){const[parsedMinValidDate,parsedMaxValidDate]=[minValidDate,maxValidDate].map((v=>v instanceof Date?v:parseDateTimeFromString(v)));parsedMinValidDate&&parsedMaxValidDate&&parsedMinValidDate.getTime()>parsedMaxValidDate.getTime()&&function_doOnce((()=>console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")),"DateFilter.minValidDateAndMaxValidDateWarning")}minValidDate?minValidDate instanceof Date?inputElement.min=dateToFormattedString(minValidDate):inputElement.min=minValidDate:minValidYear&&(inputElement.min=`${minValidYear}-01-01`),maxValidDate?maxValidDate instanceof Date?inputElement.max=dateToFormattedString(maxValidDate):inputElement.max=maxValidDate:maxValidYear&&(inputElement.max=`${maxValidYear}-12-31`)}onParamsUpdated(params){this.params=params,this.setParams(params)}getDate(){return parseDateTimeFromString(this.eDateInput.getValue())}setDate(date){this.eDateInput.setValue(serialiseDate(date,!1))}setInputPlaceholder(placeholder){this.eDateInput.setInputPlaceholder(placeholder)}setDisabled(disabled){this.eDateInput.setDisabled(disabled)}afterGuiAttached(params){params&&params.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(params){return params.filterParams&&null!=params.filterParams.browserDatePicker?params.filterParams.browserDatePicker:isBrowserChrome()||isBrowserFirefox()||isBrowserSafari()&&getSafariVersion()>=14.1}}defaultDateComponent_decorate([RefSelector("eDateInput")],DefaultDateComponent.prototype,"eDateInput",void 0);class AgInputTextField extends AgAbstractInputField{constructor(config,className="ag-text-field",inputType="text"){super(config,className,inputType)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(value,silent){return this.eInput.value!==value&&(this.eInput.value=exists(value)?value:""),super.setValue(value,silent)}setStartValue(value){this.setValue(value,!0)}preventDisallowedCharacters(){const pattern=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",(event=>{isEventFromPrintableCharacter(event)&&event.key&&!pattern.test(event.key)&&event.preventDefault()})),this.addManagedListener(this.eInput,"paste",(e=>{var _a;const text=null===(_a=e.clipboardData)||void 0===_a?void 0:_a.getData("text");text&&text.split("").some((c=>!pattern.test(c)))&&e.preventDefault()}))}}class AgInputNumberField extends AgInputTextField{constructor(config){super(config,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",(()=>{const floatedValue=parseFloat(this.eInput.value),value=isNaN(floatedValue)?"":this.normalizeValue(floatedValue.toString());this.value!==value&&this.setValue(value)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(value){if(""===value)return"";null!=this.precision&&(value=this.adjustPrecision(value));const val=parseFloat(value);return null!=this.min&&val<this.min?value=this.min.toString():null!=this.max&&val>this.max&&(value=this.max.toString()),value}adjustPrecision(value,isScientificNotation){if(null==this.precision)return value;if(isScientificNotation){const floatString=parseFloat(value).toFixed(this.precision);return parseFloat(floatString).toString()}const parts=String(value).split(".");if(parts.length>1){if(parts[1].length<=this.precision)return value;if(this.precision>0)return`${parts[0]}.${parts[1].slice(0,this.precision)}`}return parts[0]}setMin(min){return this.min===min||(this.min=min,addOrRemoveAttribute(this.eInput,"min",min)),this}setMax(max){return this.max===max||(this.max=max,addOrRemoveAttribute(this.eInput,"max",max)),this}setPrecision(precision){return this.precision=precision,this}setStep(step){return this.step===step||(this.step=step,addOrRemoveAttribute(this.eInput,"step",step)),this}setValue(value,silent){return this.setValueOrInputValue((v=>super.setValue(v,silent)),(()=>this),value)}setStartValue(value){return this.setValueOrInputValue((v=>super.setValue(v,!0)),(v=>{this.eInput.value=v}),value)}setValueOrInputValue(setValueFunc,setInputValueOnlyFunc,value){if(exists(value)){let setInputValueOnly=this.isScientificNotation(value);if(setInputValueOnly&&this.eInput.validity.valid)return setValueFunc(value);if(!setInputValueOnly){setInputValueOnly=(value=this.adjustPrecision(value))!=this.normalizeValue(value)}if(setInputValueOnly)return setInputValueOnlyFunc(value)}return setValueFunc(value)}getValue(){if(!this.eInput.validity.valid)return;const inputValue=this.eInput.value;return this.isScientificNotation(inputValue)?this.adjustPrecision(inputValue,!0):super.getValue()}isScientificNotation(value){return"string"==typeof value&&value.includes("e")}}class NumberFilterModelFormatter extends SimpleFilterModelFormatter{conditionToString(condition,options){const{numberOfInputs}=options||{};return condition.type==SimpleFilter.IN_RANGE||2===numberOfInputs?`${this.formatValue(condition.filter)}-${this.formatValue(condition.filterTo)}`:null!=condition.filter?this.formatValue(condition.filter):`${condition.type}`}}function getAllowedCharPattern(filterParams){const{allowedCharPattern}=null!=filterParams?filterParams:{};return null!=allowedCharPattern?allowedCharPattern:null}class NumberFilter extends ScalarFilter{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(filterModel){const{filter,filterTo,type}=filterModel||{};return[this.processValue(filter),this.processValue(filterTo)].slice(0,this.getNumberOfInputs(type))}getDefaultDebounceMs(){return 500}comparator(){return(left,right)=>left===right?0:left<right?1:-1}setParams(params){this.numberFilterParams=params,super.setParams(params),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return NumberFilter.DEFAULT_FILTER_OPTIONS}setElementValue(element,value,fromFloatingFilter){const valueToSet=!fromFloatingFilter&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!=value?value:null):value;super.setElementValue(element,valueToSet)}createValueElement(){const allowedCharPattern=getAllowedCharPattern(this.numberFilterParams),eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),setAriaRole(eCondition,"presentation"),this.createFromToElement(eCondition,this.eValuesFrom,"from",allowedCharPattern),this.createFromToElement(eCondition,this.eValuesTo,"to",allowedCharPattern),eCondition}createFromToElement(eCondition,eValues,fromTo,allowedCharPattern){const eValue=this.createManagedBean(allowedCharPattern?new AgInputTextField({allowedCharPattern}):new AgInputNumberField);eValue.addCssClass(`ag-filter-${fromTo}`),eValue.addCssClass("ag-filter-filter"),eValues.push(eValue),eCondition.appendChild(eValue.getGui())}removeValueElements(startPosition,deleteCount){this.removeComponents(this.eValuesFrom,startPosition,deleteCount),this.removeComponents(this.eValuesTo,startPosition,deleteCount)}getValues(position){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{index<numberOfInputs&&result.push(this.processValue(this.stringToFloat(element.getValue())))})),result}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type}getFilterType(){return"number"}processValue(value){return null==value||isNaN(value)?null:value}stringToFloat(value){if("number"==typeof value)return value;let filterText=makeNull(value);return null!=filterText&&""===filterText.trim()&&(filterText=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(filterText):null==filterText||"-"===filterText.trim()?null:parseFloat(filterText)}createCondition(position){const type=this.getConditionType(position),model={filterType:this.getFilterType(),type},values=this.getValues(position);return values.length>0&&(model.filter=values[0]),values.length>1&&(model.filterTo=values[1]),model}getInputs(position){return position>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[position],this.eValuesTo[position]]}getModelAsString(model){var _a;return null!==(_a=this.filterModelFormatter.getModelAsString(model))&&void 0!==_a?_a:""}hasInvalidInputs(){let invalidInputs=!1;return this.forEachInput((element=>{element.getInputElement().validity.valid||(invalidInputs=!0)})),invalidInputs}}NumberFilter.DEFAULT_FILTER_OPTIONS=[ScalarFilter.EQUALS,ScalarFilter.NOT_EQUAL,ScalarFilter.LESS_THAN,ScalarFilter.LESS_THAN_OR_EQUAL,ScalarFilter.GREATER_THAN,ScalarFilter.GREATER_THAN_OR_EQUAL,ScalarFilter.IN_RANGE,ScalarFilter.BLANK,ScalarFilter.NOT_BLANK];class TextFilterModelFormatter extends SimpleFilterModelFormatter{conditionToString(condition,options){const{numberOfInputs}=options||{};return condition.type==SimpleFilter.IN_RANGE||2===numberOfInputs?`${condition.filter}-${condition.filterTo}`:null!=condition.filter?`${condition.filter}`:`${condition.type}`}}class TextFilter extends SimpleFilter{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(value){const trimmedInput=value&&value.trim();return""===trimmedInput?value:trimmedInput}getDefaultDebounceMs(){return 500}setParams(params){this.textFilterParams=params,super.setParams(params),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?TextFilter.DEFAULT_FORMATTER:TextFilter.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}getTextMatcher(){const legacyComparator=this.textFilterParams.textCustomComparator;return legacyComparator?(_.doOnce((()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")),"textCustomComparator.deprecated"),({filterOption,value,filterText})=>legacyComparator(filterOption,value,filterText)):this.textFilterParams.textMatcher||TextFilter.DEFAULT_MATCHER}createCondition(position){const type=this.getConditionType(position),model={filterType:this.getFilterType(),type},values=this.getValuesWithSideEffects(position,!0);return values.length>0&&(model.filter=values[0]),values.length>1&&(model.filterTo=values[1]),model}getFilterType(){return"text"}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type}getInputs(position){return position>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[position],this.eValuesTo[position]]}getValues(position){return this.getValuesWithSideEffects(position,!1)}getValuesWithSideEffects(position,applySideEffects){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{var _a;if(index<numberOfInputs){let value=makeNull(element.getValue());applySideEffects&&this.textFilterParams.trimInput&&(value=null!==(_a=TextFilter.trimInput(value))&&void 0!==_a?_a:null,element.setValue(value,!0)),result.push(value)}})),result}getDefaultFilterOptions(){return TextFilter.DEFAULT_FILTER_OPTIONS}createValueElement(){const eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),setAriaRole(eCondition,"presentation"),this.createFromToElement(eCondition,this.eValuesFrom,"from"),this.createFromToElement(eCondition,this.eValuesTo,"to"),eCondition}createFromToElement(eCondition,eValues,fromTo){const eValue=this.createManagedBean(new AgInputTextField);eValue.addCssClass(`ag-filter-${fromTo}`),eValue.addCssClass("ag-filter-filter"),eValues.push(eValue),eCondition.appendChild(eValue.getGui())}removeValueElements(startPosition,deleteCount){this.removeComponents(this.eValuesFrom,startPosition,deleteCount),this.removeComponents(this.eValuesTo,startPosition,deleteCount)}mapValuesFromModel(filterModel){const{filter,filterTo,type}=filterModel||{};return[filter||null,filterTo||null].slice(0,this.getNumberOfInputs(type))}evaluateNullValue(filterType){const filterTypesAllowNulls=[SimpleFilter.NOT_EQUAL,SimpleFilter.NOT_CONTAINS,SimpleFilter.BLANK];return!!filterType&&filterTypesAllowNulls.indexOf(filterType)>=0}evaluateNonNullValue(values,cellValue,filterModel,params){const formattedValues=values.map((v=>this.formatter(v)))||[],cellValueFormatted=this.formatter(cellValue),{api,colDef,column,columnApi,context,textFormatter}=this.textFilterParams;if(filterModel.type===SimpleFilter.BLANK)return this.isBlank(cellValue);if(filterModel.type===SimpleFilter.NOT_BLANK)return!this.isBlank(cellValue);const matcherParams={api,colDef,column,columnApi,context,node:params.node,data:params.data,filterOption:filterModel.type,value:cellValueFormatted,textFormatter};return formattedValues.some((v=>this.matcher(Object.assign(Object.assign({},matcherParams),{filterText:v}))))}getModelAsString(model){var _a;return null!==(_a=this.filterModelFormatter.getModelAsString(model))&&void 0!==_a?_a:""}}TextFilter.DEFAULT_FILTER_OPTIONS=[SimpleFilter.CONTAINS,SimpleFilter.NOT_CONTAINS,SimpleFilter.EQUALS,SimpleFilter.NOT_EQUAL,SimpleFilter.STARTS_WITH,SimpleFilter.ENDS_WITH,SimpleFilter.BLANK,SimpleFilter.NOT_BLANK],TextFilter.DEFAULT_FORMATTER=from=>from,TextFilter.DEFAULT_LOWERCASE_FORMATTER=from=>null==from?null:from.toString().toLowerCase(),TextFilter.DEFAULT_MATCHER=({filterOption,value,filterText})=>{if(null==filterText)return!1;switch(filterOption){case TextFilter.CONTAINS:return value.indexOf(filterText)>=0;case TextFilter.NOT_CONTAINS:return value.indexOf(filterText)<0;case TextFilter.EQUALS:return value===filterText;case TextFilter.NOT_EQUAL:return value!=filterText;case TextFilter.STARTS_WITH:return 0===value.indexOf(filterText);case TextFilter.ENDS_WITH:const index=value.lastIndexOf(filterText);return index>=0&&index===value.length-filterText.length;default:return!1}};var textInputFloatingFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class FloatingFilterTextInputService extends BeanStub{constructor(params){super(),this.params=params,this.valueChangedListener=()=>{}}setupGui(parentElement){var _a;this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField(null===(_a=this.params)||void 0===_a?void 0:_a.config));const eInput=this.eFloatingFilterTextInput.getGui();parentElement.appendChild(eInput),this.addManagedListener(eInput,"input",(e=>this.valueChangedListener(e))),this.addManagedListener(eInput,"keydown",(e=>this.valueChangedListener(e)))}setEditable(editable){this.eFloatingFilterTextInput.setDisabled(!editable)}setAutoComplete(autoComplete){this.eFloatingFilterTextInput.setAutoComplete(autoComplete)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(value,silent){this.eFloatingFilterTextInput.setValue(value,silent)}setValueChangedListener(listener){this.valueChangedListener=listener}setParams(params){this.setAriaLabel(params.ariaLabel),void 0!==params.autoComplete&&this.setAutoComplete(params.autoComplete)}setAriaLabel(ariaLabel){this.eFloatingFilterTextInput.setInputAriaLabel(ariaLabel)}}class TextInputFloatingFilter extends SimpleFloatingFilter{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(model,event){this.isEventFromFloatingFilter(event)||this.isEventFromDataChange(event)||(this.setLastTypeFromModel(model),this.setEditable(this.canWeEditAfterModelFromParentFilter(model)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(model)))}init(params){this.setupFloatingFilterInputService(params),super.init(params),this.setTextInputParams(params)}setupFloatingFilterInputService(params){this.floatingFilterInputService=this.createFloatingFilterInputService(params),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(params){var _a;this.params=params;const autoComplete=null!==(_a=params.browserAutoComplete)&&void 0!==_a&&_a;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(params),autoComplete}),this.applyActive=ProvidedFilter.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const debounceMs=ProvidedFilter.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),toDebounce=debounce(this.syncUpWithParentFilter.bind(this),debounceMs);this.floatingFilterInputService.setValueChangedListener(toDebounce)}}onParamsUpdated(params){super.onParamsUpdated(params),this.setTextInputParams(params)}recreateFloatingFilterInputService(params){const value=this.floatingFilterInputService.getValue();clearElement(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(params),this.floatingFilterInputService.setValue(value,!0)}getAriaLabel(params){return`${this.columnModel.getDisplayNameForColumn(params.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){const isEnterKey=e.key===KeyCode.ENTER;if(this.applyActive&&!isEnterKey)return;let value=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(value=TextFilter.trimInput(value),this.floatingFilterInputService.setValue(value,!0)),this.params.parentFilterInstance((filterInstance=>{filterInstance&&filterInstance.onFloatingFilterChanged(this.getLastType()||null,value||null)}))}setEditable(editable){this.floatingFilterInputService.setEditable(editable)}}textInputFloatingFilter_decorate([Autowired("columnModel")],TextInputFloatingFilter.prototype,"columnModel",void 0),textInputFloatingFilter_decorate([RefSelector("eFloatingFilterInputContainer")],TextInputFloatingFilter.prototype,"eFloatingFilterInputContainer",void 0),textInputFloatingFilter_decorate([PostConstruct],TextInputFloatingFilter.prototype,"postConstruct",null);class FloatingFilterNumberInputService extends BeanStub{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(parentElement){this.eFloatingFilterNumberInput=this.createManagedBean(new AgInputNumberField),this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField),this.eFloatingFilterTextInput.setDisabled(!0);const eNumberInput=this.eFloatingFilterNumberInput.getGui(),eTextInput=this.eFloatingFilterTextInput.getGui();parentElement.appendChild(eNumberInput),parentElement.appendChild(eTextInput),this.setupListeners(eNumberInput,(e=>this.valueChangedListener(e))),this.setupListeners(eTextInput,(e=>this.valueChangedListener(e)))}setEditable(editable){this.numberInputActive=editable,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(autoComplete){this.eFloatingFilterNumberInput.setAutoComplete(autoComplete),this.eFloatingFilterTextInput.setAutoComplete(autoComplete)}getValue(){return this.getActiveInputElement().getValue()}setValue(value,silent){this.getActiveInputElement().setValue(value,silent)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(listener){this.valueChangedListener=listener}setupListeners(element,listener){this.addManagedListener(element,"input",listener),this.addManagedListener(element,"keydown",listener)}setParams(params){this.setAriaLabel(params.ariaLabel),void 0!==params.autoComplete&&this.setAutoComplete(params.autoComplete)}setAriaLabel(ariaLabel){this.eFloatingFilterNumberInput.setInputAriaLabel(ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(ariaLabel)}}class NumberFloatingFilter extends TextInputFloatingFilter{init(params){var _a;super.init(params),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,null===(_a=params.filterParams)||void 0===_a?void 0:_a.numberFormatter)}onParamsUpdated(params){getAllowedCharPattern(params.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(params),super.onParamsUpdated(params),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return NumberFilter.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(params){return this.allowedCharPattern=getAllowedCharPattern(params.filterParams),this.allowedCharPattern?this.createManagedBean(new FloatingFilterTextInputService({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FloatingFilterNumberInputService)}}class TextFloatingFilter extends TextInputFloatingFilter{init(params){super.init(params),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}onParamsUpdated(params){super.onParamsUpdated(params),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return TextFilter.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new FloatingFilterTextInputService)}}class TouchListener{constructor(eElement,preventMouseClick=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new EventService,this.eElement=eElement,this.preventMouseClick=preventMouseClick;const startListener=this.onTouchStart.bind(this),moveListener=this.onTouchMove.bind(this),endListener=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",startListener,{passive:!0}),this.eElement.addEventListener("touchmove",moveListener,{passive:!0}),this.eElement.addEventListener("touchend",endListener,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",startListener,{passive:!0}),this.eElement.removeEventListener("touchmove",moveListener,{passive:!0}),this.eElement.removeEventListener("touchend",endListener,{passive:!1})}))}getActiveTouch(touchList){for(let i=0;i<touchList.length;i++){if(touchList[i].identifier===this.touchStart.identifier)return touchList[i]}return null}addEventListener(eventType,listener){this.eventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.eventService.removeEventListener(eventType,listener)}onTouchStart(touchEvent){if(this.touching)return;this.touchStart=touchEvent.touches[0],this.touching=!0,this.moved=!1;const touchStartCopy=this.touchStart;window.setTimeout((()=>{const touchesMatch=this.touchStart===touchStartCopy;if(this.touching&&touchesMatch&&!this.moved){this.moved=!0;const event={type:TouchListener.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent};this.eventService.dispatchEvent(event)}}),500)}onTouchMove(touchEvent){if(!this.touching)return;const touch=this.getActiveTouch(touchEvent.touches);if(!touch)return;!areEventsNear(touch,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(touchEvent){if(this.touching){if(!this.moved){const event={type:TouchListener.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(event),this.checkForDoubleTap()}this.preventMouseClick&&touchEvent.cancelable&&touchEvent.preventDefault(),this.touching=!1}}checkForDoubleTap(){const now=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(now-this.lastTapTime>TouchListener.DOUBLE_TAP_MILLIS){const event={type:TouchListener.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(event),this.lastTapTime=null}else this.lastTapTime=now}else this.lastTapTime=now}destroy(){this.destroyFuncs.forEach((func=>func()))}}TouchListener.EVENT_TAP="tap",TouchListener.EVENT_DOUBLE_TAP="doubleTap",TouchListener.EVENT_LONG_TAP="longTap",TouchListener.DOUBLE_TAP_MILLIS=500;var sortIndicatorComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SortIndicatorComp extends Component{constructor(skipTemplate){super(),skipTemplate||this.setTemplate(SortIndicatorComp.TEMPLATE)}attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone){this.eSortOrder=eSortOrder,this.eSortAsc=eSortAsc,this.eSortDesc=eSortDesc,this.eSortMixed=eSortMixed,this.eSortNone=eSortNone}setupSort(column,suppressOrder=!1){this.column=column,this.suppressOrder=suppressOrder,this.setupMultiSortIndicator();!!this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,column),this.addInIcon("sortDescending",this.eSortDesc,column),this.addInIcon("sortUnSort",this.eSortNone,column),this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,(()=>this.onSortChanged())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.onSortChanged())),this.onSortChanged())}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=createIconNoSpan(iconName,this.gridOptionsService,column);eIcon&&eParent.appendChild(eIcon)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const sortDirection=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const isAscending="asc"===sortDirection;setDisplayed(this.eSortAsc,isAscending,{skipAriaHidden:!0})}if(this.eSortDesc){const isDescending="desc"===sortDirection;setDisplayed(this.eSortDesc,isDescending,{skipAriaHidden:!0})}if(this.eSortNone){const alwaysHideNoSort=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),isNone=null==sortDirection;setDisplayed(this.eSortNone,!alwaysHideNoSort&&isNone,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const isColumnShowingRowGroup=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&isColumnShowingRowGroup&&(this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,(()=>this.updateMultiSortIndicator())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.updateMultiSortIndicator())),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const isMixedSort="mixed"===this.sortController.getDisplaySortForColumn(this.column);setDisplayed(this.eSortMixed,isMixedSort,{skipAriaHidden:!0})}}updateSortOrder(){var _a;if(!this.eSortOrder)return;const allColumnsWithSorting=this.sortController.getColumnsWithSortingOrdered(),indexThisCol=null!==(_a=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==_a?_a:-1,moreThanOneColSorting=allColumnsWithSorting.some((col=>{var _a;return null!==(_a=this.sortController.getDisplaySortIndexForColumn(col))&&void 0!==_a&&_a})),showIndex=indexThisCol>=0&&moreThanOneColSorting;setDisplayed(this.eSortOrder,showIndex,{skipAriaHidden:!0}),indexThisCol>=0?this.eSortOrder.innerHTML=(indexThisCol+1).toString():clearElement(this.eSortOrder)}}SortIndicatorComp.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',sortIndicatorComp_decorate([RefSelector("eSortOrder")],SortIndicatorComp.prototype,"eSortOrder",void 0),sortIndicatorComp_decorate([RefSelector("eSortAsc")],SortIndicatorComp.prototype,"eSortAsc",void 0),sortIndicatorComp_decorate([RefSelector("eSortDesc")],SortIndicatorComp.prototype,"eSortDesc",void 0),sortIndicatorComp_decorate([RefSelector("eSortMixed")],SortIndicatorComp.prototype,"eSortMixed",void 0),sortIndicatorComp_decorate([RefSelector("eSortNone")],SortIndicatorComp.prototype,"eSortNone",void 0),sortIndicatorComp_decorate([Autowired("columnModel")],SortIndicatorComp.prototype,"columnModel",void 0),sortIndicatorComp_decorate([Autowired("sortController")],SortIndicatorComp.prototype,"sortController",void 0);var headerComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderComp extends Component{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(params){return this.params=params,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(params),!0)))}workOutTemplate(){let template=firstExistingValue(this.params.template,HeaderComp.TEMPLATE);return template=template&&template.trim?template.trim():template,template}init(params){this.params=params,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(params.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(params)}setDisplayName(params){if(this.currentDisplayName!=params.displayName){this.currentDisplayName=params.displayName;const displayNameSanitised=escapeString(this.currentDisplayName);this.eText&&(this.eText.innerHTML=displayNameSanitised)}}setupIcons(column){this.addInIcon("menu",this.eMenu,column),this.addInIcon("filter",this.eFilter,column)}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=createIconNoSpan(iconName,this.gridOptionsService,column);eIcon&&eParent.appendChild(eIcon)}setupTap(){const{gridOptionsService}=this;if(gridOptionsService.is("suppressTouch"))return;const touchListener=new TouchListener(this.getGui(),!0),suppressMenuHide=gridOptionsService.is("suppressMenuHide"),tapMenuButton=suppressMenuHide&&exists(this.eMenu),menuTouchListener=tapMenuButton?new TouchListener(this.eMenu,!0):touchListener;if(this.params.enableMenu){const eventType=tapMenuButton?"EVENT_TAP":"EVENT_LONG_TAP",showMenuFn=event=>{gridOptionsService.api.showColumnMenuAfterMouseClick(this.params.column,event.touchStart)};this.addManagedListener(menuTouchListener,TouchListener[eventType],showMenuFn)}if(this.params.enableSorting){const tapListener=event=>{const target=event.touchStart.target;suppressMenuHide&&this.eMenu.contains(target)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(touchListener,TouchListener.EVENT_TAP,tapListener)}this.addDestroyFunc((()=>touchListener.destroy())),tapMenuButton&&this.addDestroyFunc((()=>menuTouchListener.destroy()))}workOutShowMenu(){const menuHides=!this.gridOptionsService.is("suppressMenuHide"),onIpadAndMenuHides=isIOSUserAgent()&&menuHides;return this.params.enableMenu&&!onIpadAndMenuHides}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void removeFromParent(this.eMenu);const suppressMenuHide=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",(()=>this.showMenu(this.eMenu))),this.eMenu.classList.toggle("ag-header-menu-always-show",suppressMenuHide)}showMenu(eventSource){eventSource||(eventSource=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,eventSource,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new SortIndicatorComp(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const sortUsingCtrl="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Column.EVENT_MOVING_CHANGED,(()=>{this.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(event=>{const moving=this.params.column.isMoving(),movedRecently=(new Date).getTime()-this.lastMovingChanged<50;if(!(moving||movedRecently)){const multiSort=sortUsingCtrl?event.ctrlKey||event.metaKey:event.shiftKey;this.params.progressSort(multiSort)}}));const onSortingChanged=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const sourceColumns=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),isMultiSorting=!(null==sourceColumns?void 0:sourceColumns.every((sourceCol=>this.params.column.getSort()==sourceCol.getSort())));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",isMultiSorting)}};this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,onSortingChanged),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,onSortingChanged)}setupFilterIcon(){this.eFilter&&(this.addManagedListener(this.params.column,Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const filterPresent=this.params.column.isFilterActive();setDisplayed(this.eFilter,filterPresent,{skipAriaHidden:!0})}}HeaderComp.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',headerComp_decorate([Autowired("sortController")],HeaderComp.prototype,"sortController",void 0),headerComp_decorate([Autowired("menuFactory")],HeaderComp.prototype,"menuFactory",void 0),headerComp_decorate([Autowired("columnModel")],HeaderComp.prototype,"columnModel",void 0),headerComp_decorate([RefSelector("eFilter")],HeaderComp.prototype,"eFilter",void 0),headerComp_decorate([RefSelector("eSortIndicator")],HeaderComp.prototype,"eSortIndicator",void 0),headerComp_decorate([RefSelector("eMenu")],HeaderComp.prototype,"eMenu",void 0),headerComp_decorate([RefSelector("eLabel")],HeaderComp.prototype,"eLabel",void 0),headerComp_decorate([RefSelector("eText")],HeaderComp.prototype,"eText",void 0),headerComp_decorate([RefSelector("eSortOrder")],HeaderComp.prototype,"eSortOrder",void 0),headerComp_decorate([RefSelector("eSortAsc")],HeaderComp.prototype,"eSortAsc",void 0),headerComp_decorate([RefSelector("eSortDesc")],HeaderComp.prototype,"eSortDesc",void 0),headerComp_decorate([RefSelector("eSortMixed")],HeaderComp.prototype,"eSortMixed",void 0),headerComp_decorate([RefSelector("eSortNone")],HeaderComp.prototype,"eSortNone",void 0);var headerGroupComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderGroupComp extends Component{constructor(){super(HeaderGroupComp.TEMPLATE)}destroy(){super.destroy()}init(params){this.params=params,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const message="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";function_doOnce((()=>console.warn(message)),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const expandAction=event=>{if(isStopPropagationForAgGrid(event))return;const newExpandedValue=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,expandAction),this.addTouchAndClickListeners(this.eOpenIcon,expandAction);const stopPropagationAction=event=>{stopPropagationForAgGrid(event)};this.addManagedListener(this.eCloseIcon,"dblclick",stopPropagationAction),this.addManagedListener(this.eOpenIcon,"dblclick",stopPropagationAction),this.addManagedListener(this.getGui(),"dblclick",expandAction),this.updateIconVisibility();const providedColumnGroup=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(providedColumnGroup,ProvidedColumnGroup.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(providedColumnGroup,ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(eElement,action){const touchListener=new TouchListener(eElement,!0);this.addManagedListener(touchListener,TouchListener.EVENT_TAP,action),this.addDestroyFunc((()=>touchListener.destroy())),this.addManagedListener(eElement,"click",action)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const expanded=this.params.columnGroup.isExpanded();setDisplayed(this.eOpenIcon,expanded),setDisplayed(this.eCloseIcon,!expanded)}else setDisplayed(this.eOpenIcon,!1),setDisplayed(this.eCloseIcon,!1)}addInIcon(iconName,refName){const eIcon=createIconNoSpan(iconName,this.gridOptionsService,null);eIcon&&this.getRefElement(refName).appendChild(eIcon)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return setDisplayed(this.eOpenIcon,!1),void setDisplayed(this.eCloseIcon,!1)}setupLabel(){var _a;const{displayName,columnGroup}=this.params;if(exists(displayName)){const displayNameSanitised=escapeString(displayName);this.getRefElement("agLabel").innerHTML=displayNameSanitised}this.addOrRemoveCssClass("ag-sticky-label",!(null===(_a=columnGroup.getColGroupDef())||void 0===_a?void 0:_a.suppressStickyLabel))}}HeaderGroupComp.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',headerGroupComp_decorate([Autowired("columnModel")],HeaderGroupComp.prototype,"columnModel",void 0),headerGroupComp_decorate([RefSelector("agOpened")],HeaderGroupComp.prototype,"eOpenIcon",void 0),headerGroupComp_decorate([RefSelector("agClosed")],HeaderGroupComp.prototype,"eCloseIcon",void 0);class PopupComponent extends Component{isPopup(){return!0}setParentComponent(container){container.addCssClass("ag-has-popup"),super.setParentComponent(container)}destroy(){const parentComp=this.parentComponent;parentComp&&parentComp.isAlive()&&parentComp.getGui().classList.remove("ag-has-popup"),super.destroy()}}var largeTextCellEditor_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class LargeTextCellEditor extends PopupComponent{constructor(){super(LargeTextCellEditor.TEMPLATE)}init(params){this.params=params,this.focusAfterAttached=params.cellStartedEdit,this.eTextArea.setMaxLength(params.maxLength||200).setCols(params.cols||60).setRows(params.rows||10),exists(params.value,!0)&&this.eTextArea.setValue(params.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(event){const key=event.key;(key===KeyCode.LEFT||key===KeyCode.UP||key===KeyCode.RIGHT||key===KeyCode.DOWN||event.shiftKey&&key===KeyCode.ENTER)&&event.stopPropagation()}afterGuiAttached(){const translate=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(translate("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const value=this.eTextArea.getValue();return exists(value)||exists(this.params.value)?this.params.parseValue(value):this.params.value}}LargeTextCellEditor.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',largeTextCellEditor_decorate([RefSelector("eTextArea")],LargeTextCellEditor.prototype,"eTextArea",void 0);var selectCellEditor_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SelectCellEditor extends PopupComponent{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>'),this.startedByEnter=!1}init(params){this.focusAfterAttached=params.cellStartedEdit;const{eSelect,valueFormatterService,gridOptionsService}=this,{values,value,eventKey}=params;if(missing(values))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=eventKey&&eventKey===KeyCode.ENTER;let hasValue=!1;values.forEach((currentValue=>{const option={value:currentValue},valueFormatted=valueFormatterService.formatValue(params.column,null,currentValue),valueFormattedExits=null!=valueFormatted;option.text=valueFormattedExits?valueFormatted:currentValue,eSelect.addOption(option),hasValue=hasValue||value===currentValue})),hasValue?eSelect.setValue(params.value,!0):params.values.length&&eSelect.setValue(params.values[0],!0);const{valueListGap,valueListMaxWidth,valueListMaxHeight}=params;null!=valueListGap&&eSelect.setPickerGap(valueListGap),null!=valueListMaxHeight&&eSelect.setPickerMaxHeight(valueListMaxHeight),null!=valueListMaxWidth&&eSelect.setPickerMaxWidth(valueListMaxWidth),"fullRow"!==gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,AgSelect.EVENT_ITEM_SELECTED,(()=>params.stopEditing()))}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}selectCellEditor_decorate([Autowired("valueFormatterService")],SelectCellEditor.prototype,"valueFormatterService",void 0),selectCellEditor_decorate([RefSelector("eSelect")],SelectCellEditor.prototype,"eSelect",void 0);var simpleCellEditor_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SimpleCellEditor extends PopupComponent{constructor(cellEditorInput){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${cellEditorInput.getTemplate()}\n            </div>`),this.cellEditorInput=cellEditorInput}init(params){this.params=params;const eInput=this.eInput;let startValue;if(this.cellEditorInput.init(eInput,params),params.cellStartedEdit){this.focusAfterAttached=!0;const eventKey=params.eventKey;eventKey===KeyCode.BACKSPACE||params.eventKey===KeyCode.DELETE?startValue="":eventKey&&1===eventKey.length?startValue=eventKey:(startValue=this.cellEditorInput.getStartValue(),eventKey!==KeyCode.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,startValue=this.cellEditorInput.getStartValue();null!=startValue&&eInput.setStartValue(startValue),this.addManagedListener(eInput.getGui(),"keydown",(event=>{const{key}=event;key!==KeyCode.PAGE_UP&&key!==KeyCode.PAGE_DOWN||event.preventDefault()}))}afterGuiAttached(){var _a,_b;const translate=this.localeService.getLocaleTextFunc(),eInput=this.eInput;if(eInput.setInputAriaLabel(translate("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;isBrowserSafari()||eInput.getFocusableElement().focus();const inputEl=eInput.getInputElement();this.highlightAllOnFocus?inputEl.select():null===(_b=(_a=this.cellEditorInput).setCaret)||void 0===_b||_b.call(_a)}focusIn(){const eInput=this.eInput,focusEl=eInput.getFocusableElement(),inputEl=eInput.getInputElement();focusEl.focus(),inputEl.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}}simpleCellEditor_decorate([RefSelector("eInput")],SimpleCellEditor.prototype,"eInput",void 0);class TextCellEditorInput{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.maxLength&&eInput.setMaxLength(params.maxLength)}getValue(){const value=this.eInput.getValue();return exists(value)||exists(this.params.value)?this.params.parseValue(value):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const value=this.eInput.getValue(),len=exists(value)&&value.length||0;len&&this.eInput.getInputElement().setSelectionRange(len,len)}}class TextCellEditor extends SimpleCellEditor{constructor(){super(new TextCellEditorInput)}}var animateShowChangeCellRenderer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AnimateShowChangeCellRenderer extends Component{constructor(){super(AnimateShowChangeCellRenderer.TEMPLATE),this.refreshCount=0}init(params){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(params)}showDelta(params,delta){const absDelta=Math.abs(delta),valueFormatted=params.formatValue(absDelta),valueToUse=exists(valueFormatted)?valueFormatted:absDelta,deltaUp=delta>=0;this.eDelta.innerHTML=deltaUp?"↑"+valueToUse:"↓"+valueToUse,this.eDelta.classList.toggle("ag-value-change-delta-up",deltaUp),this.eDelta.classList.toggle("ag-value-change-delta-down",!deltaUp)}setTimerToRemoveDelta(){this.refreshCount++;const refreshCountCopy=this.refreshCount;window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&this.hideDeltaValue()}),2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),clearElement(this.eDelta)}refresh(params){const value=params.value;if(value===this.lastValue)return!1;if(exists(params.valueFormatted)?this.eValue.innerHTML=params.valueFormatted:exists(params.value)?this.eValue.innerHTML=value:clearElement(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"==typeof value&&"number"==typeof this.lastValue){const delta=value-this.lastValue;this.showDelta(params,delta)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=value,!0}}AnimateShowChangeCellRenderer.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',animateShowChangeCellRenderer_decorate([Autowired("filterManager")],AnimateShowChangeCellRenderer.prototype,"filterManager",void 0);var animateSlideCellRenderer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AnimateSlideCellRenderer extends Component{constructor(){super(AnimateSlideCellRenderer.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(params){this.refresh(params)}addSlideAnimation(){this.refreshCount++;const refreshCountCopy=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}refresh(params){let value=params.value;return missing(value)&&(value=""),value!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=value,exists(params.valueFormatted)?this.eCurrent.innerHTML=params.valueFormatted:exists(params.value)?this.eCurrent.innerHTML=value:clearElement(this.eCurrent),!0))}}AnimateSlideCellRenderer.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',animateSlideCellRenderer_decorate([Autowired("filterManager")],AnimateSlideCellRenderer.prototype,"filterManager",void 0);class RowNode{constructor(beans){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=RowNode.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=beans}setData(data){this.setDataCommon(data,!1)}updateData(data){this.setDataCommon(data,!0)}setDataCommon(data,update){const oldData=this.data;this.data=data,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const event=this.createDataChangedEvent(data,oldData,update);this.dispatchLocalEvent(event)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(newData,oldData,update){return{type:RowNode.EVENT_DATA_CHANGED,node:this,oldData,newData,update}}createLocalRowEvent(type){return{type,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const oldNode=new RowNode(this.beans);return oldNode.id=this.id,oldNode.data=this.data,oldNode.__daemon=!0,oldNode.selected=this.selected,oldNode.level=this.level,oldNode}setDataAndId(data,id){const oldNode=exists(this.id)?this.createDaemonNode():null,oldData=this.data;this.data=data,this.updateDataOnDetailNode(),this.setId(id),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,oldNode);const event=this.createDataChangedEvent(data,oldData,!1);this.dispatchLocalEvent(event)}checkRowSelectable(){const isRowSelectableFunc=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!isRowSelectableFunc||isRowSelectableFunc(this))}setRowSelectable(newVal){if(this.selectable!==newVal){this.selectable=newVal,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_SELECTABLE_CHANGED));if(this.beans.gridOptionsService.is("groupSelectsChildren")){const selected=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!=selected&&selected,source:"selectableChanged"})}}}setId(id){const getRowIdFunc=this.beans.gridOptionsService.getCallback("getRowId");if(getRowIdFunc)if(this.data){const parentKeys=this.getGroupKeys(!0);this.id=getRowIdFunc({data:this.data,parentKeys:parentKeys.length>0?parentKeys:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(RowNode.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${RowNode.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=id}getGroupKeys(excludeSelf=!1){const keys=[];let pointer=this;for(excludeSelf&&(pointer=pointer.parent);pointer&&pointer.level>=0;)keys.push(pointer.key),pointer=pointer.parent;return keys.reverse(),keys}isPixelInRange(pixel){return!(!exists(this.rowTop)||!exists(this.rowHeight))&&(pixel>=this.rowTop&&pixel<this.rowTop+this.rowHeight)}setFirstChild(firstChild){this.firstChild!==firstChild&&(this.firstChild=firstChild,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(lastChild){this.lastChild!==lastChild&&(this.lastChild=lastChild,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(childIndex){this.childIndex!==childIndex&&(this.childIndex=childIndex,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(rowTop){this.oldRowTop=this.rowTop,this.rowTop!==rowTop&&(this.rowTop=rowTop,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_TOP_CHANGED)),this.setDisplayed(null!==rowTop))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(displayed){this.displayed!==displayed&&(this.displayed=displayed,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DISPLAYED_CHANGED)))}setDragging(dragging){this.dragging!==dragging&&(this.dragging=dragging,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DRAGGING_CHANGED)))}setHighlighted(highlighted){highlighted!==this.highlighted&&(this.highlighted=highlighted,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HIGHLIGHT_CHANGED)))}setHovered(hovered){this.hovered!==hovered&&(this.hovered=hovered)}isHovered(){return this.hovered}setAllChildrenCount(allChildrenCount){this.allChildrenCount!==allChildrenCount&&(this.allChildrenCount=allChildrenCount,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(master){this.master!==master&&(this.master&&!master&&(this.expanded=!1),this.master=master,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_MASTER_CHANGED)))}setGroup(group){this.group!==group&&(this.group&&!group&&(this.expanded=!1),this.group=group,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_GROUP_CHANGED)))}setRowHeight(rowHeight,estimated=!1){this.rowHeight=rowHeight,this.rowHeightEstimated=estimated,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(cellHeight,column){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[column.getId()]=cellHeight,null!=cellHeight&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=debounce(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let notAllPresent=!1,nonePresent=!0,newRowHeight=0;const autoHeights=this.__autoHeights;if(null==autoHeights)return;if(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((col=>{let cellHeight=autoHeights[col.getId()];if(null==cellHeight){if(!this.beans.columnModel.isColSpanActive())return void(notAllPresent=!0);{let activeColsForRow=[];switch(col.getPinned()){case"left":activeColsForRow=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":activeColsForRow=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:activeColsForRow=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(activeColsForRow.includes(col))return void(notAllPresent=!0);cellHeight=-1}}else nonePresent=!1;cellHeight>newRowHeight&&(newRowHeight=cellHeight)})),notAllPresent)return;if((nonePresent||newRowHeight<10)&&(newRowHeight=this.beans.gridOptionsService.getRowHeightForNode(this).height),newRowHeight==this.rowHeight)return;this.setRowHeight(newRowHeight);const rowModel=this.beans.rowModel;rowModel.onRowHeightChangedDebounced&&rowModel.onRowHeightChangedDebounced()}setRowIndex(rowIndex){this.rowIndex!==rowIndex&&(this.rowIndex=rowIndex,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(uiLevel){this.uiLevel!==uiLevel&&(this.uiLevel=uiLevel,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_UI_LEVEL_CHANGED)))}setExpanded(expanded,e){if(this.expanded===expanded)return;this.expanded=expanded,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_EXPANDED_CHANGED));const event=Object.assign({},this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED),{expanded,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(event),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(type){return{type,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(event){this.eventService&&this.eventService.dispatchEvent(event)}setDataValue(colKey,newValue,eventSource){const column=(()=>{var _a;return"string"!=typeof colKey?colKey:null!==(_a=this.beans.columnModel.getGridColumn(colKey))&&void 0!==_a?_a:this.beans.columnModel.getPrimaryColumn(colKey)})(),oldValue=this.getValueFromValueService(column);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(column,oldValue,newValue,eventSource),!1;const valueChanged=this.beans.valueService.setValue(this,column,newValue,eventSource);return this.dispatchCellChangedEvent(column,newValue,oldValue),this.checkRowSelectable(),valueChanged}getValueFromValueService(column){const lockedClosedGroup=this.leafGroup&&this.beans.columnModel.isPivotMode(),isOpenGroup=this.group&&this.expanded&&!this.footer&&!lockedClosedGroup,groupFootersEnabled=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),groupAlwaysShowAggData=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),ignoreAggData=isOpenGroup&&groupFootersEnabled&&!groupAlwaysShowAggData;return this.beans.valueService.getValue(column,this,!1,ignoreAggData)}dispatchEventForSaveValueReadOnly(column,oldValue,newValue,eventSource){const event={type:Events.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column,colDef:column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue,newValue,value:newValue,source:eventSource};this.beans.eventService.dispatchEvent(event)}setGroupValue(colKey,newValue){const column=this.beans.columnModel.getGridColumn(colKey);missing(this.groupData)&&(this.groupData={});const columnId=column.getColId(),oldValue=this.groupData[columnId];oldValue!==newValue&&(this.groupData[columnId]=newValue,this.dispatchCellChangedEvent(column,newValue,oldValue))}setAggData(newAggData){const colIds=getAllKeysInObjects([this.aggData,newAggData]),oldAggData=this.aggData;this.aggData=newAggData,this.eventService&&colIds.forEach((colId=>{const value=this.aggData?this.aggData[colId]:void 0,oldValue=oldAggData?oldAggData[colId]:void 0;if(value===oldValue)return;const column=this.beans.columnModel.lookupGridColumn(colId);column&&this.dispatchCellChangedEvent(column,value,oldValue)}))}updateHasChildren(){let newValue=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const isTreeData=this.beans.gridOptionsService.is("treeData"),isGroupFunc=this.beans.gridOptionsService.get("isServerSideGroup");newValue=!this.stub&&!this.footer&&(isTreeData?!!isGroupFunc&&isGroupFunc(this.data):!!this.group)}newValue!==this.__hasChildren&&(this.__hasChildren=!!newValue,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&missingOrEmpty(this.childrenAfterGroup)}dispatchCellChangedEvent(column,newValue,oldValue){const cellChangedEvent={type:RowNode.EVENT_CELL_CHANGED,node:this,column,newValue,oldValue};this.dispatchLocalEvent(cellChangedEvent)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(callback){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((child=>child.depthFirstSearch(callback))),callback(this)}calculateSelectedFromChildren(){var _a;let atLeastOneSelected=!1,atLeastOneDeSelected=!1,atLeastOneMixed=!1;if(!(null===(_a=this.childrenAfterGroup)||void 0===_a?void 0:_a.length))return this.selectable?this.selected:null;for(let i=0;i<this.childrenAfterGroup.length;i++){const child=this.childrenAfterGroup[i];let childState=child.isSelected();if(!child.selectable){const selectable=child.calculateSelectedFromChildren();if(null===selectable)continue;childState=selectable}switch(childState){case!0:atLeastOneSelected=!0;break;case!1:atLeastOneDeSelected=!0;break;default:atLeastOneMixed=!0}}return atLeastOneMixed||atLeastOneSelected&&atLeastOneDeSelected?void 0:!!atLeastOneSelected||!atLeastOneDeSelected&&(this.selectable?this.selected:null)}setSelectedInitialValue(selected){this.selected=selected}selectThisNode(newValue,e,source="api"){const selectionNotAllowed=!this.selectable&&newValue,selectionNotChanged=this.selected===newValue;if(selectionNotAllowed||selectionNotChanged)return!1;if(this.selected=newValue,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED));const sibling=this.sibling;sibling&&sibling.footer&&sibling.dispatchLocalEvent(sibling.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED))}const event=Object.assign(Object.assign({},this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED)),{event:e||null,source});return this.beans.eventService.dispatchEvent(event),!0}setSelected(newValue,clearSelection=!1,source="api"){"boolean"!=typeof source?this.setSelectedParams({newValue,clearSelection,rangeSelect:!1,source}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(params){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},params),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(potentialParent){let parentNode=this.parent;for(;parentNode;){if(parentNode===potentialParent)return!0;parentNode=parentNode.parent}return!1}addEventListener(eventType,listener){this.eventService||(this.eventService=new EventService),this.eventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.eventService&&(this.eventService.removeEventListener(eventType,listener),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(rowGroupColumn){let currentRowNode=this,isCandidate=!0,foundFirstChildPath=!1,nodeToSwapIn=null;for(;isCandidate&&!foundFirstChildPath;){const parentRowNode=currentRowNode.parent;exists(parentRowNode)&&currentRowNode.firstChild?parentRowNode.rowGroupColumn===rowGroupColumn&&(foundFirstChildPath=!0,nodeToSwapIn=parentRowNode):isCandidate=!1,currentRowNode=parentRowNode}return foundFirstChildPath?nodeToSwapIn:null}isFullWidthCell(){if(this.detail)return!0;const isFullWidthCellFunc=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!isFullWidthCellFunc&&isFullWidthCellFunc({rowNode:this})}getRoute(){if(null==this.key)return;const res=[];let pointer=this;for(;null!=pointer.key;)res.push(pointer.key),pointer=pointer.parent;return res.reverse()}createFooter(){if(this.sibling)return;const ignoredProperties=new Set(["eventService","__objectId","sticky"]),footerNode=new RowNode(this.beans);Object.keys(this).forEach((key=>{ignoredProperties.has(key)||(footerNode[key]=this[key])})),footerNode.footer=!0,footerNode.setRowTop(null),footerNode.setRowIndex(null),footerNode.oldRowTop=null,footerNode.id="rowGroupFooter_"+this.id,footerNode.sibling=this,this.sibling=footerNode}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}}RowNode.ID_PREFIX_ROW_GROUP="row-group-",RowNode.ID_PREFIX_TOP_PINNED="t-",RowNode.ID_PREFIX_BOTTOM_PINNED="b-",RowNode.OBJECT_ID_SEQUENCE=0,RowNode.EVENT_ROW_SELECTED="rowSelected",RowNode.EVENT_DATA_CHANGED="dataChanged",RowNode.EVENT_CELL_CHANGED="cellChanged",RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",RowNode.EVENT_MASTER_CHANGED="masterChanged",RowNode.EVENT_GROUP_CHANGED="groupChanged",RowNode.EVENT_MOUSE_ENTER="mouseEnter",RowNode.EVENT_MOUSE_LEAVE="mouseLeave",RowNode.EVENT_HEIGHT_CHANGED="heightChanged",RowNode.EVENT_TOP_CHANGED="topChanged",RowNode.EVENT_DISPLAYED_CHANGED="displayedChanged",RowNode.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",RowNode.EVENT_LAST_CHILD_CHANGED="lastChildChanged",RowNode.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",RowNode.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",RowNode.EVENT_EXPANDED_CHANGED="expandedChanged",RowNode.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",RowNode.EVENT_SELECTABLE_CHANGED="selectableChanged",RowNode.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",RowNode.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",RowNode.EVENT_DRAGGING_CHANGED="draggingChanged";var checkboxSelectionComponent_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class CheckboxSelectionComponent extends Component{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0),setAriaLive(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const translate=this.localeService.getLocaleTextFunc(),state=this.rowNode.isSelected(),stateName=getAriaCheckboxStateName(translate,state),ariaLabel=translate("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(state,!0),this.eCheckbox.setInputAriaLabel(`${ariaLabel} (${stateName})`)}onClicked(newValue,groupSelectsFiltered,event){return this.rowNode.setSelectedParams({newValue,rangeSelect:event.shiftKey,groupSelectsFiltered,event,source:"checkboxSelected"})}init(params){this.rowNode=params.rowNode,this.column=params.column,this.overrides=params.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(event=>{stopPropagationForAgGrid(event)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(event=>{stopPropagationForAgGrid(event);const groupSelectsFiltered=this.gridOptionsService.is("groupSelectsFiltered"),isSelected=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(isSelected,groupSelectsFiltered)){0===this.onClicked(!0,groupSelectsFiltered,event||{})&&this.onClicked(!1,groupSelectsFiltered,event)}else isSelected?this.onClicked(!1,groupSelectsFiltered,event):this.onClicked(!0,groupSelectsFiltered,event||{})})),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));if(this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const showOrHideSelectListener=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,showOrHideSelectListener),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,showOrHideSelectListener),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,showOrHideSelectListener),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(isSelected,groupSelectsFiltered){return groupSelectsFiltered&&(void 0===this.eCheckbox.getPreviousValue()||void 0===isSelected)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var _a,_b,_c,_d;let selectable=this.rowNode.selectable;const isVisible=this.getIsVisible();if(selectable)if("function"==typeof isVisible){const extraParams=null===(_a=this.overrides)||void 0===_a?void 0:_a.callbackParams,params=null===(_b=this.column)||void 0===_b?void 0:_b.createColumnFunctionCallbackParams(this.rowNode);selectable=!!params&&isVisible(Object.assign(Object.assign({},extraParams),params))}else selectable=null!=isVisible&&isVisible;if(null===(_c=this.column)||void 0===_c?void 0:_c.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!selectable),this.setVisible(!0),void this.setDisplayed(!0);(null===(_d=this.overrides)||void 0===_d?void 0:_d.removeHidden)?this.setDisplayed(selectable):this.setVisible(selectable)}getIsVisible(){var _a,_b;return this.overrides?this.overrides.isVisible:null===(_b=null===(_a=this.column)||void 0===_a?void 0:_a.getColDef())||void 0===_b?void 0:_b.checkboxSelection}}checkboxSelectionComponent_decorate([RefSelector("eCheckbox")],CheckboxSelectionComponent.prototype,"eCheckbox",void 0),checkboxSelectionComponent_decorate([PostConstruct],CheckboxSelectionComponent.prototype,"postConstruct",null);var DragAndDropService_1,DragSourceType,VerticalDirection,HorizontalDirection,dragAndDropService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(DragSourceType){DragSourceType[DragSourceType.ToolPanel=0]="ToolPanel",DragSourceType[DragSourceType.HeaderCell=1]="HeaderCell",DragSourceType[DragSourceType.RowDrag=2]="RowDrag",DragSourceType[DragSourceType.ChartPanel=3]="ChartPanel",DragSourceType[DragSourceType.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"}(DragSourceType||(DragSourceType={})),function(VerticalDirection){VerticalDirection[VerticalDirection.Up=0]="Up",VerticalDirection[VerticalDirection.Down=1]="Down"}(VerticalDirection||(VerticalDirection={})),function(HorizontalDirection){HorizontalDirection[HorizontalDirection.Left=0]="Left",HorizontalDirection[HorizontalDirection.Right=1]="Right"}(HorizontalDirection||(HorizontalDirection={}));let DragAndDropService=DragAndDropService_1=class DragAndDropService extends BeanStub{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=createIcon("columnMovePin",this.gridOptionsService,null),this.eHideIcon=createIcon("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=createIcon("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=createIcon("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=createIcon("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=createIcon("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=createIcon("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=createIcon("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=createIcon("dropNotAllowed",this.gridOptionsService,null)}addDragSource(dragSource,allowTouch=!1){const params={eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:allowTouch};this.dragSourceAndParamsList.push({params,dragSource}),this.dragService.addDragSource(params)}removeDragSource(dragSource){const sourceAndParams=this.dragSourceAndParamsList.find((item=>item.dragSource===dragSource));sourceAndParams&&(this.dragService.removeDragSource(sourceAndParams.params),removeFromArray(this.dragSourceAndParamsList,sourceAndParams))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach((sourceAndParams=>this.dragService.removeDragSource(sourceAndParams.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(dragSource,mouseEvent){this.dragging=!0,this.dragSource=dragSource,this.eventLastTime=mouseEvent,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(mouseEvent){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const draggingEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,null,null,!1);this.lastDropTarget.onDragStop(draggingEvent)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(mouseEvent,fromNudge){var _a,_b,_c,_d;const hDirection=this.getHorizontalDirection(mouseEvent),vDirection=this.getVerticalDirection(mouseEvent);this.eventLastTime=mouseEvent,this.positionGhost(mouseEvent);const validDropTargets=this.dropTargets.filter((target=>this.isMouseOnDropTarget(mouseEvent,target))),dropTarget=this.findCurrentDropTarget(mouseEvent,validDropTargets);if(dropTarget!==this.lastDropTarget)this.leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge),null!==this.lastDropTarget&&null===dropTarget&&(null===(_b=(_a=this.dragSource).onGridExit)||void 0===_b||_b.call(_a,this.dragItem)),null===this.lastDropTarget&&null!==dropTarget&&(null===(_d=(_c=this.dragSource).onGridEnter)||void 0===_d||_d.call(_c,this.dragItem)),this.enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge),this.lastDropTarget=dropTarget;else if(dropTarget&&dropTarget.onDragging){const draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragging(draggingEvent)}}getAllContainersFromDropTarget(dropTarget){const secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null,containers=[[dropTarget.getContainer()]];return secondaryContainers?containers.concat(secondaryContainers):containers}allContainersIntersect(mouseEvent,containers){for(const container of containers){const rect=container.getBoundingClientRect();if(0===rect.width||0===rect.height)return!1;const horizontalFit=mouseEvent.clientX>=rect.left&&mouseEvent.clientX<rect.right,verticalFit=mouseEvent.clientY>=rect.top&&mouseEvent.clientY<rect.bottom;if(!horizontalFit||!verticalFit)return!1}return!0}isMouseOnDropTarget(mouseEvent,dropTarget){const allContainersFromDropTarget=this.getAllContainersFromDropTarget(dropTarget);let mouseOverTarget=!1;for(const currentContainers of allContainersFromDropTarget)if(this.allContainersIntersect(mouseEvent,currentContainers)){mouseOverTarget=!0;break}return!(dropTarget.targetContainsSource&&!dropTarget.getContainer().contains(this.dragSource.eElement))&&(mouseOverTarget&&dropTarget.isInterestedIn(this.dragSource.type,this.dragSource.eElement))}findCurrentDropTarget(mouseEvent,validDropTargets){const len=validDropTargets.length;if(0===len)return null;if(1===len)return validDropTargets[0];const elementStack=this.gridOptionsService.getRootNode().elementsFromPoint(mouseEvent.clientX,mouseEvent.clientY);for(const el of elementStack)for(const dropTarget of validDropTargets){if(-1!==flatten(this.getAllContainersFromDropTarget(dropTarget)).indexOf(el))return dropTarget}return null}enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge){if(dropTarget){if(dropTarget.onDragEnter){const dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragEnter(dragEnterEvent)}this.setGhostIcon(dropTarget.getIconName?dropTarget.getIconName():null)}}leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const dragLeaveEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,hDirection,vDirection,fromNudge);this.lastDropTarget.onDragLeave(dragLeaveEvent)}this.setGhostIcon(null)}}addDropTarget(dropTarget){this.dropTargets.push(dropTarget)}removeDropTarget(dropTarget){this.dropTargets=this.dropTargets.filter((target=>target.getContainer()!==dropTarget.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((zones=>zones.external))}findExternalZone(params){return this.dropTargets.filter((target=>target.external)).find((zone=>zone.getContainer()===params.getContainer()))||null}getHorizontalDirection(event){const clientX=this.eventLastTime&&this.eventLastTime.clientX,eClientX=event.clientX;return clientX===eClientX?null:clientX>eClientX?HorizontalDirection.Left:HorizontalDirection.Right}getVerticalDirection(event){const clientY=this.eventLastTime&&this.eventLastTime.clientY,eClientY=event.clientY;return clientY===eClientY?null:clientY>eClientY?VerticalDirection.Up:VerticalDirection.Down}createDropTargetEvent(dropTarget,event,hDirection,vDirection,fromNudge){const dropZoneTarget=dropTarget.getContainer(),rect=dropZoneTarget.getBoundingClientRect(),{gridApi:api,columnApi,dragItem,dragSource}=this;return{event,x:event.clientX-rect.left,y:event.clientY-rect.top,vDirection,hDirection,dragSource,fromNudge,dragItem,api,columnApi,dropZoneTarget}}positionGhost(event){const ghost=this.eGhost;if(!ghost)return;const ghostHeight=ghost.getBoundingClientRect().height,browserWidth=getBodyWidth()-2,browserHeight=getBodyHeight()-2,offsetParentSize=getElementRectWithOffset(ghost.offsetParent),{clientY,clientX}=event;let top=clientY-offsetParentSize.top-ghostHeight/2,left=clientX-offsetParentSize.left-10;const eDocument=this.gridOptionsService.getDocument(),win=eDocument.defaultView||window,windowScrollY=win.pageYOffset||eDocument.documentElement.scrollTop,windowScrollX=win.pageXOffset||eDocument.documentElement.scrollLeft;browserWidth>0&&left+ghost.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-ghost.clientWidth),left<0&&(left=0),browserHeight>0&&top+ghost.clientHeight>browserHeight+windowScrollY&&(top=browserHeight+windowScrollY-ghost.clientHeight),top<0&&(top=0),ghost.style.left=`${left}px`,ghost.style.top=`${top}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=loadTemplate(DragAndDropService_1.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme}=this.environment.getTheme();theme&&this.eGhost.classList.add(theme),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const eText=this.eGhost.querySelector(".ag-dnd-ghost-label");let dragItemName=this.dragSource.dragItemName;isFunction(dragItemName)&&(dragItemName=dragItemName()),eText.innerHTML=escapeString(dragItemName)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const eDocument=this.gridOptionsService.getDocument();let targetEl=null;try{targetEl=eDocument.fullscreenElement}catch(e){}finally{if(!targetEl){const rootNode=this.gridOptionsService.getRootNode(),body=rootNode.querySelector("body");targetEl=body||(rootNode instanceof ShadowRoot?rootNode:null==rootNode?void 0:rootNode.documentElement)}}this.eGhostParent=targetEl,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(iconName,shake=!1){clearElement(this.eGhostIcon);let eIcon=null;switch(iconName||(iconName=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():DragAndDropService_1.ICON_NOT_ALLOWED),iconName){case DragAndDropService_1.ICON_PINNED:eIcon=this.ePinnedIcon;break;case DragAndDropService_1.ICON_MOVE:eIcon=this.eMoveIcon;break;case DragAndDropService_1.ICON_LEFT:eIcon=this.eLeftIcon;break;case DragAndDropService_1.ICON_RIGHT:eIcon=this.eRightIcon;break;case DragAndDropService_1.ICON_GROUP:eIcon=this.eGroupIcon;break;case DragAndDropService_1.ICON_AGGREGATE:eIcon=this.eAggregateIcon;break;case DragAndDropService_1.ICON_PIVOT:eIcon=this.ePivotIcon;break;case DragAndDropService_1.ICON_NOT_ALLOWED:eIcon=this.eDropNotAllowedIcon;break;case DragAndDropService_1.ICON_HIDE:eIcon=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",shake),eIcon===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns")||eIcon&&this.eGhostIcon.appendChild(eIcon)}};DragAndDropService.ICON_PINNED="pinned",DragAndDropService.ICON_MOVE="move",DragAndDropService.ICON_LEFT="left",DragAndDropService.ICON_RIGHT="right",DragAndDropService.ICON_GROUP="group",DragAndDropService.ICON_AGGREGATE="aggregate",DragAndDropService.ICON_PIVOT="pivot",DragAndDropService.ICON_NOT_ALLOWED="notAllowed",DragAndDropService.ICON_HIDE="hide",DragAndDropService.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',dragAndDropService_decorate([Autowired("dragService")],DragAndDropService.prototype,"dragService",void 0),dragAndDropService_decorate([Autowired("mouseEventService")],DragAndDropService.prototype,"mouseEventService",void 0),dragAndDropService_decorate([Autowired("columnApi")],DragAndDropService.prototype,"columnApi",void 0),dragAndDropService_decorate([Autowired("gridApi")],DragAndDropService.prototype,"gridApi",void 0),dragAndDropService_decorate([PostConstruct],DragAndDropService.prototype,"init",null),dragAndDropService_decorate([PreDestroy],DragAndDropService.prototype,"clearDragSourceParamsList",null),DragAndDropService=DragAndDropService_1=dragAndDropService_decorate([Bean("dragAndDropService")],DragAndDropService);var rowDragComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class RowDragComp extends Component{constructor(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange){super(),this.cellValueFn=cellValueFn,this.rowNode=rowNode,this.column=column,this.customGui=customGui,this.dragStartPixels=dragStartPixels,this.suppressVisibilityChange=suppressVisibilityChange,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(createIconNoSpan("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const strategy=this.gridOptionsService.is("rowDragManaged")?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(strategy,this.beans.context)}}setDragElement(dragElement,dragStartPixels){this.setTemplateFromElement(dragElement),this.addDragSource(dragStartPixels)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const selection=this.beans.selectionService.getSelectedNodes();return-1!==selection.indexOf(this.rowNode)?selection:[this.rowNode]}checkCompatibility(){const managed=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.is("treeData")&&managed&&function_doOnce((()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(column){if(column){const colDef=column.getColDef();if(colDef.rowDragText)return colDef.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(dragStartPixels=4){this.dragSource&&this.removeDragSource();const rowDragText=this.getRowDragText(this.column),translate=this.localeService.getLocaleTextFunc();this.dragSource={type:DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:()=>{var _a;const dragItem=this.getDragItem(),dragItemCount=(null===(_a=dragItem.rowNodes)||void 0===_a?void 0:_a.length)||1;return rowDragText?rowDragText(dragItem,dragItemCount):1===dragItemCount?this.cellValueFn():`${dragItemCount} ${translate("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}}rowDragComp_decorate([Autowired("beans")],RowDragComp.prototype,"beans",void 0),rowDragComp_decorate([PostConstruct],RowDragComp.prototype,"postConstruct",null),rowDragComp_decorate([PreDestroy],RowDragComp.prototype,"removeDragSource",null);class VisibilityStrategy extends BeanStub{constructor(parent,rowNode,column){super(),this.parent=parent,this.rowNode=rowNode,this.column=column}setDisplayedOrVisible(neverDisplayed){const displayedOptions={skipAriaHidden:!0};if(neverDisplayed)this.parent.setDisplayed(!1,displayedOptions);else{let shown=!0,isShownSometimes=!1;this.column&&(shown=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),isShownSometimes=isFunction(this.column.getColDef().rowDrag)),isShownSometimes?(this.parent.setDisplayed(!0,displayedOptions),this.parent.setVisible(shown,displayedOptions)):(this.parent.setDisplayed(shown,displayedOptions),this.parent.setVisible(!0,displayedOptions))}}}class NonManagedVisibilityStrategy extends VisibilityStrategy{constructor(parent,beans,rowNode,column){super(parent,rowNode,column),this.beans=beans}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const neverDisplayed=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(neverDisplayed)}}rowDragComp_decorate([PostConstruct],NonManagedVisibilityStrategy.prototype,"postConstruct",null);class ManagedVisibilityStrategy extends VisibilityStrategy{constructor(parent,beans,rowNode,column){super(parent,rowNode,column),this.beans=beans}postConstruct(){this.addManagedListener(this.beans.eventService,Events.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const rowDragFeature=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),shouldPreventRowMove=rowDragFeature&&rowDragFeature.shouldPreventRowMove(),suppressRowDrag=this.gridOptionsService.is("suppressRowDrag"),hasExternalDropZones=this.beans.dragAndDropService.hasExternalDropZones(),neverDisplayed=shouldPreventRowMove&&!hasExternalDropZones||suppressRowDrag;this.setDisplayedOrVisible(neverDisplayed)}}rowDragComp_decorate([PostConstruct],ManagedVisibilityStrategy.prototype,"postConstruct",null);var groupCellRendererCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GroupCellRendererCtrl extends BeanStub{init(comp,eGui,eCheckbox,eExpanded,eContracted,compClass,params){this.params=params,this.eGui=eGui,this.eCheckbox=eCheckbox,this.eExpanded=eExpanded,this.eContracted=eContracted,this.comp=comp,this.compClass=compClass;const{node,value,colDef}=params;if(!this.isTopLevelFooter()){if(this.isEmbeddedRowMismatch())return;const isSingleGroupColumn=!0===(null==colDef?void 0:colDef.showRowGroup),isNullValueAndNotMaster=null==value&&!node.master;if(!isSingleGroupColumn&&isNullValueAndNotMaster)return;if(node.footer&&this.gridOptionsService.is("groupHideOpenParents")){if((colDef&&colDef.showRowGroup)!==(node.rowGroupColumn&&node.rowGroupColumn.getColId()))return}}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node,eParentOfValue}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void removeAriaExpanded(eParentOfValue);const listener=()=>{setAriaExpanded(eParentOfValue,!!node.expanded)};this.expandListener=this.addManagedListener(node,RowNode.EVENT_EXPANDED_CHANGED,listener)||null,listener()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;const colDef=this.params.colDef;if(null==colDef)return!0;if(!0===colDef.showRowGroup)return!0;const rowGroupCols=this.columnModel.getRowGroupColumns();if(!rowGroupCols||0===rowGroupCols.length)return!0;return rowGroupCols[0].getId()===colDef.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const pinnedLeftCell="left"===this.params.pinned,pinnedRightCell="right"===this.params.pinned,bodyCell=!pinnedLeftCell&&!pinnedRightCell;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!pinnedRightCell:!bodyCell:this.columnModel.isPinningLeft()?!pinnedLeftCell:!bodyCell}findDisplayedGroupNode(){const column=this.params.column,rowNode=this.params.node;if(this.showingValueForOpenedParent){let pointer=rowNode.parent;for(;null!=pointer;){if(pointer.rowGroupColumn&&column.isRowGroupDisplayed(pointer.rowGroupColumn.getId())){this.displayedGroupNode=pointer;break}pointer=pointer.parent}}missing(this.displayedGroupNode)&&(this.displayedGroupNode=rowNode)}setupShowingValueForOpenedParent(){const rowNode=this.params.node,column=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!rowNode.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=rowNode.rowGroupColumn){const keyOfGroupingColumn=rowNode.rowGroupColumn.getId();if(column.isRowGroupDisplayed(keyOfGroupingColumn))return void(this.showingValueForOpenedParent=!1)}const valPresent=null!=rowNode.groupData[column.getId()];this.showingValueForOpenedParent=valPresent}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const paramsAdjusted=this.adjustParamsWithDetailsFromRelatedColumn(),innerCompDetails=this.getInnerCompDetails(paramsAdjusted),{valueFormatted,value}=paramsAdjusted;let valueWhenNoRenderer=valueFormatted;if(null==valueWhenNoRenderer)if(""===value&&this.params.node.group){valueWhenNoRenderer=this.localeService.getLocaleTextFunc()("blanks","(Blanks)")}else valueWhenNoRenderer=null!=value?value:null;this.comp.setInnerRenderer(innerCompDetails,valueWhenNoRenderer)}adjustParamsWithDetailsFromRelatedColumn(){const relatedColumn=this.displayedGroupNode.rowGroupColumn,column=this.params.column;if(!relatedColumn)return this.params;if(null!=column){if(!column.isRowGroupDisplayed(relatedColumn.getId()))return this.params}const params=this.params,{value,node}=this.params,valueFormatted=this.valueFormatterService.formatValue(relatedColumn,node,value);return Object.assign(Object.assign({},params),{valueFormatted})}addFooterValue(){const footerValueGetter=this.params.footerValueGetter;let footerValue="";if(footerValueGetter){const paramsClone=cloneObject(this.params);paramsClone.value=this.params.value,"function"==typeof footerValueGetter?footerValue=footerValueGetter(paramsClone):"string"==typeof footerValueGetter?footerValue=this.expressionService.evaluate(footerValueGetter,paramsClone):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else footerValue="Total "+(null!=this.params.value?this.params.value:"");const innerCompDetails=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(innerCompDetails,footerValue)}getInnerCompDetails(params){if(params.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),params);const innerCompDetails=this.userComponentFactory.getInnerRendererDetails(params,params),isGroupRowRenderer=details=>details&&details.componentClass==this.compClass;if(innerCompDetails&&!isGroupRowRenderer(innerCompDetails))return innerCompDetails;const relatedColumn=this.displayedGroupNode.rowGroupColumn,relatedColDef=relatedColumn?relatedColumn.getColDef():void 0;if(!relatedColDef)return;const relatedCompDetails=this.userComponentFactory.getCellRendererDetails(relatedColDef,params);if(relatedCompDetails&&!isGroupRowRenderer(relatedCompDetails))return relatedCompDetails;if(isGroupRowRenderer(relatedCompDetails)&&relatedColDef.cellRendererParams&&relatedColDef.cellRendererParams.innerRenderer){return this.userComponentFactory.getInnerRendererDetails(relatedColDef.cellRendererParams,params)}}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const allChildrenCount=this.displayedGroupNode.allChildrenCount,countString=this.isShowRowGroupForThisRow()&&null!=allChildrenCount&&allChildrenCount>=0?`(${allChildrenCount})`:"";this.comp.setChildCount(countString)}isShowRowGroupForThisRow(){if(this.gridOptionsService.is("treeData"))return!0;const rowGroupColumn=this.displayedGroupNode.rowGroupColumn;if(!rowGroupColumn)return!1;const column=this.params.column;return null==column||column.isRowGroupDisplayed(rowGroupColumn.getId())}addExpandAndContract(){var _a;const params=this.params,eExpandedIcon=createIconNoSpan("groupExpanded",this.gridOptionsService,null),eContractedIcon=createIconNoSpan("groupContracted",this.gridOptionsService,null);eExpandedIcon&&this.eExpanded.appendChild(eExpandedIcon),eContractedIcon&&this.eContracted.appendChild(eContractedIcon);const eGroupCell=params.eGridCell;(null===(_a=this.params.column)||void 0===_a?void 0:_a.isCellEditable(params.node))&&this.gridOptionsService.is("enableGroupEdit")||!this.isExpandable()||params.suppressDoubleClickExpand||this.addManagedListener(eGroupCell,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(eGroupCell,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(params.node,RowNode.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const expandableChangedListener=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED,expandableChangedListener),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_MASTER_CHANGED,expandableChangedListener),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_GROUP_CHANGED,expandableChangedListener),this.addManagedListener(this.displayedGroupNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,expandableChangedListener)}onExpandClicked(mouseEvent){isStopPropagationForAgGrid(mouseEvent)||(stopPropagationForAgGrid(mouseEvent),this.onExpandOrContract(mouseEvent))}onExpandOrContract(e){const rowNode=this.displayedGroupNode,nextExpandState=!rowNode.expanded;!nextExpandState&&rowNode.sticky&&this.scrollToStickyNode(rowNode),rowNode.setExpanded(nextExpandState,e)}scrollToStickyNode(rowNode){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(rowNode.rowTop-rowNode.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const rowNode=this.displayedGroupNode,reducedLeafNode=this.columnModel.isPivotMode()&&rowNode.leafGroup;if(!(rowNode.isExpandable()&&!rowNode.footer&&!reducedLeafNode))return!1;const column=this.params.column;if(null!=column&&"string"==typeof column.getColDef().showRowGroup){return this.isShowRowGroupForThisRow()}return!0}showExpandAndContractIcons(){const{params,displayedGroupNode:displayedGroup,columnModel}=this,{node}=params,isExpandable=this.isExpandable();if(isExpandable){const expanded=!!this.showingValueForOpenedParent||node.expanded;this.comp.setExpandedDisplayed(expanded),this.comp.setContractedDisplayed(!expanded)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const pivotMode=columnModel.isPivotMode(),pivotModeAndLeafGroup=pivotMode&&displayedGroup.leafGroup,addExpandableCss=isExpandable&&!pivotModeAndLeafGroup,isTotalFooterNode=node.footer&&-1===node.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",addExpandableCss),this.comp.addOrRemoveCssClass("ag-row-group",addExpandableCss),pivotMode?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",pivotModeAndLeafGroup):isTotalFooterNode||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!addExpandableCss)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const node=this.params.node;this.params.suppressPadding||(this.addManagedListener(node,RowNode.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const params=this.params,rowNode=params.node,fullWithRow=!!params.colDef,treeData=this.gridOptionsService.is("treeData"),paddingCount=!fullWithRow||treeData||!0===params.colDef.showRowGroup?rowNode.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+paddingCount,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const rowDragComp=new RowDragComp((()=>this.params.value),this.params.node);this.createManagedBean(rowDragComp,this.context),this.eGui.insertAdjacentElement("afterbegin",rowDragComp.getGui())}isUserWantsSelected(){const paramsCheckbox=this.params.checkbox;return"function"==typeof paramsCheckbox||!0===paramsCheckbox}addCheckboxIfNeeded(){const rowNode=this.displayedGroupNode,checkboxNeeded=this.isUserWantsSelected()&&!rowNode.footer&&!rowNode.rowPinned&&!rowNode.detail;if(checkboxNeeded){const cbSelectionComponent=new CheckboxSelectionComponent;this.getContext().createBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(cbSelectionComponent.getGui()),this.addDestroyFunc((()=>this.getContext().destroyBean(cbSelectionComponent)))}this.comp.setCheckboxVisible(checkboxNeeded)}onKeyDown(event){if(!(event.key===KeyCode.ENTER)||this.params.suppressEnterExpand)return;this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(event)}onCellDblClicked(mouseEvent){if(isStopPropagationForAgGrid(mouseEvent))return;isElementInEventPath(this.eExpanded,mouseEvent)||isElementInEventPath(this.eContracted,mouseEvent)||this.onExpandOrContract(mouseEvent)}}groupCellRendererCtrl_decorate([Autowired("expressionService")],GroupCellRendererCtrl.prototype,"expressionService",void 0),groupCellRendererCtrl_decorate([Autowired("valueFormatterService")],GroupCellRendererCtrl.prototype,"valueFormatterService",void 0),groupCellRendererCtrl_decorate([Autowired("columnModel")],GroupCellRendererCtrl.prototype,"columnModel",void 0),groupCellRendererCtrl_decorate([Autowired("userComponentFactory")],GroupCellRendererCtrl.prototype,"userComponentFactory",void 0),groupCellRendererCtrl_decorate([Autowired("ctrlsService")],GroupCellRendererCtrl.prototype,"ctrlsService",void 0);var groupCellRenderer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GroupCellRenderer extends Component{constructor(){super(GroupCellRenderer.TEMPLATE)}init(params){const compProxy={setInnerRenderer:(compDetails,valueToDisplay)=>this.setRenderDetails(compDetails,valueToDisplay),setChildCount:count=>this.eChildCount.innerHTML=count,addOrRemoveCssClass:(cssClass,value)=>this.addOrRemoveCssClass(cssClass,value),setContractedDisplayed:expanded=>setDisplayed(this.eContracted,expanded),setExpandedDisplayed:expanded=>setDisplayed(this.eExpanded,expanded),setCheckboxVisible:visible=>this.eCheckbox.classList.toggle("ag-invisible",!visible)},ctrl=this.createManagedBean(new GroupCellRendererCtrl),fullWidth=!params.colDef,eGui=this.getGui();ctrl.init(compProxy,eGui,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,params),fullWidth&&setAriaRole(eGui,"gridcell")}setRenderDetails(compDetails,valueToDisplay){if(compDetails){const componentPromise=compDetails.newAgStackInstance();if(!componentPromise)return;componentPromise.then((comp=>{if(!comp)return;const destroyComp=()=>this.context.destroyBean(comp);this.isAlive()?(this.eValue.appendChild(comp.getGui()),this.addDestroyFunc(destroyComp)):destroyComp()}))}else this.eValue.innerText=valueToDisplay}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}}GroupCellRenderer.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',groupCellRenderer_decorate([RefSelector("eExpanded")],GroupCellRenderer.prototype,"eExpanded",void 0),groupCellRenderer_decorate([RefSelector("eContracted")],GroupCellRenderer.prototype,"eContracted",void 0),groupCellRenderer_decorate([RefSelector("eCheckbox")],GroupCellRenderer.prototype,"eCheckbox",void 0),groupCellRenderer_decorate([RefSelector("eValue")],GroupCellRenderer.prototype,"eValue",void 0),groupCellRenderer_decorate([RefSelector("eChildCount")],GroupCellRenderer.prototype,"eChildCount",void 0);var loadingCellRenderer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class LoadingCellRenderer extends Component{constructor(){super(LoadingCellRenderer.TEMPLATE)}init(params){params.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const localeTextFunc=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=localeTextFunc("loadingError","ERR")}setupLoading(){const eLoadingIcon=createIconNoSpan("groupLoading",this.gridOptionsService,null);eLoadingIcon&&this.eLoadingIcon.appendChild(eLoadingIcon);const localeTextFunc=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=localeTextFunc("loadingOoo","Loading")}refresh(params){return!1}destroy(){super.destroy()}}LoadingCellRenderer.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',loadingCellRenderer_decorate([RefSelector("eLoadingIcon")],LoadingCellRenderer.prototype,"eLoadingIcon",void 0),loadingCellRenderer_decorate([RefSelector("eLoadingText")],LoadingCellRenderer.prototype,"eLoadingText",void 0);class LoadingOverlayComponent extends Component{constructor(){super()}destroy(){super.destroy()}init(params){var _a;const template=null!==(_a=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==_a?_a:LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE,localeTextFunc=this.localeService.getLocaleTextFunc(),localisedTemplate=template.replace("[LOADING...]",localeTextFunc("loadingOoo","Loading..."));this.setTemplate(localisedTemplate)}}LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>';class NoRowsOverlayComponent extends Component{constructor(){super()}destroy(){super.destroy()}init(params){var _a;const template=null!==(_a=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==_a?_a:NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE,localeTextFunc=this.localeService.getLocaleTextFunc(),localisedTemplate=template.replace("[NO_ROWS_TO_SHOW]",localeTextFunc("noRowsToShow","No Rows To Show"));this.setTemplate(localisedTemplate)}}NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>';class TooltipComponent extends PopupComponent{constructor(){super('<div class="ag-tooltip"></div>')}init(params){const{value}=params;this.getGui().innerHTML=escapeString(value)}}class NumberCellEditorInput{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.max&&eInput.setMax(params.max),null!=params.min&&eInput.setMin(params.min),null!=params.precision&&eInput.setPrecision(params.precision),null!=params.step&&eInput.setStep(params.step),params.showStepperButtons&&eInput.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const value=this.eInput.getValue();if(!exists(value)&&!exists(this.params.value))return this.params.value;let parsedValue=this.params.parseValue(value);if(null==parsedValue)return parsedValue;if("string"==typeof parsedValue){if(""===parsedValue)return null;parsedValue=Number(parsedValue)}return isNaN(parsedValue)?null:parsedValue}getStartValue(){return this.params.value}}class NumberCellEditor extends SimpleCellEditor{constructor(){super(new NumberCellEditorInput)}}class DateCellEditorInput{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.min&&eInput.setMin(params.min),null!=params.max&&eInput.setMax(params.max),null!=params.step&&eInput.setStep(params.step)}getValue(){const value=this.eInput.getDate();return exists(value)||exists(this.params.value)?null!=value?value:null:this.params.value}getStartValue(){const{value}=this.params;if(value instanceof Date)return serialiseDate(value,!1)}}class DateCellEditor extends SimpleCellEditor{constructor(){super(new DateCellEditorInput)}}var dateStringCellEditor_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DateStringCellEditorInput{constructor(getDataTypeService){this.getDataTypeService=getDataTypeService}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.min&&eInput.setMin(params.min),null!=params.max&&eInput.setMax(params.max),null!=params.step&&eInput.setStep(params.step)}getValue(){const value=this.formatDate(this.eInput.getDate());return exists(value)||exists(this.params.value)?this.params.parseValue(null!=value?value:""):this.params.value}getStartValue(){var _a,_b;return serialiseDate(null!==(_b=this.parseDate(null!==(_a=this.params.value)&&void 0!==_a?_a:void 0))&&void 0!==_b?_b:null,!1)}parseDate(value){return this.getDataTypeService().getDateParserFunction()(value)}formatDate(value){return this.getDataTypeService().getDateFormatterFunction()(value)}}class DateStringCellEditor extends SimpleCellEditor{constructor(){super(new DateStringCellEditorInput((()=>this.dataTypeService)))}}dateStringCellEditor_decorate([Autowired("dataTypeService")],DateStringCellEditor.prototype,"dataTypeService",void 0);var checkboxCellRenderer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class CheckboxCellRenderer extends Component{constructor(){super(CheckboxCellRenderer.TEMPLATE)}init(params){this.params=params,this.updateCheckbox(params),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(event=>{if(stopPropagationForAgGrid(event),this.eCheckbox.isDisabled())return;const isSelected=this.eCheckbox.getValue();this.onCheckboxChanged(isSelected)})),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(event=>{stopPropagationForAgGrid(event)}));const eDocument=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",(event=>{if(event.key===KeyCode.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===eDocument.activeElement&&this.eCheckbox.toggle();const isSelected=this.eCheckbox.getValue();this.onCheckboxChanged(isSelected),event.preventDefault()}}))}refresh(params){return this.params=params,this.updateCheckbox(params),!0}updateCheckbox(params){var _a,_b,_c;let isSelected,displayed=!0;if(params.node.group&&params.column){const colId=params.column.getColId();colId.startsWith("ag-Grid-AutoColumn")?isSelected=null==params.value||""===params.value?void 0:"true"===params.value:params.node.aggData&&void 0!==params.node.aggData[colId]?isSelected=null!==(_a=params.value)&&void 0!==_a?_a:void 0:displayed=!1}else isSelected=null!==(_b=params.value)&&void 0!==_b?_b:void 0;if(!displayed)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(isSelected);const disabled=null!=params.disabled?params.disabled:!(null===(_c=params.column)||void 0===_c?void 0:_c.isCellEditable(params.node));this.eCheckbox.setDisabled(disabled);const translate=this.localeService.getLocaleTextFunc(),stateName=getAriaCheckboxStateName(translate,isSelected),ariaLabel=disabled?stateName:`${translate("ariaToggleCellValue","Press SPACE to toggle cell value")} (${stateName})`;this.eCheckbox.setInputAriaLabel(ariaLabel)}onCheckboxChanged(isSelected){const{column,node,rowIndex,value}=this.params,eventStarted={type:Events.EVENT_CELL_EDITING_STARTED,column,colDef:null==column?void 0:column.getColDef(),data:node.data,node,rowIndex,rowPinned:node.rowPinned,value};this.eventService.dispatchEvent(eventStarted);const valueChanged=this.params.node.setDataValue(this.params.column,isSelected,"edit"),eventStopped={type:Events.EVENT_CELL_EDITING_STOPPED,column,colDef:null==column?void 0:column.getColDef(),data:node.data,node,rowIndex,rowPinned:node.rowPinned,value,oldValue:value,newValue:isSelected,valueChanged};this.eventService.dispatchEvent(eventStopped)}}CheckboxCellRenderer.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',checkboxCellRenderer_decorate([RefSelector("eCheckbox")],CheckboxCellRenderer.prototype,"eCheckbox",void 0);var checkboxCellEditor_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class CheckboxCellEditor extends PopupComponent{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(params){var _a;this.params=params;const isSelected=null!==(_a=params.value)&&void 0!==_a?_a:void 0;this.eCheckbox.setValue(isSelected),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(isSelected),this.addManagedListener(this.eCheckbox,Events.EVENT_FIELD_VALUE_CHANGED,(event=>this.setAriaLabel(event.selected)))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(isSelected){const translate=this.localeService.getLocaleTextFunc(),stateName=getAriaCheckboxStateName(translate,isSelected),ariaLabel=translate("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${ariaLabel} (${stateName})`)}}checkboxCellEditor_decorate([RefSelector("eCheckbox")],CheckboxCellEditor.prototype,"eCheckbox",void 0);var userComponentRegistry_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let UserComponentRegistry=class UserComponentRegistry extends BeanStub{constructor(){super(...arguments),this.agGridDefaults={agDateInput:DefaultDateComponent,agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agSortIndicator:SortIndicatorComp,agTextColumnFloatingFilter:TextFloatingFilter,agNumberColumnFloatingFilter:NumberFloatingFilter,agDateColumnFloatingFilter:DateFloatingFilter,agReadOnlyFloatingFilter:ReadOnlyFloatingFilter,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agGroupCellRenderer:GroupCellRenderer,agGroupRowRenderer:GroupCellRenderer,agLoadingCellRenderer:LoadingCellRenderer,agCheckboxCellRenderer:CheckboxCellRenderer,agCellEditor:TextCellEditor,agTextCellEditor:TextCellEditor,agNumberCellEditor:NumberCellEditor,agDateCellEditor:DateCellEditor,agDateStringCellEditor:DateStringCellEditor,agSelectCellEditor:SelectCellEditor,agLargeTextCellEditor:LargeTextCellEditor,agCheckboxCellEditor:CheckboxCellEditor,agTextColumnFilter:TextFilter,agNumberColumnFilter:NumberFilter,agDateColumnFilter:DateFilter,agLoadingOverlay:LoadingOverlayComponent,agNoRowsOverlay:NoRowsOverlayComponent,agTooltipComponent:TooltipComponent},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:ModuleNames.SetFilterModule,agSetColumnFloatingFilter:ModuleNames.SetFilterModule,agMultiColumnFilter:ModuleNames.MultiFilterModule,agMultiColumnFloatingFilter:ModuleNames.MultiFilterModule,agGroupColumnFilter:ModuleNames.RowGroupingModule,agGroupColumnFloatingFilter:ModuleNames.RowGroupingModule,agRichSelect:ModuleNames.RichSelectModule,agRichSelectCellEditor:ModuleNames.RichSelectModule,agDetailCellRenderer:ModuleNames.MasterDetailModule,agSparklineCellRenderer:ModuleNames.SparklinesModule},this.jsComps={}}init(){null!=this.gridOptions.components&&iterateObject(this.gridOptions.components,((key,component)=>this.registerJsComponent(key,component)))}registerDefaultComponent(name,component){this.agGridDefaults[name]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[name]=component}registerJsComponent(name,component){this.jsComps[name]=component}retrieve(propertyName,name){const createResult=(component,componentFromFramework)=>({componentFromFramework,component}),registeredViaFrameworkComp=this.getFrameworkOverrides().frameworkComponent(name,this.gridOptions.components);if(null!=registeredViaFrameworkComp)return createResult(registeredViaFrameworkComp,!0);const jsComponent=this.jsComps[name];if(jsComponent){return createResult(jsComponent,this.getFrameworkOverrides().isFrameworkComponent(jsComponent))}const defaultComponent=this.agGridDefaults[name];if(defaultComponent)return createResult(defaultComponent,!1);const moduleForComponent=this.enterpriseAgDefaultCompsModule[name];return moduleForComponent?ModuleRegistry.__assertRegistered(moduleForComponent,`AG Grid '${propertyName}' component: ${name}`,this.context.getGridId()):function_doOnce((()=>{this.warnAboutMissingComponent(propertyName,name)}),"MissingComp"+name),null}warnAboutMissingComponent(propertyName,componentName){const suggestions=fuzzySuggestions(componentName,[...Object.keys(this.agGridDefaults).filter((k=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(k))),...Object.keys(this.jsComps)],!0,.8).values;console.warn(`AG Grid: Could not find '${componentName}' component. It was configured as "${propertyName}: '${componentName}'" but it wasn't found in the list of registered components.`),suggestions.length>0&&console.warn(`         Did you mean: [${suggestions.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};userComponentRegistry_decorate([Autowired("gridOptions")],UserComponentRegistry.prototype,"gridOptions",void 0),userComponentRegistry_decorate([PostConstruct],UserComponentRegistry.prototype,"init",null),UserComponentRegistry=userComponentRegistry_decorate([Bean("userComponentRegistry")],UserComponentRegistry);const DateComponent={propertyName:"dateComponent",cellRenderer:!1},HeaderComponent={propertyName:"headerComponent",cellRenderer:!1},HeaderGroupComponent={propertyName:"headerGroupComponent",cellRenderer:!1},CellRendererComponent={propertyName:"cellRenderer",cellRenderer:!0},CellEditorComponent={propertyName:"cellEditor",cellRenderer:!1},InnerRendererComponent={propertyName:"innerRenderer",cellRenderer:!0},componentTypes_LoadingOverlayComponent={propertyName:"loadingOverlayComponent",cellRenderer:!1},componentTypes_NoRowsOverlayComponent={propertyName:"noRowsOverlayComponent",cellRenderer:!1},componentTypes_TooltipComponent={propertyName:"tooltipComponent",cellRenderer:!1},FilterComponent={propertyName:"filter",cellRenderer:!1},FloatingFilterComponent={propertyName:"floatingFilterComponent",cellRenderer:!1},ToolPanelComponent={propertyName:"toolPanel",cellRenderer:!1},StatusPanelComponent={propertyName:"statusPanel",cellRenderer:!1},FullWidth={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FullWidthLoading={propertyName:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={propertyName:"groupRowRenderer",cellRenderer:!0},FullWidthDetail={propertyName:"detailCellRenderer",cellRenderer:!0};class FloatingFilterMapper{static getFloatingFilterType(filterType){return this.filterToFloatingFilterMapping[filterType]}}FloatingFilterMapper.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var userComponentFactory_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let UserComponentFactory=class UserComponentFactory extends BeanStub{getHeaderCompDetails(colDef,params){return this.getCompDetails(colDef,HeaderComponent,"agColumnHeader",params)}getHeaderGroupCompDetails(params){const colGroupDef=params.columnGroup.getColGroupDef();return this.getCompDetails(colGroupDef,HeaderGroupComponent,"agColumnGroupHeader",params)}getFullWidthCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidth,null,params,!0)}getFullWidthLoadingCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidthLoading,"agLoadingCellRenderer",params,!0)}getFullWidthGroupCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidthGroup,"agGroupRowRenderer",params,!0)}getFullWidthDetailCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidthDetail,"agDetailCellRenderer",params,!0)}getInnerRendererDetails(def,params){return this.getCompDetails(def,InnerRendererComponent,null,params)}getFullWidthGroupRowInnerCellRenderer(def,params){return this.getCompDetails(def,InnerRendererComponent,null,params)}getCellRendererDetails(def,params){return this.getCompDetails(def,CellRendererComponent,null,params)}getCellEditorDetails(def,params){return this.getCompDetails(def,CellEditorComponent,"agCellEditor",params,!0)}getFilterDetails(def,params,defaultFilter){return this.getCompDetails(def,FilterComponent,defaultFilter,params,!0)}getDateCompDetails(params){return this.getCompDetails(this.gridOptions,DateComponent,"agDateInput",params,!0)}getLoadingOverlayCompDetails(params){return this.getCompDetails(this.gridOptions,componentTypes_LoadingOverlayComponent,"agLoadingOverlay",params,!0)}getNoRowsOverlayCompDetails(params){return this.getCompDetails(this.gridOptions,componentTypes_NoRowsOverlayComponent,"agNoRowsOverlay",params,!0)}getTooltipCompDetails(params){return this.getCompDetails(params.colDef,componentTypes_TooltipComponent,"agTooltipComponent",params,!0)}getSetFilterCellRendererDetails(def,params){return this.getCompDetails(def,CellRendererComponent,null,params)}getFloatingFilterCompDetails(def,params,defaultFloatingFilter){return this.getCompDetails(def,FloatingFilterComponent,defaultFloatingFilter,params)}getToolPanelCompDetails(toolPanelDef,params){return this.getCompDetails(toolPanelDef,ToolPanelComponent,null,params,!0)}getStatusPanelCompDetails(def,params){return this.getCompDetails(def,StatusPanelComponent,null,params,!0)}getCompDetails(defObject,type,defaultName,params,mandatory=!1){const{propertyName,cellRenderer}=type;let{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}=this.getCompKeys(defObject,type,params);const lookupFromRegistry=key=>{const item=this.userComponentRegistry.retrieve(propertyName,key);item&&(jsComp=item.componentFromFramework?void 0:item.component,fwComp=item.componentFromFramework?item.component:void 0)};if(null!=compName&&lookupFromRegistry(compName),null==jsComp&&null==fwComp&&null!=defaultName&&lookupFromRegistry(defaultName),jsComp&&cellRenderer&&!this.agComponentUtils.doesImplementIComponent(jsComp)&&(jsComp=this.agComponentUtils.adaptFunction(propertyName,jsComp)),!jsComp&&!fwComp)return void(mandatory&&console.error(`AG Grid: Could not find component ${compName}, did you forget to configure this component?`));const paramsMerged=this.mergeParamsWithApplicationProvidedParams(defObject,type,params,paramsFromSelector),componentFromFramework=null==jsComp,componentClass=jsComp||fwComp;return{componentFromFramework,componentClass,params:paramsMerged,type,popupFromSelector,popupPositionFromSelector,newAgStackInstance:()=>this.newAgStackInstance(componentClass,componentFromFramework,paramsMerged,type)}}getCompKeys(defObject,type,params){const{propertyName}=type;let compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector;if(defObject){const defObjectAny=defObject,selectorFunc=defObjectAny[propertyName+"Selector"],selectorRes=selectorFunc?selectorFunc(params):null,assignComp=providedJsComp=>{if("string"==typeof providedJsComp)compName=providedJsComp;else if(null!=providedJsComp&&!0!==providedJsComp){this.getFrameworkOverrides().isFrameworkComponent(providedJsComp)?fwComp=providedJsComp:jsComp=providedJsComp}};selectorRes?(assignComp(selectorRes.component),paramsFromSelector=selectorRes.params,popupFromSelector=selectorRes.popup,popupPositionFromSelector=selectorRes.popupPosition):assignComp(defObjectAny[propertyName])}return{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}}newAgStackInstance(ComponentClass,componentFromFramework,params,type){const propertyName=type.propertyName;let instance;if(!componentFromFramework)instance=new ComponentClass;else{const thisComponentConfig=this.componentMetadataProvider.retrieve(propertyName);instance=this.frameworkComponentWrapper.wrap(ComponentClass,thisComponentConfig.mandatoryMethodList,thisComponentConfig.optionalMethodList,type)}const deferredInit=this.initComponent(instance,params);return null==deferredInit?promise_AgPromise.resolve(instance):deferredInit.then((()=>instance))}mergeParamsWithApplicationProvidedParams(defObject,type,paramsFromGrid,paramsFromSelector=null){const params={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};mergeDeep(params,paramsFromGrid);const userParams=defObject&&defObject[type.propertyName+"Params"];if("function"==typeof userParams){mergeDeep(params,userParams(paramsFromGrid))}else"object"==typeof userParams&&mergeDeep(params,userParams);return mergeDeep(params,paramsFromSelector),params}initComponent(component,params){if(this.context.createBean(component),null!=component.init)return component.init(params)}getDefaultFloatingFilterType(def,getFromDefault){if(null==def)return null;let defaultFloatingFilterType=null,{compName,jsComp,fwComp}=this.getCompKeys(def,FilterComponent);if(compName)defaultFloatingFilterType=FloatingFilterMapper.getFloatingFilterType(compName);else{null==jsComp&&null==fwComp&&!0===def.filter&&(defaultFloatingFilterType=getFromDefault())}return defaultFloatingFilterType}};var ExcelFactoryMode;userComponentFactory_decorate([Autowired("gridOptions")],UserComponentFactory.prototype,"gridOptions",void 0),userComponentFactory_decorate([Autowired("agComponentUtils")],UserComponentFactory.prototype,"agComponentUtils",void 0),userComponentFactory_decorate([Autowired("componentMetadataProvider")],UserComponentFactory.prototype,"componentMetadataProvider",void 0),userComponentFactory_decorate([Autowired("userComponentRegistry")],UserComponentFactory.prototype,"userComponentRegistry",void 0),userComponentFactory_decorate([Optional("frameworkComponentWrapper")],UserComponentFactory.prototype,"frameworkComponentWrapper",void 0),UserComponentFactory=userComponentFactory_decorate([Bean("userComponentFactory")],UserComponentFactory),function(ExcelFactoryMode){ExcelFactoryMode[ExcelFactoryMode.SINGLE_SHEET=0]="SINGLE_SHEET",ExcelFactoryMode[ExcelFactoryMode.MULTI_SHEET=1]="MULTI_SHEET"}(ExcelFactoryMode||(ExcelFactoryMode={}));var dragService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let DragService=class DragService extends BeanStub{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(dragSourceAndListener){const element=dragSourceAndListener.dragSource.eElement,mouseDownListener=dragSourceAndListener.mouseDownListener;if(element.removeEventListener("mousedown",mouseDownListener),dragSourceAndListener.touchEnabled){const touchStartListener=dragSourceAndListener.touchStartListener;element.removeEventListener("touchstart",touchStartListener,{passive:!0})}}removeDragSource(params){const dragSourceAndListener=this.dragSources.find((item=>item.dragSource===params));dragSourceAndListener&&(this.removeListener(dragSourceAndListener),removeFromArray(this.dragSources,dragSourceAndListener))}isDragging(){return this.dragging}addDragSource(params){const mouseListener=this.onMouseDown.bind(this,params),{eElement,includeTouch,stopPropagationForTouch}=params;eElement.addEventListener("mousedown",mouseListener);let touchListener=null;const suppressTouch=this.gridOptionsService.is("suppressTouch");includeTouch&&!suppressTouch&&(touchListener=touchEvent=>{isFocusableFormField(touchEvent.target)||(touchEvent.cancelable&&(touchEvent.preventDefault(),stopPropagationForTouch&&touchEvent.stopPropagation()),this.onTouchStart(params,touchEvent))},eElement.addEventListener("touchstart",touchListener,{passive:!1})),this.dragSources.push({dragSource:params,mouseDownListener:mouseListener,touchStartListener:touchListener,touchEnabled:!!includeTouch})}getStartTarget(){return this.startTarget}onTouchStart(params,touchEvent){this.currentDragParams=params,this.dragging=!1;const touch=touchEvent.touches[0];this.touchLastTime=touch,this.touchStart=touch;const touchEndEvent=e=>this.onTouchUp(e,params.eElement),target=touchEvent.target,events=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target,type:"touchmove",listener:e=>this.onTouchMove(e,params.eElement),options:{passive:!0}},{target,type:"touchend",listener:touchEndEvent,options:{passive:!0}},{target,type:"touchcancel",listener:touchEndEvent,options:{passive:!0}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onCommonMove(touch,this.touchStart,params.eElement)}onMouseDown(params,mouseEvent){const e=mouseEvent;if(params.skipMouseEvent&&params.skipMouseEvent(mouseEvent))return;if(e._alreadyProcessedByDragService)return;if(e._alreadyProcessedByDragService=!0,0!==mouseEvent.button)return;this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.currentDragParams=params,this.dragging=!1,this.mouseStartEvent=mouseEvent,this.startTarget=mouseEvent.target;const target=this.gridOptionsService.getRootNode(),events=[{target,type:"mousemove",listener:event=>this.onMouseMove(event,params.eElement)},{target,type:"mouseup",listener:event=>this.onMouseUp(event,params.eElement)},{target,type:"contextmenu",listener:event=>event.preventDefault()}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onMouseMove(mouseEvent,params.eElement)}addTemporaryEvents(events){events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.addEventListener(type,listener,options)})),this.dragEndFunctions.push((()=>{events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.removeEventListener(type,listener,options)}))}))}isEventNearStartEvent(currentEvent,startEvent){const{dragStartPixels}=this.currentDragParams;return areEventsNear(currentEvent,startEvent,exists(dragStartPixels)?dragStartPixels:4)}getFirstActiveTouch(touchList){for(let i=0;i<touchList.length;i++)if(touchList[i].identifier===this.touchStart.identifier)return touchList[i];return null}onCommonMove(currentEvent,startEvent,el){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(currentEvent,startEvent))return;this.dragging=!0;const event={type:Events.EVENT_DRAG_STARTED,target:el};this.eventService.dispatchEvent(event),this.currentDragParams.onDragStart(startEvent),this.currentDragParams.onDragging(startEvent)}this.currentDragParams.onDragging(currentEvent)}onTouchMove(touchEvent,el){const touch=this.getFirstActiveTouch(touchEvent.touches);touch&&this.onCommonMove(touch,this.touchStart,el)}onMouseMove(mouseEvent,el){this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.onCommonMove(mouseEvent,this.mouseStartEvent,el)}shouldPreventMouseEvent(mouseEvent){const isEnableCellTextSelect=this.gridOptionsService.is("enableCellTextSelection"),isSafari=isBrowserSafari(),isMouseMove="mousemove"===mouseEvent.type;return(isEnableCellTextSelect&&isMouseMove||isSafari)&&mouseEvent.cancelable&&this.mouseEventService.isEventFromThisGrid(mouseEvent)&&!this.isOverFormFieldElement(mouseEvent)}isOverFormFieldElement(mouseEvent){const el=mouseEvent.target,tagName=null==el?void 0:el.tagName.toLocaleLowerCase();return!!(null==tagName?void 0:tagName.match("^a$|textarea|input|select|button"))}onTouchUp(touchEvent,el){let touch=this.getFirstActiveTouch(touchEvent.changedTouches);touch||(touch=this.touchLastTime),this.onUpCommon(touch,el)}onMouseUp(mouseEvent,el){this.onUpCommon(mouseEvent,el)}onUpCommon(eventOrTouch,el){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(eventOrTouch);const event={type:Events.EVENT_DRAG_STOPPED,target:el};this.eventService.dispatchEvent(event)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((func=>func())),this.dragEndFunctions.length=0}};dragService_decorate([Autowired("mouseEventService")],DragService.prototype,"mouseEventService",void 0),dragService_decorate([PreDestroy],DragService.prototype,"removeAllListeners",null),DragService=dragService_decorate([Bean("dragService")],DragService);class AutoScrollService{constructor(params){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=params.scrollContainer,this.scrollHorizontally=-1!==params.scrollAxis.indexOf("x"),this.scrollVertically=-1!==params.scrollAxis.indexOf("y"),this.scrollByTick=null!=params.scrollByTick?params.scrollByTick:20,params.onScrollCallback&&(this.onScrollCallback=params.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=params.getVerticalPosition,this.setVerticalPosition=params.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=params.getHorizontalPosition,this.setHorizontalPosition=params.setHorizontalPosition),this.shouldSkipVerticalScroll=params.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=params.shouldSkipHorizontalScroll||(()=>!1)}check(mouseEvent,forceSkipVerticalScroll=!1){const skipVerticalScroll=forceSkipVerticalScroll||this.shouldSkipVerticalScroll();if(skipVerticalScroll&&this.shouldSkipHorizontalScroll())return;const rect=this.scrollContainer.getBoundingClientRect(),scrollTick=this.scrollByTick;this.tickLeft=mouseEvent.clientX<rect.left+scrollTick,this.tickRight=mouseEvent.clientX>rect.right-scrollTick,this.tickUp=mouseEvent.clientY<rect.top+scrollTick&&!skipVerticalScroll,this.tickDown=mouseEvent.clientY>rect.bottom-scrollTick&&!skipVerticalScroll,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let tickAmount;if(this.tickCount++,tickAmount=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const vScrollPosition=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(vScrollPosition-tickAmount),this.tickDown&&this.setVerticalPosition(vScrollPosition+tickAmount)}if(this.scrollHorizontally){const hScrollPosition=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(hScrollPosition-tickAmount),this.tickRight&&this.setHorizontalPosition(hScrollPosition+tickAmount)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}var virtualListDragFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const LIST_ITEM_HOVERED="ag-list-item-hovered";class VirtualListDragFeature extends BeanStub{constructor(comp,virtualList,params){super(),this.comp=comp,this.virtualList=virtualList,this.params=params,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(event){this.currentDragValue=this.params.getCurrentDragValue(event),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout((()=>{this.currentDragValue=null,this.moveBlocked=!1}),10)}createDropTarget(){const dropTarget={isInterestedIn:type=>type===this.params.dragSourceType,getIconName:()=>DragAndDropService[this.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"],getContainer:()=>this.comp.getGui(),onDragging:e=>this.onDragging(e),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(dropTarget)}createAutoScrollService(){const virtualListGui=this.virtualList.getGui();this.autoScrollService=new AutoScrollService({scrollContainer:virtualListGui,scrollAxis:"y",getVerticalPosition:()=>virtualListGui.scrollTop,setVerticalPosition:position=>virtualListGui.scrollTop=position})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const hoveredListItem=this.getListDragItem(e),comp=this.virtualList.getComponentAt(hoveredListItem.rowIndex);if(!comp)return;const el=comp.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===hoveredListItem.rowIndex&&this.lastHoveredListItem.position===hoveredListItem.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=hoveredListItem,radioCssClass(el,LIST_ITEM_HOVERED),radioCssClass(el,`ag-item-highlight-${hoveredListItem.position}`))}getListDragItem(e){const virtualListGui=this.virtualList.getGui(),paddingTop=parseFloat(window.getComputedStyle(virtualListGui).paddingTop),rowHeight=this.virtualList.getRowHeight(),scrollTop=this.virtualList.getScrollTop(),rowIndex=Math.max(0,(e.y-paddingTop+scrollTop)/rowHeight),maxLen=this.params.getNumRows(this.comp)-1,normalizedRowIndex=0|Math.min(maxLen,rowIndex);return{rowIndex:normalizedRowIndex,position:Math.round(rowIndex)>rowIndex||rowIndex>maxLen?"bottom":"top",component:this.virtualList.getComponentAt(normalizedRowIndex)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${LIST_ITEM_HOVERED}`).forEach((el=>{[LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((cls=>{el.classList.remove(cls)}))})),this.lastHoveredListItem=null}}var RowHighlightPosition,ClientSideRowModelSteps;virtualListDragFeature_decorate([Autowired("dragAndDropService")],VirtualListDragFeature.prototype,"dragAndDropService",void 0),virtualListDragFeature_decorate([PostConstruct],VirtualListDragFeature.prototype,"postConstruct",null),function(RowHighlightPosition){RowHighlightPosition[RowHighlightPosition.Above=0]="Above",RowHighlightPosition[RowHighlightPosition.Below=1]="Below"}(RowHighlightPosition||(RowHighlightPosition={})),function(ClientSideRowModelSteps){ClientSideRowModelSteps.EVERYTHING="group",ClientSideRowModelSteps.FILTER="filter",ClientSideRowModelSteps.SORT="sort",ClientSideRowModelSteps.MAP="map",ClientSideRowModelSteps.AGGREGATE="aggregate",ClientSideRowModelSteps.FILTER_AGGREGATES="filter_aggregates",ClientSideRowModelSteps.PIVOT="pivot",ClientSideRowModelSteps.NOTHING="nothing"}(ClientSideRowModelSteps||(ClientSideRowModelSteps={}));var gridApi_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};function unwrapUserComp(comp){const compAsAny=comp;return null!=compAsAny&&null!=compAsAny.getFrameworkComponentInstance?compAsAny.getFrameworkComponentInstance():comp}let GridApi=class GridApi{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(overlayWrapperComp){this.overlayWrapperComp=overlayWrapperComp}registerSideBarComp(sideBarComp){this.sideBarComp=sideBarComp}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(key){return`set${key.charAt(0).toUpperCase()}${key.substring(1)}`}__setPropertyOnly(propertyName,value){return this.gos.__setPropertyOnly(propertyName,value)}__updateProperty(propertyName,value,force,changeSet=void 0){this.gos.set(propertyName,value,force,{},changeSet);const setterName=this.getSetterMethod(propertyName),dynamicApi=this;dynamicApi[setterName]&&dynamicApi[setterName](value)}getGridId(){return this.context.getGridId()}addDetailGridInfo(id,gridInfo){this.detailGridInfoMap[id]=gridInfo}removeDetailGridInfo(id){this.detailGridInfoMap[id]=void 0}getDetailGridInfo(id){return this.detailGridInfoMap[id]}forEachDetailGridInfo(callback){let index=0;iterateObject(this.detailGridInfoMap,((id,gridInfo)=>{exists(gridInfo)&&(callback(gridInfo,index),index++)}))}getDataAsCsv(params){if(ModuleRegistry.__assertRegistered(ModuleNames.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(params)}exportDataAsCsv(params){ModuleRegistry.__assertRegistered(ModuleNames.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(params)}getExcelExportMode(params){const baseParams=this.gos.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},baseParams,params).exportMode}assertNotExcelMultiSheet(method,params){if(!ModuleRegistry.__assertRegistered(ModuleNames.ExcelExportModule,"api."+method,this.context.getGridId()))return!1;const exportMode=this.getExcelExportMode(params);return this.excelCreator.getFactoryMode(exportMode)!==ExcelFactoryMode.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)}getDataAsExcel(params){if(this.assertNotExcelMultiSheet("getDataAsExcel",params))return this.excelCreator.getDataAsExcel(params)}exportDataAsExcel(params){this.assertNotExcelMultiSheet("exportDataAsExcel",params)&&this.excelCreator.exportDataAsExcel(params)}getSheetDataForExcel(params){if(!ModuleRegistry.__assertRegistered(ModuleNames.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const exportMode=this.getExcelExportMode(params);return this.excelCreator.setFactoryMode(ExcelFactoryMode.MULTI_SHEET,exportMode),this.excelCreator.getSheetDataForExcel(params)}getMultipleSheetsAsExcel(params){if(ModuleRegistry.__assertRegistered(ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(params)}exportMultipleSheetsAsExcel(params){if(ModuleRegistry.__assertRegistered(ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(params)}setTreeData(newTreeData){this.gos.set("treeData",newTreeData)}setGridAriaProperty(property,value){if(!property)return;const eGrid=this.ctrlsService.getGridBodyCtrl().getGui(),ariaProperty=`aria-${property}`;null===value?eGrid.removeAttribute(ariaProperty):eGrid.setAttribute(ariaProperty,value)}logMissingRowModel(apiMethod,...requiredRowModels){console.error(`AG Grid: api.${apiMethod} can only be called when gridOptions.rowModelType is ${requiredRowModels.join(" or ")}`)}setServerSideDatasource(datasource){this.serverSideRowModel?this.serverSideRowModel.setDatasource(datasource):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(blockSize){this.serverSideRowModel?(this.gos.set("cacheBlockSize",blockSize),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(datasource){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(datasource):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(viewportDatasource){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(viewportDatasource):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(rowData){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(rowData):(this.selectionService.reset(),this.clientSideRowModel.setRowData(rowData))}setPinnedTopRowData(rows){this.pinnedRowModel.setPinnedTopRowData(rows)}setPinnedBottomRowData(rows){this.pinnedRowModel.setPinnedBottomRowData(rows)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(index){return this.pinnedRowModel.getPinnedTopRow(index)}getPinnedBottomRow(index){return this.pinnedRowModel.getPinnedBottomRow(index)}setColumnDefs(colDefs,source="api"){this.columnModel.setColumnDefs(colDefs,source),this.gos.set("columnDefs",colDefs,!0,{source})}setAutoGroupColumnDef(colDef,source="api"){this.gos.set("autoGroupColumnDef",colDef,!0,{source})}setDefaultColDef(colDef,source="api"){this.gos.set("defaultColDef",colDef,!0,{source})}setColumnTypes(columnTypes,source="api"){this.gos.set("columnTypes",columnTypes,!0,{source})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(show){this.gos.set("alwaysShowHorizontalScroll",show)}setAlwaysShowVerticalScroll(show){this.gos.set("alwaysShowVerticalScroll",show)}refreshCells(params={}){this.rowRenderer.refreshCells(params)}flashCells(params={}){this.rowRenderer.flashCells(params)}redrawRows(params={}){const rowNodes=params?params.rowNodes:void 0;this.rowRenderer.redrawRows(rowNodes)}setFunctionsReadOnly(readOnly){this.gos.set("functionsReadOnly",readOnly)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((c=>c.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(rowNode,expanded,expandParents){rowNode&&(expandParents&&rowNode.parent&&-1!==rowNode.parent.level&&this.setRowNodeExpanded(rowNode.parent,expanded,expandParents),rowNode.setExpanded(expanded))}onGroupExpandedOrCollapsed(){missing(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:ClientSideRowModelSteps.MAP})}refreshClientSideRowModel(step){missing(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(step)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(id){return this.rowModel.getRowNode(id)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(eventName,rowIndex,callback){this.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback)}getQuickFilter(){return this.gos.get("quickFilterText")}setQuickFilter(newFilter){this.gos.set("quickFilterText",newFilter)}setExcludeHiddenColumnsFromQuickFilter(value){logDeprecation("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!value)}setIncludeHiddenColumnsInQuickFilter(value){this.gos.set("includeHiddenColumnsInQuickFilter",value)}setQuickFilterParser(quickFilterParser){this.gos.set("quickFilterParser",quickFilterParser)}setQuickFilterMatcher(quickFilterMatcher){this.gos.set("quickFilterMatcher",quickFilterMatcher)}getAdvancedFilterModel(){return ModuleRegistry.__assertRegistered(ModuleNames.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(advancedFilterModel){this.gos.set("advancedFilterModel",advancedFilterModel)}setEnableAdvancedFilter(enabled){this.gos.set("enableAdvancedFilter",enabled)}setIncludeHiddenColumnsInAdvancedFilter(value){this.gos.set("includeHiddenColumnsInAdvancedFilter",value)}setAdvancedFilterParent(advancedFilterParent){this.gos.set("advancedFilterParent",advancedFilterParent)}setAdvancedFilterBuilderParams(params){this.gos.set("advancedFilterBuilderParams",params)}showAdvancedFilterBuilder(){ModuleRegistry.__assertRegistered(ModuleNames.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(params){if(!params.nodes.every((node=>node.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==node.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1))))return;const{nodes,source,newValue}=params,nodesAsRowNode=nodes;this.selectionService.setNodesSelected({nodes:nodesAsRowNode,source:null!=source?source:"api",newValue})}selectAll(source="apiSelectAll"){this.selectionService.selectAllRowNodes({source})}deselectAll(source="apiSelectAll"){this.selectionService.deselectAllRowNodes({source})}selectAllFiltered(source="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source,justFiltered:!0})}deselectAllFiltered(source="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source,justFiltered:!0})}getServerSideSelectionState(){return missing(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(state){missing(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(state)}selectAllOnCurrentPage(source="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source,justCurrentPage:!0})}deselectAllOnCurrentPage(source="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source,justCurrentPage:!0})}sizeColumnsToFit(params){this.gridBodyCtrl.sizeColumnsToFit(params)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!missing(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(key,position="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(key,position)}ensureIndexVisible(index,position){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(index,position)}ensureNodeVisible(nodeSelector,position=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(nodeSelector,position)}forEachLeafNode(callback){missing(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(callback)}forEachNode(callback,includeFooterNodes){this.rowModel.forEachNode(callback,includeFooterNodes)}forEachNodeAfterFilter(callback){missing(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(callback)}forEachNodeAfterFilterAndSort(callback){missing(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(callback)}getFilterInstance(key,callback){return this.filterManager.getFilterInstance(key,callback)}destroyFilter(key){const column=this.columnModel.getPrimaryColumn(key);if(column)return this.filterManager.destroyFilter(column,"api")}getStatusPanel(key){if(!ModuleRegistry.__assertRegistered(ModuleNames.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return;return unwrapUserComp(this.statusBarService.getStatusPanel(key))}getColumnDef(key){const column=this.columnModel.getPrimaryColumn(key);return column?column.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(source="api"){this.filterManager.onFilterChanged({source})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(model){this.filterManager.setFilterModel(model)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(rowIndex,colKey,rowPinned){this.focusService.setFocusedCell({rowIndex,column:colKey,rowPinned,forceBrowserFocus:!0})}setSuppressRowDrag(value){this.gos.set("suppressRowDrag",value)}setSuppressMoveWhenRowDragging(value){this.gos.set("suppressMoveWhenRowDragging",value)}setSuppressRowClickSelection(value){this.gos.set("suppressRowClickSelection",value)}addRowDropZone(params){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(params)}removeRowDropZone(params){const activeDropTarget=this.dragAndDropService.findExternalZone(params);activeDropTarget&&this.dragAndDropService.removeDropTarget(activeDropTarget)}getRowDropZoneParams(events){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(events)}setHeaderHeight(headerHeight){this.gos.set("headerHeight",headerHeight)}setDomLayout(domLayout){this.gos.set("domLayout",domLayout)}setEnableCellTextSelection(selectable){this.gridBodyCtrl.setCellTextSelection(selectable)}setFillHandleDirection(direction){this.gos.set("fillHandleDirection",direction)}setGroupHeaderHeight(headerHeight){this.gos.set("groupHeaderHeight",headerHeight)}setFloatingFiltersHeight(headerHeight){this.gos.set("floatingFiltersHeight",headerHeight)}setPivotHeaderHeight(headerHeight){this.gos.set("pivotHeaderHeight",headerHeight)}setPivotGroupHeaderHeight(headerHeight){this.gos.set("pivotGroupHeaderHeight",headerHeight)}setPivotMode(pivotMode){this.columnModel.setPivotMode(pivotMode)}setAnimateRows(animateRows){this.gos.set("animateRows",animateRows)}setIsExternalFilterPresent(isExternalFilterPresentFunc){this.gos.set("isExternalFilterPresent",isExternalFilterPresentFunc)}setDoesExternalFilterPass(doesExternalFilterPassFunc){this.gos.set("doesExternalFilterPass",doesExternalFilterPassFunc)}setNavigateToNextCell(navigateToNextCellFunc){this.gos.set("navigateToNextCell",navigateToNextCellFunc)}setTabToNextCell(tabToNextCellFunc){this.gos.set("tabToNextCell",tabToNextCellFunc)}setTabToNextHeader(tabToNextHeaderFunc){this.gos.set("tabToNextHeader",tabToNextHeaderFunc)}setNavigateToNextHeader(navigateToNextHeaderFunc){this.gos.set("navigateToNextHeader",navigateToNextHeaderFunc)}setRowGroupPanelShow(rowGroupPanelShow){this.gos.set("rowGroupPanelShow",rowGroupPanelShow)}setGetGroupRowAgg(getGroupRowAggFunc){this.gos.set("getGroupRowAgg",getGroupRowAggFunc)}setGetBusinessKeyForNode(getBusinessKeyForNodeFunc){this.gos.set("getBusinessKeyForNode",getBusinessKeyForNodeFunc)}setGetChildCount(getChildCountFunc){this.gos.set("getChildCount",getChildCountFunc)}setProcessRowPostCreate(processRowPostCreateFunc){this.gos.set("processRowPostCreate",processRowPostCreateFunc)}setGetRowId(getRowIdFunc){this.gos.set("getRowId",getRowIdFunc)}setGetRowClass(rowClassFunc){this.gos.set("getRowClass",rowClassFunc)}setIsFullWidthRow(isFullWidthRowFunc){this.gos.set("isFullWidthRow",isFullWidthRowFunc)}setIsRowSelectable(isRowSelectableFunc){this.gos.set("isRowSelectable",isRowSelectableFunc)}setIsRowMaster(isRowMasterFunc){this.gos.set("isRowMaster",isRowMasterFunc)}setPostSortRows(postSortRowsFunc){this.gos.set("postSortRows",postSortRowsFunc)}setGetDocument(getDocumentFunc){this.gos.set("getDocument",getDocumentFunc)}setGetContextMenuItems(getContextMenuItemsFunc){this.gos.set("getContextMenuItems",getContextMenuItemsFunc)}setGetMainMenuItems(getMainMenuItemsFunc){this.gos.set("getMainMenuItems",getMainMenuItemsFunc)}setProcessCellForClipboard(processCellForClipboardFunc){this.gos.set("processCellForClipboard",processCellForClipboardFunc)}setSendToClipboard(sendToClipboardFunc){this.gos.set("sendToClipboard",sendToClipboardFunc)}setProcessCellFromClipboard(processCellFromClipboardFunc){this.gos.set("processCellFromClipboard",processCellFromClipboardFunc)}setProcessSecondaryColDef(processSecondaryColDefFunc){logDeprecation("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(processSecondaryColDefFunc)}setProcessSecondaryColGroupDef(processSecondaryColGroupDefFunc){logDeprecation("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(processSecondaryColGroupDefFunc)}setProcessPivotResultColDef(processPivotResultColDefFunc){this.gos.set("processPivotResultColDef",processPivotResultColDefFunc)}setProcessPivotResultColGroupDef(processPivotResultColGroupDefFunc){this.gos.set("processPivotResultColGroupDef",processPivotResultColGroupDefFunc)}setPostProcessPopup(postProcessPopupFunc){this.gos.set("postProcessPopup",postProcessPopupFunc)}setInitialGroupOrderComparator(initialGroupOrderComparatorFunc){this.gos.set("initialGroupOrderComparator",initialGroupOrderComparatorFunc)}setGetChartToolbarItems(getChartToolbarItemsFunc){this.gos.set("getChartToolbarItems",getChartToolbarItemsFunc)}setPaginationNumberFormatter(paginationNumberFormatterFunc){this.gos.set("paginationNumberFormatter",paginationNumberFormatterFunc)}setGetServerSideStoreParams(getServerSideStoreParamsFunc){logDeprecation("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(getServerSideStoreParamsFunc)}setGetServerSideGroupLevelParams(getServerSideGroupLevelParamsFunc){this.gos.set("getServerSideGroupLevelParams",getServerSideGroupLevelParamsFunc)}setIsServerSideGroupOpenByDefault(isServerSideGroupOpenByDefaultFunc){this.gos.set("isServerSideGroupOpenByDefault",isServerSideGroupOpenByDefaultFunc)}setIsApplyServerSideTransaction(isApplyServerSideTransactionFunc){this.gos.set("isApplyServerSideTransaction",isApplyServerSideTransactionFunc)}setIsServerSideGroup(isServerSideGroupFunc){this.gos.set("isServerSideGroup",isServerSideGroupFunc)}setGetServerSideGroupKey(getServerSideGroupKeyFunc){this.gos.set("getServerSideGroupKey",getServerSideGroupKeyFunc)}setGetRowStyle(rowStyleFunc){this.gos.set("getRowStyle",rowStyleFunc)}setGetRowHeight(rowHeightFunc){this.gos.set("getRowHeight",rowHeightFunc)}assertSideBarLoaded(apiMethod){return ModuleRegistry.__assertRegistered(ModuleNames.SideBarModule,"api."+apiMethod,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(show){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(show)}setSideBarPosition(position){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(position)}openToolPanel(key){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(key,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(id){if(this.assertSideBarLoaded("getToolPanelInstance")){return unwrapUserComp(this.sideBarComp.getToolPanelInstance(id))}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(def){this.gos.set("sideBar",def)}setSuppressClipboardPaste(value){this.gos.set("suppressClipboardPaste",value)}resetRowHeights(){if(exists(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(value){this.gos.set("groupRemoveSingleChildren",value)}setGroupRemoveLowestSingleChildren(value){this.gos.set("groupRemoveLowestSingleChildren",value)}setGroupDisplayType(value){this.gos.set("groupDisplayType",value)}setGroupIncludeFooter(value){this.gos.set("groupIncludeFooter",value)}setGroupIncludeTotalFooter(value){this.gos.set("groupIncludeTotalFooter",value)}setRowClass(className){this.gos.set("rowClass",className)}setDeltaSort(enable){this.gos.set("deltaSort",enable)}setRowCount(rowCount,maxRowFound){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(rowCount,maxRowFound):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(rowCount,maxRowFound):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(colKey,rowNode){let column=this.columnModel.getPrimaryColumn(colKey);return missing(column)&&(column=this.columnModel.getGridColumn(colKey)),missing(column)?null:this.valueService.getValue(column,rowNode)}addEventListener(eventType,listener){const async=this.gos.useAsyncEvents();this.eventService.addEventListener(eventType,listener,async)}addGlobalListener(listener){const async=this.gos.useAsyncEvents();this.eventService.addGlobalListener(listener,async)}removeEventListener(eventType,listener){const async=this.gos.useAsyncEvents();this.eventService.removeEventListener(eventType,listener,async)}removeGlobalListener(listener){const async=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(listener,async)}dispatchEvent(event){this.eventService.dispatchEvent(event)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0,this.dispatchEvent({type:Events.EVENT_GRID_PRE_DESTROYED});const gridCtrl=this.ctrlsService.getGridCtrl();gridCtrl&&gridCtrl.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(removeAllReferences.bind(window,this,"Grid API"),100)}warnIfDestroyed(methodName){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${methodName} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(ModuleRegistry.__assertRegistered(ModuleNames.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(params){this.rangeService?this.rangeService.addCellRange(params):ModuleRegistry.__assertRegistered(ModuleNames.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),ModuleRegistry.__assertRegistered(ModuleNames.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(chartId){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(chartId)}getChartImageDataURL(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(params)}downloadChart(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(params)}openChartToolPanel(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(params)}closeChartToolPanel(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(params.chartId)}createRangeChart(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(params)}createPivotChart(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(params)}createCrossFilterChart(params){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(params)}updateChart(params){ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(params)}restoreChart(chartModel,chartContainer){if(ModuleRegistry.__assertRegistered(ModuleNames.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(chartModel,chartContainer)}copyToClipboard(params){ModuleRegistry.__assertRegistered(ModuleNames.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(params)}cutToClipboard(params){ModuleRegistry.__assertRegistered(ModuleNames.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(params,"api")}copySelectedRowsToClipboard(params){ModuleRegistry.__assertRegistered(ModuleNames.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(params)}copySelectedRangeToClipboard(params){ModuleRegistry.__assertRegistered(ModuleNames.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(params)}copySelectedRangeDown(){ModuleRegistry.__assertRegistered(ModuleNames.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){ModuleRegistry.__assertRegistered(ModuleNames.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(colKey,buttonElement){const column=this.columnModel.getGridColumn(colKey);this.menuFactory.showMenuAfterButtonClick(column,buttonElement,"columnMenu")}showColumnMenuAfterMouseClick(colKey,mouseEvent){let column=this.columnModel.getGridColumn(colKey);column||(column=this.columnModel.getPrimaryColumn(colKey)),column?this.menuFactory.showMenuAfterMouseEvent(column,mouseEvent):console.error(`AG Grid: column '${colKey}' not found`)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(ePopupParent){this.gos.set("popupParent",ePopupParent)}tabToNextCell(event){return this.navigationService.tabToNextCell(!1,event)}tabToPreviousCell(event){return this.navigationService.tabToNextCell(!0,event)}getCellRendererInstances(params={}){return this.rowRenderer.getCellRendererInstances(params).map(unwrapUserComp)}getCellEditorInstances(params={}){return this.rowRenderer.getCellEditorInstances(params).map(unwrapUserComp)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(cancel=!1){this.rowRenderer.stopEditing(cancel)}startEditingCell(params){const column=this.columnModel.getGridColumn(params.colKey);if(!column)return void console.warn(`AG Grid: no column found for ${params.colKey}`);const cellPosition={rowIndex:params.rowIndex,rowPinned:params.rowPinned||null,column};null==params.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(params.rowIndex);const cell=this.navigationService.getCellByPosition(cellPosition);cell&&(this.focusService.isCellFocused(cellPosition)||this.focusService.setFocusedCell(cellPosition),cell.startRowOrCellEdit(params.key))}addAggFunc(key,aggFunc){this.aggFuncService&&this.aggFuncService.addAggFunc(key,aggFunc)}addAggFuncs(aggFuncs){this.aggFuncService&&this.aggFuncService.addAggFuncs(aggFuncs)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(transaction){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(transaction);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(transaction,callback){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(transaction,callback);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(params){var _a,_b;const startRow=null!==(_a=params.startRow)&&void 0!==_a?_a:0,route=null!==(_b=params.route)&&void 0!==_b?_b:[];startRow<0?console.warn(`AG Grid: invalid value ${params.startRow} for startRow, the value should be >= 0`):this.serverSideRowModel?this.serverSideRowModel.applyRowData(params.successParams,startRow,route):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(rowDataTransaction){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(rowDataTransaction);this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(rowDataTransaction,callback){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(rowDataTransaction,callback):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")}setSuppressModelUpdateAfterUpdateTransaction(value){this.gos.set("suppressModelUpdateAfterUpdateTransaction",value)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(params){this.serverSideRowModel?this.serverSideRowModel.refreshStore(params):this.logMissingRowModel("refreshServerSide","serverSide")}refreshServerSideStore(params){return logDeprecation("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(params)}getServerSideStoreState(){return logDeprecation("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(index){return this.rowModel.getRow(index)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(dataTypeDefinitions){this.gos.set("dataTypeDefinitions",dataTypeDefinitions)}setPagination(value){this.gos.set("pagination",value)}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(size){this.gos.set("paginationPageSize",size)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(page){this.paginationProxy.goToPage(page)}};gridApi_decorate([Optional("immutableService")],GridApi.prototype,"immutableService",void 0),gridApi_decorate([Optional("csvCreator")],GridApi.prototype,"csvCreator",void 0),gridApi_decorate([Optional("excelCreator")],GridApi.prototype,"excelCreator",void 0),gridApi_decorate([Autowired("rowRenderer")],GridApi.prototype,"rowRenderer",void 0),gridApi_decorate([Autowired("navigationService")],GridApi.prototype,"navigationService",void 0),gridApi_decorate([Autowired("filterManager")],GridApi.prototype,"filterManager",void 0),gridApi_decorate([Autowired("columnModel")],GridApi.prototype,"columnModel",void 0),gridApi_decorate([Autowired("selectionService")],GridApi.prototype,"selectionService",void 0),gridApi_decorate([Autowired("gridOptionsService")],GridApi.prototype,"gos",void 0),gridApi_decorate([Autowired("valueService")],GridApi.prototype,"valueService",void 0),gridApi_decorate([Autowired("alignedGridsService")],GridApi.prototype,"alignedGridsService",void 0),gridApi_decorate([Autowired("eventService")],GridApi.prototype,"eventService",void 0),gridApi_decorate([Autowired("pinnedRowModel")],GridApi.prototype,"pinnedRowModel",void 0),gridApi_decorate([Autowired("context")],GridApi.prototype,"context",void 0),gridApi_decorate([Autowired("rowModel")],GridApi.prototype,"rowModel",void 0),gridApi_decorate([Autowired("sortController")],GridApi.prototype,"sortController",void 0),gridApi_decorate([Autowired("paginationProxy")],GridApi.prototype,"paginationProxy",void 0),gridApi_decorate([Autowired("focusService")],GridApi.prototype,"focusService",void 0),gridApi_decorate([Autowired("dragAndDropService")],GridApi.prototype,"dragAndDropService",void 0),gridApi_decorate([Optional("rangeService")],GridApi.prototype,"rangeService",void 0),gridApi_decorate([Optional("clipboardService")],GridApi.prototype,"clipboardService",void 0),gridApi_decorate([Optional("aggFuncService")],GridApi.prototype,"aggFuncService",void 0),gridApi_decorate([Autowired("menuFactory")],GridApi.prototype,"menuFactory",void 0),gridApi_decorate([Optional("contextMenuFactory")],GridApi.prototype,"contextMenuFactory",void 0),gridApi_decorate([Autowired("valueCache")],GridApi.prototype,"valueCache",void 0),gridApi_decorate([Autowired("animationFrameService")],GridApi.prototype,"animationFrameService",void 0),gridApi_decorate([Optional("statusBarService")],GridApi.prototype,"statusBarService",void 0),gridApi_decorate([Optional("chartService")],GridApi.prototype,"chartService",void 0),gridApi_decorate([Optional("undoRedoService")],GridApi.prototype,"undoRedoService",void 0),gridApi_decorate([Optional("rowNodeBlockLoader")],GridApi.prototype,"rowNodeBlockLoader",void 0),gridApi_decorate([Optional("ssrmTransactionManager")],GridApi.prototype,"serverSideTransactionManager",void 0),gridApi_decorate([Autowired("ctrlsService")],GridApi.prototype,"ctrlsService",void 0),gridApi_decorate([PostConstruct],GridApi.prototype,"init",null),gridApi_decorate([PreDestroy],GridApi.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),GridApi=gridApi_decorate([Bean("gridApi")],GridApi);var QuickFilterService_1,quickFilterService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let QuickFilterService=QuickFilterService_1=class QuickFilterService extends BeanStub{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,(()=>this.resetQuickFilterCache())),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,(()=>this.resetQuickFilterCache())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.resetQuickFilterCache())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,(()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()})),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",(()=>this.onIncludeHiddenColumnsInQuickFilterChanged())),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(node){const usingCache=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(usingCache,node):this.quickFilterParts.every((part=>usingCache?this.doesRowPassQuickFilterCache(node,part):this.doesRowPassQuickFilterNoCache(node,part)))}resetQuickFilterCache(){this.rowModel.forEachNode((node=>node.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter,parser}=this;this.quickFilterParts=quickFilter?parser?parser(quickFilter):quickFilter.split(" "):null}parseQuickFilter(newFilter){return exists(newFilter)?this.gridOptionsService.isRowModelType("clientSide")?newFilter.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(newFilter){if(null!=newFilter&&"string"!=typeof newFilter)return void console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof newFilter);const parsedFilter=this.parseQuickFilter(newFilter);this.quickFilter!==parsedFilter&&(this.quickFilter=parsedFilter,this.setQuickFilterParts(),this.dispatchEvent({type:QuickFilterService_1.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const parser=this.gridOptionsService.get("quickFilterParser"),matcher=this.gridOptionsService.get("quickFilterMatcher"),hasChanged=parser!==this.parser||matcher!==this.matcher;this.parser=parser,this.matcher=matcher,hasChanged&&(this.setQuickFilterParts(),this.dispatchEvent({type:QuickFilterService_1.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:QuickFilterService_1.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(node,filterPart){return this.columnModel.getAllColumnsForQuickFilter().some((column=>{const part=this.getQuickFilterTextForColumn(column,node);return exists(part)&&part.indexOf(filterPart)>=0}))}doesRowPassQuickFilterCache(node,filterPart){return this.checkGenerateQuickFilterAggregateText(node),node.quickFilterAggregateText.indexOf(filterPart)>=0}doesRowPassQuickFilterMatcher(usingCache,node){let quickFilterAggregateText;usingCache?(this.checkGenerateQuickFilterAggregateText(node),quickFilterAggregateText=node.quickFilterAggregateText):quickFilterAggregateText=this.getQuickFilterAggregateText(node);const{quickFilterParts,matcher}=this;return matcher(quickFilterParts,quickFilterAggregateText)}checkGenerateQuickFilterAggregateText(node){node.quickFilterAggregateText||(node.quickFilterAggregateText=this.getQuickFilterAggregateText(node))}getQuickFilterTextForColumn(column,node){let value=this.valueService.getValue(column,node,!0);const colDef=column.getColDef();if(colDef.getQuickFilterText){const params={value,node,data:node.data,column,colDef,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};value=colDef.getQuickFilterText(params)}return exists(value)?value.toString().toUpperCase():null}getQuickFilterAggregateText(node){const stringParts=[];return this.columnModel.getAllColumnsForQuickFilter().forEach((column=>{const part=this.getQuickFilterTextForColumn(column,node);exists(part)&&stringParts.push(part)})),stringParts.join(QuickFilterService_1.QUICK_FILTER_SEPARATOR)}};QuickFilterService.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",QuickFilterService.QUICK_FILTER_SEPARATOR="\n",quickFilterService_decorate([Autowired("valueService")],QuickFilterService.prototype,"valueService",void 0),quickFilterService_decorate([Autowired("columnModel")],QuickFilterService.prototype,"columnModel",void 0),quickFilterService_decorate([Autowired("rowModel")],QuickFilterService.prototype,"rowModel",void 0),quickFilterService_decorate([PostConstruct],QuickFilterService.prototype,"postConstruct",null),QuickFilterService=QuickFilterService_1=quickFilterService_decorate([Bean("quickFilterService")],QuickFilterService);var filterManager_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FilterManager=class FilterManager extends BeanStub{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[]}init(){this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,(()=>this.onColumnsChanged())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,(()=>this.refreshFiltersForAggregations())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,(()=>this.refreshFiltersForAggregations())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,(()=>this.refreshFiltersForAggregations())),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,(()=>this.updateAdvancedFilterColumns())),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,(()=>this.updateAdvancedFilterColumns())),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>this.updateAggFiltering())),this.addManagedPropertyListener("advancedFilterModel",(event=>this.setAdvancedFilterModel(event.currentValue))),this.addManagedListener(this.eventService,Events.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,(({enabled})=>this.onAdvancedFilterEnabledChanged(enabled))),this.addManagedListener(this.eventService,Events.EVENT_DATA_TYPES_INFERRED,(()=>this.processFilterModelUpdateQueue())),this.addManagedListener(this.quickFilterService,QuickFilterService.EVENT_QUICK_FILTER_CHANGED,(()=>this.onFilterChanged({source:"quickFilter"})))}isExternalFilterPresentCallback(){const isFilterPresent=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof isFilterPresent&&isFilterPresent({})}doesExternalFilterPass(node){const doesFilterPass=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof doesFilterPass&&doesFilterPass(node)}setFilterModel(model){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push(model);const allPromises=[],previousModel=this.getFilterModel();if(model){const modelKeys=convertToSet(Object.keys(model));this.allColumnFilters.forEach(((filterWrapper,colId)=>{const newModel=model[colId];allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise,newModel)),modelKeys.delete(colId)})),modelKeys.forEach((colId=>{const column=this.columnModel.getPrimaryColumn(colId)||this.columnModel.getGridColumn(colId);if(!column)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+colId);if(!column.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+colId);const filterWrapper=this.getOrCreateFilterWrapper(column,"NO_UI");filterWrapper?allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise,model[colId])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+colId)}))}else this.allColumnFilters.forEach((filterWrapper=>{allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise,null))}));promise_AgPromise.all(allPromises).then((()=>{const currentModel=this.getFilterModel(),columns=[];this.allColumnFilters.forEach(((filterWrapper,colId)=>{const before=previousModel?previousModel[colId]:null,after=currentModel?currentModel[colId]:null;_.jsonEquals(before,after)||columns.push(filterWrapper.column)})),columns.length>0&&this.onFilterChanged({columns,source:"api"})}))}setModelOnFilterWrapper(filterPromise,newModel){return new promise_AgPromise((resolve=>{filterPromise.then((filter=>{"function"!=typeof filter.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),resolve()),(filter.setModel(newModel)||promise_AgPromise.resolve()).then((()=>resolve()))}))}))}getFilterModel(){const result={};return this.allColumnFilters.forEach(((filterWrapper,key)=>{const filter=filterWrapper.filterPromise.resolveNow(null,(promiseFilter=>promiseFilter));if(null==filter)return null;if("function"!=typeof filter.getModel)return void console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");const model=filter.getModel();exists(model)&&(result[key]=model)})),result}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(enabled){var _a;enabled?this.allColumnFilters.size&&(this.allColumnFilters.forEach((filterWrapper=>this.disposeFilterWrapper(filterWrapper,"advancedFilterEnabled"))),this.onFilterChanged({source:"advancedFilter"})):(null===(_a=this.advancedFilterService)||void 0===_a?void 0:_a.isFilterPresent())&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var _a;return null===(_a=this.advancedFilterService)||void 0===_a?void 0:_a.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(node,filterToSkip){return this.doColumnFiltersPass(node,filterToSkip,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const isFilterActive=filter=>!!filter&&(filter.isFilterActive?filter.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),groupFilterEnabled=!!this.gridOptionsService.getGroupAggFiltering(),isAggFilter=column=>{if(!column.isPrimary())return!0;const isShowingPrimaryColumns=!this.columnModel.isPivotActive();return!(!column.isValueActive()||!isShowingPrimaryColumns)&&(!!this.columnModel.isPivotMode()||groupFilterEnabled)};this.allColumnFilters.forEach((filterWrapper=>{if(filterWrapper.filterPromise.resolveNow(!1,isFilterActive)){const filterComp=filterWrapper.filterPromise.resolveNow(null,(filter=>filter));isAggFilter(filterWrapper.column)?this.activeAggregateFilters.push(filterComp):this.activeColumnFilters.push(filterComp)}}))}updateFilterFlagInColumns(source,additionalEventAttributes){this.allColumnFilters.forEach((filterWrapper=>{const isFilterActive=filterWrapper.filterPromise.resolveNow(!1,(filter=>filter.isFilterActive()));filterWrapper.column.setFilterActive(isFilterActive,source,additionalEventAttributes)}))}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(node,filterToSkip,targetAggregates){const{data,aggData}=node,targetedFilters=targetAggregates?this.activeAggregateFilters:this.activeColumnFilters,targetedData=targetAggregates?aggData:data;for(let i=0;i<targetedFilters.length;i++){const filter=targetedFilters[i];if(null!=filter&&filter!==filterToSkip){if("function"!=typeof filter.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!filter.doesFilterPass({node,data:targetedData}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(params){const action=()=>this.onFilterChanged(params);this.rowRenderer.isRefreshInProgress()?setTimeout(action,0):action()}onFilterChanged(params={}){const{source,filterInstance,additionalEventAttributes,columns}=params;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",additionalEventAttributes),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((filterWrapper=>{filterWrapper.filterPromise&&filterWrapper.filterPromise.then((filter=>{filter&&filter!==filterInstance&&filter.onAnyFilterChanged&&filter.onAnyFilterChanged()}))}));const filterChangedEvent={source,type:Events.EVENT_FILTER_CHANGED,columns:columns||[]};additionalEventAttributes&&mergeDeep(filterChangedEvent,additionalEventAttributes),this.processingFilterChange=!0,this.eventService.dispatchEvent(filterChangedEvent),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(filterToSkip,node){return this.doesRowPassFilter({rowNode:node,filterInstanceToSkip:filterToSkip})}doesRowPassAggregateFilters(params){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(params.rowNode))&&!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(params.rowNode,params.filterInstanceToSkip))}doesRowPassFilter(params){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(params.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(params.rowNode))&&(!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(params.rowNode,params.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(params.rowNode))))}onNewRowsLoaded(source){this.allColumnFilters.forEach((filterWrapper=>{filterWrapper.filterPromise.then((filter=>{filter.onNewRowsLoaded&&filter.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(source,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(column){return({node})=>this.valueService.getValue(column,node,!0)}getFilterComponent(column,source,createIfDoesNotExist=!0){var _a;if(createIfDoesNotExist)return(null===(_a=this.getOrCreateFilterWrapper(column,source))||void 0===_a?void 0:_a.filterPromise)||null;const filterWrapper=this.cachedFilter(column);return filterWrapper?filterWrapper.filterPromise:null}isFilterActive(column){const filterWrapper=this.cachedFilter(column);return!!filterWrapper&&filterWrapper.filterPromise.resolveNow(!1,(filter=>filter.isFilterActive()))}getOrCreateFilterWrapper(column,source){if(!column.isFilterAllowed())return null;let filterWrapper=this.cachedFilter(column);if(filterWrapper)"NO_UI"!==source&&this.putIntoGui(filterWrapper,source);else{filterWrapper=this.createFilterWrapper(column,source);const colId=column.getColId();this.allColumnFilters.set(colId,filterWrapper),this.allColumnListeners.set(colId,this.addManagedListener(column,Column.EVENT_COL_DEF_CHANGED,(()=>this.checkDestroyFilter(colId))))}return filterWrapper}cachedFilter(column){return this.allColumnFilters.get(column.getColId())}getDefaultFilter(column){let defaultFilter;if(ModuleRegistry.__isRegistered(ModuleNames.SetFilterModule,this.context.getGridId()))defaultFilter="agSetColumnFilter";else{const cellDataType=column.getColDef().cellDataType;defaultFilter="number"===cellDataType?"agNumberColumnFilter":"date"===cellDataType||"dateString"===cellDataType?"agDateColumnFilter":"agTextColumnFilter"}return defaultFilter}getDefaultFloatingFilter(column){let defaultFloatingFilterType;if(ModuleRegistry.__isRegistered(ModuleNames.SetFilterModule,this.context.getGridId()))defaultFloatingFilterType="agSetColumnFloatingFilter";else{const cellDataType=column.getColDef().cellDataType;defaultFloatingFilterType="number"===cellDataType?"agNumberColumnFloatingFilter":"date"===cellDataType||"dateString"===cellDataType?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return defaultFloatingFilterType}createFilterInstance(column){const defaultFilter=this.getDefaultFilter(column),colDef=column.getColDef();let filterInstance;const params=Object.assign(Object.assign({},this.createFilterParams(column,colDef)),{filterModifiedCallback:()=>{const event={type:Events.EVENT_FILTER_MODIFIED,column,filterInstance};this.eventService.dispatchEvent(event)},filterChangedCallback:additionalEventAttributes=>{var _a;const source=null!==(_a=null==additionalEventAttributes?void 0:additionalEventAttributes.source)&&void 0!==_a?_a:"api",params={filterInstance,additionalEventAttributes,columns:[column],source};this.callOnFilterChangedOutsideRenderCycle(params)},doesRowPassOtherFilter:node=>this.doesRowPassOtherFilters(filterInstance,node)}),compDetails=this.userComponentFactory.getFilterDetails(colDef,params,defaultFilter);return compDetails?{filterPromise:()=>{const filterPromise=compDetails.newAgStackInstance();return filterPromise&&filterPromise.then((r=>filterInstance=r)),filterPromise},compDetails}:{filterPromise:null,compDetails:null}}createFilterParams(column,colDef){return{column,colDef:cloneObject(colDef),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(column),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(column,source){var _a;const filterWrapper={column,filterPromise:null,compiledElement:null,guiPromise:promise_AgPromise.resolve(null),compDetails:null},{filterPromise,compDetails}=this.createFilterInstance(column);return filterWrapper.filterPromise=null!==(_a=null==filterPromise?void 0:filterPromise())&&void 0!==_a?_a:null,filterWrapper.compDetails=compDetails,filterPromise&&this.putIntoGui(filterWrapper,source),filterWrapper}putIntoGui(filterWrapper,source){const eFilterGui=document.createElement("div");eFilterGui.className="ag-filter",filterWrapper.guiPromise=new promise_AgPromise((resolve=>{filterWrapper.filterPromise.then((filter=>{let guiFromFilter=filter.getGui();exists(guiFromFilter)||console.warn(`AG Grid: getGui method from filter returned ${guiFromFilter}, it should be a DOM element or an HTML template string.`),"string"==typeof guiFromFilter&&(guiFromFilter=loadTemplate(guiFromFilter)),eFilterGui.appendChild(guiFromFilter),resolve(eFilterGui);const event={type:Events.EVENT_FILTER_OPENED,column:filterWrapper.column,source,eGui:eFilterGui};this.eventService.dispatchEvent(event)}))}))}onColumnsChanged(){const columns=[];this.allColumnFilters.forEach(((wrapper,colId)=>{let currentColumn;currentColumn=wrapper.column.isPrimary()?this.columnModel.getPrimaryColumn(colId):this.columnModel.getGridColumn(colId),currentColumn||(columns.push(wrapper.column),this.disposeFilterWrapper(wrapper,"columnChanged"),this.disposeColumnListener(colId))})),columns.length>0?this.onFilterChanged({columns,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const groupColumns=this.columnModel.getGroupAutoColumns();null==groupColumns||groupColumns.forEach((groupColumn=>{"agGroupColumnFilter"===groupColumn.getColDef().filter&&this.getOrCreateFilterWrapper(groupColumn,"NO_UI")}))}isFilterAllowed(column){var _a,_b;if(this.isAdvancedFilterEnabled())return!1;if(!column.isFilterAllowed())return!1;const filterWrapper=this.allColumnFilters.get(column.getColId());return null===(_b=null===(_a=null==filterWrapper?void 0:filterWrapper.filterPromise)||void 0===_a?void 0:_a.resolveNow(!0,(filter=>{var _a,_b;return"function"!=typeof(null===(_a=filter)||void 0===_a?void 0:_a.isFilterAllowed)||(null===(_b=filter)||void 0===_b?void 0:_b.isFilterAllowed())})))||void 0===_b||_b}getFloatingFilterCompDetails(column,showParentFilter){const colDef=column.getColDef(),filterParams=this.createFilterParams(column,colDef),finalFilterParams=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(colDef,FilterComponent,filterParams);let defaultFloatingFilterType=this.userComponentFactory.getDefaultFloatingFilterType(colDef,(()=>this.getDefaultFloatingFilter(column)));null==defaultFloatingFilterType&&(defaultFloatingFilterType="agReadOnlyFloatingFilter");const params={column,filterParams:finalFilterParams,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(column),parentFilterInstance:callback=>{const filterComponent=this.getFilterComponent(column,"NO_UI");null!=filterComponent&&filterComponent.then((instance=>{callback(unwrapUserComp(instance))}))},showParentFilter,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(colDef,params,defaultFloatingFilterType)}getCurrentFloatingFilterParentModel(column){const filterComponent=this.getFilterComponent(column,"NO_UI",!1);return filterComponent?filterComponent.resolveNow(null,(filter=>filter&&filter.getModel())):null}destroyFilter(column,source="api"){const colId=column.getColId(),filterWrapper=this.allColumnFilters.get(colId);this.disposeColumnListener(colId),filterWrapper&&(this.disposeFilterWrapper(filterWrapper,source),this.onFilterChanged({columns:[column],source:"api"}))}disposeColumnListener(colId){const columnListener=this.allColumnListeners.get(colId);columnListener&&(this.allColumnListeners.delete(colId),columnListener())}disposeFilterWrapper(filterWrapper,source){filterWrapper.filterPromise.then((filter=>{(filter.setModel(null)||promise_AgPromise.resolve()).then((()=>{this.getContext().destroyBean(filter),filterWrapper.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(filterWrapper.column.getColId());const event={type:Events.EVENT_FILTER_DESTROYED,source,column:filterWrapper.column};this.eventService.dispatchEvent(event)}))}))}checkDestroyFilter(colId){const filterWrapper=this.allColumnFilters.get(colId);if(!filterWrapper)return;const column=filterWrapper.column,{compDetails}=column.isFilterAllowed()?this.createFilterInstance(column):{compDetails:null};this.areFilterCompsDifferent(filterWrapper.compDetails,compDetails)&&this.destroyFilter(column,"columnChanged")}areFilterCompsDifferent(oldCompDetails,newCompDetails){if(!newCompDetails||!oldCompDetails)return!0;const{componentClass:oldComponentClass}=oldCompDetails,{componentClass:newComponentClass}=newCompDetails;return!(oldComponentClass===newComponentClass||(null==oldComponentClass?void 0:oldComponentClass.render)&&(null==newComponentClass?void 0:newComponentClass.render)&&oldComponentClass.render===newComponentClass.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(expression){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(null!=expression?expression:null),this.onFilterChanged({source:"advancedFilter"}))}showAdvancedFilterBuilder(source){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(source,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){if(this.isAdvancedFilterEnabled())return!1;const gridColumns=this.columnModel.getAllGridColumns();return!!gridColumns&&gridColumns.some((col=>col.getColDef().floatingFilter))}getFilterInstance(key,callback){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();const res=this.getFilterInstanceImpl(key,(instance=>{if(!callback)return;const unwrapped=unwrapUserComp(instance);callback(unwrapped)}));return unwrapUserComp(res)}getFilterInstanceImpl(key,callback){const column=this.columnModel.getPrimaryColumn(key);if(!column)return;const filterPromise=this.getFilterComponent(column,"NO_UI"),currentValue=filterPromise&&filterPromise.resolveNow(null,(filterComp=>filterComp));return currentValue?setTimeout(callback,0,currentValue):filterPromise&&filterPromise.then((comp=>{callback(comp)})),currentValue}warnAdvancedFilters(){function_doOnce((()=>{console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")}),"advancedFiltersCompatibility")}setupAdvancedFilterHeaderComp(eCompToInsertBefore){var _a;null===(_a=this.advancedFilterService)||void 0===_a||_a.getCtrl().setupHeaderComp(eCompToInsertBefore)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((model=>this.setFilterModel(model))),this.filterModelUpdateQueue=[]}destroy(){super.destroy(),this.allColumnFilters.forEach((filterWrapper=>this.disposeFilterWrapper(filterWrapper,"gridDestroyed"))),this.allColumnListeners.clear()}};filterManager_decorate([Autowired("valueService")],FilterManager.prototype,"valueService",void 0),filterManager_decorate([Autowired("columnModel")],FilterManager.prototype,"columnModel",void 0),filterManager_decorate([Autowired("rowModel")],FilterManager.prototype,"rowModel",void 0),filterManager_decorate([Autowired("userComponentFactory")],FilterManager.prototype,"userComponentFactory",void 0),filterManager_decorate([Autowired("rowRenderer")],FilterManager.prototype,"rowRenderer",void 0),filterManager_decorate([Autowired("dataTypeService")],FilterManager.prototype,"dataTypeService",void 0),filterManager_decorate([Autowired("quickFilterService")],FilterManager.prototype,"quickFilterService",void 0),filterManager_decorate([Optional("advancedFilterService")],FilterManager.prototype,"advancedFilterService",void 0),filterManager_decorate([PostConstruct],FilterManager.prototype,"init",null),FilterManager=filterManager_decorate([Bean("filterManager")],FilterManager);class AbstractHeaderCellComp extends Component{constructor(template,ctrl){super(template),this.ctrl=ctrl}getCtrl(){return this.ctrl}}var headerFilterCellComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderFilterCellComp extends AbstractHeaderCellComp{constructor(ctrl){super(HeaderFilterCellComp.TEMPLATE,ctrl)}postConstruct(){const eGui=this.getGui(),compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),addOrRemoveBodyCssClass:(cssClassName,on)=>this.eFloatingFilterBody.classList.toggle(cssClassName,on),setButtonWrapperDisplayed:displayed=>setDisplayed(this.eButtonWrapper,displayed),setCompDetails:compDetails=>this.setCompDetails(compDetails),getFloatingFilterComp:()=>this.compPromise,setWidth:width=>eGui.style.width=width,setMenuIcon:eIcon=>this.eButtonShowMainFilter.appendChild(eIcon)};this.ctrl.setComp(compProxy,eGui,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(compDetails){if(!compDetails)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=compDetails.newAgStackInstance(),this.compPromise.then((comp=>this.afterCompCreated(comp)))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(comp){comp&&(this.isAlive()?(this.destroyFloatingFilterComp(),this.floatingFilterComp=comp,this.eFloatingFilterBody.appendChild(comp.getGui()),comp.afterGuiAttached&&comp.afterGuiAttached()):this.destroyBean(comp))}}HeaderFilterCellComp.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',headerFilterCellComp_decorate([RefSelector("eFloatingFilterBody")],HeaderFilterCellComp.prototype,"eFloatingFilterBody",void 0),headerFilterCellComp_decorate([RefSelector("eButtonWrapper")],HeaderFilterCellComp.prototype,"eButtonWrapper",void 0),headerFilterCellComp_decorate([RefSelector("eButtonShowMainFilter")],HeaderFilterCellComp.prototype,"eButtonShowMainFilter",void 0),headerFilterCellComp_decorate([PostConstruct],HeaderFilterCellComp.prototype,"postConstruct",null),headerFilterCellComp_decorate([PreDestroy],HeaderFilterCellComp.prototype,"destroyFloatingFilterComp",null);var LayoutCssClasses,layoutFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(LayoutCssClasses){LayoutCssClasses.AUTO_HEIGHT="ag-layout-auto-height",LayoutCssClasses.NORMAL="ag-layout-normal",LayoutCssClasses.PRINT="ag-layout-print"}(LayoutCssClasses||(LayoutCssClasses={}));class LayoutFeature extends BeanStub{constructor(view){super(),this.view=view}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const domLayout=this.getDomLayout(),params={autoHeight:"autoHeight"===domLayout,normal:"normal"===domLayout,print:"print"===domLayout},cssClass=params.autoHeight?LayoutCssClasses.AUTO_HEIGHT:params.print?LayoutCssClasses.PRINT:LayoutCssClasses.NORMAL;this.view.updateLayoutClasses(cssClass,params)}getDomLayout(){var _a;const domLayout=null!==(_a=this.gridOptionsService.get("domLayout"))&&void 0!==_a?_a:"normal";return-1===["normal","print","autoHeight"].indexOf(domLayout)?(function_doOnce((()=>console.warn(`AG Grid: ${domLayout} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`)),"warn about dom layout values"),"normal"):domLayout}}layoutFeature_decorate([PostConstruct],LayoutFeature.prototype,"postConstruct",null);var ScrollDirection,ScrollSource,gridBodyScrollFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(ScrollDirection){ScrollDirection[ScrollDirection.Vertical=0]="Vertical",ScrollDirection[ScrollDirection.Horizontal=1]="Horizontal"}(ScrollDirection||(ScrollDirection={})),function(ScrollSource){ScrollSource[ScrollSource.Container=0]="Container",ScrollSource[ScrollSource.FakeContainer=1]="FakeContainer"}(ScrollSource||(ScrollSource={}));class GridBodyScrollFeature extends BeanStub{constructor(eBodyViewport){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=eBodyViewport,this.resetLastHScrollDebounced=debounce((()=>this.lastScrollSource[ScrollDirection.Horizontal]=null),500),this.resetLastVScrollDebounced=debounce((()=>this.lastScrollSource[ScrollDirection.Vertical]=null),500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((p=>{this.centerRowContainerCtrl=p.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){const fakeHScroll=this.ctrlsService.getFakeHScrollComp(),fakeVScroll=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),fakeHScroll.onScrollCallback(this.onFakeHScroll.bind(this));const isDebounce=this.gridOptionsService.is("debounceVerticalScrollbar"),onVScroll=isDebounce?debounce(this.onVScroll.bind(this),100):this.onVScroll.bind(this),onFakeVScroll=isDebounce?debounce(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",onVScroll),fakeVScroll.onScrollCallback(onFakeVScroll)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft){if(null==this.centerRowContainerCtrl)return;void 0===scrollLeft&&(scrollLeft=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const offset=this.enableRtl?scrollLeft:-scrollLeft,topCenterContainer=this.ctrlsService.getTopCenterRowContainerCtrl(),stickyTopCenterContainer=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),bottomCenterContainer=this.ctrlsService.getBottomCenterRowContainerCtrl(),fakeHScroll=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-offset),bottomCenterContainer.setContainerTranslateX(offset),topCenterContainer.setContainerTranslateX(offset),stickyTopCenterContainer.setContainerTranslateX(offset);const centerViewport=this.centerRowContainerCtrl.getViewportElement(),isCenterViewportLastHorizontal=this.lastScrollSource[ScrollDirection.Horizontal]===ScrollSource.Container;scrollLeft=Math.abs(scrollLeft),isCenterViewportLastHorizontal?fakeHScroll.setScrollPosition(scrollLeft):setScrollLeft(centerViewport,scrollLeft,this.enableRtl)}isControllingScroll(source,direction){return null==this.lastScrollSource[direction]?(this.lastScrollSource[direction]=source,!0):this.lastScrollSource[direction]===source}onFakeHScroll(){this.isControllingScroll(ScrollSource.FakeContainer,ScrollDirection.Horizontal)&&this.onHScrollCommon(ScrollSource.FakeContainer)}onHScroll(){this.isControllingScroll(ScrollSource.Container,ScrollDirection.Horizontal)&&this.onHScrollCommon(ScrollSource.Container)}onHScrollCommon(source){const centerContainerViewport=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft}=centerContainerViewport;if(this.shouldBlockScrollUpdate(ScrollDirection.Horizontal,scrollLeft,!0))return;let newScrollLeft;newScrollLeft=source===ScrollSource.Container?getScrollLeft(centerContainerViewport,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(newScrollLeft)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(ScrollSource.FakeContainer,ScrollDirection.Vertical)&&this.onVScrollCommon(ScrollSource.FakeContainer)}onVScroll(){this.isControllingScroll(ScrollSource.Container,ScrollDirection.Vertical)&&this.onVScrollCommon(ScrollSource.Container)}onVScrollCommon(source){let scrollTop;scrollTop=source===ScrollSource.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),this.shouldBlockScrollUpdate(ScrollDirection.Vertical,scrollTop,!0)||(this.animationFrameService.setScrollTop(scrollTop),this.nextScrollTop=scrollTop,source===ScrollSource.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(scrollTop):this.eBodyViewport.scrollTop=scrollTop,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(scrollLeft){const fakeScrollLeft=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===scrollLeft&&scrollLeft===fakeScrollLeft||(this.scrollLeft=scrollLeft,this.fireScrollEvent(ScrollDirection.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(direction){const bodyScrollEvent={type:Events.EVENT_BODY_SCROLL,direction:direction===ScrollDirection.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(bodyScrollEvent),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{const bodyScrollEndEvent=Object.assign(Object.assign({},bodyScrollEvent),{type:Events.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(bodyScrollEndEvent)}),100)}shouldBlockScrollUpdate(direction,scrollTo,touchOnly=!1){return!(touchOnly&&!isIOSUserAgent())&&(direction===ScrollDirection.Vertical?this.shouldBlockVerticalScroll(scrollTo):this.shouldBlockHorizontalScroll(scrollTo))}shouldBlockVerticalScroll(scrollTo){const clientHeight=getInnerHeight(this.eBodyViewport),{scrollHeight}=this.eBodyViewport;return scrollTo<0||scrollTo+clientHeight>scrollHeight}shouldBlockHorizontalScroll(scrollTo){const clientWidth=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&isRtlNegativeScroll()){if(scrollTo>0)return!0}else if(scrollTo<0)return!0;return Math.abs(scrollTo)+clientWidth>scrollWidth}redrawRowsAfterScroll(){this.fireScrollEvent(ScrollDirection.Vertical)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(ScrollSource.Container)}scrollGridIfNeeded(){const frameNeeded=this.scrollTop!=this.nextScrollTop;return frameNeeded&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),frameNeeded}setHorizontalScrollPosition(hScrollPosition,fromAlignedGridsService=!1){const maxScrollLeft=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!fromAlignedGridsService&&this.shouldBlockScrollUpdate(ScrollDirection.Horizontal,hScrollPosition)&&(hScrollPosition=this.enableRtl&&isRtlNegativeScroll()?hScrollPosition>0?0:maxScrollLeft:Math.min(Math.max(hScrollPosition,0),maxScrollLeft)),setScrollLeft(this.centerRowContainerCtrl.getViewportElement(),Math.abs(hScrollPosition),this.enableRtl),this.doHorizontalScroll(hScrollPosition)}setVerticalScrollPosition(vScrollPosition){this.eBodyViewport.scrollTop=vScrollPosition}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(pixels){const oldScrollPosition=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(oldScrollPosition+pixels),this.centerRowContainerCtrl.getViewportElement().scrollLeft-oldScrollPosition}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(comparator,position=null){const rowCount=this.rowModel.getRowCount();let indexToSelect=-1;for(let i=0;i<rowCount;i++){const node=this.rowModel.getRow(i);if("function"==typeof comparator){if(node&&comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}}indexToSelect>=0&&this.ensureIndexVisible(indexToSelect,position)}ensureIndexVisible(index,position){if(this.gridOptionsService.isDomLayout("print"))return;const rowCount=this.paginationProxy.getRowCount();if("number"!=typeof index||index<0||index>=rowCount)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+index);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(index);const stickyTopHeight=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),rowNode=this.paginationProxy.getRow(index);let rowGotShiftedDuringOperation;do{const startingRowTop=rowNode.rowTop,startingRowHeight=rowNode.rowHeight,paginationOffset=this.paginationProxy.getPixelOffset(),rowTopPixel=rowNode.rowTop-paginationOffset,rowBottomPixel=rowTopPixel+rowNode.rowHeight,scrollPosition=this.getVScrollPosition(),heightOffset=this.heightScaler.getDivStretchOffset(),vScrollTop=scrollPosition.top+heightOffset,vScrollBottom=scrollPosition.bottom+heightOffset,viewportHeight=vScrollBottom-vScrollTop,pxTop=this.heightScaler.getScrollPositionForPixel(rowTopPixel),pxBottom=this.heightScaler.getScrollPositionForPixel(rowBottomPixel-viewportHeight),pxMiddle=Math.min((pxTop+pxBottom)/2,rowTopPixel);let newScrollPosition=null;"top"===position?newScrollPosition=pxTop:"bottom"===position?newScrollPosition=pxBottom:"middle"===position?newScrollPosition=pxMiddle:vScrollTop+stickyTopHeight>rowTopPixel?newScrollPosition=pxTop-stickyTopHeight:vScrollBottom<rowBottomPixel&&(newScrollPosition=pxBottom),null!==newScrollPosition&&(this.setVerticalScrollPosition(newScrollPosition),this.rowRenderer.redraw({afterScroll:!0})),rowGotShiftedDuringOperation=startingRowTop!==rowNode.rowTop||startingRowHeight!==rowNode.rowHeight}while(rowGotShiftedDuringOperation);this.animationFrameService.flushAllFrames()}ensureColumnVisible(key,position="auto"){const column=this.columnModel.getGridColumn(key);if(!column)return;if(column.isPinned())return;if(!this.columnModel.isColumnDisplayed(column))return;const newHorizontalScroll=this.getPositionedHorizontalScroll(column,position);null!==newHorizontalScroll&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(newHorizontalScroll),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(column,position){const{columnBeforeStart,columnAfterEnd}=this.isColumnOutsideViewport(column),viewportTooSmallForColumn=this.centerRowContainerCtrl.getCenterWidth()<column.getActualWidth(),viewportWidth=this.centerRowContainerCtrl.getCenterWidth(),isRtl=this.enableRtl;let alignColToStart=(isRtl?columnBeforeStart:columnAfterEnd)||viewportTooSmallForColumn,alignColToEnd=isRtl?columnAfterEnd:columnBeforeStart;"auto"!==position&&(alignColToStart="start"===position,alignColToEnd="end"===position);const isMiddle="middle"===position;if(alignColToStart||alignColToEnd||isMiddle){const{colLeft,colMiddle,colRight}=this.getColumnBounds(column);return isMiddle?colMiddle-viewportWidth/2:alignColToStart?isRtl?colRight:colLeft:isRtl?colLeft-viewportWidth:colRight-viewportWidth}return null}isColumnOutsideViewport(column){const{start:viewportStart,end:viewportEnd}=this.getViewportBounds(),{colLeft,colRight}=this.getColumnBounds(column),isRtl=this.enableRtl;return{columnBeforeStart:isRtl?viewportStart>colRight:viewportEnd<colRight,columnAfterEnd:isRtl?viewportEnd<colLeft:viewportStart>colLeft}}getColumnBounds(column){const isRtl=this.enableRtl,bodyWidth=this.columnModel.getBodyContainerWidth(),colWidth=column.getActualWidth(),colLeft=column.getLeft(),multiplier=isRtl?-1:1,colLeftPixel=isRtl?bodyWidth-colLeft:colLeft;return{colLeft:colLeftPixel,colMiddle:colLeftPixel+colWidth/2*multiplier,colRight:colLeftPixel+colWidth*multiplier}}getViewportBounds(){const viewportWidth=this.centerRowContainerCtrl.getCenterWidth(),scrollPosition=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:scrollPosition,end:viewportWidth+scrollPosition,width:viewportWidth}}}gridBodyScrollFeature_decorate([Autowired("ctrlsService")],GridBodyScrollFeature.prototype,"ctrlsService",void 0),gridBodyScrollFeature_decorate([Autowired("animationFrameService")],GridBodyScrollFeature.prototype,"animationFrameService",void 0),gridBodyScrollFeature_decorate([Autowired("paginationProxy")],GridBodyScrollFeature.prototype,"paginationProxy",void 0),gridBodyScrollFeature_decorate([Autowired("rowModel")],GridBodyScrollFeature.prototype,"rowModel",void 0),gridBodyScrollFeature_decorate([Autowired("rowContainerHeightService")],GridBodyScrollFeature.prototype,"heightScaler",void 0),gridBodyScrollFeature_decorate([Autowired("rowRenderer")],GridBodyScrollFeature.prototype,"rowRenderer",void 0),gridBodyScrollFeature_decorate([Autowired("columnModel")],GridBodyScrollFeature.prototype,"columnModel",void 0),gridBodyScrollFeature_decorate([PostConstruct],GridBodyScrollFeature.prototype,"postConstruct",null);var rowDragFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class RowDragFeature extends BeanStub{constructor(eContainer){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=eContainer}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const refreshStatus=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,(()=>{refreshStatus()})),refreshStatus(),this.ctrlsService.whenReady((()=>{const gridBodyCon=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new AutoScrollService({scrollContainer:gridBodyCon.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>gridBodyCon.getScrollFeature().getVScrollPosition().top,setVerticalPosition:position=>gridBodyCon.getScrollFeature().setVerticalScrollPosition(position),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const rowGroups=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!missingOrEmpty(rowGroups)}getContainer(){return this.eContainer}isInterestedIn(type){return type===DragSourceType.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?DragAndDropService.ICON_NOT_ALLOWED:DragAndDropService.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(draggingEvent){if(!this.isFromThisGrid(draggingEvent))return draggingEvent.dragItem.rowNodes||[];const isRowDragMultiRow=this.gridOptionsService.is("rowDragMultiRow"),selectedNodes=[...this.selectionService.getSelectedNodes()].sort(((a,b)=>null==a.rowIndex||null==b.rowIndex?0:this.getRowIndexNumber(a)-this.getRowIndexNumber(b))),currentNode=draggingEvent.dragItem.rowNode;return isRowDragMultiRow&&-1!==selectedNodes.indexOf(currentNode)?(this.isMultiRowDrag=!0,selectedNodes):(this.isMultiRowDrag=!1,[currentNode])}onDragEnter(draggingEvent){draggingEvent.dragItem.rowNodes=this.getRowNodes(draggingEvent),this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER,draggingEvent),this.getRowNodes(draggingEvent).forEach((rowNode=>{rowNode.setDragging(!0)})),this.onEnterOrDragging(draggingEvent)}onDragging(draggingEvent){this.onEnterOrDragging(draggingEvent)}isFromThisGrid(draggingEvent){const{dragSourceDomDataKey}=draggingEvent.dragSource;return dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(draggingEvent){const gridGui=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget}=draggingEvent;return!gridGui.contains(dropZoneTarget)}onEnterOrDragging(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE,draggingEvent),this.lastDraggingEvent=draggingEvent;const pixel=this.mouseEventService.getNormalisedPosition(draggingEvent).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(draggingEvent,pixel),this.autoScrollService.check(draggingEvent.event)}doManagedDrag(draggingEvent,pixel){const isFromThisGrid=this.isFromThisGrid(draggingEvent),managedDrag=this.gridOptionsService.is("rowDragManaged"),rowNodes=draggingEvent.dragItem.rowNodes;managedDrag&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!isFromThisGrid?this.isDropZoneWithinThisGrid(draggingEvent)||this.clientSideRowModel.highlightRowAtPixel(rowNodes[0],pixel):this.moveRows(rowNodes,pixel))}getRowIndexNumber(rowNode){return parseInt(last(rowNode.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(draggingEvent){const lastHighlightedRowNode=this.clientSideRowModel.getLastHighlightedRowNode(),isBelow=lastHighlightedRowNode&&lastHighlightedRowNode.highlighted===RowHighlightPosition.Below,pixel=this.mouseEventService.getNormalisedPosition(draggingEvent).y,rowNodes=draggingEvent.dragItem.rowNodes;let increment=isBelow?1:0;if(this.isFromThisGrid(draggingEvent))rowNodes.forEach((rowNode=>{rowNode.rowTop<pixel&&(increment-=1)})),this.moveRows(rowNodes,pixel,increment);else{const getRowIdFunc=this.gridOptionsService.getCallback("getRowId");let addIndex=this.clientSideRowModel.getRowIndexAtPixel(pixel)+1;this.clientSideRowModel.getHighlightPosition(pixel)===RowHighlightPosition.Above&&addIndex--,this.clientSideRowModel.updateRowData({add:rowNodes.map((node=>node.data)).filter((data=>!this.clientSideRowModel.getRowNode(getRowIdFunc?getRowIdFunc({data,level:0}):data.id))),addIndex})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(rowNodes,pixel,increment=0){this.clientSideRowModel.ensureRowsAtPixel(rowNodes,pixel,increment)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(params){if(!params.getContainer())return void function_doOnce((()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided")),"add-drop-zone-empty-target");if(this.dragAndDropService.findExternalZone(params))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let processedParams={getContainer:params.getContainer};params.fromGrid?(params.fromGrid=void 0,processedParams=params):(params.onDragEnter&&(processedParams.onDragEnter=e=>{params.onDragEnter(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,e))}),params.onDragLeave&&(processedParams.onDragLeave=e=>{params.onDragLeave(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,e))}),params.onDragging&&(processedParams.onDragging=e=>{params.onDragging(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,e))}),params.onDragStop&&(processedParams.onDragStop=e=>{params.onDragStop(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,e))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:type=>type===DragSourceType.RowDrag,getIconName:()=>DragAndDropService.ICON_MOVE,external:!0},processedParams))}getRowDropZone(events){const getContainer=this.getContainer.bind(this),onDragEnter=this.onDragEnter.bind(this),onDragLeave=this.onDragLeave.bind(this),onDragging=this.onDragging.bind(this),onDragStop=this.onDragStop.bind(this);return events?{getContainer,onDragEnter:events.onDragEnter?e=>{onDragEnter(e),events.onDragEnter(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER,e))}:onDragEnter,onDragLeave:events.onDragLeave?e=>{onDragLeave(e),events.onDragLeave(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE,e))}:onDragLeave,onDragging:events.onDragging?e=>{onDragging(e),events.onDragging(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE,e))}:onDragging,onDragStop:events.onDragStop?e=>{onDragStop(e),events.onDragStop(this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END,e))}:onDragStop,fromGrid:!0}:{getContainer,onDragEnter,onDragLeave,onDragging,onDragStop,fromGrid:!0}}draggingToRowDragEvent(type,draggingEvent){const yNormalised=this.mouseEventService.getNormalisedPosition(draggingEvent).y;let overNode,vDirectionString,overIndex=-1;switch(yNormalised>this.paginationProxy.getCurrentPageHeight()||(overIndex=this.rowModel.getRowIndexAtPixel(yNormalised),overNode=this.rowModel.getRow(overIndex)),draggingEvent.vDirection){case VerticalDirection.Down:vDirectionString="down";break;case VerticalDirection.Up:vDirectionString="up";break;default:vDirectionString=null}return{type,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:draggingEvent.event,node:draggingEvent.dragItem.rowNode,nodes:draggingEvent.dragItem.rowNodes,overIndex,overNode,y:yNormalised,vDirection:vDirectionString}}dispatchGridEvent(type,draggingEvent){const event=this.draggingToRowDragEvent(type,draggingEvent);this.eventService.dispatchEvent(event)}onDragLeave(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE,draggingEvent),this.stopDragging(draggingEvent),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(draggingEvent)&&(this.isMultiRowDrag=!1)}onDragStop(draggingEvent){this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END,draggingEvent),this.stopDragging(draggingEvent),!this.gridOptionsService.is("rowDragManaged")||!this.gridOptionsService.is("suppressMoveWhenRowDragging")&&this.isFromThisGrid(draggingEvent)||this.isDropZoneWithinThisGrid(draggingEvent)||this.moveRowAndClearHighlight(draggingEvent)}stopDragging(draggingEvent){this.autoScrollService.ensureCleared(),this.getRowNodes(draggingEvent).forEach((rowNode=>{rowNode.setDragging(!1)}))}}rowDragFeature_decorate([Autowired("dragAndDropService")],RowDragFeature.prototype,"dragAndDropService",void 0),rowDragFeature_decorate([Autowired("rowModel")],RowDragFeature.prototype,"rowModel",void 0),rowDragFeature_decorate([Autowired("paginationProxy")],RowDragFeature.prototype,"paginationProxy",void 0),rowDragFeature_decorate([Autowired("columnModel")],RowDragFeature.prototype,"columnModel",void 0),rowDragFeature_decorate([Autowired("focusService")],RowDragFeature.prototype,"focusService",void 0),rowDragFeature_decorate([Autowired("sortController")],RowDragFeature.prototype,"sortController",void 0),rowDragFeature_decorate([Autowired("filterManager")],RowDragFeature.prototype,"filterManager",void 0),rowDragFeature_decorate([Autowired("selectionService")],RowDragFeature.prototype,"selectionService",void 0),rowDragFeature_decorate([Autowired("mouseEventService")],RowDragFeature.prototype,"mouseEventService",void 0),rowDragFeature_decorate([Autowired("ctrlsService")],RowDragFeature.prototype,"ctrlsService",void 0),rowDragFeature_decorate([Optional("rangeService")],RowDragFeature.prototype,"rangeService",void 0),rowDragFeature_decorate([PostConstruct],RowDragFeature.prototype,"postConstruct",null);var RowAnimationCssClasses,gridBodyCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RowAnimationCssClasses){RowAnimationCssClasses.ANIMATION_ON="ag-row-animation",RowAnimationCssClasses.ANIMATION_OFF="ag-row-no-animation"}(RowAnimationCssClasses||(RowAnimationCssClasses={}));class GridBodyCtrl extends BeanStub{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(comp,eGridBody,eBodyViewport,eTop,eBottom,eStickyTop){this.comp=comp,this.eGridBody=eGridBody,this.eBodyViewport=eBodyViewport,this.eTop=eTop,this.eBottom=eBottom,this.eStickyTop=eStickyTop,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new LayoutFeature(this.comp)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([eTop,eBodyViewport,eBottom,eStickyTop]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(eTop),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(elements){elements.forEach((element=>{this.addManagedListener(element,"focusin",(e=>{const{target}=e,isFocusedElementNested=isElementChildOfClass(target,"ag-root",element);element.classList.toggle("ag-has-focus",!isFocusedElementNested)})),this.addManagedListener(element,"focusout",(e=>{const{target,relatedTarget}=e,gridContainRelatedTarget=element.contains(relatedTarget),isNestedRelatedTarget=isElementChildOfClass(relatedTarget,"ag-root",element);isElementChildOfClass(target,"ag-root",element)||gridContainRelatedTarget&&!isNestedRelatedTarget||element.classList.remove("ag-has-focus")}))}))}setColumnMovingCss(moving){this.comp.setColumnMovingCss("ag-column-moving",moving)}setCellTextSelection(selectable=!1){this.comp.setCellSelectableCss("ag-selectable",selectable)}onScrollVisibilityChanged(){const visible=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(visible),this.setStickyTopWidth(visible);const width=`calc(100% + ${(visible&&this.gridOptionsService.getScrollbarWidth()||0)+(isInvisibleScrollbar()?16:0)}px)`;this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(width)))}onGridColumnsChanged(){const columns=this.columnModel.getAllGridColumns();this.comp.setColumnCount(columns?columns.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",(event=>{if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1}))}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const focusOutListener=event=>{const elementWithFocus=event.relatedTarget;if(null===getTabIndex(elementWithFocus))return void this.rowRenderer.stopEditing();let clickInsideGrid=viewports.some((viewport=>viewport.contains(elementWithFocus)))&&this.mouseEventService.isElementInThisGrid(elementWithFocus);if(!clickInsideGrid){const popupService=this.popupService;clickInsideGrid=popupService.getActivePopups().some((popup=>popup.contains(elementWithFocus)))||popupService.isElementWithinCustomPopup(elementWithFocus)}clickInsideGrid||this.rowRenderer.stopEditing()},viewports=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];viewports.forEach((viewport=>this.addManagedListener(viewport,"focusout",focusOutListener)))}updateRowCount(){const headerCount=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),rowCount=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,total=-1===rowCount?-1:headerCount+rowCount;this.comp.setRowCount(total)}registerBodyViewportResizeListener(listener){this.comp.registerBodyViewportResizeListener(listener)}setVerticalScrollPaddingVisible(visible){const overflowY=visible?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(overflowY)}isVerticalScrollShowing(){const show=this.gridOptionsService.is("alwaysShowVerticalScroll"),cssClass=show?"ag-force-vertical-scroll":null,allowVerticalScroll=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(cssClass,show),show||allowVerticalScroll&&isVerticalScrollShowing(this.eBodyViewport)}setupRowAnimationCssClass(){const listener=()=>{const animateRows=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),animateRowsCssClass=animateRows?RowAnimationCssClasses.ANIMATION_ON:RowAnimationCssClasses.ANIMATION_OFF;this.comp.setRowAnimationCssOnBodyViewport(animateRowsCssClass,animateRows)};listener(),this.addManagedListener(this.eventService,Events.EVENT_HEIGHT_SCALE_CHANGED,listener),this.addManagedPropertyListener("animateRows",listener)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const listener=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",listener),this.mockContextMenuForIPad(listener),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const fullWidthContainer=this.eBodyViewport.querySelector(".ag-full-width-container"),eCenterColsViewport=this.eBodyViewport.querySelector(".ag-center-cols-viewport");fullWidthContainer&&eCenterColsViewport&&this.addManagedListener(fullWidthContainer,"wheel",(e=>this.onFullWidthContainerWheel(e,eCenterColsViewport)))}onFullWidthContainerWheel(e,eCenterColsViewport){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),eCenterColsViewport.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(mouseEvent,touch,touchEvent){if(!mouseEvent&&!touchEvent)return;if(this.gridOptionsService.is("preventDefaultOnContextMenu")){(mouseEvent||touchEvent).preventDefault()}const{target}=mouseEvent||touch;if(target===this.eBodyViewport||target===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;mouseEvent?this.contextMenuFactory.onContextMenu(mouseEvent,null,null,null,null,this.eGridBody):touchEvent&&this.contextMenuFactory.onContextMenu(null,touchEvent,null,null,null,this.eGridBody)}}mockContextMenuForIPad(listener){if(!isIOSUserAgent())return;const touchListener=new TouchListener(this.eBodyViewport);this.addManagedListener(touchListener,TouchListener.EVENT_LONG_TAP,(event=>{listener(void 0,event.touchStart,event.touchEvent)})),this.addDestroyFunc((()=>touchListener.destroy()))}onBodyViewportWheel(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(pixels){const oldScrollPosition=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(oldScrollPosition+pixels),this.eBodyViewport.scrollTop-oldScrollPosition}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel}=this;let floatingTopHeight=pinnedRowModel.getPinnedTopTotalHeight();floatingTopHeight&&(floatingTopHeight+=1);let floatingBottomHeight=pinnedRowModel.getPinnedBottomTotalHeight();floatingBottomHeight&&(floatingBottomHeight+=1),this.comp.setTopHeight(floatingTopHeight),this.comp.setBottomHeight(floatingBottomHeight),this.comp.setTopDisplay(floatingTopHeight?"inherit":"none"),this.comp.setBottomDisplay(floatingBottomHeight?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(height=0){this.comp.setStickyTopHeight(`${height}px`),this.stickyTopHeight=height}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(vScrollVisible){if(vScrollVisible){const scrollbarWidth=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${scrollbarWidth}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const headerHeight=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),pinnedTopHeight=this.pinnedRowModel.getPinnedTopTotalHeight();let height=0;headerHeight>0&&(height+=headerHeight+1),pinnedTopHeight>0&&(height+=pinnedTopHeight+1),this.comp.setStickyTopTop(`${height}px`)}sizeColumnsToFit(params,nextTimeout){const scrollWidthToRemove=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,availableWidth=getInnerWidth(this.eGridBody)-scrollWidthToRemove;availableWidth>0?this.columnModel.sizeColumnsToFit(availableWidth,"sizeColumnsToFit",!1,params):void 0===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFit(params,100)}),0):100===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFit(params,500)}),100):500===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFit(params,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(listener){this.eBodyViewport.addEventListener("scroll",listener,{passive:!0})}removeScrollEventListener(listener){this.eBodyViewport.removeEventListener("scroll",listener)}}var SelectionHandleType,CellRangeType;gridBodyCtrl_decorate([Autowired("animationFrameService")],GridBodyCtrl.prototype,"animationFrameService",void 0),gridBodyCtrl_decorate([Autowired("rowContainerHeightService")],GridBodyCtrl.prototype,"rowContainerHeightService",void 0),gridBodyCtrl_decorate([Autowired("ctrlsService")],GridBodyCtrl.prototype,"ctrlsService",void 0),gridBodyCtrl_decorate([Autowired("columnModel")],GridBodyCtrl.prototype,"columnModel",void 0),gridBodyCtrl_decorate([Autowired("scrollVisibleService")],GridBodyCtrl.prototype,"scrollVisibleService",void 0),gridBodyCtrl_decorate([Optional("contextMenuFactory")],GridBodyCtrl.prototype,"contextMenuFactory",void 0),gridBodyCtrl_decorate([Autowired("headerNavigationService")],GridBodyCtrl.prototype,"headerNavigationService",void 0),gridBodyCtrl_decorate([Autowired("dragAndDropService")],GridBodyCtrl.prototype,"dragAndDropService",void 0),gridBodyCtrl_decorate([Autowired("pinnedRowModel")],GridBodyCtrl.prototype,"pinnedRowModel",void 0),gridBodyCtrl_decorate([Autowired("rowRenderer")],GridBodyCtrl.prototype,"rowRenderer",void 0),gridBodyCtrl_decorate([Autowired("popupService")],GridBodyCtrl.prototype,"popupService",void 0),gridBodyCtrl_decorate([Autowired("mouseEventService")],GridBodyCtrl.prototype,"mouseEventService",void 0),gridBodyCtrl_decorate([Autowired("rowModel")],GridBodyCtrl.prototype,"rowModel",void 0),gridBodyCtrl_decorate([Autowired("filterManager")],GridBodyCtrl.prototype,"filterManager",void 0),function(SelectionHandleType){SelectionHandleType[SelectionHandleType.FILL=0]="FILL",SelectionHandleType[SelectionHandleType.RANGE=1]="RANGE"}(SelectionHandleType||(SelectionHandleType={})),function(CellRangeType){CellRangeType[CellRangeType.VALUE=0]="VALUE",CellRangeType[CellRangeType.DIMENSION=1]="DIMENSION"}(CellRangeType||(CellRangeType={}));class CellRangeFeature{constructor(beans,ctrl){this.beans=beans,this.cellCtrl=ctrl}setComp(cellComp,eGui){this.cellComp=cellComp,this.eGui=eGui,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected",0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),setAriaSelected(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const rangeBorders=this.getRangeBorders(),isSingleCell=this.isSingleCell(),isTop=!isSingleCell&&rangeBorders.top,isRight=!isSingleCell&&rangeBorders.right,isBottom=!isSingleCell&&rangeBorders.bottom,isLeft=!isSingleCell&&rangeBorders.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",isTop),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",isRight),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",isBottom),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",isLeft)}isSingleCell(){const{rangeService}=this.beans;return 1===this.rangeCount&&rangeService&&!rangeService.isMoreThanOneCell()}getHasChartRange(){const{rangeService}=this.beans;if(!this.rangeCount||!rangeService)return!1;const cellRanges=rangeService.getCellRanges();return cellRanges.length>0&&cellRanges.every((range=>includes([CellRangeType.DIMENSION,CellRangeType.VALUE],range.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const isRtl=this.beans.gridOptionsService.is("enableRtl");let top=!1,right=!1,bottom=!1,left=!1;const thisCol=this.cellCtrl.getCellPosition().column,{rangeService,columnModel}=this.beans;let leftCol,rightCol;isRtl?(leftCol=columnModel.getDisplayedColAfter(thisCol),rightCol=columnModel.getDisplayedColBefore(thisCol)):(leftCol=columnModel.getDisplayedColBefore(thisCol),rightCol=columnModel.getDisplayedColAfter(thisCol));const ranges=rangeService.getCellRanges().filter((range=>rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),range)));leftCol||(left=!0),rightCol||(right=!0);for(let i=0;i<ranges.length&&!(top&&right&&bottom&&left);i++){const range=ranges[i],startRow=rangeService.getRangeStartRow(range),endRow=rangeService.getRangeEndRow(range);!top&&this.beans.rowPositionUtils.sameRow(startRow,this.cellCtrl.getCellPosition())&&(top=!0),!bottom&&this.beans.rowPositionUtils.sameRow(endRow,this.cellCtrl.getCellPosition())&&(bottom=!0),!left&&leftCol&&range.columns.indexOf(leftCol)<0&&(left=!0),!right&&rightCol&&range.columns.indexOf(rightCol)<0&&(right=!0)}return{top,right,bottom,left}}refreshHandle(){if(!this.beans.rangeService)return;const shouldHaveSelectionHandle=this.shouldHaveSelectionHandle();this.selectionHandle&&!shouldHaveSelectionHandle&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),shouldHaveSelectionHandle&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService,rangeService}=this.beans,cellRanges=rangeService.getCellRanges(),rangesLen=cellRanges.length;if(this.rangeCount<1||rangesLen<1)return!1;const cellRange=last(cellRanges),cellPosition=this.cellCtrl.getCellPosition(),isFillHandleAvailable=gridOptionsService.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),isRangeHandleAvailable=gridOptionsService.is("enableRangeHandle");let handleIsAvailable=1===rangesLen&&!this.cellCtrl.isEditing()&&(isFillHandleAvailable||isRangeHandleAvailable);if(this.hasChartRange){const isCategoryCell=cellRanges[0].type===CellRangeType.DIMENSION&&rangeService.isCellInSpecificRange(cellPosition,cellRanges[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",isCategoryCell),handleIsAvailable=cellRange.type===CellRangeType.VALUE}return handleIsAvailable&&null!=cellRange.endRow&&rangeService.isContiguousRange(cellRange)&&rangeService.isBottomRightCell(cellRange,cellPosition)}addSelectionHandle(){const{gridOptionsService,rangeService}=this.beans,cellRangeType=last(rangeService.getCellRanges()).type,type=gridOptionsService.is("enableFillHandle")&&missing(cellRangeType)?SelectionHandleType.FILL:SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==type&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(type)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}class CellPositionFeature extends BeanStub{constructor(ctrl,beans){super(),this.cellCtrl=ctrl,this.beans=beans,this.column=ctrl.getColumn(),this.rowNode=ctrl.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(eGui){this.eGui=eGui,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const colsSpanning=this.getColSpanningList();areEqual(this.colsSpanning,colsSpanning)||(this.colsSpanning=colsSpanning,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const width=this.getCellWidth();this.eGui.style.width=`${width}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((width,col)=>width+col.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const colSpan=this.column.getColSpan(this.rowNode),colsSpanning=[];if(1===colSpan)colsSpanning.push(this.column);else{let pointer=this.column;const pinned=this.column.getPinned();for(let i=0;pointer&&i<colSpan&&(colsSpanning.push(pointer),pointer=this.beans.columnModel.getDisplayedColAfter(pointer),pointer&&!missing(pointer))&&pinned===pointer.getPinned();i++);}return colsSpanning}onLeftChanged(){if(!this.eGui)return;const left=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=left+"px"}getCellLeft(){let mostLeftCol;return mostLeftCol=this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?last(this.colsSpanning):this.column,mostLeftCol.getLeft()}modifyLeftForPrintLayout(leftPosition){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return leftPosition;const leftWidth=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===this.column.getPinned()){return leftWidth+this.beans.columnModel.getBodyContainerWidth()+(leftPosition||0)}return leftWidth+(leftPosition||0)}applyRowSpan(){if(1===this.rowSpan)return;const totalRowHeight=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${totalRowHeight}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}}class CellCustomStyleFeature extends BeanStub{constructor(ctrl,beans){super(),this.staticClasses=[],this.cellCtrl=ctrl,this.beans=beans,this.column=ctrl.getColumn(),this.rowNode=ctrl.getRowNode()}setComp(comp){this.cellComp=comp,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const colDef=this.column.getColDef(),cellClassParams={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(colDef.cellClassRules,cellClassParams,(className=>this.cellComp.addOrRemoveCssClass(className,!0)),(className=>this.cellComp.addOrRemoveCssClass(className,!1)))}applyUserStyles(){const colDef=this.column.getColDef();if(!colDef.cellStyle)return;let styles;if("function"==typeof colDef.cellStyle){const cellStyleParams={column:this.column,value:this.cellCtrl.getValue(),colDef,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};styles=(0,colDef.cellStyle)(cellStyleParams)}else styles=colDef.cellStyle;styles&&this.cellComp.setUserStyles(styles)}applyClassesFromColDef(){const colDef=this.column.getColDef(),cellClassParams={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((className=>this.cellComp.addOrRemoveCssClass(className,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(colDef,cellClassParams),this.staticClasses.length&&this.staticClasses.forEach((className=>this.cellComp.addOrRemoveCssClass(className,!0)))}destroy(){super.destroy()}}class TooltipFeature extends BeanStub{constructor(ctrl,beans){super(),this.ctrl=ctrl,this.beans=beans}setComp(eGui){this.eGui=eGui,this.setupTooltip()}setBrowserTooltip(tooltip){null!=tooltip&&""!=tooltip?this.eGui.setAttribute("title",tooltip):this.eGui.removeAttribute("title")}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var _a,_b,_c,_d;if(null!=this.genericTooltipFeature)return;const parent={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.genericTooltipFeature=this.createManagedBean(new CustomTooltipFeature(parent,null===(_b=(_a=this.ctrl).getTooltipShowDelayOverride)||void 0===_b?void 0:_b.call(_a),null===(_d=(_c=this.ctrl).getTooltipHideDelayOverride)||void 0===_d?void 0:_d.call(_c)),this.beans.context)}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)}getTooltipParams(){const ctrl=this.ctrl,column=ctrl.getColumn?ctrl.getColumn():void 0,colDef=ctrl.getColDef?ctrl.getColDef():void 0,rowNode=ctrl.getRowNode?ctrl.getRowNode():void 0;return{location:ctrl.getLocation(),colDef,column,rowIndex:ctrl.getRowIndex?ctrl.getRowIndex():void 0,node:rowNode,data:rowNode?rowNode.data:void 0,value:this.getTooltipText(),valueFormatted:ctrl.getValueFormatted?ctrl.getValueFormatted():void 0,hideTooltipCallback:()=>this.genericTooltipFeature.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}}var beans_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let Beans=class Beans{postConstruct(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};beans_decorate([Autowired("resizeObserverService")],Beans.prototype,"resizeObserverService",void 0),beans_decorate([Autowired("paginationProxy")],Beans.prototype,"paginationProxy",void 0),beans_decorate([Autowired("context")],Beans.prototype,"context",void 0),beans_decorate([Autowired("columnApi")],Beans.prototype,"columnApi",void 0),beans_decorate([Autowired("gridApi")],Beans.prototype,"gridApi",void 0),beans_decorate([Autowired("gridOptionsService")],Beans.prototype,"gridOptionsService",void 0),beans_decorate([Autowired("expressionService")],Beans.prototype,"expressionService",void 0),beans_decorate([Autowired("environment")],Beans.prototype,"environment",void 0),beans_decorate([Autowired("rowRenderer")],Beans.prototype,"rowRenderer",void 0),beans_decorate([Autowired("templateService")],Beans.prototype,"templateService",void 0),beans_decorate([Autowired("valueService")],Beans.prototype,"valueService",void 0),beans_decorate([Autowired("eventService")],Beans.prototype,"eventService",void 0),beans_decorate([Autowired("columnModel")],Beans.prototype,"columnModel",void 0),beans_decorate([Autowired("headerNavigationService")],Beans.prototype,"headerNavigationService",void 0),beans_decorate([Autowired("navigationService")],Beans.prototype,"navigationService",void 0),beans_decorate([Autowired("columnAnimationService")],Beans.prototype,"columnAnimationService",void 0),beans_decorate([Optional("rangeService")],Beans.prototype,"rangeService",void 0),beans_decorate([Autowired("focusService")],Beans.prototype,"focusService",void 0),beans_decorate([Optional("contextMenuFactory")],Beans.prototype,"contextMenuFactory",void 0),beans_decorate([Autowired("popupService")],Beans.prototype,"popupService",void 0),beans_decorate([Autowired("valueFormatterService")],Beans.prototype,"valueFormatterService",void 0),beans_decorate([Autowired("stylingService")],Beans.prototype,"stylingService",void 0),beans_decorate([Autowired("columnHoverService")],Beans.prototype,"columnHoverService",void 0),beans_decorate([Autowired("userComponentFactory")],Beans.prototype,"userComponentFactory",void 0),beans_decorate([Autowired("userComponentRegistry")],Beans.prototype,"userComponentRegistry",void 0),beans_decorate([Autowired("animationFrameService")],Beans.prototype,"animationFrameService",void 0),beans_decorate([Autowired("dragService")],Beans.prototype,"dragService",void 0),beans_decorate([Autowired("dragAndDropService")],Beans.prototype,"dragAndDropService",void 0),beans_decorate([Autowired("sortController")],Beans.prototype,"sortController",void 0),beans_decorate([Autowired("filterManager")],Beans.prototype,"filterManager",void 0),beans_decorate([Autowired("rowContainerHeightService")],Beans.prototype,"rowContainerHeightService",void 0),beans_decorate([Autowired("frameworkOverrides")],Beans.prototype,"frameworkOverrides",void 0),beans_decorate([Autowired("cellPositionUtils")],Beans.prototype,"cellPositionUtils",void 0),beans_decorate([Autowired("rowPositionUtils")],Beans.prototype,"rowPositionUtils",void 0),beans_decorate([Autowired("selectionService")],Beans.prototype,"selectionService",void 0),beans_decorate([Optional("selectionHandleFactory")],Beans.prototype,"selectionHandleFactory",void 0),beans_decorate([Autowired("rowCssClassCalculator")],Beans.prototype,"rowCssClassCalculator",void 0),beans_decorate([Autowired("rowModel")],Beans.prototype,"rowModel",void 0),beans_decorate([Autowired("ctrlsService")],Beans.prototype,"ctrlsService",void 0),beans_decorate([Autowired("ctrlsFactory")],Beans.prototype,"ctrlsFactory",void 0),beans_decorate([Autowired("agStackComponentsRegistry")],Beans.prototype,"agStackComponentsRegistry",void 0),beans_decorate([Autowired("valueCache")],Beans.prototype,"valueCache",void 0),beans_decorate([Autowired("rowNodeEventThrottle")],Beans.prototype,"rowNodeEventThrottle",void 0),beans_decorate([Autowired("localeService")],Beans.prototype,"localeService",void 0),beans_decorate([Autowired("valueParserService")],Beans.prototype,"valueParserService",void 0),beans_decorate([PostConstruct],Beans.prototype,"postConstruct",null),Beans=beans_decorate([Bean("beans")],Beans);class CellMouseListenerFeature extends Beans{constructor(ctrl,beans,column){super(),this.cellCtrl=ctrl,this.beans=beans,this.column=column}onMouseEvent(eventName,mouseEvent){if(!isStopPropagationForAgGrid(mouseEvent))switch(eventName){case"click":this.onCellClicked(mouseEvent);break;case"mousedown":case"touchstart":this.onMouseDown(mouseEvent);break;case"dblclick":this.onCellDoubleClicked(mouseEvent);break;case"mouseout":this.onMouseOut(mouseEvent);break;case"mouseover":this.onMouseOver(mouseEvent)}}onCellClicked(mouseEvent){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(mouseEvent),void mouseEvent.preventDefault();const{eventService,rangeService,gridOptionsService}=this.beans,isMultiKey=mouseEvent.ctrlKey||mouseEvent.metaKey;rangeService&&isMultiKey&&rangeService.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&rangeService.intersectLastRange(!0);const cellClickedEvent=this.cellCtrl.createEvent(mouseEvent,Events.EVENT_CELL_CLICKED);eventService.dispatchEvent(cellClickedEvent);const colDef=this.column.getColDef();colDef.onCellClicked&&window.setTimeout((()=>colDef.onCellClicked(cellClickedEvent)),0);!((gridOptionsService.is("singleClickEdit")||colDef.singleClickEdit)&&!gridOptionsService.is("suppressClickEdit"))||mouseEvent.shiftKey&&0!=(null==rangeService?void 0:rangeService.getCellRanges().length)||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!isIOSUserAgent()||isEventSupported("dblclick"))return!1;const nowMillis=(new Date).getTime(),res=nowMillis-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=nowMillis,res}onCellDoubleClicked(mouseEvent){const colDef=this.column.getColDef(),cellDoubleClickedEvent=this.cellCtrl.createEvent(mouseEvent,Events.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(cellDoubleClickedEvent),"function"==typeof colDef.onCellDoubleClicked&&window.setTimeout((()=>colDef.onCellDoubleClicked(cellDoubleClickedEvent)),0);!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,mouseEvent)}onMouseDown(mouseEvent){const{ctrlKey,metaKey,shiftKey}=mouseEvent,target=mouseEvent.target,{cellCtrl,beans}=this,{eventService,rangeService,focusService}=beans;if(this.isRightClickInExistingRange(mouseEvent))return;const ranges=rangeService&&0!=rangeService.getCellRanges().length;if(!shiftKey||!ranges){const forceBrowserFocus=isBrowserSafari()&&!cellCtrl.isEditing()&&!isFocusableFormField(target);cellCtrl.focusCell(forceBrowserFocus)}if(shiftKey&&ranges&&!focusService.isCellFocused(cellCtrl.getCellPosition())){mouseEvent.preventDefault();const focusedCellPosition=focusService.getFocusedCell();if(focusedCellPosition){const{column,rowIndex,rowPinned}=focusedCellPosition,focusedRowCtrl=beans.rowRenderer.getRowByPosition({rowIndex,rowPinned}),focusedCellCtrl=null==focusedRowCtrl?void 0:focusedRowCtrl.getCellCtrl(column);(null==focusedCellCtrl?void 0:focusedCellCtrl.isEditing())&&focusedCellCtrl.stopEditing(),focusService.setFocusedCell({column,rowIndex,rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(target)){if(rangeService){const thisCell=this.cellCtrl.getCellPosition();if(shiftKey)rangeService.extendLatestRangeToCell(thisCell);else{const isMultiKey=ctrlKey||metaKey;rangeService.setRangeToCell(thisCell,isMultiKey)}}eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,Events.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(mouseEvent){const{rangeService}=this.beans;if(rangeService){const cellInRange=rangeService.isCellInAnyRange(this.cellCtrl.getCellPosition()),isRightClick=2===mouseEvent.button||mouseEvent.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(cellInRange&&isRightClick)return!0}return!1}containsWidget(target){return isElementChildOfClass(target,"ag-selection-checkbox",3)}onMouseOut(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const cellMouseOutEvent=this.cellCtrl.createEvent(mouseEvent,Events.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(cellMouseOutEvent),this.beans.columnHoverService.clearMouseOver()}onMouseOver(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const cellMouseOverEvent=this.cellCtrl.createEvent(mouseEvent,Events.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(cellMouseOverEvent),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const eGui=this.cellCtrl.getGui(),cellContainsTarget=eGui.contains(e.target),cellContainsRelatedTarget=eGui.contains(e.relatedTarget);return cellContainsTarget&&cellContainsRelatedTarget}destroy(){}}class CellKeyboardListenerFeature extends BeanStub{constructor(ctrl,beans,column,rowNode,rowCtrl){super(),this.cellCtrl=ctrl,this.beans=beans,this.rowNode=rowNode,this.rowCtrl=rowCtrl}setComp(eGui){this.eGui=eGui}onKeyDown(event){const key=event.key;switch(key){case KeyCode.ENTER:this.onEnterKeyDown(event);break;case KeyCode.F2:this.onF2KeyDown(event);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(event);break;case KeyCode.TAB:this.onTabKeyDown(event);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyDown(key,event);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyDown(event,key)}}onNavigationKeyDown(event,key){this.cellCtrl.isEditing()||(event.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(event):this.beans.navigationService.navigateToNextCell(event,key,this.cellCtrl.getCellPosition(),!0),event.preventDefault())}onShiftRangeSelect(event){if(!this.beans.rangeService)return;const endCell=this.beans.rangeService.extendLatestRangeInDirection(event);endCell&&this.beans.navigationService.ensureCellVisible(endCell)}onTabKeyDown(event){this.beans.navigationService.onTabKeyDown(this.cellCtrl,event)}onBackspaceOrDeleteKeyDown(key,event){const{cellCtrl,beans,rowNode}=this,{gridOptionsService,rangeService,eventService}=beans;cellCtrl.isEditing()||(eventService.dispatchEvent({type:Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),isDeleteKey(key,gridOptionsService.is("enableCellEditingOnBackspace"))?rangeService&&gridOptionsService.is("enableRangeSelection")?rangeService.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):cellCtrl.isCellEditable()&&rowNode.setDataValue(cellCtrl.getColumn(),null,"cellClear"):cellCtrl.startRowOrCellEdit(key,event),eventService.dispatchEvent({type:Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){const key=e.shiftKey?KeyCode.UP:KeyCode.DOWN;this.beans.navigationService.navigateToNextCell(null,key,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(event){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(KeyCode.F2,event)}onEscapeKeyDown(event){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(event){if(event.target!==this.eGui||this.cellCtrl.isEditing())return;const key=event.key;" "===key?this.onSpaceKeyDown(event):(this.cellCtrl.startRowOrCellEdit(key,event),event.preventDefault())}onSpaceKeyDown(event){const{gridOptionsService}=this.beans;if(!this.cellCtrl.isEditing()&&gridOptionsService.isRowSelection()){const currentSelection=this.rowNode.isSelected(),newSelection=!currentSelection;if(newSelection||!gridOptionsService.is("suppressRowDeselection")){const groupSelectsFiltered=this.beans.gridOptionsService.is("groupSelectsFiltered"),updatedCount=this.rowNode.setSelectedParams({newValue:newSelection,rangeSelect:event.shiftKey,groupSelectsFiltered,event,source:"spaceKey"});void 0===currentSelection&&0===updatedCount&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:event.shiftKey,groupSelectsFiltered,event,source:"spaceKey"})}}event.preventDefault()}destroy(){super.destroy()}}var dndSourceComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DndSourceComp extends Component{constructor(rowNode,column,eCell){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=rowNode,this.column=column,this.eCell=eCell}postConstruct(){this.getGui().appendChild(createIconNoSpan("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(dragEvent){const providedOnRowDrag=this.column.getColDef().dndSourceOnRowDrag;dragEvent.dataTransfer.setDragImage(this.eCell,0,0);const defaultOnRowDrag=()=>{try{const jsonData=JSON.stringify(this.rowNode.data);dragEvent.dataTransfer.setData("application/json",jsonData),dragEvent.dataTransfer.setData("text/plain",jsonData)}catch(e){}};if(providedOnRowDrag){providedOnRowDrag({rowNode:this.rowNode,dragEvent,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})}else defaultOnRowDrag()}checkVisibility(){const visible=this.column.isDndSource(this.rowNode);this.setDisplayed(visible)}}dndSourceComp_decorate([PostConstruct],DndSourceComp.prototype,"postConstruct",null);let cellCtrl_instanceIdSequence=0;class CellCtrl extends BeanStub{constructor(column,rowNode,beans,rowCtrl){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=column,this.rowNode=rowNode,this.beans=beans,this.rowCtrl=rowCtrl,this.instanceId=column.getId()+"-"+cellCtrl_instanceIdSequence++;const colDef=this.column.getColDef();this.colIdSanitised=escapeString(this.column.getId()),this.beans.gridOptionsService.is("suppressCellFocus")||(this.tabIndex=-1),this.isCellRenderer=null!=colDef.cellRenderer||null!=colDef.cellRendererSelector,this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!0)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new CellPositionFeature(this,this.beans),this.addDestroyFunc((()=>{var _a;null===(_a=this.cellPositionFeature)||void 0===_a||_a.destroy(),this.cellPositionFeature=null})),this.cellCustomStyleFeature=new CellCustomStyleFeature(this,this.beans),this.addDestroyFunc((()=>{var _a;null===(_a=this.cellCustomStyleFeature)||void 0===_a||_a.destroy(),this.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new CellMouseListenerFeature(this,this.beans,this.column),this.addDestroyFunc((()=>{var _a;null===(_a=this.cellMouseListenerFeature)||void 0===_a||_a.destroy(),this.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new CellKeyboardListenerFeature(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((()=>{var _a;null===(_a=this.cellKeyboardListenerFeature)||void 0===_a||_a.destroy(),this.cellKeyboardListenerFeature=null}));this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection")&&(this.cellRangeFeature=new CellRangeFeature(this.beans,this),this.addDestroyFunc((()=>{var _a;null===(_a=this.cellRangeFeature)||void 0===_a||_a.destroy(),this.cellRangeFeature=null}))),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){const tooltipCtrl={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const colDef=this.column.getColDef(),data=this.rowNode.data;if(colDef.tooltipField&&exists(data))return getValueUsingField(data,colDef.tooltipField,this.column.isTooltipFieldContainsDots());const valueGetter=colDef.tooltipValueGetter;return valueGetter?valueGetter({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted};this.tooltipFeature=new TooltipFeature(tooltipCtrl,this.beans),this.addDestroyFunc((()=>{var _a;null===(_a=this.tooltipFeature)||void 0===_a||_a.destroy(),this.tooltipFeature=null}))}setComp(comp,eGui,eCellWrapper,printLayout,startEditing){var _a,_b,_c,_d;this.cellComp=comp,this.eGui=eGui,this.printLayout=printLayout,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),eCellWrapper&&this.setupAutoHeight(eCellWrapper),this.setAriaColIndex(),null===(_a=this.cellPositionFeature)||void 0===_a||_a.setComp(eGui),null===(_b=this.cellCustomStyleFeature)||void 0===_b||_b.setComp(comp),null===(_c=this.tooltipFeature)||void 0===_c||_c.setComp(eGui),null===(_d=this.cellKeyboardListenerFeature)||void 0===_d||_d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(comp,eGui),startEditing&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((func=>func())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(eCellWrapper){if(!this.column.isAutoHeight())return;const eParentCell=eCellWrapper.parentElement,minRowHeight=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,measureHeight=timesCalled=>{if(this.editing)return;if(!this.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=getElementSize(eParentCell),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=eCellWrapper.offsetHeight+extraHeight;if(timesCalled<5){const doc=this.beans.gridOptionsService.getDocument();if(!doc||!doc.contains(eCellWrapper)||0==autoHeight)return void this.beans.frameworkOverrides.setTimeout((()=>measureHeight(timesCalled+1)),0)}const newHeight=Math.max(autoHeight,minRowHeight);this.rowNode.setRowAutoHeight(newHeight,this.column)},listener=()=>measureHeight(0);listener();const destroyResizeObserver=this.beans.resizeObserverService.observeResize(eCellWrapper,listener);this.addDestroyFunc((()=>{destroyResizeObserver(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}getIsCellRenderer(){return this.isCellRenderer}getValueToDisplay(){return null!=this.valueFormatted?this.valueFormatted:this.value}showValue(forceNewCellRendererInstance=!1){const valueToDisplay=this.getValueToDisplay();let compDetails;if(this.isCellRenderer){const params=this.createCellRendererParams();compDetails=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),params)}this.cellComp.setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance),this.refreshHandle()}setupControlComps(){const colDef=this.column.getColDef();this.includeSelection=this.isIncludeControl(colDef.checkboxSelection),this.includeRowDrag=this.isIncludeControl(colDef.rowDrag),this.includeDndSource=this.isIncludeControl(colDef.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(value){return!(null!=this.rowNode.rowPinned)&&("function"==typeof value||!0===value)}refreshShouldDestroy(){const colDef=this.column.getColDef(),selectionChanged=this.includeSelection!=this.isIncludeControl(colDef.checkboxSelection),rowDragChanged=this.includeRowDrag!=this.isIncludeControl(colDef.rowDrag),dndSourceChanged=this.includeDndSource!=this.isIncludeControl(colDef.dndSource);return selectionChanged||rowDragChanged||dndSourceChanged}startEditing(key=null,cellStartedEdit=!1,event=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push((()=>{this.startEditing(key,cellStartedEdit,event)}));const editorParams=this.createCellEditorParams(key,cellStartedEdit),colDef=this.column.getColDef(),compDetails=this.beans.userComponentFactory.getCellEditorDetails(colDef,editorParams),popup=null!=(null==compDetails?void 0:compDetails.popupFromSelector)?compDetails.popupFromSelector:!!colDef.cellEditorPopup,position=null!=(null==compDetails?void 0:compDetails.popupPositionFromSelector)?compDetails.popupPositionFromSelector:colDef.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(compDetails,popup,position);const e=this.createEvent(event,Events.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(e)}setEditing(editing){this.editing!==editing&&(this.editing=editing,this.refreshHandle())}stopRowOrCellEdit(cancel=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(cancel):this.stopEditing(cancel)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(cancel){const noValueResult={newValueExists:!1};if(cancel)return noValueResult;const cellEditor=this.cellComp.getCellEditor();if(!cellEditor)return noValueResult;if(cellEditor.isCancelAfterEnd&&cellEditor.isCancelAfterEnd())return noValueResult;return{newValue:cellEditor.getValue(),newValueExists:!0}}saveNewValue(oldValue,newValue){if(newValue===oldValue)return!1;this.suppressRefreshCell=!0;const valueChanged=this.rowNode.setDataValue(this.column,newValue,"edit");return this.suppressRefreshCell=!1,valueChanged}stopEditing(cancel=!1){if(!this.editing)return!1;const{newValue,newValueExists}=this.takeValueFromCellEditor(cancel),oldValue=this.rowNode.getValueFromValueService(this.column);let valueChanged=!1;return newValueExists&&(valueChanged=this.saveNewValue(oldValue,newValue)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(oldValue,newValue,!cancel&&!!valueChanged),valueChanged}dispatchEditingStoppedEvent(oldValue,newValue,valueChanged){const editingStoppedEvent=Object.assign(Object.assign({},this.createEvent(null,Events.EVENT_CELL_EDITING_STOPPED)),{oldValue,newValue,valueChanged});this.beans.eventService.dispatchEvent(editingStoppedEvent)}createCellEditorParams(key,cellStartedEdit){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:key,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:value=>this.beans.valueService.setValue(this.rowNode,this.column,value),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)=>this.registerRowDragger(rowDraggerElement,dragStartPixels,suppressVisibilityChange)}}parseValue(newValue){return this.beans.valueParserService.parseValue(this.column,this.rowNode,newValue,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const cellEditor=this.cellComp.getCellEditor();cellEditor&&cellEditor.focusOut&&cellEditor.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const cellEditor=this.cellComp.getCellEditor();cellEditor&&cellEditor.focusIn?cellEditor.focusIn():this.focusCell(!0)}onCellChanged(event){if(!this.cellComp)return;event.column===this.column&&this.refreshCell({})}refreshCell(params){var _a,_b,_c;if(this.suppressRefreshCell||this.editing)return;if(!this.cellComp)return;const colDef=this.column.getColDef(),newData=null!=params&&!!params.newData,suppressFlash=null!=params&&!!params.suppressFlash||!!colDef.suppressCellFlash,noValueProvided=null==colDef.field&&null==colDef.valueGetter&&null==colDef.showRowGroup,forceRefresh=params&&params.forceRefresh||noValueProvided||newData,valuesDifferent=this.updateAndFormatValue();if(forceRefresh||valuesDifferent){this.showValue(newData);const processingFilterChange=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!suppressFlash&&!processingFilterChange&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||colDef.enableCellChangeFlash)&&this.flashCell(),null===(_a=this.cellCustomStyleFeature)||void 0===_a||_a.applyUserStyles(),null===(_b=this.cellCustomStyleFeature)||void 0===_b||_b.applyClassesFromColDef()}this.refreshToolTip(),null===(_c=this.cellCustomStyleFeature)||void 0===_c||_c.applyCellClassRules()}stopEditingAndFocus(suppressNavigateAfterEdit=!1,shiftKey=!1){this.stopRowOrCellEdit(),this.focusCell(!0),suppressNavigateAfterEdit||this.navigateAfterEdit(shiftKey)}navigateAfterEdit(shiftKey){if(this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")){const key=shiftKey?KeyCode.UP:KeyCode.DOWN;this.beans.navigationService.navigateToNextCell(null,key,this.getCellPosition(),!1)}}flashCell(delays){const flashDelay=delays&&delays.flashDelay,fadeDelay=delays&&delays.fadeDelay;this.animateCell("data-changed",flashDelay,fadeDelay)}animateCell(cssName,flashDelay,fadeDelay){var _a,_b;if(!this.cellComp)return;const fullName=`ag-cell-${cssName}`,animationFullName=`ag-cell-${cssName}-animation`,{gridOptionsService}=this.beans;flashDelay||(flashDelay=null!==(_a=gridOptionsService.getNum("cellFlashDelay"))&&void 0!==_a?_a:500),exists(fadeDelay)||(fadeDelay=null!==(_b=gridOptionsService.getNum("cellFadeDelay"))&&void 0!==_b?_b:1e3),this.cellComp.addOrRemoveCssClass(fullName,!0),this.cellComp.addOrRemoveCssClass(animationFullName,!1),window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(fullName,!1),this.cellComp.addOrRemoveCssClass(animationFullName,!0),this.eGui.style.transition=`background-color ${fadeDelay}ms`,window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(animationFullName,!1),this.eGui.style.transition="")}),fadeDelay))}),flashDelay)}onFlashCells(event){if(!this.cellComp)return;const cellId=this.beans.cellPositionUtils.createId(this.getCellPosition());event.cells[cellId]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(value){var _a;return null!==(_a=this.callValueFormatter(value))&&void 0!==_a?_a:value}callValueFormatter(value){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,value)}updateAndFormatValue(force=!1){const oldValue=this.value,oldValueFormatted=this.valueFormatted;this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value);return!!force||(!this.valuesAreEqual(oldValue,this.value)||this.valueFormatted!=oldValueFormatted)}valuesAreEqual(val1,val2){const colDef=this.column.getColDef();return colDef.equals?colDef.equals(val1,val2):val1===val2}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const element=this.getGui();this.beans.gridOptionsService.setDomData(element,CellCtrl.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((()=>this.beans.gridOptionsService.setDomData(element,CellCtrl.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(domEvent,eventType){return{type:eventType,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:domEvent,rowIndex:this.rowNode.rowIndex}}processCharacter(event){var _a;null===(_a=this.cellKeyboardListenerFeature)||void 0===_a||_a.processCharacter(event)}onKeyDown(event){var _a;null===(_a=this.cellKeyboardListenerFeature)||void 0===_a||_a.onKeyDown(event)}onMouseEvent(eventName,mouseEvent){var _a;null===(_a=this.cellMouseListenerFeature)||void 0===_a||_a.onMouseEvent(eventName,mouseEvent)}getGui(){return this.eGui}refreshToolTip(){var _a;null===(_a=this.tooltipFeature)||void 0===_a||_a.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var _a;this.cellComp&&(null===(_a=this.cellPositionFeature)||void 0===_a||_a.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&this.setAriaColIndex()}setAriaColIndex(){const colIdx=this.beans.columnModel.getAriaColumnIndex(this.column);setAriaColIndex(this.getGui(),colIdx)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var _a;return null===(_a=this.cellPositionFeature)||void 0===_a?void 0:_a.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(htmlElement){this.eGui.appendChild(htmlElement)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(key,event=null){this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(key,this):this.startEditing(key,!0,event))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(forceBrowserFocus=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const firstRightPinned=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",firstRightPinned)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const lastLeftPinned=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",lastLeftPinned)}onCellFocused(event){if(this.beans.gridOptionsService.is("suppressCellFocus"))return;const cellFocused=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(cellFocused&&(null==event?void 0:event.forceBrowserFocus)&&(this.focusEventToRestore=event));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",cellFocused),cellFocused&&event&&event.forceBrowserFocus){this.cellComp.getFocusableElement().focus({preventScroll:!!event.preventScrollOnBrowserFocus})}const fullRowEdit="fullRow"===this.beans.gridOptionsService.get("editType");cellFocused||fullRowEdit||!this.editing||this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:makeNull(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const autoHeight=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",autoHeight),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!autoHeight)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const isHovered=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",isHovered)}onColDefChanged(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const value=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",value)}dispatchCellContextMenuEvent(event){const colDef=this.column.getColDef(),cellContextMenuEvent=this.createEvent(event,Events.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(cellContextMenuEvent),colDef.onCellContextMenu&&window.setTimeout((()=>colDef.onCellContextMenu(cellContextMenuEvent)),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const cbSelectionComponent=new CheckboxSelectionComponent;return this.beans.context.createBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.rowNode,column:this.column}),cbSelectionComponent}createDndSource(){const dndSourceComp=new DndSourceComp(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(dndSourceComp),dndSourceComp}registerRowDragger(customElement,dragStartPixels,suppressVisibilityChange){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(customElement,dragStartPixels);const newComp=this.createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange);newComp&&(this.customRowDragComp=newComp,this.addDestroyFunc((()=>{this.beans.context.destroyBean(newComp),this.customRowDragComp=null})))}createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange){const pagination=this.beans.gridOptionsService.is("pagination"),rowDragManaged=this.beans.gridOptionsService.is("rowDragManaged"),clientSideRowModelActive=this.beans.gridOptionsService.isRowModelType("clientSide");if(rowDragManaged){if(!clientSideRowModelActive)return void function_doOnce((()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")),"CellComp.addRowDragging");if(pagination)return void function_doOnce((()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination")),"CellComp.addRowDragging")}const rowDragComp=new RowDragComp((()=>this.value),this.rowNode,this.column,customElement,dragStartPixels,suppressVisibilityChange);return this.beans.context.createBean(rowDragComp),rowDragComp}}var RowType;CellCtrl.DOM_DATA_KEY_CELL_CTRL="cellCtrl",function(RowType){RowType.Normal="Normal",RowType.FullWidth="FullWidth",RowType.FullWidthLoading="FullWidthLoading",RowType.FullWidthGroup="FullWidthGroup",RowType.FullWidthDetail="FullWidthDetail"}(RowType||(RowType={}));let rowCtrl_instanceIdSequence=0;class RowCtrl extends BeanStub{constructor(rowNode,beans,animateIn,useAnimationFrameForCreate,printLayout){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=beans,this.gridOptionsService=beans.gridOptionsService,this.rowNode=rowNode,this.paginationPage=beans.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=useAnimationFrameForCreate,this.printLayout=printLayout,this.instanceId=rowNode.id+"-"+rowCtrl_instanceIdSequence++,this.rowId=escapeString(rowNode.id),this.initRowBusinessKey(),this.rowFocused=beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(animateIn),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const businessKey=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=escapeString(businessKey)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(rowComp,element,containerType){const gui={rowComp,element,containerType};this.allRowGuis.push(gui),containerType===RowContainerType.LEFT?this.leftGui=gui:containerType===RowContainerType.RIGHT?this.rightGui=gui:containerType===RowContainerType.FULL_WIDTH?this.fullWidthGui=gui:this.centerGui=gui,this.initialiseRowComp(gui),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(containerType){switch(this.allRowGuis=this.allRowGuis.filter((rowGui=>rowGui.containerType!==containerType)),containerType){case RowContainerType.LEFT:this.leftGui=void 0;break;case RowContainerType.RIGHT:this.rightGui=void 0;break;case RowContainerType.FULL_WIDTH:this.fullWidthGui=void 0;break;case RowContainerType.CENTER:this.centerGui=void 0}}isCacheable(){return this.rowType===RowType.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(cached){const displayValue=cached?"none":"";this.allRowGuis.forEach((rg=>rg.element.style.display=displayValue))}initialiseRowComp(gui){const gos=this.gridOptionsService;this.listenOnDomOrder(gui),this.onRowHeightChanged(gui),this.updateRowIndexes(gui),this.setFocusedClasses(gui),this.setStylesFromGridOptions(!1,gui),gos.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(gui),this.updateColumnLists(!this.useAnimationFrameForCreate);const comp=gui.rowComp;this.getInitialRowClasses(gui.containerType).forEach((name=>comp.addOrRemoveCssClass(name,!0))),this.executeSlideAndFadeAnimations(gui),this.rowNode.group&&setAriaExpanded(gui.element,1==this.rowNode.expanded),this.setRowCompRowId(comp),this.setRowCompRowBusinessKey(comp),gos.setDomData(gui.element,RowCtrl.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((()=>gos.setDomData(gui.element,RowCtrl.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,gui.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(gui.element),this.isFullWidth()&&this.setupFullWidth(gui),gos.is("rowDragEntireRow")&&this.addRowDraggerToRow(gui),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&gui.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(comp){null!=this.businessKeySanitised&&comp.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(comp){this.rowId=escapeString(this.rowNode.id),null!=this.rowId&&comp.setRowId(this.rowId)}executeSlideAndFadeAnimations(gui){const{containerType}=gui;this.slideInAnimation[containerType]&&(executeNextVMTurn((()=>{this.onTopChanged()})),this.slideInAnimation[containerType]=!1);this.fadeInAnimation[containerType]&&(executeNextVMTurn((()=>{gui.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[containerType]=!1)}addRowDraggerToRow(gui){if(this.gridOptionsService.is("enableRangeSelection"))return void function_doOnce((()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");const translate=this.beans.localeService.getLocaleTextFunc(),rowDragComp=new RowDragComp((()=>`1 ${translate("rowDragRow","row")}`),this.rowNode,void 0,gui.element,void 0,!0);this.createManagedBean(rowDragComp,this.beans.context)}setupFullWidth(gui){const pinned=this.getPinnedForContainer(gui.containerType),params=this.createFullWidthParams(gui.element,pinned);if(this.rowType==RowType.FullWidthDetail&&!ModuleRegistry.__assertRegistered(ModuleNames.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let compDetails;switch(this.rowType){case RowType.FullWidthDetail:compDetails=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(params);break;case RowType.FullWidthGroup:compDetails=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(params);break;case RowType.FullWidthLoading:compDetails=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(params);break;default:compDetails=this.beans.userComponentFactory.getFullWidthCellRendererDetails(params)}gui.rowComp.showFullWidth(compDetails)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var _a,_b;return null===(_b=null===(_a=this.fullWidthGui)||void 0===_a?void 0:_a.rowComp)||void 0===_b?void 0:_b.getFullWidthCellRenderer()}getCellElement(column){const cellCtrl=this.getCellCtrl(column);return cellCtrl?cellCtrl.getGui():null}executeProcessRowPostCreateFunc(){const func=this.gridOptionsService.getCallback("processRowPostCreate");if(!func||!this.areAllContainersReady())return;func({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const isLeftReady=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),isCenterReady=!!this.centerGui,isRightReady=!!this.rightGui||!this.beans.columnModel.isPinningRight();return isLeftReady&&isCenterReady&&isRightReady}setRowType(){const isStub=this.rowNode.stub,isFullWidthCell=this.rowNode.isFullWidthCell(),isDetailCell=this.beans.doingMasterDetail&&this.rowNode.detail,pivotMode=this.beans.columnModel.isPivotMode(),isFullWidthGroup=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(pivotMode);this.rowType=isStub?RowType.FullWidthLoading:isDetailCell?RowType.FullWidthDetail:isFullWidthCell?RowType.FullWidth:isFullWidthGroup?RowType.FullWidthGroup:RowType.Normal}updateColumnLists(suppressAnimationFrame=!1,useFlushSync=!1){if(this.isFullWidth())return;suppressAnimationFrame||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(useFlushSync):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(prev,cols,pinned=null){const res={list:[],map:{}},addCell=(colInstanceId,cellCtrl)=>{res.list.push(cellCtrl),res.map[colInstanceId]=cellCtrl};return cols.forEach((col=>{const colInstanceId=col.getInstanceId();let cellCtrl=prev.map[colInstanceId];cellCtrl||(cellCtrl=new CellCtrl(col,this.rowNode,this.beans,this)),addCell(colInstanceId,cellCtrl)})),prev.list.forEach((prevCellCtrl=>{if(null!=res.map[prevCellCtrl.getColumn().getInstanceId()])return;this.isCellEligibleToBeRemoved(prevCellCtrl,pinned)?prevCellCtrl.destroy():addCell(prevCellCtrl.getColumn().getInstanceId(),prevCellCtrl)})),res}updateColumnListsImpl(useFlushSync){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(useFlushSync)}setCellCtrls(useFlushSync){this.allRowGuis.forEach((item=>{const cellControls=this.getCellCtrlsForContainer(item.containerType);item.rowComp.setCellCtrls(cellControls,useFlushSync)}))}getCellCtrlsForContainer(containerType){switch(containerType){case RowContainerType.LEFT:return this.leftCellCtrls.list;case RowContainerType.RIGHT:return this.rightCellCtrls.list;case RowContainerType.FULL_WIDTH:return[];case RowContainerType.CENTER:return this.centerCellCtrls.list;default:throw new Error(`Unhandled case: ${containerType}`)}}createAllCellCtrls(){const columnModel=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,columnModel.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const centerCols=columnModel.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,centerCols);const leftCols=columnModel.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,leftCols,"left");const rightCols=columnModel.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,rightCols,"right")}}isCellEligibleToBeRemoved(cellCtrl,nextContainerPinned){if(cellCtrl.getColumn().getPinned()!=nextContainerPinned)return true;const editing=cellCtrl.isEditing(),focused=this.beans.focusService.isCellFocused(cellCtrl.getCellPosition());if(editing||focused){const column=cellCtrl.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(column)>=0)}return true}getDomOrder(){return this.gridOptionsService.is("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(gui){const listener=()=>{gui.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",listener),this.addManagedPropertyListener("ensureDomOrder",listener)}setAnimateFlags(animateIn){if(this.isSticky()||!animateIn)return;const oldRowTopExists=exists(this.rowNode.oldRowTop),pinningLeft=this.beans.columnModel.isPinningLeft(),pinningRight=this.beans.columnModel.isPinningRight();if(oldRowTopExists){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=pinningLeft,this.slideInAnimation.right=pinningRight}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=pinningLeft,this.fadeInAnimation.right=pinningRight}}isEditing(){return this.editingRow}stopRowEditing(cancel){this.stopEditing(cancel)}isFullWidth(){return this.rowType!==RowType.Normal}getRowType(){return this.rowType}refreshFullWidth(){const tryRefresh=(gui,pinned)=>{if(!gui)return!0;const cellRenderer=gui.rowComp.getFullWidthCellRenderer();if(!cellRenderer)return!1;if(!cellRenderer.refresh)return!1;const params=this.createFullWidthParams(gui.element,pinned);return cellRenderer.refresh(params)},fullWidthSuccess=tryRefresh(this.fullWidthGui,null),centerSuccess=tryRefresh(this.centerGui,null),leftSuccess=tryRefresh(this.leftGui,"left"),rightSuccess=tryRefresh(this.rightGui,"right");return fullWidthSuccess&&centerSuccess&&leftSuccess&&rightSuccess}addListeners(){this.addManagedListener(this.rowNode,RowNode.EVENT_HEIGHT_CHANGED,(()=>this.onRowHeightChanged())),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_SELECTED,(()=>this.onRowSelected())),this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,RowNode.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,RowNode.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const eventService=this.beans.eventService;this.addManagedListener(eventService,Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(eventService,Events.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(eventService,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(eventService,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(eventService,Events.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,RowNode.EVENT_ROW_INDEX_CHANGED,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onRowIndexChanged()))})),this.addManagedListener(this.rowNode,RowNode.EVENT_CELL_CHANGED,(event=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellChanged(event)))}))}onRowNodeDataChanged(event){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.refreshCell({suppressFlash:!event.update,newData:!event.update}))),this.allRowGuis.forEach((gui=>{this.setRowCompRowId(gui.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(gui.rowComp)})),this.onRowSelected(),this.postProcessCss()}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const highlighted=this.rowNode.highlighted;this.allRowGuis.forEach((gui=>{const aboveOn=highlighted===RowHighlightPosition.Above,belowOn=highlighted===RowHighlightPosition.Below;gui.rowComp.addOrRemoveCssClass("ag-row-highlight-above",aboveOn),gui.rowComp.addOrRemoveCssClass("ag-row-highlight-below",belowOn)}))}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const dragging=this.rowNode.dragging;this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-dragging",dragging)))}updateExpandedCss(){const expandable=this.rowNode.isExpandable(),expanded=1==this.rowNode.expanded;this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-group",expandable),gui.rowComp.addOrRemoveCssClass("ag-row-group-expanded",expandable&&expanded),gui.rowComp.addOrRemoveCssClass("ag-row-group-contracted",expandable&&!expanded),setAriaExpanded(gui.element,expandable&&expanded)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(keyboardEvent){const currentFullWidthComp=this.allRowGuis.find((c=>c.element.contains(keyboardEvent.target)));if(!((currentFullWidthComp?currentFullWidthComp.element:null)===keyboardEvent.target))return;const node=this.rowNode,lastFocusedCell=this.beans.focusService.getFocusedCell(),cellPosition={rowIndex:node.rowIndex,rowPinned:node.rowPinned,column:lastFocusedCell&&lastFocusedCell.column};this.beans.navigationService.navigateToNextCell(keyboardEvent,keyboardEvent.key,cellPosition,!0),keyboardEvent.preventDefault()}onTabKeyDown(keyboardEvent){if(keyboardEvent.defaultPrevented||isStopPropagationForAgGrid(keyboardEvent))return;const currentFullWidthComp=this.allRowGuis.find((c=>c.element.contains(keyboardEvent.target))),currentFullWidthContainer=currentFullWidthComp?currentFullWidthComp.element:null,isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target;let nextEl=null;isFullWidthContainerFocused||(nextEl=this.beans.focusService.findNextFocusableElement(currentFullWidthContainer,!1,keyboardEvent.shiftKey)),(this.isFullWidth()&&isFullWidthContainerFocused||!nextEl)&&this.beans.navigationService.onTabKeyDown(this,keyboardEvent)}onFullWidthRowFocused(event){var _a;const node=this.rowNode,isFocused=!!event&&(this.isFullWidth()&&event.rowIndex===node.rowIndex&&event.rowPinned==node.rowPinned),element=this.fullWidthGui?this.fullWidthGui.element:null===(_a=this.centerGui)||void 0===_a?void 0:_a.element;element&&(element.classList.toggle("ag-full-width-focus",isFocused),isFocused&&element.focus({preventScroll:!0}))}refreshCell(cellCtrl){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,cellCtrl),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,cellCtrl),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,cellCtrl),this.updateColumnLists()}removeCellCtrl(prev,cellCtrlToRemove){const res={list:[],map:{}};return prev.list.forEach((cellCtrl=>{cellCtrl!==cellCtrlToRemove&&(res.list.push(cellCtrl),res.map[cellCtrl.getInstanceId()]=cellCtrl)})),res}onMouseEvent(eventName,mouseEvent){switch(eventName){case"dblclick":this.onRowDblClick(mouseEvent);break;case"click":this.onRowClick(mouseEvent);break;case"touchstart":case"mousedown":this.onRowMouseDown(mouseEvent)}}createRowEvent(type,domEvent){return{type,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:domEvent}}createRowEventWithSource(type,domEvent){const event=this.createRowEvent(type,domEvent);return event.source=this,event}onRowDblClick(mouseEvent){if(isStopPropagationForAgGrid(mouseEvent))return;const agEvent=this.createRowEventWithSource(Events.EVENT_ROW_DOUBLE_CLICKED,mouseEvent);this.beans.eventService.dispatchEvent(agEvent)}onRowMouseDown(mouseEvent){if(this.lastMouseDownOnDragger=isElementChildOfClass(mouseEvent.target,"ag-row-drag",3),!this.isFullWidth())return;const node=this.rowNode,columnModel=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:node.rowIndex,column:columnModel.getAllDisplayedColumns()[0],rowPinned:node.rowPinned,forceBrowserFocus:!0})}onRowClick(mouseEvent){if(isStopPropagationForAgGrid(mouseEvent)||this.lastMouseDownOnDragger)return;const agEvent=this.createRowEventWithSource(Events.EVENT_ROW_CLICKED,mouseEvent);this.beans.eventService.dispatchEvent(agEvent);const isMultiKey=mouseEvent.ctrlKey||mouseEvent.metaKey,isShiftKey=mouseEvent.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const multiSelectOnClick=this.gridOptionsService.is("rowMultiSelectWithClick"),rowDeselectionWithCtrl=!this.gridOptionsService.is("suppressRowDeselection"),source="rowClicked";if(this.rowNode.isSelected())multiSelectOnClick?this.rowNode.setSelectedParams({newValue:!1,event:mouseEvent,source}):isMultiKey?rowDeselectionWithCtrl&&this.rowNode.setSelectedParams({newValue:!1,event:mouseEvent,source}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!isShiftKey,rangeSelect:isShiftKey,event:mouseEvent,source});else{const clearSelection=!multiSelectOnClick&&!isMultiKey;this.rowNode.setSelectedParams({newValue:!0,clearSelection,rangeSelect:isShiftKey,event:mouseEvent,source})}}setupDetailRowAutoHeight(eDetailGui){if(this.rowType!==RowType.FullWidthDetail)return;if(!this.gridOptionsService.is("detailRowAutoHeight"))return;const checkRowSizeFunc=()=>{const clientHeight=eDetailGui.clientHeight;if(null!=clientHeight&&clientHeight>0){const updateRowHeightFunc=()=>{this.rowNode.setRowHeight(clientHeight),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};this.beans.frameworkOverrides.setTimeout(updateRowHeightFunc,0)}},resizeObserverDestroyFunc=this.beans.resizeObserverService.observeResize(eDetailGui,checkRowSizeFunc);this.addDestroyFunc(resizeObserverDestroyFunc),checkRowSizeFunc()}createFullWidthParams(eRow,pinned){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:eRow,eParentOfValue:eRow,pinned,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)=>this.addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)}}addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value="",suppressVisibilityChange){if(!this.isFullWidth())return;const rowDragComp=new RowDragComp((()=>value),this.rowNode,void 0,rowDraggerElement,dragStartPixels,suppressVisibilityChange);this.createManagedBean(rowDragComp,this.beans.context)}onUiLevelChanged(){const newLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=newLevel){const classToAdd="ag-row-level-"+newLevel,classToRemove="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass(classToAdd,!0),gui.rowComp.addOrRemoveCssClass(classToRemove,!1)}))}this.rowLevel=newLevel}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const newFirst=this.isFirstRowOnPage(),newLast=this.isLastRowOnPage();this.firstRowOnPage!==newFirst&&(this.firstRowOnPage=newFirst,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-first",newFirst)))),this.lastRowOnPage!==newLast&&(this.lastRowOnPage=newLast,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-last",newLast))))}stopEditing(cancel=!1){if(this.stoppingRowEdit)return;const cellControls=this.getAllCellCtrls(),isRowEdit=this.editingRow;this.stoppingRowEdit=!0;let fireRowEditEvent=!1;for(const ctrl of cellControls){const valueChanged=ctrl.stopEditing(cancel);isRowEdit&&!cancel&&!fireRowEditEvent&&valueChanged&&(fireRowEditEvent=!0)}if(fireRowEditEvent){const event=this.createRowEvent(Events.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(event)}isRowEdit&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(editing){this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-inline-editing",editing),gui.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!editing)}))}setEditingRow(value){this.editingRow=value,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-editing",value)));const event=value?this.createRowEvent(Events.EVENT_ROW_EDITING_STARTED):this.createRowEvent(Events.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(event)}startRowEditing(key=null,sourceRenderedCell=null,event=null){if(this.editingRow)return;this.getAllCellCtrls().reduce(((prev,cellCtrl)=>{const cellStartedEdit=cellCtrl===sourceRenderedCell;return cellStartedEdit?cellCtrl.startEditing(key,cellStartedEdit,event):cellCtrl.startEditing(null,cellStartedEdit,event),!!prev||cellCtrl.isEditing()}),!1)&&this.setEditingRow(!0)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const cssClasses=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);cssClasses&&cssClasses.length&&cssClasses.forEach((classStr=>{this.allRowGuis.forEach((c=>c.rowComp.addOrRemoveCssClass(classStr,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass(className,!0)))}),(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass(className,!1)))}))}setStylesFromGridOptions(updateStyles,gui){updateStyles&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(gui,(gui=>gui.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(rowContainerType){return rowContainerType===RowContainerType.LEFT?"left":rowContainerType===RowContainerType.RIGHT?"right":null}getInitialRowClasses(rowContainerType){const pinned=this.getPinnedForContainer(rowContainerType),params={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[rowContainerType],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned};return this.beans.rowCssClassCalculator.getInitialRowClasses(params)}processStylesFromGridOptions(){const rowStyle=this.gridOptionsService.get("rowStyle");if(rowStyle&&"function"==typeof rowStyle)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const rowStyleFunc=this.gridOptionsService.getCallback("getRowStyle");let rowStyleFuncResult;if(rowStyleFunc){rowStyleFuncResult=rowStyleFunc({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return rowStyleFuncResult||rowStyle?Object.assign({},rowStyle,rowStyleFuncResult):this.emptyStyle}onRowSelected(gui){const selected=!!this.rowNode.isSelected();this.forEachGui(gui,(gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-selected",selected),setAriaSelected(gui.element,!!selected||void 0);const ariaLabel=this.createAriaLabel();setAriaLabel(gui.element,null==ariaLabel?"":ariaLabel)}))}createAriaLabel(){const selected=this.rowNode.isSelected();if(selected&&this.gridOptionsService.is("suppressRowDeselection"))return;return this.beans.localeService.getLocaleTextFunc()(selected?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${selected?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(eRow){this.active&&(this.addManagedListener(eRow,"mouseenter",(()=>this.rowNode.onMouseEnter())),this.addManagedListener(eRow,"mouseleave",(()=>this.rowNode.onMouseLeave())),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_ENTER,(()=>{this.beans.dragService.isDragging()||this.gridOptionsService.is("suppressRowHoverHighlight")||(eRow.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,RowNode.EVENT_MOUSE_LEAVE,(()=>{eRow.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)})))}roundRowTopToBounds(rowTop){const range=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),minPixel=this.applyPaginationOffset(range.top,!0)-100,maxPixel=this.applyPaginationOffset(range.bottom,!0)+100;return Math.min(Math.max(minPixel,rowTop),maxPixel)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(gui,callback){gui?callback(gui):this.allRowGuis.forEach(callback)}onRowHeightChanged(gui){if(null==this.rowNode.rowHeight)return;const rowHeight=this.rowNode.rowHeight,defaultRowHeight=this.beans.environment.getDefaultRowHeight(),heightFromFunc=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,lineHeight=heightFromFunc?Math.min(defaultRowHeight,heightFromFunc)-2+"px":void 0;this.forEachGui(gui,(gui=>{gui.element.style.height=`${rowHeight}px`,lineHeight&&gui.element.style.setProperty("--ag-line-height",lineHeight)}))}addEventListener(eventType,listener){super.addEventListener(eventType,listener)}removeEventListener(eventType,listener){super.removeEventListener(eventType,listener)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const event=this.createRowEvent(Events.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(event),this.beans.eventService.dispatchEvent(event),super.destroy()}setupRemoveAnimation(){if(this.isSticky())return;if(null!=this.rowNode.rowTop){const rowTop=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(rowTop)}else this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}destroySecondPass(){this.allRowGuis.length=0;const destroyCellCtrls=ctrls=>(ctrls.list.forEach((c=>c.destroy())),{list:[],map:{}});this.centerCellCtrls=destroyCellCtrls(this.centerCellCtrls),this.leftCellCtrls=destroyCellCtrls(this.leftCellCtrls),this.rightCellCtrls=destroyCellCtrls(this.rightCellCtrls)}setFocusedClasses(gui){this.forEachGui(gui,(gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),gui.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const rowFocused=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);rowFocused!==this.rowFocused&&(this.rowFocused=rowFocused,this.setFocusedClasses()),!rowFocused&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const currentPage=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==currentPage&&(this.paginationPage=currentPage,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(topPx,reverse=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return topPx;return topPx+this.beans.paginationProxy.getPixelOffset()*(reverse?1:-1)}setRowTop(pixels){if(!this.printLayout&&exists(pixels)){const afterPaginationPixels=this.applyPaginationOffset(pixels),topPx=`${this.rowNode.isRowPinned()||this.rowNode.sticky?afterPaginationPixels:this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels)}px`;this.setRowTopStyle(topPx)}}getInitialRowTop(rowContainerType){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(rowContainerType):void 0}getInitialTransform(rowContainerType){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(rowContainerType)})`}getInitialRowTopShared(rowContainerType){if(this.printLayout)return"";let rowTop;if(this.isSticky())rowTop=this.rowNode.stickyRowTop;else{const pixels=this.slideInAnimation[rowContainerType]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,afterPaginationPixels=this.applyPaginationOffset(pixels);rowTop=this.rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels)}return rowTop+"px"}setRowTopStyle(topPx){const suppressRowTransform=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach((gui=>suppressRowTransform?gui.rowComp.setTop(topPx):gui.rowComp.setTransform(`translateY(${topPx})`)))}getRowNode(){return this.rowNode}getCellCtrl(column){let res=null;return this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColumn()==column&&(res=cellCtrl)})),null!=res||this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColSpanningList().indexOf(column)>=0&&(res=cellCtrl)})),res}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(gui){const rowIndexStr=this.rowNode.getRowIndexString(),headerRowCount=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),rowIsEven=this.rowNode.rowIndex%2==0,ariaRowIndex=headerRowCount+this.rowNode.rowIndex+1;this.forEachGui(gui,(c=>{c.rowComp.setRowIndex(rowIndexStr),c.rowComp.addOrRemoveCssClass("ag-row-even",rowIsEven),c.rowComp.addOrRemoveCssClass("ag-row-odd",!rowIsEven),setAriaRowIndex(c.element,ariaRowIndex)}))}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}}RowCtrl.DOM_DATA_KEY_ROW_CTRL="renderedRow";var rowContainerEventsFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class RowContainerEventsFeature extends BeanStub{constructor(element){super(),this.element=element}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const listener=this.processKeyboardEvent.bind(this,"keydown");this.addManagedListener(this.element,"keydown",listener)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",isEventSupported("touchstart")?"touchstart":"mousedown"].forEach((eventName=>{const listener=this.processMouseEvent.bind(this,eventName);this.addManagedListener(this.element,eventName,listener)}))}processMouseEvent(eventName,mouseEvent){if(!this.mouseEventService.isEventFromThisGrid(mouseEvent)||isStopPropagationForAgGrid(mouseEvent))return;const rowComp=this.getRowForEvent(mouseEvent),cellCtrl=this.mouseEventService.getRenderedCellForEvent(mouseEvent);"contextmenu"===eventName?this.handleContextMenuMouseEvent(mouseEvent,null,rowComp,cellCtrl):(cellCtrl&&cellCtrl.onMouseEvent(eventName,mouseEvent),rowComp&&rowComp.onMouseEvent(eventName,mouseEvent))}mockContextMenuForIPad(){if(!isIOSUserAgent())return;const touchListener=new TouchListener(this.element);this.addManagedListener(touchListener,TouchListener.EVENT_LONG_TAP,(event=>{const rowComp=this.getRowForEvent(event.touchEvent),cellComp=this.mouseEventService.getRenderedCellForEvent(event.touchEvent);this.handleContextMenuMouseEvent(null,event.touchEvent,rowComp,cellComp)})),this.addDestroyFunc((()=>touchListener.destroy()))}getRowForEvent(event){let sourceElement=event.target;for(;sourceElement;){const rowCon=this.gridOptionsService.getDomData(sourceElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL);if(rowCon)return rowCon;sourceElement=sourceElement.parentElement}return null}handleContextMenuMouseEvent(mouseEvent,touchEvent,rowComp,cellCtrl){const rowNode=rowComp?rowComp.getRowNode():null,column=cellCtrl?cellCtrl.getColumn():null;let value=null;if(column){const event=mouseEvent||touchEvent;cellCtrl.dispatchCellContextMenuEvent(event),value=this.valueService.getValue(column,rowNode)}const gridBodyCon=this.ctrlsService.getGridBodyCtrl(),anchorToElement=cellCtrl?cellCtrl.getGui():gridBodyCon.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(mouseEvent,touchEvent,rowNode,column,value,anchorToElement)}getControlsForEventTarget(target){return{cellCtrl:getCtrlForEventTarget(this.gridOptionsService,target,CellCtrl.DOM_DATA_KEY_CELL_CTRL),rowCtrl:getCtrlForEventTarget(this.gridOptionsService,target,RowCtrl.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(eventName,keyboardEvent){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(keyboardEvent.target);keyboardEvent.defaultPrevented||(cellCtrl?this.processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent):rowCtrl&&rowCtrl.isFullWidth()&&this.processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent))}processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent){const rowNode=cellCtrl.getRowNode(),column=cellCtrl.getColumn(),editing=cellCtrl.isEditing();if(!isUserSuppressingKeyboardEvent(this.gridOptionsService,keyboardEvent,rowNode,column,editing)&&"keydown"===eventName){!editing&&this.navigationService.handlePageScrollingKey(keyboardEvent)||cellCtrl.onKeyDown(keyboardEvent),this.doGridOperations(keyboardEvent,cellCtrl.isEditing()),isEventFromPrintableCharacter(keyboardEvent)&&cellCtrl.processCharacter(keyboardEvent)}if("keydown"===eventName){const cellKeyDownEvent=cellCtrl.createEvent(keyboardEvent,Events.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(cellKeyDownEvent)}}processFullWidthRowKeyboardEvent(rowComp,eventName,keyboardEvent){const rowNode=rowComp.getRowNode(),focusedCell=this.focusService.getFocusedCell(),column=focusedCell&&focusedCell.column;if(!isUserSuppressingKeyboardEvent(this.gridOptionsService,keyboardEvent,rowNode,column,!1)){const key=keyboardEvent.key;if("keydown"===eventName)switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:this.navigationService.handlePageScrollingKey(keyboardEvent,!0);break;case KeyCode.UP:case KeyCode.DOWN:rowComp.onKeyboardNavigate(keyboardEvent);break;case KeyCode.TAB:rowComp.onTabKeyDown(keyboardEvent)}}if("keydown"===eventName){const cellKeyDownEvent=rowComp.createRowEvent(Events.EVENT_CELL_KEY_DOWN,keyboardEvent);this.eventService.dispatchEvent(cellKeyDownEvent)}}doGridOperations(keyboardEvent,editing){if(!keyboardEvent.ctrlKey&&!keyboardEvent.metaKey)return;if(editing)return;if(!this.mouseEventService.isEventFromThisGrid(keyboardEvent))return;const keyCode=normaliseQwertyAzerty(keyboardEvent);return keyCode===KeyCode.A?this.onCtrlAndA(keyboardEvent):keyCode===KeyCode.C?this.onCtrlAndC(keyboardEvent):keyCode===KeyCode.D?this.onCtrlAndD(keyboardEvent):keyCode===KeyCode.V?this.onCtrlAndV(keyboardEvent):keyCode===KeyCode.X?this.onCtrlAndX(keyboardEvent):keyCode===KeyCode.Y?this.onCtrlAndY():keyCode===KeyCode.Z?this.onCtrlAndZ(keyboardEvent):void 0}onCtrlAndA(event){const{pinnedRowModel,paginationProxy,rangeService}=this;if(rangeService&&paginationProxy.isRowsToRender()){const[isEmptyPinnedTop,isEmptyPinnedBottom]=[pinnedRowModel.isEmpty("top"),pinnedRowModel.isEmpty("bottom")],floatingStart=isEmptyPinnedTop?null:"top";let floatingEnd,rowEnd;isEmptyPinnedBottom?(floatingEnd=null,rowEnd=this.paginationProxy.getRowCount()-1):(floatingEnd="bottom",rowEnd=pinnedRowModel.getPinnedBottomRowData().length-1);const allDisplayedColumns=this.columnModel.getAllDisplayedColumns();if(missingOrEmpty(allDisplayedColumns))return;rangeService.setCellRange({rowStartIndex:0,rowStartPinned:floatingStart,rowEndIndex:rowEnd,rowEndPinned:floatingEnd,columnStart:allDisplayedColumns[0],columnEnd:last(allDisplayedColumns)})}event.preventDefault()}onCtrlAndC(event){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);(null==cellCtrl?void 0:cellCtrl.isEditing())||(null==rowCtrl?void 0:rowCtrl.isEditing())||(event.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(event){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);(null==cellCtrl?void 0:cellCtrl.isEditing())||(null==rowCtrl?void 0:rowCtrl.isEditing())||(event.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(event){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);(null==cellCtrl?void 0:cellCtrl.isEditing())||(null==rowCtrl?void 0:rowCtrl.isEditing())||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(event){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),event.preventDefault()}onCtrlAndZ(event){this.gridOptionsService.is("undoRedoCellEditing")&&(event.preventDefault(),event.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}}rowContainerEventsFeature_decorate([Autowired("mouseEventService")],RowContainerEventsFeature.prototype,"mouseEventService",void 0),rowContainerEventsFeature_decorate([Autowired("valueService")],RowContainerEventsFeature.prototype,"valueService",void 0),rowContainerEventsFeature_decorate([Optional("contextMenuFactory")],RowContainerEventsFeature.prototype,"contextMenuFactory",void 0),rowContainerEventsFeature_decorate([Autowired("ctrlsService")],RowContainerEventsFeature.prototype,"ctrlsService",void 0),rowContainerEventsFeature_decorate([Autowired("navigationService")],RowContainerEventsFeature.prototype,"navigationService",void 0),rowContainerEventsFeature_decorate([Autowired("focusService")],RowContainerEventsFeature.prototype,"focusService",void 0),rowContainerEventsFeature_decorate([Autowired("undoRedoService")],RowContainerEventsFeature.prototype,"undoRedoService",void 0),rowContainerEventsFeature_decorate([Autowired("columnModel")],RowContainerEventsFeature.prototype,"columnModel",void 0),rowContainerEventsFeature_decorate([Autowired("paginationProxy")],RowContainerEventsFeature.prototype,"paginationProxy",void 0),rowContainerEventsFeature_decorate([Autowired("pinnedRowModel")],RowContainerEventsFeature.prototype,"pinnedRowModel",void 0),rowContainerEventsFeature_decorate([Optional("rangeService")],RowContainerEventsFeature.prototype,"rangeService",void 0),rowContainerEventsFeature_decorate([Optional("clipboardService")],RowContainerEventsFeature.prototype,"clipboardService",void 0),rowContainerEventsFeature_decorate([PostConstruct],RowContainerEventsFeature.prototype,"postConstruct",null);var viewportSizeFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ViewportSizeFeature extends BeanStub{constructor(centerContainerCtrl){super(),this.centerContainerCtrl=centerContainerCtrl}postConstruct(){this.ctrlsService.whenReady((()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()})),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const listener=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(listener),this.gridBodyCtrl.registerBodyViewportResizeListener(listener)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const newWidth=this.centerContainerCtrl.getCenterWidth();newWidth!==this.centerWidth&&(this.centerWidth=newWidth,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const bodyHeight=getInnerHeight(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==bodyHeight){this.bodyHeight=bodyHeight;const event={type:Events.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(event)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const params={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(params)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const scrollWidth=this.centerContainerCtrl.getCenterWidth(),scrollPosition=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(scrollWidth,scrollPosition)}}viewportSizeFeature_decorate([Autowired("ctrlsService")],ViewportSizeFeature.prototype,"ctrlsService",void 0),viewportSizeFeature_decorate([Autowired("columnModel")],ViewportSizeFeature.prototype,"columnModel",void 0),viewportSizeFeature_decorate([Autowired("scrollVisibleService")],ViewportSizeFeature.prototype,"scrollVisibleService",void 0),viewportSizeFeature_decorate([PostConstruct],ViewportSizeFeature.prototype,"postConstruct",null);var setPinnedLeftWidthFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SetPinnedLeftWidthFeature extends BeanStub{constructor(element){super(),this.element=element}postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const leftWidth=this.pinnedWidthService.getPinnedLeftWidth(),displayed=leftWidth>0;setDisplayed(this.element,displayed),setFixedWidth(this.element,leftWidth)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}}setPinnedLeftWidthFeature_decorate([Autowired("pinnedWidthService")],SetPinnedLeftWidthFeature.prototype,"pinnedWidthService",void 0),setPinnedLeftWidthFeature_decorate([PostConstruct],SetPinnedLeftWidthFeature.prototype,"postConstruct",null);var setPinnedRightWidthFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SetPinnedRightWidthFeature extends BeanStub{constructor(element){super(),this.element=element}postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const rightWidth=this.pinnedWidthService.getPinnedRightWidth(),displayed=rightWidth>0;setDisplayed(this.element,displayed),setFixedWidth(this.element,rightWidth)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}}setPinnedRightWidthFeature_decorate([Autowired("pinnedWidthService")],SetPinnedRightWidthFeature.prototype,"pinnedWidthService",void 0),setPinnedRightWidthFeature_decorate([PostConstruct],SetPinnedRightWidthFeature.prototype,"postConstruct",null);var setHeightFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SetHeightFeature extends BeanStub{constructor(eContainer,eViewport){super(),this.eContainer=eContainer,this.eViewport=eViewport}postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const height=this.maxDivHeightScaler.getUiContainerHeight(),heightString=null!=height?`${height}px`:"";this.eContainer.style.height=heightString,this.eViewport&&(this.eViewport.style.height=heightString)}}setHeightFeature_decorate([Autowired("rowContainerHeightService")],SetHeightFeature.prototype,"maxDivHeightScaler",void 0),setHeightFeature_decorate([PostConstruct],SetHeightFeature.prototype,"postConstruct",null);var dragListenerFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DragListenerFeature extends BeanStub{constructor(eContainer){super(),this.eContainer=eContainer}postConstruct(){if(!this.gridOptionsService.is("enableRangeSelection")||missing(this.rangeService))return;const params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(params),this.addDestroyFunc((()=>this.dragService.removeDragSource(params)))}}dragListenerFeature_decorate([Optional("rangeService")],DragListenerFeature.prototype,"rangeService",void 0),dragListenerFeature_decorate([Autowired("dragService")],DragListenerFeature.prototype,"dragService",void 0),dragListenerFeature_decorate([PostConstruct],DragListenerFeature.prototype,"postConstruct",null);var centerWidthFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class CenterWidthFeature extends BeanStub{constructor(callback,addSpacer=!1){super(),this.callback=callback,this.addSpacer=addSpacer}postConstruct(){const listener=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,listener),this.addSpacer&&(this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,listener)),this.setWidth()}setWidth(){const{columnModel}=this,printLayout=this.gridOptionsService.isDomLayout("print"),centerWidth=columnModel.getBodyContainerWidth(),leftWidth=columnModel.getDisplayedColumnsLeftWidth(),rightWidth=columnModel.getDisplayedColumnsRightWidth();let totalWidth;if(printLayout)totalWidth=centerWidth+leftWidth+rightWidth;else if(totalWidth=centerWidth,this.addSpacer){0===(this.gridOptionsService.is("enableRtl")?leftWidth:rightWidth)&&this.scrollVisibleService.isVerticalScrollShowing()&&(totalWidth+=this.gridOptionsService.getScrollbarWidth())}this.callback(totalWidth)}}centerWidthFeature_decorate([Autowired("columnModel")],CenterWidthFeature.prototype,"columnModel",void 0),centerWidthFeature_decorate([Autowired("scrollVisibleService")],CenterWidthFeature.prototype,"scrollVisibleService",void 0),centerWidthFeature_decorate([PostConstruct],CenterWidthFeature.prototype,"postConstruct",null);var RowContainerName,RowContainerType,rowContainerCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(RowContainerName){RowContainerName.LEFT="left",RowContainerName.RIGHT="right",RowContainerName.CENTER="center",RowContainerName.FULL_WIDTH="fullWidth",RowContainerName.TOP_LEFT="topLeft",RowContainerName.TOP_RIGHT="topRight",RowContainerName.TOP_CENTER="topCenter",RowContainerName.TOP_FULL_WIDTH="topFullWidth",RowContainerName.STICKY_TOP_LEFT="stickyTopLeft",RowContainerName.STICKY_TOP_RIGHT="stickyTopRight",RowContainerName.STICKY_TOP_CENTER="stickyTopCenter",RowContainerName.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",RowContainerName.BOTTOM_LEFT="bottomLeft",RowContainerName.BOTTOM_RIGHT="bottomRight",RowContainerName.BOTTOM_CENTER="bottomCenter",RowContainerName.BOTTOM_FULL_WIDTH="bottomFullWidth"}(RowContainerName||(RowContainerName={})),function(RowContainerType){RowContainerType.LEFT="left",RowContainerType.RIGHT="right",RowContainerType.CENTER="center",RowContainerType.FULL_WIDTH="fullWidth"}(RowContainerType||(RowContainerType={}));const ContainerCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-container"],[RowContainerName.LEFT,"ag-pinned-left-cols-container"],[RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[RowContainerName.FULL_WIDTH,"ag-full-width-container"],[RowContainerName.TOP_CENTER,"ag-floating-top-container"],[RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-container"],[RowContainerName.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[RowContainerName.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[RowContainerName.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),ViewportCssClasses=convertToMap([[RowContainerName.CENTER,"ag-center-cols-viewport"],[RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[RowContainerName.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]);class RowContainerCtrl extends BeanStub{constructor(name){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=name,this.isFullWithContainer=this.name===RowContainerName.TOP_FULL_WIDTH||this.name===RowContainerName.STICKY_TOP_FULL_WIDTH||this.name===RowContainerName.BOTTOM_FULL_WIDTH||this.name===RowContainerName.FULL_WIDTH}static getRowContainerCssClasses(name){return{container:ContainerCssClasses.get(name),viewport:ViewportCssClasses.get(name)}}static getPinned(name){switch(name){case RowContainerName.BOTTOM_LEFT:case RowContainerName.TOP_LEFT:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.LEFT:return"left";case RowContainerName.BOTTOM_RIGHT:case RowContainerName.TOP_RIGHT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([RowContainerName.CENTER],(()=>this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this))))}registerWithCtrlsService(){switch(this.name){case RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case RowContainerName.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case RowContainerName.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case RowContainerName.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(names,callback){names.indexOf(this.name)>=0&&callback()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(view,eContainer,eViewport){this.comp=view,this.eContainer=eContainer,this.eViewport=eViewport,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const allTopNoFW=[RowContainerName.TOP_CENTER,RowContainerName.TOP_LEFT,RowContainerName.TOP_RIGHT],allStickyTopNoFW=[RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_RIGHT],allNoFW=[...allTopNoFW,...[RowContainerName.BOTTOM_CENTER,RowContainerName.BOTTOM_LEFT,RowContainerName.BOTTOM_RIGHT],...[RowContainerName.CENTER,RowContainerName.LEFT,RowContainerName.RIGHT],...allStickyTopNoFW],allMiddle=[RowContainerName.CENTER,RowContainerName.LEFT,RowContainerName.RIGHT,RowContainerName.FULL_WIDTH],allCenter=[RowContainerName.CENTER,RowContainerName.TOP_CENTER,RowContainerName.STICKY_TOP_CENTER,RowContainerName.BOTTOM_CENTER],allLeft=[RowContainerName.LEFT,RowContainerName.BOTTOM_LEFT,RowContainerName.TOP_LEFT,RowContainerName.STICKY_TOP_LEFT],allRight=[RowContainerName.RIGHT,RowContainerName.BOTTOM_RIGHT,RowContainerName.TOP_RIGHT,RowContainerName.STICKY_TOP_RIGHT];this.forContainers(allLeft,(()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedLeftWidthFeature(this.eContainer)),this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,(()=>this.onPinnedWidthChanged()))})),this.forContainers(allRight,(()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedRightWidthFeature(this.eContainer)),this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(()=>this.onPinnedWidthChanged()))})),this.forContainers(allMiddle,(()=>this.createManagedBean(new SetHeightFeature(this.eContainer,this.name===RowContainerName.CENTER?eViewport:void 0)))),this.forContainers(allNoFW,(()=>this.createManagedBean(new DragListenerFeature(this.eContainer)))),this.forContainers(allCenter,(()=>this.createManagedBean(new CenterWidthFeature((width=>this.comp.setContainerWidth(`${width}px`)))))),isInvisibleScrollbar()&&(this.forContainers([RowContainerName.CENTER],(()=>{const pinnedWidthChangedEvent=this.enableRtl?Events.EVENT_LEFT_PINNED_WIDTH_CHANGED:Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED;this.addManagedListener(this.eventService,pinnedWidthChangedEvent,(()=>this.refreshPaddingForFakeScrollbar()))})),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl,columnModel,eContainer}=this,sideToCheck=enableRtl?RowContainerName.LEFT:RowContainerName.RIGHT;this.forContainers([RowContainerName.CENTER,sideToCheck],(()=>{const pinnedWidth=columnModel.getContainerWidth(sideToCheck),marginSide=enableRtl?"marginLeft":"marginRight";eContainer.style[marginSide]=pinnedWidth?"16px":"0px"}))}addListeners(){this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,(()=>this.onDisplayedColumnsChanged())),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(()=>this.onDisplayedColumnsWidthChanged())),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_ROWS_CHANGED,(params=>this.onDisplayedRowsChanged(params.afterScroll))),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([RowContainerName.STICKY_TOP_CENTER,RowContainerName.STICKY_TOP_LEFT,RowContainerName.STICKY_TOP_RIGHT,RowContainerName.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const listener=()=>{const isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder"),isPrintLayout=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(isEnsureDomOrder||isPrintLayout)};this.addManagedPropertyListener("domLayout",listener),listener()}stopHScrollOnPinnedRows(){this.forContainers([RowContainerName.TOP_CENTER,RowContainerName.STICKY_TOP_CENTER,RowContainerName.BOTTOM_CENTER],(()=>{this.addManagedListener(this.eViewport,"scroll",(()=>this.eViewport.scrollLeft=0))}))}onDisplayedColumnsChanged(){this.forContainers([RowContainerName.CENTER],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers([RowContainerName.CENTER],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const preventScroll=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",preventScroll,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",preventScroll)))}onHorizontalViewportChanged(afterScroll=!1){const scrollWidth=this.getCenterWidth(),scrollPosition=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(scrollWidth,scrollPosition,afterScroll)}getCenterWidth(){return getInnerWidth(this.eViewport)}getCenterViewportScrollLeft(){return getScrollLeft(this.eViewport,this.enableRtl)}registerViewportResizeListener(listener){const unsubscribeFromResize=this.resizeObserverService.observeResize(this.eViewport,listener);this.addDestroyFunc((()=>unsubscribeFromResize()))}isViewportVisible(){return isVisible(this.eViewport)}getViewportScrollLeft(){return getScrollLeft(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||isHorizontalScrollShowing(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(amount){this.eContainer.style.transform=`translateX(${amount}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(value){setScrollLeft(this.eViewport,value,this.enableRtl)}isContainerVisible(){return!RowContainerCtrl.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const visible=this.isContainerVisible();this.visible!=visible&&(this.visible=visible,this.onDisplayedRowsChanged()),isInvisibleScrollbar()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(useFlushSync=!1){if(this.visible){const printLayout=this.gridOptionsService.isDomLayout("print"),doesRowMatch=rowCtrl=>{const fullWidthRow=rowCtrl.isFullWidth(),embedFW=this.embedFullWidthRows||printLayout;return this.isFullWithContainer?!embedFW&&fullWidthRow:embedFW||!fullWidthRow},rowsThisContainer=this.getRowCtrls().filter(doesRowMatch);this.comp.setRowCtrls(rowsThisContainer,useFlushSync)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case RowContainerName.TOP_CENTER:case RowContainerName.TOP_LEFT:case RowContainerName.TOP_RIGHT:case RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case RowContainerName.STICKY_TOP_CENTER:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case RowContainerName.BOTTOM_CENTER:case RowContainerName.BOTTOM_LEFT:case RowContainerName.BOTTOM_RIGHT:case RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}}rowContainerCtrl_decorate([Autowired("scrollVisibleService")],RowContainerCtrl.prototype,"scrollVisibleService",void 0),rowContainerCtrl_decorate([Autowired("dragService")],RowContainerCtrl.prototype,"dragService",void 0),rowContainerCtrl_decorate([Autowired("ctrlsService")],RowContainerCtrl.prototype,"ctrlsService",void 0),rowContainerCtrl_decorate([Autowired("columnModel")],RowContainerCtrl.prototype,"columnModel",void 0),rowContainerCtrl_decorate([Autowired("resizeObserverService")],RowContainerCtrl.prototype,"resizeObserverService",void 0),rowContainerCtrl_decorate([Autowired("animationFrameService")],RowContainerCtrl.prototype,"animationFrameService",void 0),rowContainerCtrl_decorate([Autowired("rowRenderer")],RowContainerCtrl.prototype,"rowRenderer",void 0),rowContainerCtrl_decorate([PostConstruct],RowContainerCtrl.prototype,"postConstruct",null);var gridBodyComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const GRID_BODY_TEMPLATE=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="${RowContainerName.TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="${RowContainerName.TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="${RowContainerName.TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="${RowContainerName.TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="${RowContainerName.LEFT}"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="${RowContainerName.CENTER}"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="${RowContainerName.RIGHT}"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="${RowContainerName.FULL_WIDTH}"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="${RowContainerName.STICKY_TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="${RowContainerName.STICKY_TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="${RowContainerName.STICKY_TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="${RowContainerName.STICKY_TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="${RowContainerName.BOTTOM_LEFT}"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="${RowContainerName.BOTTOM_CENTER}"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="${RowContainerName.BOTTOM_RIGHT}"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="${RowContainerName.BOTTOM_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`;class GridBodyComp extends Component{constructor(){super(GRID_BODY_TEMPLATE)}init(){const setHeight=(height,element)=>{const heightString=`${height}px`;element.style.minHeight=heightString,element.style.height=heightString},compProxy={setRowAnimationCssOnBodyViewport:(cssClass,animate)=>this.setRowAnimationCssOnBodyViewport(cssClass,animate),setColumnCount:count=>setAriaColCount(this.getGui(),count),setRowCount:count=>setAriaRowCount(this.getGui(),count),setTopHeight:height=>setHeight(height,this.eTop),setBottomHeight:height=>setHeight(height,this.eBottom),setTopDisplay:display=>this.eTop.style.display=display,setBottomDisplay:display=>this.eBottom.style.display=display,setStickyTopHeight:height=>this.eStickyTop.style.height=height,setStickyTopTop:top=>this.eStickyTop.style.top=top,setStickyTopWidth:width=>this.eStickyTop.style.width=width,setColumnMovingCss:(cssClass,flag)=>this.addOrRemoveCssClass(cssClass,flag),updateLayoutClasses:(cssClass,params)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach((classList=>{classList.toggle(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),classList.toggle(LayoutCssClasses.NORMAL,params.normal),classList.toggle(LayoutCssClasses.PRINT,params.print)})),this.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),this.addOrRemoveCssClass(LayoutCssClasses.NORMAL,params.normal),this.addOrRemoveCssClass(LayoutCssClasses.PRINT,params.print)},setAlwaysVerticalScrollClass:(cssClass,on)=>this.eBodyViewport.classList.toggle("ag-force-vertical-scroll",on),registerBodyViewportResizeListener:listener=>{const unsubscribeFromResize=this.resizeObserverService.observeResize(this.eBodyViewport,listener);this.addDestroyFunc((()=>unsubscribeFromResize()))},setPinnedTopBottomOverflowY:overflow=>this.eTop.style.overflowY=this.eBottom.style.overflowY=overflow,setCellSelectableCss:(cssClass,selectable)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach((ct=>ct.classList.toggle(cssClass,selectable)))},setBodyViewportWidth:width=>this.eBodyViewport.style.width=width};this.ctrl=this.createManagedBean(new GridBodyCtrl),this.ctrl.setComp(compProxy,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&setAriaMultiSelectable(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(cssClass,animateRows){const bodyViewportClassList=this.eBodyViewport.classList;bodyViewportClassList.toggle(RowAnimationCssClasses.ANIMATION_ON,animateRows),bodyViewportClassList.toggle(RowAnimationCssClasses.ANIMATION_OFF,!animateRows)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}gridBodyComp_decorate([Autowired("resizeObserverService")],GridBodyComp.prototype,"resizeObserverService",void 0),gridBodyComp_decorate([Optional("rangeService")],GridBodyComp.prototype,"rangeService",void 0),gridBodyComp_decorate([RefSelector("eBodyViewport")],GridBodyComp.prototype,"eBodyViewport",void 0),gridBodyComp_decorate([RefSelector("eStickyTop")],GridBodyComp.prototype,"eStickyTop",void 0),gridBodyComp_decorate([RefSelector("eTop")],GridBodyComp.prototype,"eTop",void 0),gridBodyComp_decorate([RefSelector("eBottom")],GridBodyComp.prototype,"eBottom",void 0),gridBodyComp_decorate([RefSelector("gridHeader")],GridBodyComp.prototype,"headerRootComp",void 0),gridBodyComp_decorate([RefSelector("eBody")],GridBodyComp.prototype,"eBody",void 0),gridBodyComp_decorate([PostConstruct],GridBodyComp.prototype,"init",null);var scrollVisibleService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ScrollVisibleService=class ScrollVisibleService extends BeanStub{postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const centerRowCtrl=this.ctrlsService.getCenterRowContainerCtrl();if(!centerRowCtrl)return;const params={horizontalScrollShowing:centerRowCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(params)}setScrollsVisible(params){if(this.horizontalScrollShowing!==params.horizontalScrollShowing||this.verticalScrollShowing!==params.verticalScrollShowing){this.horizontalScrollShowing=params.horizontalScrollShowing,this.verticalScrollShowing=params.verticalScrollShowing;const event={type:Events.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(event)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};scrollVisibleService_decorate([Autowired("ctrlsService")],ScrollVisibleService.prototype,"ctrlsService",void 0),scrollVisibleService_decorate([PostConstruct],ScrollVisibleService.prototype,"postConstruct",null),ScrollVisibleService=scrollVisibleService_decorate([Bean("scrollVisibleService")],ScrollVisibleService);var MouseEventService_1,mouseEventService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let MouseEventService=MouseEventService_1=class MouseEventService extends BeanStub{constructor(){super(...arguments),this.gridInstanceId=MouseEventService_1.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(eGridDiv){eGridDiv[MouseEventService_1.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(event){return getCtrlForEventTarget(this.gridOptionsService,event.target,CellCtrl.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(event){return this.isElementInThisGrid(event.target)}isElementInThisGrid(element){let pointer=element;for(;pointer;){const instanceId=pointer[MouseEventService_1.GRID_DOM_KEY];if(exists(instanceId)){return instanceId===this.gridInstanceId}pointer=pointer.parentElement}return!1}getCellPositionForEvent(event){const cellComp=this.getRenderedCellForEvent(event);return cellComp?cellComp.getCellPosition():null}getNormalisedPosition(event){const gridPanelHasScrolls=this.gridOptionsService.isDomLayout("normal"),e=event;let x,y;if(null!=e.clientX||null!=e.clientY?(x=e.clientX,y=e.clientY):(x=e.x,y=e.y),gridPanelHasScrolls){const gridBodyCon=this.ctrlsService.getGridBodyCtrl(),vRange=gridBodyCon.getScrollFeature().getVScrollPosition();x+=gridBodyCon.getScrollFeature().getHScrollPosition().left,y+=vRange.top}return{x,y}}};MouseEventService.gridInstanceSequence=new NumberSequence,MouseEventService.GRID_DOM_KEY="__ag_grid_instance",mouseEventService_decorate([Autowired("ctrlsService")],MouseEventService.prototype,"ctrlsService",void 0),MouseEventService=MouseEventService_1=mouseEventService_decorate([Bean("mouseEventService")],MouseEventService);var navigationService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let NavigationService=class NavigationService extends BeanStub{constructor(){super(),this.onPageDown=throttle(this.onPageDown,100),this.onPageUp=throttle(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCon=p.gridBodyCtrl}))}handlePageScrollingKey(event,fromFullWidth=!1){const key=event.key,alt=event.altKey,ctrl=event.ctrlKey||event.metaKey,rangeServiceShouldHandleShift=!!this.rangeService&&event.shiftKey,currentCell=this.mouseEventService.getCellPositionForEvent(event);let processed=!1;switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:ctrl||alt||(this.onHomeOrEndKey(key),processed=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:if(!currentCell)return!1;!ctrl||alt||rangeServiceShouldHandleShift||(this.onCtrlUpDownLeftRight(key,currentCell),processed=!0);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:ctrl||alt||(processed=this.handlePageUpDown(key,currentCell,fromFullWidth))}return processed&&event.preventDefault(),processed}handlePageUpDown(key,currentCell,fromFullWidth){return fromFullWidth&&(currentCell=this.focusService.getFocusedCell()),!!currentCell&&(key===KeyCode.PAGE_UP?this.onPageUp(currentCell):this.onPageDown(currentCell),!0)}navigateTo(navigateParams){const{scrollIndex,scrollType,scrollColumn,focusIndex,focusColumn}=navigateParams;if(exists(scrollColumn)&&!scrollColumn.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(scrollColumn),exists(scrollIndex)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(scrollIndex,scrollType),navigateParams.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(focusIndex),this.focusService.setFocusedCell({rowIndex:focusIndex,column:focusColumn,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const cellPosition={rowIndex:focusIndex,rowPinned:null,column:focusColumn};this.rangeService.setRangeToCell(cellPosition)}}onPageDown(gridCell){const scrollPosition=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),pixelsInOnePage=this.getViewportHeight(),pagingPixelOffset=this.paginationProxy.getPixelOffset(),currentPageBottomPixel=scrollPosition.top+pixelsInOnePage,currentPageBottomRow=this.paginationProxy.getRowIndexAtPixel(currentPageBottomPixel+pagingPixelOffset);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(gridCell,currentPageBottomRow):this.navigateToNextPage(gridCell,currentPageBottomRow)}onPageUp(gridCell){const scrollPosition=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),pagingPixelOffset=this.paginationProxy.getPixelOffset(),currentPageTopPixel=scrollPosition.top,currentPageTopRow=this.paginationProxy.getRowIndexAtPixel(currentPageTopPixel+pagingPixelOffset);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(gridCell,currentPageTopRow,!0):this.navigateToNextPage(gridCell,currentPageTopRow,!0)}navigateToNextPage(gridCell,scrollIndex,up=!1){const pixelsInOnePage=this.getViewportHeight(),firstRow=this.paginationProxy.getPageFirstRow(),lastRow=this.paginationProxy.getPageLastRow(),pagingPixelOffset=this.paginationProxy.getPixelOffset(),currentRowNode=this.paginationProxy.getRow(gridCell.rowIndex),rowPixelDiff=up?(null==currentRowNode?void 0:currentRowNode.rowHeight)-pixelsInOnePage-pagingPixelOffset:pixelsInOnePage-pagingPixelOffset,nextCellPixel=(null==currentRowNode?void 0:currentRowNode.rowTop)+rowPixelDiff;let scrollType,focusIndex=this.paginationProxy.getRowIndexAtPixel(nextCellPixel+pagingPixelOffset);if(focusIndex===gridCell.rowIndex){const diff=up?-1:1;scrollIndex=focusIndex=gridCell.rowIndex+diff}up?(scrollType="bottom",focusIndex<firstRow&&(focusIndex=firstRow),scrollIndex<firstRow&&(scrollIndex=firstRow)):(scrollType="top",focusIndex>lastRow&&(focusIndex=lastRow),scrollIndex>lastRow&&(scrollIndex=lastRow)),this.isRowTallerThanView(focusIndex)&&(scrollIndex=focusIndex,scrollType="top"),this.navigateTo({scrollIndex,scrollType,scrollColumn:null,focusIndex,focusColumn:gridCell.column})}navigateToNextPageWithAutoHeight(gridCell,scrollIndex,up=!1){this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex:scrollIndex,focusColumn:gridCell.column}),setTimeout((()=>{const focusIndex=this.getNextFocusIndexForAutoHeight(gridCell,up);this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex,focusColumn:gridCell.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(gridCell,up=!1){var _a;const step=up?-1:1,pixelsInOnePage=this.getViewportHeight(),lastRowIndex=this.paginationProxy.getPageLastRow();let pixelSum=0,currentIndex=gridCell.rowIndex;for(;currentIndex>=0&&currentIndex<=lastRowIndex;){const currentCell=this.paginationProxy.getRow(currentIndex);if(currentCell){const currentCellHeight=null!==(_a=currentCell.rowHeight)&&void 0!==_a?_a:0;if(pixelSum+currentCellHeight>pixelsInOnePage)break;pixelSum+=currentCellHeight}currentIndex+=step}return Math.max(0,Math.min(currentIndex,lastRowIndex))}getViewportHeight(){const scrollPosition=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),scrollbarWidth=this.gridOptionsService.getScrollbarWidth();let pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(pixelsInOnePage-=scrollbarWidth),pixelsInOnePage}isRowTallerThanView(rowIndex){const rowNode=this.paginationProxy.getRow(rowIndex);if(!rowNode)return!1;const rowHeight=rowNode.rowHeight;return"number"==typeof rowHeight&&rowHeight>this.getViewportHeight()}onCtrlUpDownLeftRight(key,gridCell){const cellToFocus=this.cellNavigationService.getNextCellToFocus(key,gridCell,!0),{rowIndex,column}=cellToFocus;this.navigateTo({scrollIndex:rowIndex,scrollType:null,scrollColumn:column,focusIndex:rowIndex,focusColumn:column})}onHomeOrEndKey(key){const homeKey=key===KeyCode.PAGE_HOME,allColumns=this.columnModel.getAllDisplayedColumns(),columnToSelect=homeKey?allColumns[0]:last(allColumns),scrollIndex=homeKey?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:scrollIndex,focusColumn:columnToSelect})}onTabKeyDown(previous,keyboardEvent){const backwards=keyboardEvent.shiftKey;if(this.tabToNextCellCommon(previous,backwards,keyboardEvent))keyboardEvent.preventDefault();else if(backwards){const{rowIndex,rowPinned}=previous.getRowPosition();(rowPinned?0===rowIndex:rowIndex===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(keyboardEvent.preventDefault(),this.focusService.focusPreviousFromFirstCell(keyboardEvent)))}else previous instanceof CellCtrl&&previous.focusCell(!0),this.focusService.focusNextGridCoreContainer(backwards)&&keyboardEvent.preventDefault()}tabToNextCell(backwards,event){const focusedCell=this.focusService.getFocusedCell();if(!focusedCell)return!1;let cellOrRow=this.getCellByPosition(focusedCell);return!!(cellOrRow||(cellOrRow=this.rowRenderer.getRowByPosition(focusedCell),cellOrRow&&cellOrRow.isFullWidth()))&&this.tabToNextCellCommon(cellOrRow,backwards,event)}tabToNextCellCommon(previous,backwards,event){let res,editing=previous.isEditing();if(!editing&&previous instanceof CellCtrl){const row=previous.getRowCtrl();row&&(editing=row.isEditing())}return res=editing?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(previous,backwards,event):this.moveToNextEditingCell(previous,backwards,event):this.moveToNextCellNotEditing(previous,backwards),res||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(previousCell,backwards,event=null){const previousPos=previousCell.getCellPosition();previousCell.getGui().focus(),previousCell.stopEditing();const nextCell=this.findNextCellToFocusOn(previousPos,backwards,!0);return null!=nextCell&&(nextCell.startEditing(null,!0,event),nextCell.focusCell(!1),!0)}moveToNextEditingRow(previousCell,backwards,event=null){const previousPos=previousCell.getCellPosition(),nextCell=this.findNextCellToFocusOn(previousPos,backwards,!0);if(null==nextCell)return!1;const nextPos=nextCell.getCellPosition(),previousEditable=this.isCellEditable(previousPos),nextEditable=this.isCellEditable(nextPos),rowsMatch=nextPos&&previousPos.rowIndex===nextPos.rowIndex&&previousPos.rowPinned===nextPos.rowPinned;if(previousEditable&&previousCell.setFocusOutOnEditor(),!rowsMatch){previousCell.getRowCtrl().stopEditing();nextCell.getRowCtrl().startRowEditing(void 0,void 0,event)}return nextEditable?(nextCell.setFocusInOnEditor(),nextCell.focusCell()):nextCell.focusCell(!0),!0}moveToNextCellNotEditing(previousCell,backwards){const displayedColumns=this.columnModel.getAllDisplayedColumns();let cellPos;cellPos=previousCell instanceof RowCtrl?Object.assign(Object.assign({},previousCell.getRowPosition()),{column:backwards?displayedColumns[0]:last(displayedColumns)}):previousCell.getCellPosition();const nextCell=this.findNextCellToFocusOn(cellPos,backwards,!1);if(nextCell instanceof CellCtrl)nextCell.focusCell(!0);else if(nextCell)return this.tryToFocusFullWidthRow(nextCell.getRowPosition(),backwards);return exists(nextCell)}findNextCellToFocusOn(previousPosition,backwards,startEditing){let nextPosition=previousPosition;for(;;){previousPosition!==nextPosition&&(previousPosition=nextPosition),backwards||(nextPosition=this.getLastCellOfColSpan(nextPosition)),nextPosition=this.cellNavigationService.getNextTabbedCell(nextPosition,backwards);const userFunc=this.gridOptionsService.getCallback("tabToNextCell");if(exists(userFunc)){const userCell=userFunc({backwards,editing:startEditing,previousCellPosition:previousPosition,nextCellPosition:nextPosition||null});exists(userCell)?(userCell.floating&&(function_doOnce((()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),userCell.rowPinned=userCell.floating),nextPosition={rowIndex:userCell.rowIndex,column:userCell.column,rowPinned:userCell.rowPinned}):nextPosition=null}if(!nextPosition)return null;if(nextPosition.rowIndex<0){const headerLen=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextPosition.rowIndex,column:nextPosition.column},fromCell:!0}),null}const fullRowEdit="fullRow"===this.gridOptionsService.get("editType");if(startEditing&&!fullRowEdit){if(!this.isCellEditable(nextPosition))continue}this.ensureCellVisible(nextPosition);const nextCell=this.getCellByPosition(nextPosition);if(!nextCell){const row=this.rowRenderer.getRowByPosition(nextPosition);if(!row||!row.isFullWidth()||startEditing)continue;return row}if(!nextCell.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(nextPosition),nextCell}}isCellEditable(cell){const rowNode=this.lookupRowNodeForCell(cell);return!!rowNode&&cell.column.isCellEditable(rowNode)}getCellByPosition(cellPosition){const rowCtrl=this.rowRenderer.getRowByPosition(cellPosition);return rowCtrl?rowCtrl.getCellCtrl(cellPosition.column):null}lookupRowNodeForCell(cell){return"top"===cell.rowPinned?this.pinnedRowModel.getPinnedTopRow(cell.rowIndex):"bottom"===cell.rowPinned?this.pinnedRowModel.getPinnedBottomRow(cell.rowIndex):this.paginationProxy.getRow(cell.rowIndex)}navigateToNextCell(event,key,currentCell,allowUserOverride){let nextCell=currentCell,hitEdgeOfGrid=!1;for(;nextCell&&(nextCell===currentCell||!this.isValidNavigateCell(nextCell));)this.gridOptionsService.is("enableRtl")?key===KeyCode.LEFT&&(nextCell=this.getLastCellOfColSpan(nextCell)):key===KeyCode.RIGHT&&(nextCell=this.getLastCellOfColSpan(nextCell)),nextCell=this.cellNavigationService.getNextCellToFocus(key,nextCell),hitEdgeOfGrid=missing(nextCell);if(hitEdgeOfGrid&&event&&event.key===KeyCode.UP&&(nextCell={rowIndex:-1,rowPinned:null,column:currentCell.column}),allowUserOverride){const userFunc=this.gridOptionsService.getCallback("navigateToNextCell");if(exists(userFunc)){const userCell=userFunc({key,previousCellPosition:currentCell,nextCellPosition:nextCell||null,event});exists(userCell)?(userCell.floating&&(function_doOnce((()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),userCell.rowPinned=userCell.floating),nextCell={rowPinned:userCell.rowPinned,rowIndex:userCell.rowIndex,column:userCell.column}):nextCell=null}}if(!nextCell)return;if(nextCell.rowIndex<0){const headerLen=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextCell.rowIndex,column:currentCell.column},event:event||void 0,fromCell:!0})}const normalisedPosition=this.getNormalisedPosition(nextCell);normalisedPosition?this.focusPosition(normalisedPosition):this.tryToFocusFullWidthRow(nextCell)}getNormalisedPosition(cellPosition){this.ensureCellVisible(cellPosition);const cellCtrl=this.getCellByPosition(cellPosition);return cellCtrl?(cellPosition=cellCtrl.getCellPosition(),this.ensureCellVisible(cellPosition),cellPosition):null}tryToFocusFullWidthRow(position,backwards=!1){const displayedColumns=this.columnModel.getAllDisplayedColumns(),rowComp=this.rowRenderer.getRowByPosition(position);if(!rowComp||!rowComp.isFullWidth())return!1;const currentCellFocused=this.focusService.getFocusedCell(),cellPosition={rowIndex:position.rowIndex,rowPinned:position.rowPinned,column:position.column||(backwards?last(displayedColumns):displayedColumns[0])};this.focusPosition(cellPosition);const fromBelow=null!=currentCellFocused&&this.rowPositionUtils.before(cellPosition,currentCellFocused),focusEvent={type:Events.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:cellPosition.rowIndex,rowPinned:cellPosition.rowPinned,column:cellPosition.column,isFullWidthCell:!0,floating:cellPosition.rowPinned,fromBelow};return this.eventService.dispatchEvent(focusEvent),!0}focusPosition(cellPosition){this.focusService.setFocusedCell({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(cellPosition)}isValidNavigateCell(cell){return!!this.rowPositionUtils.getRowNode(cell)}getLastCellOfColSpan(cell){const cellCtrl=this.getCellByPosition(cell);if(!cellCtrl)return cell;const colSpanningList=cellCtrl.getColSpanningList();return 1===colSpanningList.length?cell:{rowIndex:cell.rowIndex,column:last(colSpanningList),rowPinned:cell.rowPinned}}ensureCellVisible(gridCell){const isGroupStickyEnabled=this.gridOptionsService.isGroupRowsSticky(),rowNode=this.rowModel.getRow(gridCell.rowIndex);!(isGroupStickyEnabled&&(null==rowNode?void 0:rowNode.sticky))&&missing(gridCell.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(gridCell.rowIndex),gridCell.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(gridCell.column)}};navigationService_decorate([Autowired("mouseEventService")],NavigationService.prototype,"mouseEventService",void 0),navigationService_decorate([Autowired("paginationProxy")],NavigationService.prototype,"paginationProxy",void 0),navigationService_decorate([Autowired("focusService")],NavigationService.prototype,"focusService",void 0),navigationService_decorate([Optional("rangeService")],NavigationService.prototype,"rangeService",void 0),navigationService_decorate([Autowired("columnModel")],NavigationService.prototype,"columnModel",void 0),navigationService_decorate([Autowired("rowModel")],NavigationService.prototype,"rowModel",void 0),navigationService_decorate([Autowired("ctrlsService")],NavigationService.prototype,"ctrlsService",void 0),navigationService_decorate([Autowired("rowRenderer")],NavigationService.prototype,"rowRenderer",void 0),navigationService_decorate([Autowired("headerNavigationService")],NavigationService.prototype,"headerNavigationService",void 0),navigationService_decorate([Autowired("rowPositionUtils")],NavigationService.prototype,"rowPositionUtils",void 0),navigationService_decorate([Autowired("cellNavigationService")],NavigationService.prototype,"cellNavigationService",void 0),navigationService_decorate([Autowired("pinnedRowModel")],NavigationService.prototype,"pinnedRowModel",void 0),navigationService_decorate([PostConstruct],NavigationService.prototype,"postConstruct",null),NavigationService=navigationService_decorate([Bean("navigationService")],NavigationService);var popupEditorWrapper_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class PopupEditorWrapper extends PopupComponent{constructor(params){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=params}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const eGui=this.getGui(),params=this.params;this.addManagedListener(eGui,"keydown",(event=>{isUserSuppressingKeyboardEvent(this.gridOptionsService,event,params.node,params.column,!0)||params.onKeyDown(event)}))}}PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",popupEditorWrapper_decorate([PostConstruct],PopupEditorWrapper.prototype,"postConstruct",null);class CellComp extends Component{constructor(beans,cellCtrl,printLayout,eRow,editingRow){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=beans,this.column=cellCtrl.getColumn(),this.rowNode=cellCtrl.getRowNode(),this.rowCtrl=cellCtrl.getRowCtrl(),this.eRow=eRow,this.cellCtrl=cellCtrl,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const eGui=this.getGui();this.forceWrapper=cellCtrl.isForceWrapper(),this.refreshWrapper(!1);const setAttribute=(name,value)=>{null!=value&&""!=value?eGui.setAttribute(name,value):eGui.removeAttribute(name)};setAriaRole(eGui,"gridcell"),setAttribute("col-id",cellCtrl.getColumnIdSanitised());const tabIndex=cellCtrl.getTabIndex();void 0!==tabIndex&&setAttribute("tabindex",tabIndex.toString());const compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setUserStyles:styles=>addStylesToElement(eGui,styles),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:include=>this.includeSelection=include,setIncludeRowDrag:include=>this.includeRowDrag=include,setIncludeDndSource:include=>this.includeDndSource=include,setRenderDetails:(compDetails,valueToDisplay,force)=>this.setRenderDetails(compDetails,valueToDisplay,force),setEditDetails:(compDetails,popup,position)=>this.setEditDetails(compDetails,popup,position),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};cellCtrl.setComp(compProxy,this.getGui(),this.eCellWrapper,printLayout,editingRow)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const controlWrapperChanged=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),compDetails){!(forceNewCellRendererInstance||controlWrapperChanged)&&this.refreshCellRenderer(compDetails)||(this.destroyRenderer(),this.createCellRendererInstance(compDetails))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(valueToDisplay)}setEditDetails(compDetails,popup,position){compDetails?this.createCellEditorInstance(compDetails,popup,position):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(editing){const providingControls=this.includeRowDrag||this.includeDndSource||this.includeSelection,usingWrapper=providingControls||this.forceWrapper,putWrapperIn=usingWrapper&&null==this.eCellWrapper;putWrapperIn&&(this.eCellWrapper=loadTemplate('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const takeWrapperOut=!usingWrapper&&null!=this.eCellWrapper;takeWrapperOut&&(removeFromParent(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!usingWrapper);const usingCellValue=!editing&&usingWrapper,putCellValueIn=usingCellValue&&null==this.eCellValue;putCellValueIn&&(this.eCellValue=loadTemplate('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const takeCellValueOut=!usingCellValue&&null!=this.eCellValue;takeCellValueOut&&(removeFromParent(this.eCellValue),this.eCellValue=void 0);const templateChanged=putWrapperIn||takeWrapperOut||putCellValueIn||takeCellValueOut;return templateChanged&&this.removeControls(),editing||providingControls&&this.addControls(),templateChanged}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(compDetails,popup,position){const versionCopy=this.editorVersion,cellEditorPromise=compDetails.newAgStackInstance();if(!cellEditorPromise)return;const{params}=compDetails;cellEditorPromise.then((c=>this.afterCellEditorCreated(versionCopy,c,params,popup,position)));missing(this.cellEditor)&&params.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(valueToDisplay){const eParent=this.getParentOfValue();clearElement(eParent);const escapedValue=null!=valueToDisplay?escapeString(valueToDisplay):null;null!=escapedValue&&(eParent.innerHTML=escapedValue)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context}=this.beans;this.cellRenderer=context.destroyBean(this.cellRenderer),removeFromParent(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=context.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=context.destroyBean(this.cellEditorPopupWrapper),removeFromParent(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(compClassAndParams){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==compClassAndParams.componentClass)return!1;const result=this.cellRenderer.refresh(compClassAndParams.params);return!0===result||void 0===result}createCellRendererInstance(compDetails){const useTaskService=!this.beans.gridOptionsService.is("suppressAnimationFrame"),displayComponentVersionCopy=this.rendererVersion,{componentClass}=compDetails,createCellRendererFunc=()=>{if(this.rendererVersion!==displayComponentVersionCopy||!this.isAlive())return;const componentPromise=compDetails.newAgStackInstance(),callback=this.afterCellRendererCreated.bind(this,displayComponentVersionCopy,componentClass);componentPromise&&componentPromise.then(callback)};useTaskService&&this.firstRender?this.beans.animationFrameService.createTask(createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):createCellRendererFunc()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(cellRendererVersion,cellRendererClass,cellRenderer){if(!this.isAlive()||cellRendererVersion!==this.rendererVersion)this.beans.context.destroyBean(cellRenderer);else if(this.cellRenderer=cellRenderer,this.cellRendererClass=cellRendererClass,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const eParent=this.getParentOfValue();clearElement(eParent),eParent.appendChild(this.cellRendererGui)}}afterCellEditorCreated(requestVersion,cellEditor,params,popup,position){if(requestVersion!==this.editorVersion)return void this.beans.context.destroyBean(cellEditor);if(cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart())return this.beans.context.destroyBean(cellEditor),void this.cellCtrl.stopEditing(!0);if(!cellEditor.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(cellEditor);this.cellEditor=cellEditor,this.cellEditorGui=cellEditor.getGui();const cellEditorInPopup=popup||void 0!==cellEditor.isPopup&&cellEditor.isPopup();cellEditorInPopup?this.addPopupCellEditor(params,position):this.addInCellEditor(),this.refreshEditStyles(!0,cellEditorInPopup),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached()}refreshEditStyles(editing,isPopup){var _a;this.addOrRemoveCssClass("ag-cell-inline-editing",editing&&!isPopup),this.addOrRemoveCssClass("ag-cell-popup-editing",editing&&!!isPopup),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!editing||!!isPopup),null===(_a=this.rowCtrl)||void 0===_a||_a.setInlineEditingCss(editing)}addInCellEditor(){const eGui=this.getGui(),eDocument=this.beans.gridOptionsService.getDocument();if(eGui.contains(eDocument.activeElement)&&eGui.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){this.getParentOfValue().appendChild(this.cellEditorGui)}}addPopupCellEditor(params,position){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const cellEditor=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new PopupEditorWrapper(params));const ePopupGui=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&ePopupGui.appendChild(this.cellEditorGui);const popupService=this.beans.popupService,useModelPopup=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),positionToUse=null!=position?position:cellEditor.getPopupPosition?cellEditor.getPopupPosition():"over",isRtl=this.beans.gridOptionsService.is("enableRtl"),positionParams={ePopup:ePopupGui,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:positionToUse,alignSide:isRtl?"right":"left",keepWithinBounds:!0},positionCallback=popupService.positionPopupByComponent.bind(popupService,positionParams),translate=this.beans.localeService.getLocaleTextFunc(),addPopupRes=popupService.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback,ariaLabel:translate("ariaLabelCellEditor","Cell Editor")});addPopupRes&&(this.hideEditorPopup=addPopupRes.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const eGui=this.getGui(),eDocument=this.beans.gridOptionsService.getDocument();eGui.contains(eDocument.activeElement)&&browserSupportsPreventScroll()&&eGui.focus({preventScroll:!0}),clearElement(this.getParentOfValue())}}class RowComp extends Component{constructor(ctrl,beans,containerType){super(),this.cellComps={},this.beans=beans,this.rowCtrl=ctrl,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(containerType)}"/>`);const eGui=this.getGui(),style=eGui.style;this.domOrder=this.rowCtrl.getDomOrder(),setAriaRole(eGui,"row");const tabIndex=this.rowCtrl.getTabIndex();null!=tabIndex&&eGui.setAttribute("tabindex",tabIndex.toString());const compProxy={setDomOrder:domOrder=>this.domOrder=domOrder,setCellCtrls:cellCtrls=>this.setCellCtrls(cellCtrls),showFullWidth:compDetails=>this.showFullWidth(compDetails),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(name,on)=>this.addOrRemoveCssClass(name,on),setUserStyles:styles=>addStylesToElement(eGui,styles),setTop:top=>style.top=top,setTransform:transform=>style.transform=transform,setRowIndex:rowIndex=>eGui.setAttribute("row-index",rowIndex),setRowId:rowId=>eGui.setAttribute("row-id",rowId),setRowBusinessKey:businessKey=>eGui.setAttribute("row-business-key",businessKey)};ctrl.setComp(compProxy,this.getGui(),containerType),this.addDestroyFunc((()=>{ctrl.unsetComp(containerType)}))}getInitialStyle(containerType){const transform=this.rowCtrl.getInitialTransform(containerType),top=this.rowCtrl.getInitialRowTop(containerType);return transform?`transform: ${transform}`:`top: ${top}`}showFullWidth(compDetails){const res=compDetails.newAgStackInstance();res&&res.then((cellRenderer=>{if(this.isAlive()){const eGui=cellRenderer.getGui();this.getGui().appendChild(eGui),this.rowCtrl.setupDetailRowAutoHeight(eGui),this.setFullWidthRowComp(cellRenderer)}else this.beans.context.destroyBean(cellRenderer)}))}setCellCtrls(cellCtrls){const cellsToRemove=Object.assign({},this.cellComps);cellCtrls.forEach((cellCtrl=>{const key=cellCtrl.getInstanceId();null==this.cellComps[key]?this.newCellComp(cellCtrl):cellsToRemove[key]=null}));const cellCompsToRemove=getAllValuesInObject(cellsToRemove).filter((cellComp=>null!=cellComp));this.destroyCells(cellCompsToRemove),this.ensureDomOrder(cellCtrls)}ensureDomOrder(cellCtrls){if(!this.domOrder)return;const elementsInOrder=[];cellCtrls.forEach((cellCtrl=>{const cellComp=this.cellComps[cellCtrl.getInstanceId()];cellComp&&elementsInOrder.push(cellComp.getGui())})),setDomChildOrder(this.getGui(),elementsInOrder)}newCellComp(cellCtrl){const cellComp=new CellComp(this.beans,cellCtrl,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[cellCtrl.getInstanceId()]=cellComp,this.getGui().appendChild(cellComp.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const cellsToDestroy=getAllValuesInObject(this.cellComps).filter((cp=>null!=cp));this.destroyCells(cellsToDestroy)}setFullWidthRowComp(fullWidthRowComponent){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=fullWidthRowComponent,this.addDestroyFunc((()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)}))}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(cellComps){cellComps.forEach((cellComp=>{if(!cellComp)return;const instanceId=cellComp.getCtrl().getInstanceId();this.cellComps[instanceId]===cellComp&&(cellComp.detach(),cellComp.destroy(),this.cellComps[instanceId]=null)}))}}var rowContainerComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class RowContainerComp extends Component{constructor(){super(function templateFactory(){const name=Component.elementGettingCreated.getAttribute("name"),cssClasses=RowContainerCtrl.getRowContainerCssClasses(name);let res;return res=name===RowContainerName.CENTER||name===RowContainerName.TOP_CENTER||name===RowContainerName.STICKY_TOP_CENTER||name===RowContainerName.BOTTOM_CENTER?`<div class="${cssClasses.viewport}" ref="eViewport" role="presentation">\n                <div class="${cssClasses.container}" ref="eContainer"></div>\n            </div>`:`<div class="${cssClasses.container}" ref="eContainer"></div>`,res}()),this.rowComps={},this.name=Component.elementGettingCreated.getAttribute("name"),this.type=function getRowContainerTypeForName(name){switch(name){case RowContainerName.CENTER:case RowContainerName.TOP_CENTER:case RowContainerName.STICKY_TOP_CENTER:case RowContainerName.BOTTOM_CENTER:return RowContainerType.CENTER;case RowContainerName.LEFT:case RowContainerName.TOP_LEFT:case RowContainerName.STICKY_TOP_LEFT:case RowContainerName.BOTTOM_LEFT:return RowContainerType.LEFT;case RowContainerName.RIGHT:case RowContainerName.TOP_RIGHT:case RowContainerName.STICKY_TOP_RIGHT:case RowContainerName.BOTTOM_RIGHT:return RowContainerType.RIGHT;case RowContainerName.FULL_WIDTH:case RowContainerName.TOP_FULL_WIDTH:case RowContainerName.STICKY_TOP_FULL_WIDTH:case RowContainerName.BOTTOM_FULL_WIDTH:return RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const compProxy={setViewportHeight:height=>this.eViewport.style.height=height,setRowCtrls:rowCtrls=>this.setRowCtrls(rowCtrls),setDomOrder:domOrder=>{this.domOrder=domOrder},setContainerWidth:width=>this.eContainer.style.width=width};this.createManagedBean(new RowContainerCtrl(this.name)).setComp(compProxy,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(rowCtrls){const oldRows=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;rowCtrls.forEach((rowCon=>{const instanceId=rowCon.getInstanceId(),existingRowComp=oldRows[instanceId];if(existingRowComp)this.rowComps[instanceId]=existingRowComp,delete oldRows[instanceId],this.ensureDomOrder(existingRowComp.getGui());else{if(!rowCon.getRowNode().displayed)return;const rowComp=new RowComp(rowCon,this.beans,this.type);this.rowComps[instanceId]=rowComp,this.appendRow(rowComp.getGui())}})),getAllValuesInObject(oldRows).forEach((oldRowComp=>{this.eContainer.removeChild(oldRowComp.getGui()),oldRowComp.destroy()})),setAriaRole(this.eContainer,rowCtrls.length?"rowgroup":"presentation")}appendRow(element){this.domOrder?insertWithDomOrder(this.eContainer,element,this.lastPlacedElement):this.eContainer.appendChild(element),this.lastPlacedElement=element}ensureDomOrder(eRow){this.domOrder&&(ensureDomOrder(this.eContainer,eRow,this.lastPlacedElement),this.lastPlacedElement=eRow)}}rowContainerComp_decorate([Autowired("beans")],RowContainerComp.prototype,"beans",void 0),rowContainerComp_decorate([RefSelector("eViewport")],RowContainerComp.prototype,"eViewport",void 0),rowContainerComp_decorate([RefSelector("eContainer")],RowContainerComp.prototype,"eContainer",void 0),rowContainerComp_decorate([PostConstruct],RowContainerComp.prototype,"postConstruct",null),rowContainerComp_decorate([PreDestroy],RowContainerComp.prototype,"preDestroy",null);var bodyDropPivotTarget_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class BodyDropPivotTarget{constructor(pinned){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=pinned}onDragEnter(draggingEvent){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const dragColumns=draggingEvent.dragItem.columns;dragColumns&&dragColumns.forEach((column=>{column.isPrimary()&&(column.isAnyFunctionActive()||(column.isAllowValue()?this.columnsToAggregate.push(column):column.isAllowRowGroup()?this.columnsToGroup.push(column):column.isAllowPivot()&&this.columnsToPivot.push(column)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE:null}onDragLeave(draggingEvent){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(draggingEvent){}onDragStop(draggingEvent){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}bodyDropPivotTarget_decorate([Autowired("columnModel")],BodyDropPivotTarget.prototype,"columnModel",void 0),bodyDropPivotTarget_decorate([Autowired("gridOptionsService")],BodyDropPivotTarget.prototype,"gridOptionsService",void 0);var moveColumnFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class MoveColumnFeature{constructor(pinned,eContainer){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=pinned,this.eContainer=eContainer,this.centerContainer=!exists(pinned)}init(){this.ctrlsService.whenReady((()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()}))}getIconName(){return this.pinned?DragAndDropService.ICON_PINNED:DragAndDropService.ICON_MOVE}onDragEnter(draggingEvent){const columns=draggingEvent.dragItem.columns;if(draggingEvent.dragSource.type===DragSourceType.ToolPanel)this.setColumnsVisible(columns,!0,"uiColumnDragged");else{const visibleState=draggingEvent.dragItem.visibleState,visibleColumns=(columns||[]).filter((column=>visibleState[column.getId()]));this.setColumnsVisible(visibleColumns,!0,"uiColumnDragged")}this.setColumnsPinned(columns,this.pinned,"uiColumnDragged"),this.onDragging(draggingEvent,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(columns,visible,source="api"){if(columns){const allowedCols=columns.filter((c=>!c.getColDef().lockVisible));this.columnModel.setColumnsVisible(allowedCols,visible,source)}}setColumnsPinned(columns,pinned,source="api"){if(columns){const allowedCols=columns.filter((c=>!c.getColDef().lockPinned));this.columnModel.setColumnsPinned(allowedCols,pinned,source)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(x){if(this.gridOptionsService.is("enableRtl")){x=this.eContainer.clientWidth-x}return this.centerContainer&&(x+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),x}checkCenterForScrolling(xAdjustedForScroll){if(this.centerContainer){const firstVisiblePixel=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),lastVisiblePixel=firstVisiblePixel+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveLeft=xAdjustedForScroll>lastVisiblePixel-50):(this.needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(draggingEvent=this.lastDraggingEvent,fromEnter=!1,fakeEvent=!1,finished=!1){var _a;if(finished){if(this.lastMovedInfo){const{columns,toIndex}=this.lastMovedInfo;this.moveColumns(columns,toIndex,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=draggingEvent,missing(draggingEvent.hDirection))return;const mouseX=this.normaliseX(draggingEvent.x);fromEnter||this.checkCenterForScrolling(mouseX);const hDirection=this.normaliseDirection(draggingEvent.hDirection),dragSourceType=draggingEvent.dragSource.type,allMovingColumns=(null===(_a=draggingEvent.dragSource.getDragItem().columns)||void 0===_a?void 0:_a.filter((col=>!col.getColDef().lockPinned||col.getPinned()==this.pinned)))||[];this.attemptMoveColumns({dragSourceType,allMovingColumns,hDirection,mouseX,fromEnter,fakeEvent})}normaliseDirection(hDirection){if(!this.gridOptionsService.is("enableRtl"))return hDirection;switch(hDirection){case HorizontalDirection.Left:return HorizontalDirection.Right;case HorizontalDirection.Right:return HorizontalDirection.Left;default:console.error(`AG Grid: Unknown direction ${hDirection}`)}}attemptMoveColumns(params){const{dragSourceType,hDirection,mouseX,fromEnter,fakeEvent}=params,draggingLeft=hDirection===HorizontalDirection.Left,draggingRight=hDirection===HorizontalDirection.Right;let{allMovingColumns}=params;if(dragSourceType===DragSourceType.HeaderCell){let newCols=[];allMovingColumns.forEach((col=>{var _a;let movingGroup=null,parent=col.getParent();for(;null!=parent&&1===parent.getDisplayedLeafColumns().length;)movingGroup=parent,parent=parent.getParent();if(null!=movingGroup){(!!(null===(_a=movingGroup.getColGroupDef())||void 0===_a?void 0:_a.marryChildren)?movingGroup.getProvidedColumnGroup().getLeafColumns():movingGroup.getLeafColumns()).forEach((newCol=>{newCols.includes(newCol)||newCols.push(newCol)}))}else newCols.includes(col)||newCols.push(col)})),allMovingColumns=newCols}const allMovingColumnsOrdered=allMovingColumns.slice();this.columnModel.sortColumnsLikeGridColumns(allMovingColumnsOrdered);const validMoves=this.calculateValidMoves(allMovingColumnsOrdered,draggingRight,mouseX),oldIndex=this.calculateOldIndex(allMovingColumnsOrdered);if(0===validMoves.length)return;const firstValidMove=validMoves[0];let constrainDirection=null!==oldIndex&&!fromEnter;if(dragSourceType==DragSourceType.HeaderCell&&(constrainDirection=null!==oldIndex),constrainDirection&&!fakeEvent){if(draggingLeft&&firstValidMove>=oldIndex)return;if(draggingRight&&firstValidMove<=oldIndex)return}const displayedCols=this.columnModel.getAllDisplayedColumns();let potentialMoves=[],targetOrder=null;for(let i=0;i<validMoves.length;i++){const move=validMoves[i],order=this.columnModel.getProposedColumnOrder(allMovingColumnsOrdered,move);if(!this.columnModel.doesOrderPassRules(order))continue;const displayedOrder=order.filter((col=>displayedCols.includes(col)));if(null===targetOrder)targetOrder=displayedOrder;else if(!_.areEqual(displayedOrder,targetOrder))break;const fragCount=this.groupFragCount(order);potentialMoves.push({move,fragCount})}0!==potentialMoves.length&&(potentialMoves.sort(((a,b)=>a.fragCount-b.fragCount)),this.moveColumns(allMovingColumns,potentialMoves[0].move,"uiColumnMoved",!1))}calculateOldIndex(movingCols){const gridCols=this.columnModel.getAllGridColumns(),indexes=sortNumerically(movingCols.map((col=>gridCols.indexOf(col)))),firstIndex=indexes[0];return last(indexes)-firstIndex!==indexes.length-1?null:firstIndex}moveColumns(columns,toIndex,source,finished){this.columnModel.moveColumns(columns,toIndex,source,finished),this.lastMovedInfo=finished?null:{columns,toIndex}}groupFragCount(columns){function parents(col){let result=[],parent=col.getOriginalParent();for(;null!=parent;)result.push(parent),parent=parent.getOriginalParent();return result}let count=0;for(let i=0;i<columns.length-1;i++){let a=parents(columns[i]),b=parents(columns[i+1]);[a,b]=a.length>b.length?[a,b]:[b,a],a.forEach((parent=>{-1===b.indexOf(parent)&&count++}))}return count}calculateValidMoves(movingCols,draggingRight,mouseX){if(this.gridOptionsService.is("suppressMovableColumns")||movingCols.some((col=>col.getColDef().suppressMovable)))return[];const allDisplayedCols=this.columnModel.getDisplayedColumns(this.pinned),allGridCols=this.columnModel.getAllGridColumns(),movingDisplayedCols=allDisplayedCols.filter((col=>includes(movingCols,col))),otherDisplayedCols=allDisplayedCols.filter((col=>!includes(movingCols,col))),otherGridCols=allGridCols.filter((col=>!includes(movingCols,col)));let firstValidMove,displayIndex=0,availableWidth=mouseX;if(draggingRight){let widthOfMovingDisplayedCols=0;movingDisplayedCols.forEach((col=>widthOfMovingDisplayedCols+=col.getActualWidth())),availableWidth-=widthOfMovingDisplayedCols}if(availableWidth>0){for(let i=0;i<otherDisplayedCols.length;i++){if(availableWidth-=otherDisplayedCols[i].getActualWidth(),availableWidth<0)break;displayIndex++}draggingRight&&displayIndex++}if(displayIndex>0){const leftColumn=otherDisplayedCols[displayIndex-1];firstValidMove=otherGridCols.indexOf(leftColumn)+1}else firstValidMove=otherGridCols.indexOf(otherDisplayedCols[0]),-1===firstValidMove&&(firstValidMove=0);const validMoves=[firstValidMove],numberComparator=(a,b)=>a-b;if(draggingRight){let pointer=firstValidMove+1;const lastIndex=allGridCols.length-1;for(;pointer<=lastIndex;)validMoves.push(pointer),pointer++;validMoves.sort(numberComparator)}else{let pointer=firstValidMove;const lastIndex=allGridCols.length-1;let displacedCol=allGridCols[pointer];for(;pointer<=lastIndex&&this.isColumnHidden(allDisplayedCols,displacedCol);)pointer++,validMoves.push(pointer),displacedCol=allGridCols[pointer];pointer=firstValidMove-1;const firstDisplayIndex=0;for(;pointer>=firstDisplayIndex;)validMoves.push(pointer),pointer--;validMoves.sort(numberComparator).reverse()}return validMoves}isColumnHidden(displayedColumns,col){return displayedColumns.indexOf(col)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_MOVE))}moveInterval(){let pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,pixelsToMove>100&&(pixelsToMove=100);let pixelsMoved=null;const scrollFeature=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?pixelsMoved=scrollFeature.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=scrollFeature.scrollHorizontally(pixelsToMove)),0!==pixelsMoved)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const columnsThatCanPin=this.lastDraggingEvent.dragItem.columns.filter((c=>!c.getColDef().lockPinned));if(columnsThatCanPin.length>0&&(this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_PINNED),this.failedMoveAttempts>7)){const pinType=this.needToMoveLeft?"left":"right";this.setColumnsPinned(columnsThatCanPin,pinType,"uiColumnDragged"),this.dragAndDropService.nudge()}}}}moveColumnFeature_decorate([Autowired("columnModel")],MoveColumnFeature.prototype,"columnModel",void 0),moveColumnFeature_decorate([Autowired("dragAndDropService")],MoveColumnFeature.prototype,"dragAndDropService",void 0),moveColumnFeature_decorate([Autowired("gridOptionsService")],MoveColumnFeature.prototype,"gridOptionsService",void 0),moveColumnFeature_decorate([Autowired("ctrlsService")],MoveColumnFeature.prototype,"ctrlsService",void 0),moveColumnFeature_decorate([PostConstruct],MoveColumnFeature.prototype,"init",null);var bodyDropTarget_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class BodyDropTarget extends BeanStub{constructor(pinned,eContainer){super(),this.pinned=pinned,this.eContainer=eContainer}postConstruct(){this.ctrlsService.whenReady((p=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[p.gridBodyCtrl.getBodyViewportElement(),p.leftRowContainerCtrl.getContainerElement()],[p.bottomLeftRowContainerCtrl.getContainerElement()],[p.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[p.gridBodyCtrl.getBodyViewportElement(),p.rightRowContainerCtrl.getContainerElement()],[p.bottomRightRowContainerCtrl.getContainerElement()],[p.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[p.gridBodyCtrl.getBodyViewportElement(),p.centerRowContainerCtrl.getViewportElement()],[p.bottomCenterRowContainerCtrl.getViewportElement()],[p.topCenterRowContainerCtrl.getViewportElement()]]}}))}isInterestedIn(type){return type===DragSourceType.HeaderCell||type===DragSourceType.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(draggingEvent){return this.columnModel.isPivotMode()&&draggingEvent.dragSource.type===DragSourceType.ToolPanel}onDragEnter(draggingEvent){this.currentDropListener=this.isDropColumnInPivotMode(draggingEvent)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(draggingEvent)}onDragLeave(params){this.currentDropListener.onDragLeave(params)}onDragging(params){this.currentDropListener.onDragging(params)}onDragStop(params){this.currentDropListener.onDragStop(params)}}bodyDropTarget_decorate([Autowired("dragAndDropService")],BodyDropTarget.prototype,"dragAndDropService",void 0),bodyDropTarget_decorate([Autowired("columnModel")],BodyDropTarget.prototype,"columnModel",void 0),bodyDropTarget_decorate([Autowired("ctrlsService")],BodyDropTarget.prototype,"ctrlsService",void 0),bodyDropTarget_decorate([PostConstruct],BodyDropTarget.prototype,"postConstruct",null),bodyDropTarget_decorate([PostConstruct],BodyDropTarget.prototype,"init",null);var headerCellComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderCellComp extends AbstractHeaderCellComp{constructor(ctrl){super(HeaderCellComp.TEMPLATE,ctrl),this.headerCompVersion=0,this.column=ctrl.getColumnGroupChild(),this.pinned=ctrl.getPinned()}postConstruct(){const eGui=this.getGui();var name,value;name="col-id",null!=(value=this.column.getColId())&&""!=value?eGui.setAttribute(name,value):eGui.removeAttribute(name);const compProxy={setWidth:width=>eGui.style.width=width,addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setAriaDescription:label=>setAriaDescription(eGui,label),setAriaSort:sort=>sort?setAriaSort(eGui,sort):removeAriaSort(eGui),setUserCompDetails:compDetails=>this.setUserCompDetails(compDetails),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(compProxy,this.getGui(),this.eResize,this.eHeaderCompWrapper);const selectAllGui=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",selectAllGui)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(compDetails){this.headerCompVersion++;const versionCopy=this.headerCompVersion;compDetails.newAgStackInstance().then((comp=>this.afterCompCreated(versionCopy,comp)))}afterCompCreated(version,headerComp){version==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=headerComp,this.headerCompGui=headerComp.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(headerComp)}}HeaderCellComp.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',headerCellComp_decorate([RefSelector("eResize")],HeaderCellComp.prototype,"eResize",void 0),headerCellComp_decorate([RefSelector("eHeaderCompWrapper")],HeaderCellComp.prototype,"eHeaderCompWrapper",void 0),headerCellComp_decorate([PostConstruct],HeaderCellComp.prototype,"postConstruct",null),headerCellComp_decorate([PreDestroy],HeaderCellComp.prototype,"destroyHeaderComp",null);var headerGroupCellComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderGroupCellComp extends AbstractHeaderCellComp{constructor(ctrl){super(HeaderGroupCellComp.TEMPLATE,ctrl)}postConstruct(){const eGui=this.getGui();eGui.setAttribute("col-id",this.ctrl.getColId());const compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setResizableDisplayed:displayed=>setDisplayed(this.eResize,displayed),setWidth:width=>eGui.style.width=width,setAriaExpanded:expanded=>{return key="aria-expanded",null!=(value=expanded)?eGui.setAttribute(key,value):eGui.removeAttribute(key);var key,value},setUserCompDetails:details=>this.setUserCompDetails(details)};this.ctrl.setComp(compProxy,eGui,this.eResize)}setUserCompDetails(details){details.newAgStackInstance().then((comp=>this.afterHeaderCompCreated(comp)))}afterHeaderCompCreated(headerGroupComp){const destroyFunc=()=>this.destroyBean(headerGroupComp);if(!this.isAlive())return void destroyFunc();const eGui=this.getGui(),eHeaderGroupGui=headerGroupComp.getGui();eGui.appendChild(eHeaderGroupGui),this.addDestroyFunc(destroyFunc),this.ctrl.setDragSource(eGui)}}HeaderGroupCellComp.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',headerGroupCellComp_decorate([Autowired("userComponentFactory")],HeaderGroupCellComp.prototype,"userComponentFactory",void 0),headerGroupCellComp_decorate([RefSelector("eResize")],HeaderGroupCellComp.prototype,"eResize",void 0),headerGroupCellComp_decorate([PostConstruct],HeaderGroupCellComp.prototype,"postConstruct",null);var HeaderRowType,headerRowComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(HeaderRowType){HeaderRowType.COLUMN_GROUP="group",HeaderRowType.COLUMN="column",HeaderRowType.FLOATING_FILTER="filter"}(HeaderRowType||(HeaderRowType={}));class HeaderRowComp extends Component{constructor(ctrl){super(),this.headerComps={},this.ctrl=ctrl,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){this.getGui().style.transform=this.ctrl.getTransform(),setAriaRowIndex(this.getGui(),this.ctrl.getAriaRowIndex());const compProxy={setHeight:height=>this.getGui().style.height=height,setTop:top=>this.getGui().style.top=top,setHeaderCtrls:(ctrls,forceOrder)=>this.setHeaderCtrls(ctrls,forceOrder),setWidth:width=>this.getGui().style.width=width};this.ctrl.setComp(compProxy)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(ctrls,forceOrder){if(!this.isAlive())return;const oldComps=this.headerComps;if(this.headerComps={},ctrls.forEach((ctrl=>{const id=ctrl.getInstanceId();let comp=oldComps[id];delete oldComps[id],null==comp&&(comp=this.createHeaderComp(ctrl),this.getGui().appendChild(comp.getGui())),this.headerComps[id]=comp})),iterateObject(oldComps,((id,comp)=>{this.getGui().removeChild(comp.getGui()),this.destroyBean(comp)})),forceOrder){const comps=getAllValuesInObject(this.headerComps);comps.sort(((a,b)=>a.getCtrl().getColumnGroupChild().getLeft()-b.getCtrl().getColumnGroupChild().getLeft()));const elementsInOrder=comps.map((c=>c.getGui()));setDomChildOrder(this.getGui(),elementsInOrder)}}createHeaderComp(headerCtrl){let result;switch(this.ctrl.getType()){case HeaderRowType.COLUMN_GROUP:result=new HeaderGroupCellComp(headerCtrl);break;case HeaderRowType.FLOATING_FILTER:result=new HeaderFilterCellComp(headerCtrl);break;default:result=new HeaderCellComp(headerCtrl)}return this.createBean(result),result.setParentComponent(this),result}}headerRowComp_decorate([PostConstruct],HeaderRowComp.prototype,"init",null),headerRowComp_decorate([PreDestroy],HeaderRowComp.prototype,"destroyHeaderCtrls",null);var abstractHeaderCellCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let abstractHeaderCellCtrl_instanceIdSequence=0;class AbstractHeaderCellCtrl extends BeanStub{constructor(columnGroupChild,parentRowCtrl){super(),this.lastFocusEvent=null,this.columnGroupChild=columnGroupChild,this.parentRowCtrl=parentRowCtrl,this.instanceId=columnGroupChild.getUniqueId()+"-"+abstractHeaderCellCtrl_instanceIdSequence++}shouldStopEventPropagation(e){const{headerRowIndex,column}=this.focusService.getFocusedHeader();return isUserSuppressingHeaderKeyboardEvent(this.gridOptionsService,e,headerRowIndex,column)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(eGui){this.eGui=eGui,this.addDomData()}handleKeyDown(e){const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:wrapperHasFocus&&e.preventDefault()}}addDomData(){const key=AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,key,this),this.addDestroyFunc((()=>this.gridOptionsService.setDomData(this.eGui,key,null)))}getGui(){return this.eGui}focus(event){return!!this.eGui&&(this.lastFocusEvent=event||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}}AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",abstractHeaderCellCtrl_decorate([Autowired("focusService")],AbstractHeaderCellCtrl.prototype,"focusService",void 0),abstractHeaderCellCtrl_decorate([Autowired("beans")],AbstractHeaderCellCtrl.prototype,"beans",void 0),abstractHeaderCellCtrl_decorate([Autowired("userComponentFactory")],AbstractHeaderCellCtrl.prototype,"userComponentFactory",void 0);var setLeftFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SetLeftFeature extends BeanStub{constructor(columnOrGroup,eCell,beans,colsSpanning){super(),this.columnOrGroup=columnOrGroup,this.eCell=eCell,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=colsSpanning,this.beans=beans}setColsSpanning(colsSpanning){this.colsSpanning=colsSpanning,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?last(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Column.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const suppressMoveAnimation=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),oldLeftExists=exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&oldLeftExists&&!suppressMoveAnimation?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft(),oldLeft=colOrGroup.getOldLeft(),oldActualLeft=this.modifyLeftForPrintLayout(colOrGroup,oldLeft),actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left);this.setLeft(oldActualLeft),this.actualLeft=actualLeft,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===actualLeft&&this.setLeft(actualLeft)}))}onLeftChanged(){const colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(colOrGroup,leftPosition){if(!this.beans.gridOptionsService.isDomLayout("print"))return leftPosition;if("left"===colOrGroup.getPinned())return leftPosition;const leftWidth=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===colOrGroup.getPinned()){return leftWidth+this.beans.columnModel.getBodyContainerWidth()+leftPosition}return leftWidth+leftPosition}setLeft(value){let indexColumn;if(exists(value)&&(this.eCell.style.left=`${value}px`),this.columnOrGroup instanceof Column)indexColumn=this.columnOrGroup;else{const children=this.columnOrGroup.getLeafColumns();if(!children.length)return;children.length>1&&setAriaColSpan(this.ariaEl,children.length),indexColumn=children[0]}const index=this.beans.columnModel.getAriaColumnIndex(indexColumn);setAriaColIndex(this.ariaEl,index)}}setLeftFeature_decorate([PostConstruct],SetLeftFeature.prototype,"postConstruct",null);var hoverFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HoverFeature extends BeanStub{constructor(columns,element){super(),this.columns=columns,this.element=element}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}}hoverFeature_decorate([Autowired("columnHoverService")],HoverFeature.prototype,"columnHoverService",void 0),hoverFeature_decorate([PostConstruct],HoverFeature.prototype,"postConstruct",null);var headerFilterCellCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderFilterCellCtrl extends AbstractHeaderCellCtrl{constructor(column,parentRowCtrl){super(column,parentRowCtrl),this.iconCreated=!1,this.column=column}setComp(comp,eGui,eButtonShowMainFilter,eFloatingFilterBody){super.setGui(eGui),this.comp=comp,this.eButtonShowMainFilter=eButtonShowMainFilter,this.eFloatingFilterBody=eFloatingFilterBody,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Column.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const colDef=this.column.getColDef(),filterExists=!!colDef.filter,floatingFilterExists=!!colDef.floatingFilter;this.active=filterExists&&floatingFilterExists}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const eMenuIcon=createIconNoSpan("filter",this.gridOptionsService,this.column);eMenuIcon&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(eMenuIcon))}setupFocus(){this.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const localeTextFunc=this.localeService.getLocaleTextFunc();setAriaLabel(this.eButtonShowMainFilter,localeTextFunc("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const nextFocusableEl=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(nextFocusableEl)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void nextFocusableEl.focus();const nextFocusableColumn=this.findNextColumnWithFloatingFilter(e.shiftKey);nextFocusableColumn&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:nextFocusableColumn},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(backwards){const columModel=this.beans.columnModel;let nextCol=this.column;do{if(nextCol=backwards?columModel.getDisplayedColBefore(nextCol):columModel.getDisplayedColAfter(nextCol),!nextCol)break}while(!nextCol.getColDef().filter||!nextCol.getColDef().floatingFilter);return nextCol}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode.UP:case KeyCode.DOWN:wrapperHasFocus||e.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(wrapperHasFocus)return;e.stopPropagation();case KeyCode.ENTER:wrapperHasFocus&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case KeyCode.ESCAPE:wrapperHasFocus||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const notFromHeaderWrapper=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),fromWithinHeader=!!e.relatedTarget&&isElementChildOfClass(e.relatedTarget,"ag-floating-filter");if(notFromHeaderWrapper&&fromWithinHeader&&e.target===this.eGui){const lastFocusEvent=this.lastFocusEvent,fromTab=!(!lastFocusEvent||lastFocusEvent.key!==KeyCode.TAB);if(lastFocusEvent&&fromTab){const shouldFocusLast=lastFocusEvent.shiftKey;this.focusService.focusInto(this.eGui,shouldFocusLast)}}const rowIndex=this.getRowIndex();this.beans.focusService.setFocusedHeader(rowIndex,this.column)}setupHover(){this.createManagedBean(new HoverFeature([this.column],this.eGui));const listener=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const hovered=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",hovered)};this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,listener),listener()}setupLeft(){const setLeftFeature=new SetLeftFeature(this.column,this.eGui,this.beans);this.createManagedBean(setLeftFeature)}setupFilterButton(){const colDef=this.column.getColDef();this.suppressFilterButton=!!colDef.floatingFilterComponentParams&&!!colDef.floatingFilterComponentParams.suppressFilterButton}setupUserComp(){if(!this.active)return;const compDetails=this.filterManager.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));compDetails&&this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setCompDetails(compDetails)}showParentFilter(){const eventSource=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,eventSource,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const syncWithFilter=filterChangedEvent=>{const compPromise=this.comp.getFloatingFilterComp();compPromise&&compPromise.then((comp=>{if(comp){const parentModel=this.filterManager.getCurrentFloatingFilterParentModel(this.column);comp.onParentModelChanged(parentModel,filterChangedEvent)}}))};this.destroySyncListener=this.addManagedListener(this.column,Column.EVENT_FILTER_CHANGED,syncWithFilter),this.filterManager.isFilterActive(this.column)&&syncWithFilter(null)}setupWidth(){const listener=()=>{const width=`${this.column.getActualWidth()}px`;this.comp.setWidth(width)};this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,listener),listener()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Column.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var _a,_b;const wasActive=this.active;this.setupActive();const becomeActive=!wasActive&&this.active;wasActive&&!this.active&&(null===(_a=this.destroySyncListener)||void 0===_a||_a.call(this),null===(_b=this.destroyFilterChangedListener)||void 0===_b||_b.call(this));const newCompDetails=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,compPromise=this.comp.getFloatingFilterComp();compPromise&&newCompDetails?compPromise.then((compInstance=>{var _a;!compInstance||this.filterManager.areFilterCompsDifferent(null!==(_a=this.userCompDetails)&&void 0!==_a?_a:null,newCompDetails)?this.updateCompDetails(newCompDetails,becomeActive):this.updateFloatingFilterParams(newCompDetails)})):this.updateCompDetails(newCompDetails,becomeActive)}updateCompDetails(compDetails,becomeActive){this.setCompDetails(compDetails),this.setupFilterButton(),this.setupUi(),becomeActive&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}updateFloatingFilterParams(userCompDetails){var _a;if(!userCompDetails)return;const params=userCompDetails.params;null===(_a=this.comp.getFloatingFilterComp())||void 0===_a||_a.then((floatingFilter=>{(null==floatingFilter?void 0:floatingFilter.onParamsUpdated)&&"function"==typeof floatingFilter.onParamsUpdated&&floatingFilter.onParamsUpdated(params)}))}}headerFilterCellCtrl_decorate([Autowired("filterManager")],HeaderFilterCellCtrl.prototype,"filterManager",void 0),headerFilterCellCtrl_decorate([Autowired("columnHoverService")],HeaderFilterCellCtrl.prototype,"columnHoverService",void 0),headerFilterCellCtrl_decorate([Autowired("menuFactory")],HeaderFilterCellCtrl.prototype,"menuFactory",void 0);class CssClassApplier{static getHeaderClassesFromColDef(abstractColDef,gridOptionsService,column,columnGroup){return missing(abstractColDef)?[]:this.getColumnClassesFromCollDef(abstractColDef.headerClass,abstractColDef,gridOptionsService,column,columnGroup)}static getToolPanelClassesFromColDef(abstractColDef,gridOptionsService,column,columnGroup){return missing(abstractColDef)?[]:this.getColumnClassesFromCollDef(abstractColDef.toolPanelClass,abstractColDef,gridOptionsService,column,columnGroup)}static getClassParams(abstractColDef,gridOptionsService,column,columnGroup){return{colDef:abstractColDef,column,columnGroup,api:gridOptionsService.api,columnApi:gridOptionsService.columnApi,context:gridOptionsService.context}}static getColumnClassesFromCollDef(classesOrFunc,abstractColDef,gridOptionsService,column,columnGroup){if(missing(classesOrFunc))return[];let classToUse;if("function"==typeof classesOrFunc){classToUse=classesOrFunc(this.getClassParams(abstractColDef,gridOptionsService,column,columnGroup))}else classToUse=classesOrFunc;return"string"==typeof classToUse?[classToUse]:Array.isArray(classToUse)?[...classToUse]:[]}}var resizeFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ResizeFeature extends BeanStub{constructor(pinned,column,eResize,comp,ctrl){super(),this.pinned=pinned,this.column=column,this.eResize=eResize,this.comp=comp,this.ctrl=ctrl}postConstruct(){const colDef=this.column.getColDef(),destroyResizeFuncs=[];let canResize,canAutosize;const addResize=()=>{if(setDisplayed(this.eResize,canResize),!canResize)return;const finishedWithResizeFunc=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(destroyResizeFuncs.push(finishedWithResizeFunc),canAutosize){const skipHeaderOnAutoSize=this.gridOptionsService.is("skipHeaderOnAutoSize"),autoSizeColListener=()=>{this.columnModel.autoSizeColumn(this.column,skipHeaderOnAutoSize,"uiColumnResized")};this.eResize.addEventListener("dblclick",autoSizeColListener);const touchListener=new TouchListener(this.eResize);touchListener.addEventListener(TouchListener.EVENT_DOUBLE_TAP,autoSizeColListener),this.addDestroyFunc((()=>{this.eResize.removeEventListener("dblclick",autoSizeColListener),touchListener.removeEventListener(TouchListener.EVENT_DOUBLE_TAP,autoSizeColListener),touchListener.destroy()}))}},removeResize=()=>{destroyResizeFuncs.forEach((f=>f())),destroyResizeFuncs.length=0},refresh=()=>{const resize=this.column.isResizable(),autoSize=!this.gridOptionsService.is("suppressAutoSize")&&!colDef.suppressAutoSize;(resize!==canResize||autoSize!==canAutosize)&&(canResize=resize,canAutosize=autoSize,removeResize(),addResize())};refresh(),this.addDestroyFunc(removeResize),this.ctrl.addRefreshFunction(refresh)}onResizing(finished,resizeAmount){const resizeAmountNormalised=this.normaliseResizeAmount(resizeAmount),columnWidths=[{key:this.column,newWidth:this.resizeStartWidth+resizeAmountNormalised}];this.columnModel.setColumnWidths(columnWidths,this.resizeWithShiftKey,finished,"uiColumnResized"),finished&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(shiftKey){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=shiftKey,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(dragChange){let result=dragChange;const notPinningLeft="left"!==this.pinned,pinningRight="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?notPinningLeft&&(result*=-1):pinningRight&&(result*=-1),result}}resizeFeature_decorate([Autowired("horizontalResizeService")],ResizeFeature.prototype,"horizontalResizeService",void 0),resizeFeature_decorate([Autowired("columnModel")],ResizeFeature.prototype,"columnModel",void 0),resizeFeature_decorate([PostConstruct],ResizeFeature.prototype,"postConstruct",null);var selectAllFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class SelectAllFeature extends BeanStub{constructor(column){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=column;const colDef=column.getColDef();this.filteredOnly=!!(null==colDef?void 0:colDef.headerCheckboxSelectionFilteredOnly),this.currentPageOnly=!!(null==colDef?void 0:colDef.headerCheckboxSelectionCurrentPageOnly)}onSpaceKeyDown(e){const checkbox=this.cbSelectAll,eDocument=this.gridOptionsService.getDocument();checkbox.isDisplayed()&&!checkbox.getGui().contains(eDocument.activeElement)&&(e.preventDefault(),checkbox.setValue(!checkbox.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(ctrl){this.headerCellCtrl=ctrl,this.cbSelectAll=this.createManagedBean(new AgCheckbox),this.cbSelectAll.addCssClass("ag-header-select-all"),setAriaRole(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Events.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),setAriaHidden(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const allSelected=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(allSelected),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const translate=this.localeService.getLocaleTextFunc(),ariaStatus=this.cbSelectAll.getValue()?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked"),ariaLabel=translate("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${ariaLabel} (${ariaStatus})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${ariaLabel} (${ariaStatus})`),this.headerCellCtrl.refreshAriaDescription()}checkSelectionType(feature){return!("multiple"!==this.gridOptionsService.get("rowSelection"))||(console.warn(`AG Grid: ${feature} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(feature){const rowModelType=this.rowModel.getType();return!("clientSide"!==rowModelType&&"serverSide"!==rowModelType)||(console.warn(`AG Grid: ${feature} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${rowModelType}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const value=this.cbSelectAll.getValue();let source="uiSelectAll";this.currentPageOnly?source="uiSelectAllCurrentPage":this.filteredOnly&&(source="uiSelectAllFiltered");const params={source,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};value?this.selectionService.selectAllRowNodes(params):this.selectionService.deselectAllRowNodes(params)}isCheckboxSelection(){let result=this.column.getColDef().headerCheckboxSelection;if("function"==typeof result){result=result({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})}return!!result&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))}}selectAllFeature_decorate([Autowired("gridApi")],SelectAllFeature.prototype,"gridApi",void 0),selectAllFeature_decorate([Autowired("columnApi")],SelectAllFeature.prototype,"columnApi",void 0),selectAllFeature_decorate([Autowired("rowModel")],SelectAllFeature.prototype,"rowModel",void 0),selectAllFeature_decorate([Autowired("selectionService")],SelectAllFeature.prototype,"selectionService",void 0);var TabGuardClassNames,tabGuardCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(TabGuardClassNames){TabGuardClassNames.TAB_GUARD="ag-tab-guard",TabGuardClassNames.TAB_GUARD_TOP="ag-tab-guard-top",TabGuardClassNames.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(TabGuardClassNames||(TabGuardClassNames={}));class TabGuardCtrl extends BeanStub{constructor(params){super(),this.skipTabGuardFocus=!1;const{comp,eTopGuard,eBottomGuard,focusInnerElement,onFocusIn,onFocusOut,shouldStopEventPropagation,onTabKeyDown,handleKeyDown,eFocusableElement}=params;this.comp=comp,this.eTopGuard=eTopGuard,this.eBottomGuard=eBottomGuard,this.providedFocusInnerElement=focusInnerElement,this.eFocusableElement=eFocusableElement,this.providedFocusIn=onFocusIn,this.providedFocusOut=onFocusOut,this.providedShouldStopEventPropagation=shouldStopEventPropagation,this.providedOnTabKeyDown=onTabKeyDown,this.providedHandleKeyDown=handleKeyDown}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((guard=>this.addManagedListener(guard,"focus",this.onFocus.bind(this))))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){const tabIndex=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(tabIndex.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);const fromBottom=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(fromBottom):this.focusInnerElement(fromBottom)}onFocusIn(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()}onFocusOut(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(e.defaultPrevented)return;const tabGuardsAreActive=this.tabGuardsAreActive();tabGuardsAreActive&&this.deactivateTabGuards();const nextRoot=this.getNextFocusableElement(e.shiftKey);tabGuardsAreActive&&setTimeout((()=>this.activateTabGuards()),0),nextRoot&&(nextRoot.focus(),e.preventDefault())}focusInnerElement(fromBottom=!1){const focusable=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(focusable.splice(0,1),focusable.splice(focusable.length-1,1)),focusable.length&&focusable[fromBottom?focusable.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(backwards){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,backwards)}forceFocusOutOfContainer(up=!1){const tabGuardToFocus=up?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,tabGuardToFocus.focus()}}tabGuardCtrl_decorate([Autowired("focusService")],TabGuardCtrl.prototype,"focusService",void 0),tabGuardCtrl_decorate([PostConstruct],TabGuardCtrl.prototype,"postConstruct",null);var FocusService_1,focusService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FocusService=FocusService_1=class FocusService extends BeanStub{static addKeyboardModeEvents(doc,controller){const docControllers=FocusService_1.instancesMonitored.get(doc);docControllers&&docControllers.length>0?-1===docControllers.indexOf(controller)&&docControllers.push(controller):(FocusService_1.instancesMonitored.set(doc,[controller]),doc.addEventListener("keydown",FocusService_1.toggleKeyboardMode),doc.addEventListener("mousedown",FocusService_1.toggleKeyboardMode))}static removeKeyboardModeEvents(doc,controller){const docControllers=FocusService_1.instancesMonitored.get(doc);let newControllers=[];docControllers&&docControllers.length&&(newControllers=[...docControllers].filter((currentGridCore=>currentGridCore!==controller)),FocusService_1.instancesMonitored.set(doc,newControllers)),0===newControllers.length&&(doc.removeEventListener("keydown",FocusService_1.toggleKeyboardMode),doc.removeEventListener("mousedown",FocusService_1.toggleKeyboardMode))}static toggleKeyboardMode(event){const isKeyboardActive=FocusService_1.keyboardModeActive,isKeyboardEvent="keydown"===event.type;if(isKeyboardEvent&&(event.ctrlKey||event.metaKey||event.altKey))return;if(isKeyboardActive&&isKeyboardEvent||!isKeyboardActive&&!isKeyboardEvent)return;FocusService_1.keyboardModeActive=isKeyboardEvent;const doc=event.target.ownerDocument;if(!doc)return;const controllersForDoc=FocusService_1.instancesMonitored.get(doc);controllersForDoc&&controllersForDoc.forEach((controller=>{controller.dispatchEvent({type:isKeyboardEvent?Events.EVENT_KEYBOARD_FOCUS:Events.EVENT_MOUSE_FOCUS})}))}init(){const clearFocusedCellListener=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,clearFocusedCellListener),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,clearFocusedCellListener),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,clearFocusedCellListener),this.ctrlsService.whenReady((p=>{this.gridCtrl=p.gridCtrl;const doc=this.gridOptionsService.getDocument();FocusService_1.addKeyboardModeEvents(doc,this.gridCtrl),this.addDestroyFunc((()=>this.unregisterGridCompController(this.gridCtrl)))}))}unregisterGridCompController(gridCompController){const doc=this.gridOptionsService.getDocument();FocusService_1.removeKeyboardModeEvents(doc,gridCompController)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const col=this.focusedCellPosition.column,colFromColumnModel=this.columnModel.getGridColumn(col.getId());col!==colFromColumnModel&&this.clearFocusedCell()}isKeyboardMode(){return FocusService_1.keyboardModeActive}getFocusCellToUseAfterRefresh(){const eDocument=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(eDocument.activeElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const eDocument=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(eDocument.activeElement,AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(eBrowserCell,key){let ePointer=eBrowserCell;for(;ePointer;){if(this.gridOptionsService.getDomData(ePointer,key))return!1;ePointer=ePointer.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(cell){return!!this.isCellRestoreFocused(cell)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}isCellRestoreFocused(cellPosition){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(cellPosition,this.restoredFocusedCellPosition)}setRestoreFocusedCell(cellPosition){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=cellPosition)}getFocusEventParams(){const{rowIndex,rowPinned,column}=this.focusedCellPosition,params={rowIndex,rowPinned,column,isFullWidthCell:!1},rowCtrl=this.rowRenderer.getRowByPosition({rowIndex,rowPinned});return rowCtrl&&(params.isFullWidthCell=rowCtrl.isFullWidth()),params}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const event=Object.assign({type:Events.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(event)}setFocusedCell(params){const{column,rowIndex,rowPinned,forceBrowserFocus=!1,preventScrollOnBrowserFocus=!1}=params,gridColumn=this.columnModel.getGridColumn(column);if(!gridColumn)return void(this.focusedCellPosition=null);this.focusedCellPosition=gridColumn?{rowIndex,rowPinned:makeNull(rowPinned),column:gridColumn}:null;const event=Object.assign(Object.assign({type:Events.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus,preventScrollOnBrowserFocus,floating:null});this.eventService.dispatchEvent(event)}isCellFocused(cellPosition){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(cellPosition,this.focusedCellPosition)}isRowNodeFocused(rowNode){return this.isRowFocused(rowNode.rowIndex,rowNode.rowPinned)}isHeaderWrapperFocused(headerCtrl){if(null==this.focusedHeaderPosition)return!1;const column=headerCtrl.getColumnGroupChild(),headerRowIndex=headerCtrl.getRowIndex(),pinned=headerCtrl.getPinned(),{column:focusedColumn,headerRowIndex:focusedHeaderRowIndex}=this.focusedHeaderPosition;return column===focusedColumn&&headerRowIndex===focusedHeaderRowIndex&&pinned==focusedColumn.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(headerRowIndex,column){this.focusedHeaderPosition={headerRowIndex,column}}focusHeaderPosition(params){const{direction,fromTab,allowUserOverride,event,fromCell}=params;let{headerPosition}=params;if(fromCell&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(headerPosition);if(allowUserOverride){const currentPosition=this.getFocusedHeader(),headerRowCount=this.headerNavigationService.getHeaderRowCount();if(fromTab){const userFunc=this.gridOptionsService.getCallback("tabToNextHeader");if(userFunc){headerPosition=userFunc({backwards:"Before"===direction,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount})}}else{const userFunc=this.gridOptionsService.getCallback("navigateToNextHeader");if(userFunc&&event){headerPosition=userFunc({key:event.key,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount,event})}}}if(!headerPosition)return!1;if(-1===headerPosition.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(headerPosition):this.focusGridView(headerPosition.column);this.headerNavigationService.scrollToColumn(headerPosition.column,direction);return this.ctrlsService.getHeaderRowContainerCtrl(headerPosition.column.getPinned()).focusHeader(headerPosition.headerRowIndex,headerPosition.column,event)}focusFirstHeader(){let firstColumn=this.columnModel.getAllDisplayedColumns()[0];return!!firstColumn&&(firstColumn.getParent()&&(firstColumn=this.columnModel.getColumnGroupAtLevel(firstColumn,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:firstColumn}}))}focusLastHeader(event){const headerRowIndex=this.headerNavigationService.getHeaderRowCount()-1,column=last(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex,column},event})}focusPreviousFromFirstCell(event){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(event)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(rowIndex,floating){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===rowIndex&&this.focusedCellPosition.rowPinned===makeNull(floating))}findFocusableElements(rootNode,exclude,onlyUnmanaged=!1){const focusableString=FOCUSABLE_SELECTOR;let excludeString=FOCUSABLE_EXCLUDE;exclude&&(excludeString+=", "+exclude),onlyUnmanaged&&(excludeString+=', [tabindex="-1"]');const nodes=Array.prototype.slice.apply(rootNode.querySelectorAll(focusableString)),excludeNodes=Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));if(!excludeNodes.length)return nodes;return b=excludeNodes,nodes.filter((element=>-1===b.indexOf(element)));var b}focusInto(rootNode,up=!1,onlyUnmanaged=!1){const focusableElements=this.findFocusableElements(rootNode,null,onlyUnmanaged),toFocus=up?last(focusableElements):focusableElements[0];return!!toFocus&&(toFocus.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(rootNode,referenceElement){if(!referenceElement)return null;const focusableElements=this.findFocusableElements(rootNode),referenceIndex=focusableElements.indexOf(referenceElement);if(-1===referenceIndex)return null;let lastTabGuardIndex=-1;for(let i=referenceIndex-1;i>=0;i--)if(focusableElements[i].classList.contains(TabGuardClassNames.TAB_GUARD_TOP)){lastTabGuardIndex=i;break}return lastTabGuardIndex<=0?null:focusableElements[lastTabGuardIndex-1]}findNextFocusableElement(rootNode=this.eGridDiv,onlyManaged,backwards){const focusable=this.findFocusableElements(rootNode,onlyManaged?':not([tabindex="-1"])':null),activeEl=this.gridOptionsService.getDocument().activeElement;let currentIndex;currentIndex=onlyManaged?focusable.findIndex((el=>el.contains(activeEl))):focusable.indexOf(activeEl);const nextIndex=currentIndex+(backwards?-1:1);return nextIndex<0||nextIndex>=focusable.length?null:focusable[nextIndex]}isTargetUnderManagedComponent(rootNode,target){if(!target)return!1;const managedContainers=rootNode.querySelectorAll(`.${ManagedFocusFeature.FOCUS_MANAGED_CLASS}`);if(!managedContainers.length)return!1;for(let i=0;i<managedContainers.length;i++)if(managedContainers[i].contains(target))return!0;return!1}findTabbableParent(node,limit=5){let counter=0;for(;node&&null===getTabIndex(node)&&++counter<=limit;)node=node.parentElement;return null===getTabIndex(node)?null:node}focusGridView(column,backwards){if(this.gridOptionsService.is("suppressCellFocus"))return backwards?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const nextRow=backwards?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!nextRow)return!1;const{rowIndex,rowPinned}=nextRow,focusedHeader=this.getFocusedHeader();if(!column&&focusedHeader&&(column=focusedHeader.column),null==rowIndex||!column)return!1;if(this.navigationService.ensureCellVisible({rowIndex,column,rowPinned}),this.setFocusedCell({rowIndex,column,rowPinned:makeNull(rowPinned),forceBrowserFocus:!0}),this.rangeService){const cellPosition={rowIndex,rowPinned,column};this.rangeService.setRangeToCell(cellPosition)}return!0}focusNextGridCoreContainer(backwards,forceOut=!1){return!(forceOut||!this.gridCtrl.focusNextInnerContainer(backwards))||((forceOut||!backwards&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(backwards),!1)}focusAdvancedFilter(position){return this.advancedFilterFocusColumn=null==position?void 0:position.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(backwards,forceFirstColumn){var _a,_b;const column=null!==(_a=forceFirstColumn?void 0:this.advancedFilterFocusColumn)&&void 0!==_a?_a:null===(_b=this.columnModel.getAllDisplayedColumns())||void 0===_b?void 0:_b[0];return backwards?this.focusHeaderPosition({headerPosition:{column,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(column)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};FocusService.AG_KEYBOARD_FOCUS="ag-keyboard-focus",FocusService.keyboardModeActive=!1,FocusService.instancesMonitored=new Map,focusService_decorate([Autowired("eGridDiv")],FocusService.prototype,"eGridDiv",void 0),focusService_decorate([Autowired("columnModel")],FocusService.prototype,"columnModel",void 0),focusService_decorate([Autowired("headerNavigationService")],FocusService.prototype,"headerNavigationService",void 0),focusService_decorate([Autowired("rowRenderer")],FocusService.prototype,"rowRenderer",void 0),focusService_decorate([Autowired("rowPositionUtils")],FocusService.prototype,"rowPositionUtils",void 0),focusService_decorate([Autowired("cellPositionUtils")],FocusService.prototype,"cellPositionUtils",void 0),focusService_decorate([Optional("rangeService")],FocusService.prototype,"rangeService",void 0),focusService_decorate([Autowired("navigationService")],FocusService.prototype,"navigationService",void 0),focusService_decorate([Autowired("ctrlsService")],FocusService.prototype,"ctrlsService",void 0),focusService_decorate([Autowired("filterManager")],FocusService.prototype,"filterManager",void 0),focusService_decorate([Optional("advancedFilterService")],FocusService.prototype,"advancedFilterService",void 0),focusService_decorate([PostConstruct],FocusService.prototype,"init",null),FocusService=FocusService_1=focusService_decorate([Bean("focusService")],FocusService);var headerCellCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderCellCtrl extends AbstractHeaderCellCtrl{constructor(column,parentRowCtrl){super(column,parentRowCtrl),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=column}setComp(comp,eGui,eResize,eHeaderCompWrapper){super.setGui(eGui),this.comp=comp,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(eHeaderCompWrapper),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new ResizeFeature(this.getPinned(),this.column,eResize,comp,this)),this.createManagedBean(new HoverFeature([this.column],eGui)),this.createManagedBean(new SetLeftFeature(this.column,eGui,this.beans)),this.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(eGui),this.addManagedListener(this.column,Column.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))}addMouseDownListenerIfNeeded(eGui){if(!isBrowserSafari())return;const eDocument=this.gridOptionsService.getDocument();["mousedown","touchstart"].forEach((eventName=>{this.addManagedListener(eGui,eventName,(e=>{const activeEl=eDocument.activeElement;activeEl===eGui||eGui.contains(activeEl)||(eGui.focus(),FocusService.toggleKeyboardMode(e))}))}))}setupUserComp(){const compDetails=this.lookupUserCompDetails();this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setUserCompDetails(compDetails)}lookupUserCompDetails(){const params=this.createParams(),colDef=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(colDef,params)}createParams(){const colDef=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:colDef.sortable,enableMenu:this.menuEnabled,showColumnMenu:source=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,source)},progressSort:multiSort=>{this.sortController.progressSort(this.column,!!multiSort,"uiColumnSorted")},setSort:(sort,multiSort)=>{this.sortController.setSortForColumn(this.column,sort,!!multiSort,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new SelectAllFeature(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===KeyCode.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===KeyCode.ENTER&&this.onEnterKeyDown(e)}onEnterKeyDown(e){const headerComp=this.comp.getUserCompInstance();if(headerComp)if(e.ctrlKey||e.metaKey)this.menuEnabled&&headerComp.showMenu&&(e.preventDefault(),headerComp.showMenu());else if(this.sortable){const multiSort=e.shiftKey;this.sortController.progressSort(this.column,multiSort,"uiColumnSorted")}}isMenuEnabled(){return this.menuEnabled}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const rowIndex=this.getRowIndex();this.focusService.setFocusedHeader(rowIndex,this.column)}this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const tooltipCtrl={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},tooltipFeature=this.createManagedBean(new TooltipFeature(tooltipCtrl,this.beans));tooltipFeature.setComp(this.eGui),this.refreshFunctions.push((()=>tooltipFeature.refreshToolTip()))}setupClassesFromColDef(){const refreshHeaderClasses=()=>{const colDef=this.column.getColDef(),classes=CssClassApplier.getHeaderClassesFromColDef(colDef,this.gridOptionsService,this.column,null),oldClasses=this.userHeaderClasses;this.userHeaderClasses=new Set(classes),classes.forEach((c=>{oldClasses.has(c)?oldClasses.delete(c):this.comp.addOrRemoveCssClass(c,!0)})),oldClasses.forEach((c=>this.comp.addOrRemoveCssClass(c,!1)))};this.refreshFunctions.push(refreshHeaderClasses),refreshHeaderClasses()}setDragSource(eSource){if(this.dragSourceElement=eSource,this.removeDragSource(),!eSource)return;if(!this.draggable)return;let hideColumnOnExit=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:DragSourceType.HeaderCell,eElement:eSource,getDefaultIconName:()=>hideColumnOnExit?DragAndDropService.ICON_HIDE:DragAndDropService.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>{hideColumnOnExit=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),this.column.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:dragItem=>{var _a;if(hideColumnOnExit){const unlockedColumns=(null===(_a=null==dragItem?void 0:dragItem.columns)||void 0===_a?void 0:_a.filter((col=>!col.getColDef().lockVisible)))||[];this.columnModel.setColumnsVisible(unlockedColumns,!0,"uiColumnMoved")}},onGridExit:dragItem=>{var _a;if(hideColumnOnExit){const unlockedColumns=(null===(_a=null==dragItem?void 0:dragItem.columns)||void 0===_a?void 0:_a.filter((col=>!col.getColDef().lockVisible)))||[];this.columnModel.setColumnsVisible(unlockedColumns,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const visibleState={};return visibleState[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const colDef=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!colDef.suppressMenu,this.sortable=colDef.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(func){this.refreshFunctions.push(func)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((f=>f()))}refreshHeaderComp(){const newCompDetails=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==newCompDetails.componentClass)&&this.attemptHeaderCompRefresh(newCompDetails.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(newCompDetails)}attemptHeaderCompRefresh(params){const headerComp=this.comp.getUserCompInstance();if(!headerComp)return!1;if(!headerComp.refresh)return!1;return headerComp.refresh(params)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const colDef=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!colDef.suppressMovable&&!colDef.lockPosition)||!!colDef.enableRowGroup||!!colDef.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const listener=()=>{const columnWidth=this.column.getActualWidth();this.comp.setWidth(`${columnWidth}px`)};this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,listener),listener()}setupMovingCss(){const listener=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Column.EVENT_MOVING_CHANGED,listener),listener()}setupMenuClass(){const listener=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Column.EVENT_MENU_VISIBLE_CHANGED,listener),listener()}setupSortableClass(){const updateSortableCssClass=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};updateSortableCssClass(),this.addRefreshFunction(updateSortableCssClass),this.addManagedListener(this.eventService,Column.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const listener=()=>{const wrapText=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",wrapText)};listener(),this.addRefreshFunction(listener)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui,column,comp,columnModel,gridOptionsService}=this;if(!column.isSpanHeaderHeight())return;const{numberOfParents,isSpanningTotal}=this.getColumnGroupPaddingInfo();comp.addOrRemoveCssClass("ag-header-span-height",numberOfParents>0);const headerHeight=columnModel.getColumnHeaderRowHeight();if(0===numberOfParents)return comp.addOrRemoveCssClass("ag-header-span-total",!1),eGui.style.setProperty("top","0px"),void eGui.style.setProperty("height",`${headerHeight}px`);comp.addOrRemoveCssClass("ag-header-span-total",isSpanningTotal);const extraHeight=numberOfParents*(gridOptionsService.is("pivotMode")?columnModel.getPivotGroupHeaderHeight():columnModel.getGroupHeaderHeight());eGui.style.setProperty("top",-extraHeight+"px"),eGui.style.setProperty("height",`${headerHeight+extraHeight}px`)}getColumnGroupPaddingInfo(){let parent=this.column.getParent();if(!parent||!parent.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const numberOfParents=parent.getPaddingLevel()+1;let isSpanningTotal=!0;for(;parent;){if(!parent.isPadding()){isSpanningTotal=!1;break}parent=parent.getParent()}return{numberOfParents,isSpanningTotal}}setupAutoHeight(wrapperElement){const measureHeight=timesCalled=>{if(!this.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=getElementSize(this.getGui()),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=wrapperElement.offsetHeight+extraHeight;if(timesCalled<5){const doc=this.beans.gridOptionsService.getDocument();if(!doc||!doc.contains(wrapperElement)||0==autoHeight)return void this.beans.frameworkOverrides.setTimeout((()=>measureHeight(timesCalled+1)),0)}this.columnModel.setColumnHeaderHeight(this.column,autoHeight)};let stopResizeObserver,isMeasuring=!1;const checkMeasuring=()=>{const newValue=this.column.isAutoHeaderHeight();newValue&&!isMeasuring&&startMeasuring(),!newValue&&isMeasuring&&stopMeasuring()},startMeasuring=()=>{isMeasuring=!0,measureHeight(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),stopResizeObserver=this.resizeObserverService.observeResize(wrapperElement,(()=>measureHeight(0)))},stopMeasuring=()=>{isMeasuring=!1,stopResizeObserver&&stopResizeObserver(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),stopResizeObserver=void 0};checkMeasuring(),this.addDestroyFunc((()=>stopMeasuring())),this.addManagedListener(this.column,Column.EVENT_WIDTH_CHANGED,(()=>isMeasuring&&measureHeight(0))),this.addManagedListener(this.eventService,Column.EVENT_SORT_CHANGED,(()=>{isMeasuring&&this.beans.frameworkOverrides.setTimeout((()=>measureHeight(0)))})),this.addRefreshFunction(checkMeasuring)}refreshAriaSort(){if(this.sortable){const translate=this.localeService.getLocaleTextFunc(),sort=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(getAriaSortState(sort)),this.setAriaDescriptionProperty("sort",translate("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const translate=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",translate("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(property,value){null!=value?this.ariaDescriptionProperties.set(property,value):this.ariaDescriptionProperties.delete(property)}refreshAriaDescription(){const descriptionArray=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(descriptionArray.length?descriptionArray.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const listener=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const isHovered=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",isHovered)};this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,listener),listener()}setupFilterCss(){const listener=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,Column.EVENT_FILTER_ACTIVE_CHANGED,listener),listener()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const listener=e=>this.setActiveHeader("mouseenter"===e.type);this.addManagedListener(this.getGui(),"mouseenter",listener),this.addManagedListener(this.getGui(),"mouseleave",listener)}setActiveHeader(active){this.comp.addOrRemoveCssClass("ag-header-active",active)}}headerCellCtrl_decorate([Autowired("columnModel")],HeaderCellCtrl.prototype,"columnModel",void 0),headerCellCtrl_decorate([Autowired("columnHoverService")],HeaderCellCtrl.prototype,"columnHoverService",void 0),headerCellCtrl_decorate([Autowired("sortController")],HeaderCellCtrl.prototype,"sortController",void 0),headerCellCtrl_decorate([Autowired("menuFactory")],HeaderCellCtrl.prototype,"menuFactory",void 0),headerCellCtrl_decorate([Autowired("dragAndDropService")],HeaderCellCtrl.prototype,"dragAndDropService",void 0),headerCellCtrl_decorate([Autowired("resizeObserverService")],HeaderCellCtrl.prototype,"resizeObserverService",void 0),headerCellCtrl_decorate([Autowired("gridApi")],HeaderCellCtrl.prototype,"gridApi",void 0),headerCellCtrl_decorate([Autowired("columnApi")],HeaderCellCtrl.prototype,"columnApi",void 0),headerCellCtrl_decorate([PreDestroy],HeaderCellCtrl.prototype,"removeDragSource",null);var groupResizeFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GroupResizeFeature extends BeanStub{constructor(comp,eResize,pinned,columnGroup){super(),this.eResize=eResize,this.comp=comp,this.pinned=pinned,this.columnGroup=columnGroup}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const finishedWithResizeFunc=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(finishedWithResizeFunc),!this.gridOptionsService.is("suppressAutoSize")){const skipHeaderOnAutoSize=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const keys=[];this.columnGroup.getDisplayedLeafColumns().forEach((column=>{column.getColDef().suppressAutoSize||keys.push(column.getColId())})),keys.length>0&&this.columnModel.autoSizeColumns({columns:keys,skipHeader:skipHeaderOnAutoSize,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(shiftKey){this.calculateInitialValues();let takeFromGroup=null;if(shiftKey&&(takeFromGroup=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),takeFromGroup){const takeFromLeafCols=takeFromGroup.getDisplayedLeafColumns();this.resizeTakeFromCols=takeFromLeafCols.filter((col=>col.isResizable())),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((col=>this.resizeTakeFromStartWidth+=col.getActualWidth())),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((col=>this.resizeTakeFromRatios.push(col.getActualWidth()/this.resizeTakeFromStartWidth)))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(finished,resizeAmount,source="uiColumnResized"){const resizeAmountNormalised=this.normaliseDragChange(resizeAmount),width=this.resizeStartWidth+resizeAmountNormalised;this.resizeColumns(width,source,finished)}resizeLeafColumnsToFit(source){const preferredSize=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),preferredSize>this.resizeStartWidth&&this.resizeColumns(preferredSize,source,!0)}resizeColumns(totalWidth,source,finished=!0){const resizeSets=[];if(resizeSets.push({columns:this.resizeCols,ratios:this.resizeRatios,width:totalWidth}),this.resizeTakeFromCols){const diff=totalWidth-this.resizeStartWidth;resizeSets.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-diff})}this.columnModel.resizeColumnSets({resizeSets,finished,source}),finished&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const leafCols=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=leafCols.filter((col=>col.isResizable())),this.resizeStartWidth=0,this.resizeCols.forEach((col=>this.resizeStartWidth+=col.getActualWidth())),this.resizeRatios=[],this.resizeCols.forEach((col=>this.resizeRatios.push(col.getActualWidth()/this.resizeStartWidth)))}normaliseDragChange(dragChange){let result=dragChange;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(result*=-1):"right"===this.pinned&&(result*=-1),result}}groupResizeFeature_decorate([Autowired("horizontalResizeService")],GroupResizeFeature.prototype,"horizontalResizeService",void 0),groupResizeFeature_decorate([Autowired("autoWidthCalculator")],GroupResizeFeature.prototype,"autoWidthCalculator",void 0),groupResizeFeature_decorate([Autowired("columnModel")],GroupResizeFeature.prototype,"columnModel",void 0),groupResizeFeature_decorate([PostConstruct],GroupResizeFeature.prototype,"postConstruct",null);var groupWidthFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GroupWidthFeature extends BeanStub{constructor(comp,columnGroup){super(),this.removeChildListenersFuncs=[],this.columnGroup=columnGroup,this.comp=comp}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const widthChangedListener=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((column=>{column.addEventListener("widthChanged",widthChangedListener),column.addEventListener("visibleChanged",widthChangedListener),this.removeChildListenersFuncs.push((()=>{column.removeEventListener("widthChanged",widthChangedListener),column.removeEventListener("visibleChanged",widthChangedListener)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((func=>func())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const columnWidth=this.columnGroup.getActualWidth();this.comp.setWidth(`${columnWidth}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===columnWidth)}}groupWidthFeature_decorate([PostConstruct],GroupWidthFeature.prototype,"postConstruct",null);var headerGroupCellCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderGroupCellCtrl extends AbstractHeaderCellCtrl{constructor(columnGroup,parentRowCtrl){super(columnGroup,parentRowCtrl),this.columnGroup=columnGroup}setComp(comp,eGui,eResize){super.setGui(eGui),this.comp=comp,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const pinned=this.getParentRowCtrl().getPinned(),leafCols=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new HoverFeature(leafCols,eGui)),this.createManagedBean(new SetLeftFeature(this.columnGroup,eGui,this.beans)),this.createManagedBean(new GroupWidthFeature(comp,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new GroupResizeFeature(comp,eResize,pinned,this.columnGroup)),this.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(source){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(source)}setupUserComp(){let displayName=this.displayName;const params={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:expanded=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),expanded,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!displayName){let columnGroup=this.columnGroup;const leafCols=columnGroup.getLeafColumns();for(;columnGroup.getParent()&&columnGroup.getParent().getLeafColumns().length===leafCols.length;)columnGroup=columnGroup.getParent();const colGroupDef=columnGroup.getColGroupDef();colGroupDef&&(displayName=colGroupDef.headerName),displayName||(displayName=leafCols?this.columnModel.getDisplayNameForColumn(leafCols[0],"header",!0):"")}const compDetails=this.userComponentFactory.getHeaderGroupCompDetails(params);this.comp.setUserCompDetails(compDetails)}setupTooltip(){const colGroupDef=this.columnGroup.getColGroupDef(),tooltipCtrl={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>colGroupDef&&colGroupDef.headerTooltip};colGroupDef&&(tooltipCtrl.getColDef=()=>colGroupDef);this.createManagedBean(new TooltipFeature(tooltipCtrl,this.beans)).setComp(this.eGui)}setupExpandable(){const providedColGroup=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(providedColGroup,ProvidedColumnGroup.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(providedColGroup,ProvidedColumnGroup.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const column=this.columnGroup;this.expandable=column.isExpandable();const expanded=column.isExpanded();this.expandable?this.comp.setAriaExpanded(expanded?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.columnGroup.getUniqueId()}addClasses(){const colGroupDef=this.columnGroup.getColGroupDef(),classes=CssClassApplier.getHeaderClassesFromColDef(colGroupDef,this.gridOptionsService,null,this.columnGroup);if(this.columnGroup.isPadding()){classes.push("ag-header-group-cell-no-group");this.columnGroup.getLeafColumns().every((col=>col.isSpanHeaderHeight()))&&classes.push("ag-header-span-height")}else classes.push("ag-header-group-cell-with-group");classes.forEach((c=>this.comp.addOrRemoveCssClass(c,!0)))}setupMovingCss(){const leafColumns=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),listener=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());leafColumns.forEach((col=>{this.addManagedListener(col,Column.EVENT_MOVING_CHANGED,listener)})),listener()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const rowIndex=this.getRowIndex();this.beans.focusService.setFocusedHeader(rowIndex,this.columnGroup)}}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();if(this.expandable&&wrapperHasFocus&&e.key===KeyCode.ENTER){const column=this.columnGroup,newExpandedValue=!column.isExpanded();this.columnModel.setColumnGroupOpened(column.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")}}setDragSource(eHeaderGroup){if(this.isSuppressMoving())return;const allLeafColumns=this.columnGroup.getProvidedColumnGroup().getLeafColumns();let hideColumnOnExit=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const dragSource={type:DragSourceType.HeaderCell,eElement:eHeaderGroup,getDefaultIconName:()=>hideColumnOnExit?DragAndDropService.ICON_HIDE:DragAndDropService.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>{hideColumnOnExit=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),allLeafColumns.forEach((col=>col.setMoving(!0,"uiColumnDragged")))},onDragStopped:()=>allLeafColumns.forEach((col=>col.setMoving(!1,"uiColumnDragged"))),onGridEnter:dragItem=>{var _a;if(hideColumnOnExit){const unlockedColumns=(null===(_a=null==dragItem?void 0:dragItem.columns)||void 0===_a?void 0:_a.filter((col=>!col.getColDef().lockVisible)))||[];this.columnModel.setColumnsVisible(unlockedColumns,!0,"uiColumnMoved")}},onGridExit:dragItem=>{var _a;if(hideColumnOnExit){const unlockedColumns=(null===(_a=null==dragItem?void 0:dragItem.columns)||void 0===_a?void 0:_a.filter((col=>!col.getColDef().lockVisible)))||[];this.columnModel.setColumnsVisible(unlockedColumns,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(dragSource,!0),this.addDestroyFunc((()=>this.dragAndDropService.removeDragSource(dragSource)))}getDragItemForGroup(){const allColumnsOriginalOrder=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),visibleState={};allColumnsOriginalOrder.forEach((column=>visibleState[column.getId()]=column.isVisible()));const allColumnsCurrentOrder=[];return this.columnModel.getAllDisplayedColumns().forEach((column=>{allColumnsOriginalOrder.indexOf(column)>=0&&(allColumnsCurrentOrder.push(column),removeFromArray(allColumnsOriginalOrder,column))})),allColumnsOriginalOrder.forEach((column=>allColumnsCurrentOrder.push(column))),{columns:allColumnsCurrentOrder,visibleState}}isSuppressMoving(){let childSuppressesMoving=!1;this.columnGroup.getLeafColumns().forEach((column=>{(column.getColDef().suppressMovable||column.getColDef().lockPosition)&&(childSuppressesMoving=!0)}));return childSuppressesMoving||this.gridOptionsService.is("suppressMovableColumns")}}headerGroupCellCtrl_decorate([Autowired("columnModel")],HeaderGroupCellCtrl.prototype,"columnModel",void 0),headerGroupCellCtrl_decorate([Autowired("dragAndDropService")],HeaderGroupCellCtrl.prototype,"dragAndDropService",void 0),headerGroupCellCtrl_decorate([Autowired("gridApi")],HeaderGroupCellCtrl.prototype,"gridApi",void 0),headerGroupCellCtrl_decorate([Autowired("columnApi")],HeaderGroupCellCtrl.prototype,"columnApi",void 0);var headerRowCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let headerRowCtrl_instanceIdSequence=0;class HeaderRowCtrl extends BeanStub{constructor(rowIndex,pinned,type){super(),this.instanceId=headerRowCtrl_instanceIdSequence++,this.headerCellCtrls={},this.rowIndex=rowIndex,this.pinned=pinned,this.type=type;const typeClass=type==HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":type==HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${typeClass}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(comp,initCompState=!0){this.comp=comp,initCompState&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}getTransform(){if(isBrowserSafari())return"translateZ(0)"}addEventListeners(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_VIRTUAL_COLUMNS_CHANGED,(params=>this.onVirtualColumnsChanged(params.afterScroll))),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(column){return values(this.headerCellCtrls).find((cellCtrl=>cellCtrl.getColumnGroupChild()===column))}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const width=this.getWidthForRow();this.comp.setWidth(`${width}px`)}getWidthForRow(){if(this.isPrintLayout){return null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset,rowHeight}=this.getTopAndHeight();this.comp.setTop(topOffset+"px"),this.comp.setHeight(rowHeight+"px")}getTopAndHeight(){let headerRowCount=this.columnModel.getHeaderRowCount();const sizes=[];let numberOfFloating=0;this.filterManager.hasFloatingFilters()&&(headerRowCount++,numberOfFloating=1);const groupHeight=this.columnModel.getColumnGroupHeaderRowHeight(),headerHeight=this.columnModel.getColumnHeaderRowHeight(),numberOfGroups=headerRowCount-(1+numberOfFloating);for(let i=0;i<numberOfGroups;i++)sizes.push(groupHeight);sizes.push(headerHeight);for(let i=0;i<numberOfFloating;i++)sizes.push(this.columnModel.getFloatingFiltersHeight());let topOffset=0;for(let i=0;i<this.rowIndex;i++)topOffset+=sizes[i];return{topOffset,rowHeight:sizes[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(afterScroll=!1){const ctrlsToDisplay=this.getHeaderCtrls(),forceOrder=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(ctrlsToDisplay,forceOrder,afterScroll)}getHeaderCtrls(){const oldCtrls=this.headerCellCtrls;this.headerCellCtrls={};this.getColumnsInViewport().forEach((child=>{if(child.isEmptyGroup())return;const idOfChild=child.getUniqueId();let headerCtrl=oldCtrls[idOfChild];delete oldCtrls[idOfChild];if(headerCtrl&&headerCtrl.getColumnGroupChild()!=child&&(this.destroyBean(headerCtrl),headerCtrl=void 0),null==headerCtrl)switch(this.type){case HeaderRowType.FLOATING_FILTER:headerCtrl=this.createBean(new HeaderFilterCellCtrl(child,this));break;case HeaderRowType.COLUMN_GROUP:headerCtrl=this.createBean(new HeaderGroupCellCtrl(child,this));break;default:headerCtrl=this.createBean(new HeaderCellCtrl(child,this))}this.headerCellCtrls[idOfChild]=headerCtrl}));const isFocusedAndDisplayed=ctrl=>{if(!this.focusService.isHeaderWrapperFocused(ctrl))return!1;return this.columnModel.isDisplayed(ctrl.getColumnGroupChild())};iterateObject(oldCtrls,((id,oldCtrl)=>{isFocusedAndDisplayed(oldCtrl)?this.headerCellCtrls[id]=oldCtrl:this.destroyBean(oldCtrl)}));return getAllValuesInObject(this.headerCellCtrls)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let viewportColumns=[];const actualDepth=this.getActualDepth();return["left",null,"right"].forEach((pinned=>{const items=this.columnModel.getVirtualHeaderGroupRow(pinned,actualDepth);viewportColumns=viewportColumns.concat(items)})),viewportColumns}getActualDepth(){return this.type==HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(column,event){const ctrl=getAllValuesInObject(this.headerCellCtrls).find((ctrl=>ctrl.getColumnGroupChild()==column));return!!ctrl&&(ctrl.focus(event),!0)}destroy(){iterateObject(this.headerCellCtrls,((key,ctrl)=>{this.destroyBean(ctrl)})),this.headerCellCtrls={},super.destroy()}}headerRowCtrl_decorate([Autowired("columnModel")],HeaderRowCtrl.prototype,"columnModel",void 0),headerRowCtrl_decorate([Autowired("focusService")],HeaderRowCtrl.prototype,"focusService",void 0),headerRowCtrl_decorate([Autowired("filterManager")],HeaderRowCtrl.prototype,"filterManager",void 0),headerRowCtrl_decorate([PostConstruct],HeaderRowCtrl.prototype,"postConstruct",null);var headerRowContainerCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderRowContainerCtrl extends BeanStub{constructor(pinned){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=pinned}setComp(comp,eGui){this.comp=comp,this.eViewport=eGui,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(dropContainer){const bodyDropTarget=new BodyDropTarget(this.pinned,dropContainer);this.createManagedBean(bodyDropTarget)}refresh(keepColumns=!1){const sequence=new NumberSequence,focusedHeaderPosition=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const groupRowCount=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<groupRowCount;i++){const ctrl=this.createBean(new HeaderRowCtrl(sequence.next(),this.pinned,HeaderRowType.COLUMN_GROUP));this.groupsRowCtrls.push(ctrl)}})(),(()=>{const rowIndex=sequence.next(),needNewInstance=!(this.hidden||null!=this.columnsRowCtrl&&keepColumns&&this.columnsRowCtrl.getRowIndex()===rowIndex);(needNewInstance||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),needNewInstance&&(this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,HeaderRowType.COLUMN)))})(),(()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const destroyPreviousComp=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void destroyPreviousComp();const rowIndex=sequence.next();if(this.filtersRowCtrl){const rowIndexMismatch=this.filtersRowCtrl.getRowIndex()!==rowIndex;keepColumns&&!rowIndexMismatch||destroyPreviousComp()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,HeaderRowType.FLOATING_FILTER)))})();const allCtrls=this.getAllCtrls();this.comp.setCtrls(allCtrls),this.restoreFocusOnHeader(focusedHeaderPosition)}restoreFocusOnHeader(position){null!=position&&position.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:position})}getAllCtrls(){const res=[...this.groupsRowCtrls];return this.columnsRowCtrl&&res.push(this.columnsRowCtrl),this.filtersRowCtrl&&res.push(this.filtersRowCtrl),res}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==includeFloatingFilter&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new CenterWidthFeature((width=>this.comp.setCenterWidth(`${width}px`)),!0))}setHorizontalScroll(offset){this.comp.setViewportScrollLeft(offset)}setupPinnedWidth(){if(null==this.pinned)return;const pinningLeft="left"===this.pinned,pinningRight="right"===this.pinned;this.hidden=!0;const listener=()=>{const width=pinningLeft?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==width)return;const hidden=0==width,hiddenChanged=this.hidden!==hidden,isRtl=this.gridOptionsService.is("enableRtl"),scrollbarWidth=this.gridOptionsService.getScrollbarWidth(),widthWithPadding=this.scrollVisibleService.isVerticalScrollShowing()&&(isRtl&&pinningLeft||!isRtl&&pinningRight)?width+scrollbarWidth:width;this.comp.setPinnedContainerWidth(`${widthWithPadding}px`),this.comp.setDisplayed(!hidden),hiddenChanged&&(this.hidden=hidden,this.refresh())};this.addManagedListener(this.eventService,Events.EVENT_LEFT_PINNED_WIDTH_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_SCROLLBAR_WIDTH_CHANGED,listener)}getHeaderCtrlForColumn(column){if(column instanceof Column){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(column)}if(0!==this.groupsRowCtrls.length)for(let i=0;i<this.groupsRowCtrls.length;i++){const ctrl=this.groupsRowCtrls[i].getHeaderCellCtrl(column);if(ctrl)return ctrl}}getHtmlElementForColumnHeader(column){const cellCtrl=this.getHeaderCtrlForColumn(column);return cellCtrl?cellCtrl.getGui():null}getRowType(rowIndex){const ctrl=this.getAllCtrls()[rowIndex];return ctrl?ctrl.getType():void 0}focusHeader(rowIndex,column,event){const ctrl=this.getAllCtrls()[rowIndex];return!!ctrl&&ctrl.focusHeader(column,event)}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}}headerRowContainerCtrl_decorate([Autowired("ctrlsService")],HeaderRowContainerCtrl.prototype,"ctrlsService",void 0),headerRowContainerCtrl_decorate([Autowired("scrollVisibleService")],HeaderRowContainerCtrl.prototype,"scrollVisibleService",void 0),headerRowContainerCtrl_decorate([Autowired("pinnedWidthService")],HeaderRowContainerCtrl.prototype,"pinnedWidthService",void 0),headerRowContainerCtrl_decorate([Autowired("columnModel")],HeaderRowContainerCtrl.prototype,"columnModel",void 0),headerRowContainerCtrl_decorate([Autowired("focusService")],HeaderRowContainerCtrl.prototype,"focusService",void 0),headerRowContainerCtrl_decorate([Autowired("filterManager")],HeaderRowContainerCtrl.prototype,"filterManager",void 0);var headerRowContainerComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class HeaderRowContainerComp extends Component{constructor(pinned){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=pinned}init(){this.selectAndSetTemplate();const compProxy={setDisplayed:displayed=>this.setDisplayed(displayed),setCtrls:ctrls=>this.setCtrls(ctrls),setCenterWidth:width=>this.eCenterContainer.style.width=width,setViewportScrollLeft:left=>this.getGui().scrollLeft=left,setPinnedContainerWidth:width=>{const eGui=this.getGui();eGui.style.width=width,eGui.style.maxWidth=width,eGui.style.minWidth=width}};this.createManagedBean(new HeaderRowContainerCtrl(this.pinned)).setComp(compProxy,this.getGui())}selectAndSetTemplate(){const pinnedLeft="left"==this.pinned,pinnedRight="right"==this.pinned,template=pinnedLeft?HeaderRowContainerComp.PINNED_LEFT_TEMPLATE:pinnedRight?HeaderRowContainerComp.PINNED_RIGHT_TEMPLATE:HeaderRowContainerComp.CENTER_TEMPLATE;this.setTemplate(template),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(rowComp){this.destroyBean(rowComp),this.eRowContainer.removeChild(rowComp.getGui())}setCtrls(ctrls){const oldRowComps=this.headerRowComps;let prevGui;this.headerRowComps={},this.rowCompsList=[];const appendEnsuringDomOrder=rowComp=>{const eGui=rowComp.getGui();eGui.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(eGui),prevGui&&ensureDomOrder(this.eRowContainer,eGui,prevGui),prevGui=eGui};ctrls.forEach((ctrl=>{const ctrlId=ctrl.getInstanceId(),existingComp=oldRowComps[ctrlId];delete oldRowComps[ctrlId];const rowComp=existingComp||this.createBean(new HeaderRowComp(ctrl));this.headerRowComps[ctrlId]=rowComp,this.rowCompsList.push(rowComp),appendEnsuringDomOrder(rowComp)})),getAllValuesInObject(oldRowComps).forEach((c=>this.destroyRowComp(c)))}}HeaderRowContainerComp.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',HeaderRowContainerComp.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',HeaderRowContainerComp.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',headerRowContainerComp_decorate([RefSelector("eCenterContainer")],HeaderRowContainerComp.prototype,"eCenterContainer",void 0),headerRowContainerComp_decorate([PostConstruct],HeaderRowContainerComp.prototype,"init",null),headerRowContainerComp_decorate([PreDestroy],HeaderRowContainerComp.prototype,"destroyRowComps",null);var HeaderNavigationDirection,headerNavigationService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(HeaderNavigationDirection){HeaderNavigationDirection[HeaderNavigationDirection.UP=0]="UP",HeaderNavigationDirection[HeaderNavigationDirection.DOWN=1]="DOWN",HeaderNavigationDirection[HeaderNavigationDirection.LEFT=2]="LEFT",HeaderNavigationDirection[HeaderNavigationDirection.RIGHT=3]="RIGHT"}(HeaderNavigationDirection||(HeaderNavigationDirection={}));let HeaderNavigationService=class HeaderNavigationService extends BeanStub{postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCon=p.gridBodyCtrl}))}getHeaderRowCount(){const centerHeaderContainer=this.ctrlsService.getHeaderRowContainerCtrl();return centerHeaderContainer?centerHeaderContainer.getRowCount():0}navigateVertically(direction,fromHeader,event){if(fromHeader||(fromHeader=this.focusService.getFocusedHeader()),!fromHeader)return!1;const{headerRowIndex,column}=fromHeader,rowLen=this.getHeaderRowCount(),isUp=direction===HeaderNavigationDirection.UP;let{nextRow,nextFocusColumn}=isUp?this.headerPositionUtils.getColumnVisibleParent(column,headerRowIndex):this.headerPositionUtils.getColumnVisibleChild(column,headerRowIndex),skipColumn=!1;return nextRow<0&&(nextRow=0,nextFocusColumn=column,skipColumn=!0),nextRow>=rowLen&&(nextRow=-1),!(!skipColumn&&!nextFocusColumn)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:nextRow,column:nextFocusColumn},allowUserOverride:!0,event})}navigateHorizontally(direction,fromTab=!1,event){const focusedHeader=this.focusService.getFocusedHeader();let nextHeader,normalisedDirection;return direction===HeaderNavigationDirection.LEFT!==this.gridOptionsService.is("enableRtl")?(normalisedDirection="Before",nextHeader=this.headerPositionUtils.findHeader(focusedHeader,normalisedDirection)):(normalisedDirection="After",nextHeader=this.headerPositionUtils.findHeader(focusedHeader,normalisedDirection)),nextHeader||!fromTab?this.focusService.focusHeaderPosition({headerPosition:nextHeader,direction:normalisedDirection,fromTab,allowUserOverride:!0,event}):this.focusNextHeaderRow(focusedHeader,normalisedDirection,event)}focusNextHeaderRow(focusedHeader,direction,event){const currentIndex=focusedHeader.headerRowIndex;let nextRowIndex,nextPosition=null;return"Before"===direction?currentIndex>0&&(nextRowIndex=currentIndex-1,nextPosition=this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex,"end")):(nextRowIndex=currentIndex+1,nextPosition=this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex,"start")),this.focusService.focusHeaderPosition({headerPosition:nextPosition,direction,fromTab:!0,allowUserOverride:!0,event})}scrollToColumn(column,direction="After"){if(column.getPinned())return;let columnToScrollTo;if(column instanceof ColumnGroup){const columns=column.getDisplayedLeafColumns();columnToScrollTo="Before"===direction?last(columns):columns[0]}else columnToScrollTo=column;this.gridBodyCon.getScrollFeature().ensureColumnVisible(columnToScrollTo)}};headerNavigationService_decorate([Autowired("focusService")],HeaderNavigationService.prototype,"focusService",void 0),headerNavigationService_decorate([Autowired("headerPositionUtils")],HeaderNavigationService.prototype,"headerPositionUtils",void 0),headerNavigationService_decorate([Autowired("ctrlsService")],HeaderNavigationService.prototype,"ctrlsService",void 0),headerNavigationService_decorate([PostConstruct],HeaderNavigationService.prototype,"postConstruct",null),HeaderNavigationService=headerNavigationService_decorate([Bean("headerNavigationService")],HeaderNavigationService);var gridHeaderCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GridHeaderCtrl extends BeanStub{setComp(comp,eGui,eFocusableElement){this.comp=comp,this.eGui=eGui,this.createManagedBean(new ManagedFocusFeature(eFocusableElement,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const listener=this.setHeaderHeight.bind(this);listener(),this.addManagedPropertyListener("headerHeight",listener),this.addManagedPropertyListener("pivotHeaderHeight",listener),this.addManagedPropertyListener("groupHeaderHeight",listener),this.addManagedPropertyListener("pivotGroupHeaderHeight",listener),this.addManagedPropertyListener("floatingFiltersHeight",listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_GRID_STYLES_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,listener)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel}=this;let totalHeaderHeight,numberOfFloating=0,headerRowCount=columnModel.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(headerRowCount++,numberOfFloating=1);const groupHeight=this.columnModel.getColumnGroupHeaderRowHeight(),headerHeight=this.columnModel.getColumnHeaderRowHeight(),numberOfGroups=headerRowCount-(1+numberOfFloating);if(totalHeaderHeight=numberOfFloating*columnModel.getFloatingFiltersHeight(),totalHeaderHeight+=numberOfGroups*groupHeight,totalHeaderHeight+=headerHeight,this.headerHeight===totalHeaderHeight)return;this.headerHeight=totalHeaderHeight;const px=`${totalHeaderHeight+1}px`;this.comp.setHeightAndMinHeight(px),this.eventService.dispatchEvent({type:Events.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const pivotMode=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",pivotMode),this.comp.addOrRemoveCssClass("ag-pivot-off",!pivotMode)}onDisplayedColumnsChanged(){const shouldAllowOverflow=this.columnModel.getAllDisplayedColumns().some((col=>col.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",shouldAllowOverflow)}onTabKeyDown(e){const isRtl=this.gridOptionsService.is("enableRtl"),direction=e.shiftKey!==isRtl?HeaderNavigationDirection.LEFT:HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(direction,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let direction=null;switch(e.key){case KeyCode.LEFT:direction=HeaderNavigationDirection.LEFT;case KeyCode.RIGHT:exists(direction)||(direction=HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(direction,!1,e);break;case KeyCode.UP:direction=HeaderNavigationDirection.UP;case KeyCode.DOWN:exists(direction)||(direction=HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(direction,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const eDocument=this.gridOptionsService.getDocument(),{relatedTarget}=e;!relatedTarget&&this.eGui.contains(eDocument.activeElement)||this.eGui.contains(relatedTarget)||this.focusService.clearFocusedHeader()}}gridHeaderCtrl_decorate([Autowired("headerNavigationService")],GridHeaderCtrl.prototype,"headerNavigationService",void 0),gridHeaderCtrl_decorate([Autowired("focusService")],GridHeaderCtrl.prototype,"focusService",void 0),gridHeaderCtrl_decorate([Autowired("columnModel")],GridHeaderCtrl.prototype,"columnModel",void 0),gridHeaderCtrl_decorate([Autowired("ctrlsService")],GridHeaderCtrl.prototype,"ctrlsService",void 0),gridHeaderCtrl_decorate([Autowired("filterManager")],GridHeaderCtrl.prototype,"filterManager",void 0);var gridHeaderComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GridHeaderComp extends Component{constructor(){super(GridHeaderComp.TEMPLATE)}postConstruct(){const compProxy={addOrRemoveCssClass:(cssClassName,on)=>this.addOrRemoveCssClass(cssClassName,on),setHeightAndMinHeight:height=>{this.getGui().style.height=height,this.getGui().style.minHeight=height}};this.createManagedBean(new GridHeaderCtrl).setComp(compProxy,this.getGui(),this.getFocusableElement());const addContainer=container=>{this.createManagedBean(container),this.appendChild(container)};addContainer(new HeaderRowContainerComp("left")),addContainer(new HeaderRowContainerComp(null)),addContainer(new HeaderRowContainerComp("right"))}}GridHeaderComp.TEMPLATE='<div class="ag-header" role="presentation"/>',gridHeaderComp_decorate([PostConstruct],GridHeaderComp.prototype,"postConstruct",null);var horizontalResizeService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let HorizontalResizeService=class HorizontalResizeService extends BeanStub{addResizeBar(params){const dragSource={dragStartPixels:params.dragStartPixels||0,eElement:params.eResizeBar,onDragStart:this.onDragStart.bind(this,params),onDragStop:this.onDragStop.bind(this,params),onDragging:this.onDragging.bind(this,params),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(dragSource);return()=>this.dragService.removeDragSource(dragSource)}onDragStart(params,mouseEvent){this.dragStartX=mouseEvent.clientX,this.setResizeIcons();const shiftKey=mouseEvent instanceof MouseEvent&&!0===mouseEvent.shiftKey;params.onResizeStart(shiftKey)}setResizeIcons(){const ctrl=this.ctrlsService.getGridCtrl();ctrl.setResizeCursor(!0),ctrl.disableUserSelect(!0)}onDragStop(params,mouseEvent){params.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const ctrl=this.ctrlsService.getGridCtrl();ctrl.setResizeCursor(!1),ctrl.disableUserSelect(!1)}onDragging(params,mouseEvent){this.resizeAmount=mouseEvent.clientX-this.dragStartX,params.onResizing(this.resizeAmount)}};horizontalResizeService_decorate([Autowired("dragService")],HorizontalResizeService.prototype,"dragService",void 0),horizontalResizeService_decorate([Autowired("ctrlsService")],HorizontalResizeService.prototype,"ctrlsService",void 0),HorizontalResizeService=horizontalResizeService_decorate([Bean("horizontalResizeService")],HorizontalResizeService);var standardMenu_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let StandardMenuFactory=class StandardMenuFactory extends BeanStub{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(column,mouseEvent){this.showPopup(column,(eMenu=>{this.popupService.positionPopupUnderMouseEvent({column,type:"columnMenu",mouseEvent,ePopup:eMenu})}),"columnMenu",mouseEvent.target)}showMenuAfterButtonClick(column,eventSource,containerType){this.showPopup(column,(eMenu=>{this.popupService.positionPopupByComponent({type:containerType,eventSource,ePopup:eMenu,keepWithinBounds:!0,position:"under",column})}),containerType,eventSource)}showPopup(column,positionCallback,containerType,eventSource){const filterWrapper=this.filterManager.getOrCreateFilterWrapper(column,"COLUMN_MENU");if(!filterWrapper)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const eMenu=document.createElement("div");let hidePopup;setAriaRole(eMenu,"presentation"),eMenu.classList.add("ag-menu"),this.tabListener=this.addManagedListener(eMenu,"keydown",(e=>this.trapFocusWithin(e,eMenu))),filterWrapper.guiPromise.then((gui=>eMenu.appendChild(gui)));const anchorToElement=eventSource||this.ctrlsService.getGridBodyCtrl().getGui(),translate=this.localeService.getLocaleTextFunc(),addPopupRes=this.popupService.addPopup({modal:!0,eChild:eMenu,closeOnEsc:!0,closedCallback:e=>{column.setMenuVisible(!1,"contextMenu");const isKeyboardEvent=e instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),isKeyboardEvent&&eventSource&&isVisible(eventSource)){const focusableEl=this.focusService.findTabbableParent(eventSource);focusableEl&&focusableEl.focus()}var _a;null===(_a=filterWrapper.filterPromise)||void 0===_a||_a.then((filter=>{var _a;return null===(_a=null==filter?void 0:filter.afterGuiDetached)||void 0===_a?void 0:_a.call(filter)}))},positionCallback:()=>positionCallback(eMenu),anchorToElement,ariaLabel:translate("ariaLabelColumnMenu","Column Menu")});addPopupRes&&(this.hidePopup=hidePopup=addPopupRes.hideFunc),filterWrapper.filterPromise.then((filter=>{positionCallback(eMenu),filter.afterGuiAttached&&filter.afterGuiAttached({container:containerType,hidePopup})})),column.setMenuVisible(!0,"contextMenu")}trapFocusWithin(e,menu){e.key!==KeyCode.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(menu,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(menu,e.shiftKey))}isMenuEnabled(column){return column.isFilterAllowed()&&column.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};standardMenu_decorate([Autowired("filterManager")],StandardMenuFactory.prototype,"filterManager",void 0),standardMenu_decorate([Autowired("popupService")],StandardMenuFactory.prototype,"popupService",void 0),standardMenu_decorate([Autowired("focusService")],StandardMenuFactory.prototype,"focusService",void 0),standardMenu_decorate([Autowired("ctrlsService")],StandardMenuFactory.prototype,"ctrlsService",void 0),StandardMenuFactory=standardMenu_decorate([Bean("menuFactory")],StandardMenuFactory);var tabbedLayout_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class TabbedLayout extends Component{constructor(params){super(TabbedLayout.getTemplate(params.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=params,params.items&&params.items.forEach((item=>this.addItem(item)))}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((()=>{var _a,_b,_c;return null===(_c=null===(_b=null===(_a=this.activeItem)||void 0===_a?void 0:_a.tabbedItem)||void 0===_b?void 0:_b.afterDetachedCallback)||void 0===_c?void 0:_c.call(_b)}))}static getTemplate(cssClass){return`<div class="ag-tabs ${cssClass}">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ${cssClass?`${cssClass}-header`:""}"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${cssClass?`${cssClass}-body`:""}"></div>\n        </div>`}handleKeyDown(e){const eDocument=this.gridOptionsService.getDocument();switch(e.key){case KeyCode.RIGHT:case KeyCode.LEFT:if(!this.eHeader.contains(eDocument.activeElement))return;const isRightKey=e.key===KeyCode.RIGHT,isRtl=this.gridOptionsService.is("enableRtl"),currentPosition=this.items.indexOf(this.activeItem),nextPosition=isRightKey!==isRtl?Math.min(currentPosition+1,this.items.length-1):Math.max(currentPosition-1,0);if(currentPosition===nextPosition)return;e.preventDefault();const nextItem=this.items[nextPosition];this.showItemWrapper(nextItem),nextItem.eHeaderButton.focus();break;case KeyCode.UP:case KeyCode.DOWN:e.stopPropagation()}}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService,eHeader,eBody,activeItem}=this,activeElement=this.gridOptionsService.getDocument().activeElement,target=e.target;if(e.preventDefault(),eHeader.contains(activeElement))return void focusService.focusInto(eBody,e.shiftKey);let nextEl=null;focusService.isTargetUnderManagedComponent(eBody,target)&&(e.shiftKey&&(nextEl=this.focusService.findFocusableElementBeforeTabGuard(eBody,target)),nextEl||(nextEl=activeItem.eHeaderButton)),!nextEl&&eBody.contains(activeElement)&&(nextEl=focusService.findNextFocusableElement(eBody,!1,e.shiftKey),nextEl||(nextEl=activeItem.eHeaderButton)),nextEl&&nextEl.focus()}setAfterAttachedParams(params){this.afterAttachedParams=params}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(item){const eHeaderButton=document.createElement("span");setAriaRole(eHeaderButton,"tab"),eHeaderButton.setAttribute("tabindex","-1"),eHeaderButton.appendChild(item.title),eHeaderButton.classList.add("ag-tab"),this.eHeader.appendChild(eHeaderButton),setAriaLabel(eHeaderButton,item.titleLabel);const wrapper={tabbedItem:item,eHeaderButton};this.items.push(wrapper),eHeaderButton.addEventListener("click",this.showItemWrapper.bind(this,wrapper))}showItem(tabbedItem){const itemWrapper=this.items.find((wrapper=>wrapper.tabbedItem===tabbedItem));itemWrapper&&this.showItemWrapper(itemWrapper)}showItemWrapper(wrapper){var _a,_b;const{tabbedItem,eHeaderButton}=wrapper;this.params.onItemClicked&&this.params.onItemClicked({item:tabbedItem}),this.activeItem!==wrapper?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),clearElement(this.eBody),tabbedItem.bodyPromise.then((body=>{this.eBody.appendChild(body);const onlyUnmanaged=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,onlyUnmanaged),tabbedItem.afterAttachedCallback&&tabbedItem.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const scrollableContainer=tabbedItem.getScrollableContainer&&tabbedItem.getScrollableContainer()||body;this.lastScrollListener=this.addManagedListener(scrollableContainer,"scroll",(()=>{this.tabbedItemScrollMap.set(tabbedItem.name,scrollableContainer.scrollTop)}));const scrollPosition=this.tabbedItemScrollMap.get(tabbedItem.name);void 0!==scrollPosition&&setTimeout((()=>{scrollableContainer.scrollTop=scrollPosition}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(_b=(_a=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===_b||_b.call(_a)),eHeaderButton.classList.add("ag-tab-selected"),this.activeItem=wrapper):callIfPresent(this.params.onActiveItemClicked)}}tabbedLayout_decorate([Autowired("focusService")],TabbedLayout.prototype,"focusService",void 0),tabbedLayout_decorate([RefSelector("eHeader")],TabbedLayout.prototype,"eHeader",void 0),tabbedLayout_decorate([RefSelector("eBody")],TabbedLayout.prototype,"eBody",void 0),tabbedLayout_decorate([PostConstruct],TabbedLayout.prototype,"postConstruct",null);var resizeObserverService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ResizeObserverService=class ResizeObserverService extends BeanStub{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(element,callback){const win=this.gridOptionsService.getWindow(),suppressResize=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!win.ResizeObserver&&!suppressResize?(()=>{const resizeObserver=new win.ResizeObserver(callback);return resizeObserver.observe(element),()=>resizeObserver.disconnect()})():(()=>{let widthLastTime=offsetWidth(element),heightLastTime=offsetHeight(element),running=!0;const periodicallyCheckWidthAndHeight=()=>{if(running){const newWidth=offsetWidth(element),newHeight=offsetHeight(element);(newWidth!==widthLastTime||newHeight!==heightLastTime)&&(widthLastTime=newWidth,heightLastTime=newHeight,callback()),this.doNextPolyfillTurn(periodicallyCheckWidthAndHeight)}};return periodicallyCheckWidthAndHeight(),()=>running=!1})()}doNextPolyfillTurn(func){this.polyfillFunctions.push(func),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout((()=>{const funcs=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],funcs.forEach((f=>f()))}),50)}};ResizeObserverService=resizeObserverService_decorate([Bean("resizeObserverService")],ResizeObserverService);var animationFrameService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AnimationFrameService=class AnimationFrameService extends BeanStub{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(scrollTop){const isPaginationActive=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=scrollTop>=this.lastScrollTop,isPaginationActive&&0===scrollTop){const currentPage=this.paginationProxy.getCurrentPage();currentPage!==this.lastPage&&(this.lastPage=currentPage,this.scrollGoingDown=!0)}this.lastScrollTop=scrollTop}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(methodName){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${methodName} called but animation frames are off`)}createTask(task,index,list){this.verifyAnimationFrameOn(list);const taskItem={task,index,createOrder:++this.taskCount};this.addTaskToList(this[list],taskItem),this.schedule()}cancelTask(task){this.cancelledTasks.add(task)}addTaskToList(taskList,task){taskList.list.push(task),taskList.sorted=!1}sortTaskList(taskList){if(taskList.sorted)return;const sortDirection=this.scrollGoingDown?1:-1;taskList.list.sort(((a,b)=>a.index!==b.index?sortDirection*(b.index-a.index):b.createOrder-a.createOrder)),taskList.sorted=!0}addDestroyTask(task){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(task),this.schedule()}executeFrame(millis){this.verifyAnimationFrameOn("executeFrame");const p1TaskList=this.createTasksP1,p1Tasks=p1TaskList.list,p2TaskList=this.createTasksP2,p2Tasks=p2TaskList.list,destroyTasks=this.destroyTasks,frameStart=(new Date).getTime();let duration=(new Date).getTime()-frameStart;const noMaxMillis=millis<=0,gridBodyCon=this.ctrlsService.getGridBodyCtrl();for(;noMaxMillis||duration<millis;){if(!gridBodyCon.getScrollFeature().scrollGridIfNeeded()){let task;if(p1Tasks.length)this.sortTaskList(p1TaskList),task=p1Tasks.pop().task;else if(p2Tasks.length)this.sortTaskList(p2TaskList),task=p2Tasks.pop().task;else{if(!destroyTasks.length){this.cancelledTasks.clear();break}task=destroyTasks.pop()}this.cancelledTasks.has(task)||task()}duration=(new Date).getTime()-frameStart}p1Tasks.length||p2Tasks.length||destroyTasks.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const callback=this.executeFrame.bind(this,60);this.requestAnimationFrame(callback)}requestAnimationFrame(callback){const win=this.gridOptionsService.getWindow();win.requestAnimationFrame?win.requestAnimationFrame(callback):win.webkitRequestAnimationFrame?win.webkitRequestAnimationFrame(callback):win.setTimeout(callback,0)}isQueueEmpty(){return!this.ticking}debounce(func){let pending=!1;return()=>{this.isOn()?pending||(pending=!0,this.addDestroyTask((()=>{pending=!1,func()}))):this.getFrameworkOverrides().setTimeout(func,0)}}};animationFrameService_decorate([Autowired("ctrlsService")],AnimationFrameService.prototype,"ctrlsService",void 0),animationFrameService_decorate([Autowired("paginationProxy")],AnimationFrameService.prototype,"paginationProxy",void 0),animationFrameService_decorate([PostConstruct],AnimationFrameService.prototype,"init",null),AnimationFrameService=animationFrameService_decorate([Bean("animationFrameService")],AnimationFrameService);var autoWidthCalculator_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AutoWidthCalculator=class AutoWidthCalculator extends BeanStub{postConstruct(){this.ctrlsService.whenReady((p=>{this.centerRowContainerCtrl=p.centerRowContainerCtrl}))}getPreferredWidthForColumn(column,skipHeader){const eHeaderCell=this.getHeaderCellForColumn(column);if(!eHeaderCell)return-1;const elements=this.rowRenderer.getAllCellsForColumn(column);return skipHeader||elements.push(eHeaderCell),this.addElementsToContainerAndGetWidth(elements)}getPreferredWidthForColumnGroup(columnGroup){const eHeaderCell=this.getHeaderCellForColumn(columnGroup);return eHeaderCell?this.addElementsToContainerAndGetWidth([eHeaderCell]):-1}addElementsToContainerAndGetWidth(elements){const eDummyContainer=document.createElement("form");eDummyContainer.style.position="fixed";const eBodyContainer=this.centerRowContainerCtrl.getContainerElement();elements.forEach((el=>this.cloneItemIntoDummy(el,eDummyContainer))),eBodyContainer.appendChild(eDummyContainer);const dummyContainerWidth=eDummyContainer.offsetWidth;eBodyContainer.removeChild(eDummyContainer);return dummyContainerWidth+this.getAutoSizePadding()}getAutoSizePadding(){const value=this.gridOptionsService.getNum("autoSizePadding");return null!=value&&value>=0?value:20}getHeaderCellForColumn(column){let element=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((container=>{const res=container.getHtmlElementForColumnHeader(column);null!=res&&(element=res)})),element}cloneItemIntoDummy(eCell,eDummyContainer){const eCellClone=eCell.cloneNode(!0);eCellClone.style.width="",eCellClone.style.position="static",eCellClone.style.left="";const eCloneParent=document.createElement("div"),eCloneParentClassList=eCloneParent.classList;["ag-header-cell","ag-header-group-cell"].some((cls=>eCellClone.classList.contains(cls)))?(eCloneParentClassList.add("ag-header","ag-header-row"),eCloneParent.style.position="static"):eCloneParentClassList.add("ag-row");let pointer=eCell.parentElement;for(;pointer;){if(["ag-header-row","ag-row"].some((cls=>pointer.classList.contains(cls)))){for(let i=0;i<pointer.classList.length;i++){const item=pointer.classList[i];"ag-row-position-absolute"!=item&&eCloneParentClassList.add(item)}break}pointer=pointer.parentElement}eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)}};autoWidthCalculator_decorate([Autowired("rowRenderer")],AutoWidthCalculator.prototype,"rowRenderer",void 0),autoWidthCalculator_decorate([Autowired("ctrlsService")],AutoWidthCalculator.prototype,"ctrlsService",void 0),autoWidthCalculator_decorate([Autowired("rowCssClassCalculator")],AutoWidthCalculator.prototype,"rowCssClassCalculator",void 0),autoWidthCalculator_decorate([PostConstruct],AutoWidthCalculator.prototype,"postConstruct",null),AutoWidthCalculator=autoWidthCalculator_decorate([Bean("autoWidthCalculator")],AutoWidthCalculator);var stickyRowFeature_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class StickyRowFeature extends BeanStub{constructor(createRowCon,destroyRowCtrls){super(),this.createRowCon=createRowCon,this.destroyRowCtrls=destroyRowCtrls,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((params=>{this.gridBodyCtrl=params.gridBodyCtrl}))}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let height=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],height);const stickyRows=[],firstPixel=this.rowRenderer.getFirstVisibleVerticalPixel(),addStickyRow=stickyRow=>{var _a,_b,_c;let lastChildBottom;if(stickyRows.push(stickyRow),this.isClientSide){let lastAncestor=stickyRow;for(;lastAncestor.expanded;)if(lastAncestor.master)lastAncestor=lastAncestor.detailNode;else if(lastAncestor.childrenAfterSort){if(0===lastAncestor.childrenAfterSort.length)break;lastAncestor=last(lastAncestor.childrenAfterSort)}lastChildBottom=lastAncestor.rowTop+lastAncestor.rowHeight}else if(stickyRow.master)lastChildBottom=stickyRow.detailNode.rowTop+stickyRow.detailNode.rowHeight;else{const storeBounds=null===(_a=stickyRow.childStore)||void 0===_a?void 0:_a.getStoreBounds();lastChildBottom=(null!==(_b=null==storeBounds?void 0:storeBounds.heightPx)&&void 0!==_b?_b:0)+(null!==(_c=null==storeBounds?void 0:storeBounds.topPx)&&void 0!==_c?_c:0)}const stickRowBottom=firstPixel+height+stickyRow.rowHeight;stickyRow.stickyRowTop=lastChildBottom<stickRowBottom?height+(lastChildBottom-stickRowBottom):height,height=0,stickyRows.forEach((rowNode=>{const thisRowLastPx=rowNode.stickyRowTop+rowNode.rowHeight;height<thisRowLastPx&&(height=thisRowLastPx)}))};for(;;){const firstPixelAfterStickyRows=firstPixel+height,firstIndex=this.rowModel.getRowIndexAtPixel(firstPixelAfterStickyRows),firstRow=this.rowModel.getRow(firstIndex);if(null==firstRow)break;if(firstRow.level<0)break;const parents=[];let p=firstRow.parent;for(;p.level>=0;)parents.push(p),p=p.parent;const firstMissingParent=parents.reverse().find((parent=>stickyRows.indexOf(parent)<0&&parent.displayed));if(firstMissingParent)addStickyRow(firstMissingParent);else{if(!(firstRow.isExpandable()&&firstRow.expanded&&firstRow.rowTop<firstPixelAfterStickyRows))break;addStickyRow(firstRow)}}return this.refreshNodesAndContainerHeight(stickyRows,height)}refreshStickyNode(stickRowNode){const allStickyNodes=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const currentNode=this.stickyRowCtrls[i].getRowNode();currentNode!==stickRowNode&&allStickyNodes.push(currentNode)}this.refreshNodesAndContainerHeight(allStickyNodes,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(allStickyNodes,height){let stickyRowsChanged=!1;const removedCtrls=this.stickyRowCtrls.filter((ctrl=>-1===allStickyNodes.indexOf(ctrl.getRowNode()))),addedNodes=allStickyNodes.filter((rowNode=>-1===this.stickyRowCtrls.findIndex((ctrl=>ctrl.getRowNode()===rowNode))));(removedCtrls.length||addedNodes.length)&&(stickyRowsChanged=!0);const ctrlsToDestroy={};removedCtrls.forEach((removedCtrl=>{ctrlsToDestroy[removedCtrl.getRowNode().id]=removedCtrl,this.stickyRowCtrls=this.stickyRowCtrls.filter((ctrl=>ctrl!==removedCtrl))}));for(const ctrl of Object.values(ctrlsToDestroy))ctrl.getRowNode().sticky=!1;this.destroyRowCtrls(ctrlsToDestroy,!1);const newCtrls=addedNodes.map((rowNode=>(rowNode.sticky=!0,this.createRowCon(rowNode,!1,!1))));return this.stickyRowCtrls.push(...newCtrls),this.stickyRowCtrls.forEach((ctrl=>ctrl.setRowTop(ctrl.getRowNode().stickyRowTop))),this.stickyRowCtrls.sort(((a,b)=>b.getRowNode().rowIndex-a.getRowNode().rowIndex)),this.containerHeight!==height&&(this.containerHeight=height,this.gridBodyCtrl.setStickyTopHeight(height),stickyRowsChanged=!0),stickyRowsChanged}}stickyRowFeature_decorate([Autowired("rowModel")],StickyRowFeature.prototype,"rowModel",void 0),stickyRowFeature_decorate([Autowired("rowRenderer")],StickyRowFeature.prototype,"rowRenderer",void 0),stickyRowFeature_decorate([Autowired("ctrlsService")],StickyRowFeature.prototype,"ctrlsService",void 0),stickyRowFeature_decorate([PostConstruct],StickyRowFeature.prototype,"postConstruct",null);var rowRenderer_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let RowRenderer=class RowRenderer extends BeanStub{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady((()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()}))}initialise(){if(this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const rowModelType=this.rowModel.getType();"clientSide"!==rowModelType&&"serverSide"!==rowModelType||(this.stickyRowFeature=this.createManagedBean(new StickyRowFeature(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const countProp=this.getKeepDetailRowsCount(),count=null!=countProp?countProp:3;this.cachedRowCtrls=new RowCtrlCache(count)}}getKeepDetailRowsCount(){const keepDetailRowsCount=this.gridOptionsService.getNum("keepDetailRowsCount");return exists(keepDetailRowsCount)&&keepDetailRowsCount>0?keepDetailRowsCount:10}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const liveList=getAllValuesInObject(this.rowCtrlsByRowIndex),isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder"),isPrintLayout=this.gridOptionsService.isDomLayout("print");(isEnsureDomOrder||isPrintLayout)&&liveList.sort(((a,b)=>a.getRowNode().rowIndex-b.getRowNode.rowIndex));const zombieList=getAllValuesInObject(this.zombieRowCtrls),cachedList=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];zombieList.length>0||cachedList.length>0?this.allRowCtrls=[...liveList,...zombieList,...cachedList]:this.allRowCtrls=liveList}onCellFocusChanged(event){this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellFocused(event))),this.getFullWidthRowCtrls().forEach((rowCtrl=>rowCtrl.onFullWidthRowFocused(event)))}registerCellEventListeners(){this.addManagedListener(this.eventService,Events.EVENT_CELL_FOCUSED,(event=>{this.onCellFocusChanged(event)})),this.addManagedListener(this.eventService,Events.EVENT_CELL_FOCUS_CLEARED,(()=>{this.onCellFocusChanged()})),this.addManagedListener(this.eventService,Events.EVENT_FLASH_CELLS,(event=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onFlashCells(event)))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_HOVER_CHANGED,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onColumnHover()))})),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onDisplayedColumnsChanged()))})),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(()=>{this.printLayout&&this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onLeftChanged()))}));this.gridOptionsService.is("enableRangeSelection")&&(this.addManagedListener(this.eventService,Events.EVENT_RANGE_SELECTION_CHANGED,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onRangeSelectionChanged()))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount()))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount()))})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,(()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount()))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Events.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((func=>func())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const cols=this.columnModel.getAllGridColumns();cols&&cols.forEach((col=>{const forEachCellWithThisCol=callback=>{this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColumn()===col&&callback(cellCtrl)}))},leftChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLeftChanged()))},widthChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onWidthChanged()))},firstRightPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onFirstRightPinnedChanged()))},lastLeftPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLastLeftPinnedChanged()))},colDefChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onColDefChanged()))};col.addEventListener("leftChanged",leftChangedListener),col.addEventListener("widthChanged",widthChangedListener),col.addEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.addEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.addEventListener("colDefChanged",colDefChangedListener),this.destroyFuncsForColumnListeners.push((()=>{col.removeEventListener("leftChanged",leftChangedListener),col.removeEventListener("widthChanged",widthChangedListener),col.removeEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.removeEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.removeEventListener("colDefChanged",colDefChangedListener)}))}))}onDomLayoutChanged(){const printLayout=this.gridOptionsService.isDomLayout("print"),embedFullWidthRows=printLayout||this.gridOptionsService.is("embedFullWidthRows"),destroyRows=embedFullWidthRows!==this.embedFullWidthRows||this.printLayout!==printLayout;this.printLayout=printLayout,this.embedFullWidthRows=embedFullWidthRows,destroyRows&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove)}onPageLoaded(event){const params={recycleRows:event.keepRenderedRows,animate:event.animate,newData:event.newData,newPage:event.newPage,onlyBody:!0};this.redrawAfterModelUpdate(params)}getAllCellsForColumn(column){const res=[];return this.getAllRowCtrls().forEach((rowCtrl=>{const eCell=rowCtrl.getCellElement(column);eCell&&res.push(eCell)})),res}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(rowComps,rowNodes){rowComps.forEach((row=>{row.destroyFirstPass(),row.destroySecondPass()})),rowComps.length=0,rowNodes&&rowNodes.forEach((rowNode=>{const rowCtrl=new RowCtrl(rowNode,this.beans,!1,!1,this.printLayout);rowComps.push(rowCtrl)}))}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(rowNode,suppressEvent=!1){if(rowNode.sticky)this.stickyRowFeature.refreshStickyNode(rowNode);else{const destroyAndRecreateCtrl=dataStruct=>{const ctrl=dataStruct[rowNode.rowIndex];ctrl&&ctrl.getRowNode()===rowNode&&(ctrl.destroyFirstPass(),ctrl.destroySecondPass(),dataStruct[rowNode.rowIndex]=this.createRowCon(rowNode,!1,!1))};switch(rowNode.rowPinned){case"top":destroyAndRecreateCtrl(this.topRowCtrls);case"bottom":destroyAndRecreateCtrl(this.bottomRowCtrls);default:destroyAndRecreateCtrl(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}suppressEvent||this.dispatchDisplayedRowsChanged(!1)}redrawRows(rowNodes){if(null!=rowNodes)return null==rowNodes||rowNodes.forEach((node=>this.redrawRow(node,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(params){const focusedCell=(null==params?void 0:params.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==focusedCell)return null;const activeElement=this.gridOptionsService.getDocument().activeElement,cellDomData=this.gridOptionsService.getDomData(activeElement,CellCtrl.DOM_DATA_KEY_CELL_CTRL),rowDomData=this.gridOptionsService.getDomData(activeElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL);return cellDomData||rowDomData?focusedCell:null}redrawAfterModelUpdate(params={}){this.getLockOnRefresh();const focusedCell=this.getCellToRestoreFocusToAfterRefresh(params);this.updateContainerHeights(),this.scrollToTopIfNewData(params);const recycleRows=!params.domLayoutChanged&&!!params.recycleRows,animate=params.animate&&this.gridOptionsService.isAnimateRows(),rowsToRecycle=recycleRows?this.getRowsToRecycle():null;recycleRows||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(rowsToRecycle,animate),this.gridBodyCtrl.updateRowCount(),params.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=focusedCell&&this.restoreFocusedCell(focusedCell),this.releaseLockOnRefresh()}scrollToTopIfNewData(params){const scrollToTop=params.newData||params.newPage,suppressScrollToTop=this.gridOptionsService.is("suppressScrollOnNewData");scrollToTop&&!suppressScrollToTop&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let containerHeight=this.paginationProxy.getCurrentPageHeight();0===containerHeight&&(containerHeight=1),this.rowContainerHeightService.setModelHeight(containerHeight)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(cellPosition){cellPosition&&(this.focusService.setRestoreFocusedCell(cellPosition),this.onCellFocusChanged({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))}stopEditing(cancel=!1){this.getAllRowCtrls().forEach((rowCtrl=>{rowCtrl.stopEditing(cancel)}))}getAllCellCtrls(){const res=[],rowCtrls=this.getAllRowCtrls(),rowCtrlsLength=rowCtrls.length;for(let i=0;i<rowCtrlsLength;i++){const cellCtrls=rowCtrls[i].getAllCellCtrls(),cellCtrlsLength=cellCtrls.length;for(let j=0;j<cellCtrlsLength;j++)res.push(cellCtrls[j])}return res}getAllRowCtrls(){const stickyRowCtrls=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],res=[...this.topRowCtrls,...this.bottomRowCtrls,...stickyRowCtrls];for(const key of Object.keys(this.rowCtrlsByRowIndex))res.push(this.rowCtrlsByRowIndex[key]);return res}addRenderedRowListener(eventName,rowIndex,callback){const rowComp=this.rowCtrlsByRowIndex[rowIndex];rowComp&&rowComp.addEventListener(eventName,callback)}flashCells(params={}){const{flashDelay,fadeDelay}=params;this.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>cellCtrl.flashCell({flashDelay,fadeDelay})))}refreshCells(params={}){const refreshCellParams={forceRefresh:params.force,newData:!1,suppressFlash:params.suppressFlash};this.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>{if(cellCtrl.refreshShouldDestroy()){const rowCtrl=cellCtrl.getRowCtrl();rowCtrl&&rowCtrl.refreshCell(cellCtrl)}else cellCtrl.refreshCell(refreshCellParams)})),params.rowNodes&&(this.getRowCtrls(params.rowNodes).forEach((rowCtrl=>{if(!rowCtrl.isFullWidth())return;rowCtrl.refreshFullWidth()||this.redrawRow(rowCtrl.getRowNode(),!0)})),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(params){var _a;const cellRenderers=this.getCellCtrls(params.rowNodes,params.columns).map((cellCtrl=>cellCtrl.getCellRenderer())).filter((renderer=>null!=renderer));if(null===(_a=params.columns)||void 0===_a?void 0:_a.length)return cellRenderers;const fullWidthRenderers=[],rowIdMap=this.mapRowNodes(params.rowNodes);return this.getAllRowCtrls().forEach((rowCtrl=>{if(rowIdMap&&!this.isRowInMap(rowCtrl.getRowNode(),rowIdMap))return;if(!rowCtrl.isFullWidth())return;const fullWidthRenderer=rowCtrl.getFullWidthCellRenderer();fullWidthRenderer&&fullWidthRenderers.push(fullWidthRenderer)})),[...fullWidthRenderers,...cellRenderers]}getCellEditorInstances(params){const res=[];return this.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>{const cellEditor=cellCtrl.getCellEditor();cellEditor&&res.push(cellEditor)})),res}getEditingCells(){const res=[];return this.getAllCellCtrls().forEach((cellCtrl=>{if(cellCtrl.isEditing()){const cellPosition=cellCtrl.getCellPosition();res.push(cellPosition)}})),res}mapRowNodes(rowNodes){if(!rowNodes)return;const res={top:{},bottom:{},normal:{}};return rowNodes.forEach((rowNode=>{const id=rowNode.id;"top"===rowNode.rowPinned?res.top[id]=rowNode:"bottom"===rowNode.rowPinned?res.bottom[id]=rowNode:res.normal[id]=rowNode})),res}isRowInMap(rowNode,rowIdsMap){const id=rowNode.id,floating=rowNode.rowPinned;return"bottom"===floating?null!=rowIdsMap.bottom[id]:"top"===floating?null!=rowIdsMap.top[id]:null!=rowIdsMap.normal[id]}getRowCtrls(rowNodes){const rowIdsMap=this.mapRowNodes(rowNodes),allRowCtrls=this.getAllRowCtrls();return rowNodes&&rowIdsMap?allRowCtrls.filter((rowCtrl=>{const rowNode=rowCtrl.getRowNode();return this.isRowInMap(rowNode,rowIdsMap)})):allRowCtrls}getCellCtrls(rowNodes,columns){let colIdsMap;exists(columns)&&(colIdsMap={},columns.forEach((colKey=>{const column=this.columnModel.getGridColumn(colKey);exists(column)&&(colIdsMap[column.getId()]=!0)})));const res=[];return this.getRowCtrls(rowNodes).forEach((rowCtrl=>{rowCtrl.getAllCellCtrls().forEach((cellCtrl=>{const colId=cellCtrl.getColumn().getId();colIdsMap&&!colIdsMap[colId]||res.push(cellCtrl)}))})),res}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove)}getRowsToRecycle(){const stubNodeIndexes=[];iterateObject(this.rowCtrlsByRowIndex,((index,rowComp)=>{null==rowComp.getRowNode().id&&stubNodeIndexes.push(index)})),this.removeRowCtrls(stubNodeIndexes);const ctrlsByIdMap={};return iterateObject(this.rowCtrlsByRowIndex,((index,rowComp)=>{const rowNode=rowComp.getRowNode();ctrlsByIdMap[rowNode.id]=rowComp})),this.rowCtrlsByRowIndex={},ctrlsByIdMap}removeRowCtrls(rowsToRemove){rowsToRemove.forEach((indexToRemove=>{const rowCtrl=this.rowCtrlsByRowIndex[indexToRemove];rowCtrl&&(rowCtrl.destroyFirstPass(),rowCtrl.destroySecondPass()),delete this.rowCtrlsByRowIndex[indexToRemove]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(params={}){const{afterScroll}=params;let cellFocused;this.stickyRowFeature&&browserSupportsPreventScroll()&&(cellFocused=this.getCellToRestoreFocusToAfterRefresh()||void 0);const oldFirstRow=this.firstRenderedRow,oldLastRow=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let hasStickyRowChanges=!1;this.stickyRowFeature&&(hasStickyRowChanges=this.stickyRowFeature.checkStickyRows());const rangeChanged=this.firstRenderedRow!==oldFirstRow||this.lastRenderedRow!==oldLastRow;if((!afterScroll||hasStickyRowChanges||rangeChanged)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,afterScroll),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(afterScroll),null!=cellFocused)){const newFocusedCell=this.getCellToRestoreFocusToAfterRefresh();null!=cellFocused&&null==newFocusedCell&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(cellFocused))}}removeRowCompsNotToDraw(indexesToDraw){const indexesToDrawMap={};indexesToDraw.forEach((index=>indexesToDrawMap[index]=!0));const indexesNotToDraw=Object.keys(this.rowCtrlsByRowIndex).filter((index=>!indexesToDrawMap[index]));this.removeRowCtrls(indexesNotToDraw)}calculateIndexesToDraw(rowsToRecycle){let indexesToDraw=createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow);const checkRowToDraw=(indexStr,rowComp)=>{const index=rowComp.getRowNode().rowIndex;null!=index&&(index<this.firstRenderedRow||index>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(rowComp)&&indexesToDraw.push(index)};iterateObject(this.rowCtrlsByRowIndex,checkRowToDraw),iterateObject(rowsToRecycle,checkRowToDraw),indexesToDraw.sort(((a,b)=>a-b));const ret=[];for(let i=0;i<indexesToDraw.length;i++){const currRow=indexesToDraw[i],rowNode=this.paginationProxy.getRow(currRow);rowNode&&!rowNode.sticky&&ret.push(currRow)}return ret}recycleRows(rowsToRecycle,animate=!1,afterScroll=!1){const indexesToDraw=this.calculateIndexesToDraw(rowsToRecycle);this.removeRowCompsNotToDraw(indexesToDraw),this.printLayout&&(animate=!1);const rowCtrls=[];if(indexesToDraw.forEach((rowIndex=>{const rowCtrl=this.createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll);exists(rowCtrl)&&rowCtrls.push(rowCtrl)})),rowsToRecycle){afterScroll&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(rowsToRecycle,animate),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(rowsToRecycle,animate)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(afterScroll=!1){const event={type:Events.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll};this.eventService.dispatchEvent(event)}onDisplayedColumnsChanged(){const pinningLeft=this.columnModel.isPinningLeft(),pinningRight=this.columnModel.isPinningRight();(this.pinningLeft!==pinningLeft||pinningRight!==this.pinningRight)&&(this.pinningLeft=pinningLeft,this.pinningRight=pinningRight,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const rowsToRemove=[];this.getFullWidthRowCtrls().forEach((fullWidthCtrl=>{const rowIndex=fullWidthCtrl.getRowNode().rowIndex;rowsToRemove.push(rowIndex.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(rowsToRemove),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(rowNodes){const rowNodesMap=this.mapRowNodes(rowNodes);return this.getAllRowCtrls().filter((rowCtrl=>{if(!rowCtrl.isFullWidth())return!1;const rowNode=rowCtrl.getRowNode();return!(null!=rowNodesMap&&!this.isRowInMap(rowNode,rowNodesMap))}))}createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll){let rowNode,rowCtrl=this.rowCtrlsByRowIndex[rowIndex];rowCtrl||(rowNode=this.paginationProxy.getRow(rowIndex),exists(rowNode)&&exists(rowsToRecycle)&&rowsToRecycle[rowNode.id]&&rowNode.alreadyRendered&&(rowCtrl=rowsToRecycle[rowNode.id],rowsToRecycle[rowNode.id]=null));if(!rowCtrl){if(rowNode||(rowNode=this.paginationProxy.getRow(rowIndex)),!exists(rowNode))return;rowCtrl=this.createRowCon(rowNode,animate,afterScroll)}return rowNode&&(rowNode.alreadyRendered=!0),this.rowCtrlsByRowIndex[rowIndex]=rowCtrl,rowCtrl}destroyRowCtrls(rowCtrlsMap,animate){const executeInAWhileFuncs=[];iterateObject(rowCtrlsMap,((nodeId,rowCtrl)=>{rowCtrl&&(this.cachedRowCtrls&&rowCtrl.isCacheable()?this.cachedRowCtrls.addRow(rowCtrl):(rowCtrl.destroyFirstPass(),animate?(this.zombieRowCtrls[rowCtrl.getInstanceId()]=rowCtrl,executeInAWhileFuncs.push((()=>{rowCtrl.destroySecondPass(),delete this.zombieRowCtrls[rowCtrl.getInstanceId()]}))):rowCtrl.destroySecondPass()))})),animate&&(executeInAWhileFuncs.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),executeInAWhile(executeInAWhileFuncs))}getRowBuffer(){let rowBuffer=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof rowBuffer?rowBuffer<0&&(function_doOnce((()=>console.warn("AG Grid: rowBuffer should not be negative")),"warn rowBuffer negative"),rowBuffer=0,this.gridOptionsService.set("rowBuffer",0)):rowBuffer=10,rowBuffer}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let newFirst,newLast;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),newFirst=this.paginationProxy.getPageFirstRow(),newLast=this.paginationProxy.getPageLastRow();else{const bufferPixels=this.getRowBufferInPixels(),gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),suppressRowVirtualisation=this.gridOptionsService.is("suppressRowVirtualisation");let firstPixel,lastPixel,rowHeightsChanged=!1;do{const paginationOffset=this.paginationProxy.getPixelOffset(),{pageFirstPixel,pageLastPixel}=this.paginationProxy.getCurrentPagePixelRange(),divStretchOffset=this.rowContainerHeightService.getDivStretchOffset(),bodyVRange=gridBodyCtrl.getScrollFeature().getVScrollPosition(),bodyTopPixel=bodyVRange.top,bodyBottomPixel=bodyVRange.bottom;suppressRowVirtualisation?(firstPixel=pageFirstPixel+divStretchOffset,lastPixel=pageLastPixel+divStretchOffset):(firstPixel=Math.max(bodyTopPixel+paginationOffset-bufferPixels,pageFirstPixel)+divStretchOffset,lastPixel=Math.min(bodyBottomPixel+paginationOffset+bufferPixels,pageLastPixel)+divStretchOffset),this.firstVisibleVPixel=Math.max(bodyTopPixel+paginationOffset,pageFirstPixel)+divStretchOffset,rowHeightsChanged=this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel,lastPixel)}while(rowHeightsChanged);let firstRowIndex=this.paginationProxy.getRowIndexAtPixel(firstPixel),lastRowIndex=this.paginationProxy.getRowIndexAtPixel(lastPixel);const pageFirstRow=this.paginationProxy.getPageFirstRow(),pageLastRow=this.paginationProxy.getPageLastRow();firstRowIndex<pageFirstRow&&(firstRowIndex=pageFirstRow),lastRowIndex>pageLastRow&&(lastRowIndex=pageLastRow),newFirst=firstRowIndex,newLast=lastRowIndex}else newFirst=0,newLast=-1;const rowLayoutNormal=this.gridOptionsService.isDomLayout("normal"),suppressRowCountRestriction=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),rowBufferMaxSize=Math.max(this.getRowBuffer(),500);rowLayoutNormal&&!suppressRowCountRestriction&&newLast-newFirst>rowBufferMaxSize&&(newLast=newFirst+rowBufferMaxSize);const firstDiffers=newFirst!==this.firstRenderedRow,lastDiffers=newLast!==this.lastRenderedRow;if(firstDiffers||lastDiffers){this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast;const event={type:Events.EVENT_VIEWPORT_CHANGED,firstRow:newFirst,lastRow:newLast};this.eventService.dispatchEvent(event)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const event={type:Events.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent(event)}))}ensureAllRowsInRangeHaveHeightsCalculated(topPixel,bottomPixel){const res=this.paginationProxy.ensureRowHeightsValid(topPixel,bottomPixel,-1,-1);return res&&this.updateContainerHeights(),res}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(rowComp){const rowNode=rowComp.getRowNode(),rowHasFocus=this.focusService.isRowNodeFocused(rowNode),rowIsEditing=rowComp.isEditing(),rowIsDetail=rowNode.detail;if(!(rowHasFocus||rowIsEditing||rowIsDetail))return false;return!!this.paginationProxy.isRowPresent(rowNode)}createRowCon(rowNode,animate,afterScroll){const rowCtrlFromCache=this.cachedRowCtrls?this.cachedRowCtrls.getRow(rowNode):null;if(rowCtrlFromCache)return rowCtrlFromCache;const suppressAnimationFrame=this.gridOptionsService.is("suppressAnimationFrame"),useAnimationFrameForCreate=afterScroll&&!suppressAnimationFrame&&!this.printLayout;return new RowCtrl(rowNode,this.beans,animate,useAnimationFrameForCreate,this.printLayout)}getRenderedNodes(){const renderedRows=this.rowCtrlsByRowIndex;return Object.keys(renderedRows).map((key=>renderedRows[key].getRowNode()))}getRowByPosition(rowPosition){let rowCtrl;const{rowIndex}=rowPosition;switch(rowPosition.rowPinned){case"top":rowCtrl=this.topRowCtrls[rowIndex];break;case"bottom":rowCtrl=this.bottomRowCtrls[rowIndex];break;default:rowCtrl=this.rowCtrlsByRowIndex[rowIndex],rowCtrl||(rowCtrl=this.getStickyTopRowCtrls().find((ctrl=>ctrl.getRowNode().rowIndex===rowIndex))||null)}return rowCtrl}getRowNode(gridRow){switch(gridRow.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}}isRangeInRenderedViewport(startIndex,endIndex){if(null==startIndex||null==endIndex)return!1;const blockAfterViewport=startIndex>this.lastRenderedRow;return!(endIndex<this.firstRenderedRow)&&!blockAfterViewport}};rowRenderer_decorate([Autowired("animationFrameService")],RowRenderer.prototype,"animationFrameService",void 0),rowRenderer_decorate([Autowired("paginationProxy")],RowRenderer.prototype,"paginationProxy",void 0),rowRenderer_decorate([Autowired("columnModel")],RowRenderer.prototype,"columnModel",void 0),rowRenderer_decorate([Autowired("pinnedRowModel")],RowRenderer.prototype,"pinnedRowModel",void 0),rowRenderer_decorate([Autowired("rowModel")],RowRenderer.prototype,"rowModel",void 0),rowRenderer_decorate([Autowired("focusService")],RowRenderer.prototype,"focusService",void 0),rowRenderer_decorate([Autowired("beans")],RowRenderer.prototype,"beans",void 0),rowRenderer_decorate([Autowired("rowContainerHeightService")],RowRenderer.prototype,"rowContainerHeightService",void 0),rowRenderer_decorate([Autowired("ctrlsService")],RowRenderer.prototype,"ctrlsService",void 0),rowRenderer_decorate([PostConstruct],RowRenderer.prototype,"postConstruct",null),RowRenderer=rowRenderer_decorate([Bean("rowRenderer")],RowRenderer);class RowCtrlCache{constructor(maxCount){this.entriesMap={},this.entriesList=[],this.maxCount=maxCount}addRow(rowCtrl){if(this.entriesMap[rowCtrl.getRowNode().id]=rowCtrl,this.entriesList.push(rowCtrl),rowCtrl.setCached(!0),this.entriesList.length>this.maxCount){const rowCtrlToDestroy=this.entriesList[0];rowCtrlToDestroy.destroyFirstPass(),rowCtrlToDestroy.destroySecondPass(),this.removeFromCache(rowCtrlToDestroy)}}getRow(rowNode){if(null==rowNode||null==rowNode.id)return null;const res=this.entriesMap[rowNode.id];if(!res)return null;this.removeFromCache(res),res.setCached(!1);return res.getRowNode()!=rowNode?null:res}removeFromCache(rowCtrl){const rowNodeId=rowCtrl.getRowNode().id;delete this.entriesMap[rowNodeId],removeFromArray(this.entriesList,rowCtrl)}getEntries(){return this.entriesList}}var valueFormatterService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ValueFormatterService=class ValueFormatterService extends BeanStub{formatValue(column,node,value,suppliedFormatter,useFormatterFromColumn=!0){let formatter,result=null;const colDef=column.getColDef();if(suppliedFormatter?formatter=suppliedFormatter:useFormatterFromColumn&&(formatter=colDef.valueFormatter),formatter){const params={value,node,data:node?node.data:null,colDef,column,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};result="function"==typeof formatter?formatter(params):this.expressionService.evaluate(formatter,params)}else if(colDef.refData)return colDef.refData[value]||"";return null==result&&Array.isArray(value)&&(result=value.join(", ")),result}};valueFormatterService_decorate([Autowired("expressionService")],ValueFormatterService.prototype,"expressionService",void 0),ValueFormatterService=valueFormatterService_decorate([Bean("valueFormatterService")],ValueFormatterService);var pinnedRowModel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let PinnedRowModel=class PinnedRowModel extends BeanStub{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(floating){return missingOrEmpty("top"===floating?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(floating){return!this.isEmpty(floating)}getRowAtPixel(pixel,floating){const rows="top"===floating?this.pinnedTopRows:this.pinnedBottomRows;if(missingOrEmpty(rows))return 0;for(let i=0;i<rows.length;i++){const rowNode=rows[i];if(rowNode.rowTop+rowNode.rowHeight-1>=pixel)return i}return rows.length-1}setPinnedTopRowData(rowData){this.pinnedTopRows=this.createNodesFromData(rowData,!0);const event={type:Events.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(event)}setPinnedBottomRowData(rowData){this.pinnedBottomRows=this.createNodesFromData(rowData,!1);const event={type:Events.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(event)}createNodesFromData(allData,isTop){const rowNodes=[];if(allData){let nextRowTop=0;allData.forEach(((dataItem,index)=>{const rowNode=new RowNode(this.beans);rowNode.data=dataItem;const idPrefix=isTop?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED;rowNode.id=idPrefix+index,rowNode.rowPinned=isTop?"top":"bottom",rowNode.setRowTop(nextRowTop),rowNode.setRowHeight(this.gridOptionsService.getRowHeightForNode(rowNode).height),rowNode.setRowIndex(index),nextRowTop+=rowNode.rowHeight,rowNodes.push(rowNode)}))}return rowNodes}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(index){return this.pinnedTopRows[index]}getPinnedBottomRow(index){return this.pinnedBottomRows[index]}forEachPinnedTopRow(callback){missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(callback)}forEachPinnedBottomRow(callback){missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(callback)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(rowNodes){if(!rowNodes||0===rowNodes.length)return 0;const lastNode=last(rowNodes);return lastNode.rowTop+lastNode.rowHeight}};var ServerSideTransactionResultStatus;pinnedRowModel_decorate([Autowired("beans")],PinnedRowModel.prototype,"beans",void 0),pinnedRowModel_decorate([PostConstruct],PinnedRowModel.prototype,"init",null),PinnedRowModel=pinnedRowModel_decorate([Bean("pinnedRowModel")],PinnedRowModel),function(ServerSideTransactionResultStatus){ServerSideTransactionResultStatus.Applied="Applied",ServerSideTransactionResultStatus.StoreNotFound="StoreNotFound",ServerSideTransactionResultStatus.StoreLoading="StoreLoading",ServerSideTransactionResultStatus.StoreWaitingToLoad="StoreWaitingToLoad",ServerSideTransactionResultStatus.StoreLoadingFailed="StoreLoadingFailed",ServerSideTransactionResultStatus.StoreWrongType="StoreWrongType",ServerSideTransactionResultStatus.Cancelled="Cancelled"}(ServerSideTransactionResultStatus||(ServerSideTransactionResultStatus={}));class ChangedPath{constructor(keepingColumns,rootNode){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=keepingColumns,this.pathRoot={rowNode:rootNode,children:null},this.mapToItems[rootNode.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(pathItem,callback){if(pathItem.children)for(let i=0;i<pathItem.children.length;i++)this.depthFirstSearchChangedPath(pathItem.children[i],callback);callback(pathItem.rowNode)}depthFirstSearchEverything(rowNode,callback,traverseEverything){if(rowNode.childrenAfterGroup)for(let i=0;i<rowNode.childrenAfterGroup.length;i++){const childNode=rowNode.childrenAfterGroup[i];childNode.childrenAfterGroup?this.depthFirstSearchEverything(rowNode.childrenAfterGroup[i],callback,traverseEverything):traverseEverything&&callback(childNode)}callback(rowNode)}forEachChangedNodeDepthFirst(callback,traverseLeafNodes=!1,includeUnchangedNodes=!1){this.active&&!includeUnchangedNodes?this.depthFirstSearchChangedPath(this.pathRoot,callback):this.depthFirstSearchEverything(this.pathRoot.rowNode,callback,traverseLeafNodes)}executeFromRootNode(callback){callback(this.pathRoot.rowNode)}createPathItems(rowNode){let pointer=rowNode,newEntryCount=0;for(;!this.mapToItems[pointer.id];){const newEntry={rowNode:pointer,children:null};this.mapToItems[pointer.id]=newEntry,newEntryCount++,pointer=pointer.parent}return newEntryCount}populateColumnsMap(rowNode,columns){if(!this.keepingColumns||!columns)return;let pointer=rowNode;for(;pointer;)this.nodeIdsToColumns[pointer.id]||(this.nodeIdsToColumns[pointer.id]={}),columns.forEach((col=>this.nodeIdsToColumns[pointer.id][col.getId()]=!0)),pointer=pointer.parent}linkPathItems(rowNode,newEntryCount){let pointer=rowNode;for(let i=0;i<newEntryCount;i++){const thisItem=this.mapToItems[pointer.id],parentItem=this.mapToItems[pointer.parent.id];parentItem.children||(parentItem.children=[]),parentItem.children.push(thisItem),pointer=pointer.parent}}addParentNode(rowNode,columns){if(!rowNode||rowNode.isRowPinned())return;const newEntryCount=this.createPathItems(rowNode);this.linkPathItems(rowNode,newEntryCount),this.populateColumnsMap(rowNode,columns)}canSkip(rowNode){return this.active&&!this.mapToItems[rowNode.id]}getValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return valueColumns;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>colsForThisNode[col.getId()]))}getNotValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return null;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>!colsForThisNode[col.getId()]))}}class RowNodeBlock extends BeanStub{constructor(id){super(),this.state=RowNodeBlock.STATE_WAITING_TO_LOAD,this.version=0,this.id=id}getId(){return this.id}load(){this.state=RowNodeBlock.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=RowNodeBlock.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(version){this.isRequestMostRecentAndLive(version)&&(this.state=RowNodeBlock.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(version,params){this.successCommon(version,params)}pageLoaded(version,rows,lastRow){this.successCommon(version,{rowData:rows,rowCount:lastRow})}isRequestMostRecentAndLive(version){const thisIsMostRecentRequest=version===this.version,weAreNotDestroyed=this.isAlive();return thisIsMostRecentRequest&&weAreNotDestroyed}successCommon(version,params){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(version)&&(this.state=RowNodeBlock.STATE_LOADED,this.processServerResult(params))}dispatchLoadCompleted(success=!0){const event={type:RowNodeBlock.EVENT_LOAD_COMPLETE,success,block:this};this.dispatchEvent(event)}}RowNodeBlock.EVENT_LOAD_COMPLETE="loadComplete",RowNodeBlock.STATE_WAITING_TO_LOAD="needsLoading",RowNodeBlock.STATE_LOADING="loading",RowNodeBlock.STATE_LOADED="loaded",RowNodeBlock.STATE_FAILED="failed";var RowNodeBlockLoader_1,rowNodeBlockLoader_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},rowNodeBlockLoader_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let RowNodeBlockLoader=RowNodeBlockLoader_1=class RowNodeBlockLoader extends BeanStub{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const blockLoadDebounceMillis=this.gridOptionsService.getNum("blockLoadDebounceMillis");blockLoadDebounceMillis&&blockLoadDebounceMillis>0&&(this.checkBlockToLoadDebounce=_.debounce(this.performCheckBlocksToLoad.bind(this),blockLoadDebounceMillis))}setBeans(loggerFactory){this.logger=loggerFactory.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const res=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==res?2:res<=0?void 0:res}addBlock(block){this.blocks.push(block),block.addEventListener(RowNodeBlock.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(block){_.removeFromArray(this.blocks,block)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:RowNodeBlockLoader_1.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:RowNodeBlockLoader_1.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const loadAvailability=this.getAvailableLoadingCount(),blocksToLoad=this.blocks.filter((block=>block.getState()===RowNodeBlock.STATE_WAITING_TO_LOAD)).slice(0,loadAvailability);this.registerLoads(blocksToLoad.length),blocksToLoad.forEach((block=>block.load())),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide")){return this.rowModel.getBlockStates()}const result={};return this.blocks.forEach((block=>{const{id,state}=block.getBlockStateJson();result[id]=state})),result}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(count){this.activeBlockLoadsCount+=count}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};RowNodeBlockLoader.BLOCK_LOADED_EVENT="blockLoaded",RowNodeBlockLoader.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",rowNodeBlockLoader_decorate([Autowired("rowModel")],RowNodeBlockLoader.prototype,"rowModel",void 0),rowNodeBlockLoader_decorate([PostConstruct],RowNodeBlockLoader.prototype,"postConstruct",null),rowNodeBlockLoader_decorate([rowNodeBlockLoader_param(0,Qualifier("loggerFactory"))],RowNodeBlockLoader.prototype,"setBeans",null),RowNodeBlockLoader=RowNodeBlockLoader_1=rowNodeBlockLoader_decorate([Bean("rowNodeBlockLoader")],RowNodeBlockLoader);var paginationProxy_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let PaginationProxy=class PaginationProxy extends BeanStub{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(startPixel,endPixel,startLimitIndex,endLimitIndex){const res=this.rowModel.ensureRowHeightsValid(startPixel,endPixel,this.getPageFirstRow(),this.getPageLastRow());return res&&this.calculatePages(),res}isPaginateChildRows(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")}onModelUpdated(modelUpdatedEvent){this.calculatePages();const paginationChangedEvent={type:Events.EVENT_PAGINATION_CHANGED,animate:!!modelUpdatedEvent&&modelUpdatedEvent.animate,newData:!!modelUpdatedEvent&&modelUpdatedEvent.newData,newPage:!!modelUpdatedEvent&&modelUpdatedEvent.newPage,keepRenderedRows:!!modelUpdatedEvent&&modelUpdatedEvent.keepRenderedRows};this.eventService.dispatchEvent(paginationChangedEvent)}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();const paginationChangedEvent={type:Events.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(paginationChangedEvent)}goToPage(page){if(!this.active||this.currentPage===page||"number"!=typeof this.currentPage)return;this.currentPage=page;const event={type:Events.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(event)}getPixelOffset(){return this.pixelOffset}getRow(index){return this.rowModel.getRow(index)}getRowNode(id){return this.rowModel.getRowNode(id)}getRowIndexAtPixel(pixel){return this.rowModel.getRowIndexAtPixel(pixel)}getCurrentPageHeight(){return missing(this.topRowBounds)||missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(rowNode){if(!this.rowModel.isRowPresent(rowNode))return!1;return rowNode.rowIndex>=this.topDisplayedRowIndex&&rowNode.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(callback){return this.rowModel.forEachNode(callback)}forEachNodeOnPage(callback){const firstRow=this.getPageFirstRow(),lastRow=this.getPageLastRow();for(let i=firstRow;i<=lastRow;i++){const node=this.getRow(i);node&&callback(node)}}getType(){return this.rowModel.getType()}getRowBounds(index){const res=this.rowModel.getRowBounds(index);return res.rowIndex=index,res}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(index){return Math.floor(index/this.pageSize)}goToPageWithIndex(index){if(!this.active)return;const pageNumber=this.getPageForIndex(index);this.goToPage(pageNumber)}isRowInPage(row){if(!this.active)return!0;return this.getPageForIndex(row.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const rowCount=this.rowModel.getRowCount(),lastPage=Math.floor(rowCount/this.pageSize);this.goToPage(lastPage)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(exists(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(value){this.pixelOffset!==value&&(this.pixelOffset=value,this.eventService.dispatchEvent({type:Events.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const masterLastRowIndex=this.masterRowCount-1;this.totalPages=Math.floor(masterLastRowIndex/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const masterPageStartIndex=this.pageSize*this.currentPage;let masterPageEndIndex=this.pageSize*(this.currentPage+1)-1;if(masterPageEndIndex>masterLastRowIndex&&(masterPageEndIndex=masterLastRowIndex),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex),masterPageEndIndex===masterLastRowIndex)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const firstIndexNotToShow=this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex+1);this.bottomDisplayedRowIndex=firstIndexNotToShow-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const maxRowIndex=this.masterRowCount-1;this.totalPages=Math.floor(maxRowIndex/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>maxRowIndex&&(this.bottomDisplayedRowIndex=maxRowIndex)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};paginationProxy_decorate([Autowired("rowModel")],PaginationProxy.prototype,"rowModel",void 0),paginationProxy_decorate([PostConstruct],PaginationProxy.prototype,"postConstruct",null),PaginationProxy=paginationProxy_decorate([Bean("paginationProxy")],PaginationProxy);var stylingService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let StylingService=class StylingService extends BeanStub{processAllCellClasses(colDef,params,onApplicableClass,onNotApplicableClass){this.processClassRules(colDef.cellClassRules,params,onApplicableClass,onNotApplicableClass),this.processStaticCellClasses(colDef,params,onApplicableClass)}processClassRules(classRules,params,onApplicableClass,onNotApplicableClass){if(null==classRules)return;const classNames=Object.keys(classRules),classesToApply={},classesToRemove={};for(let i=0;i<classNames.length;i++){const className=classNames[i],rule=classRules[className];let resultOfRule;"string"==typeof rule?resultOfRule=this.expressionService.evaluate(rule,params):"function"==typeof rule&&(resultOfRule=rule(params)),className.split(" ").forEach((singleClass=>{null!=singleClass&&""!=singleClass.trim()&&(resultOfRule?classesToApply[singleClass]=!0:classesToRemove[singleClass]=!0)}))}onNotApplicableClass&&Object.keys(classesToRemove).forEach(onNotApplicableClass),Object.keys(classesToApply).forEach(onApplicableClass)}getStaticCellClasses(colDef,params){const{cellClass}=colDef;if(!cellClass)return[];let classOrClasses;if("function"==typeof cellClass){classOrClasses=cellClass(params)}else classOrClasses=cellClass;return"string"==typeof classOrClasses&&(classOrClasses=[classOrClasses]),classOrClasses||[]}processStaticCellClasses(colDef,params,onApplicableClass){this.getStaticCellClasses(colDef,params).forEach((cssClassItem=>{onApplicableClass(cssClassItem)}))}};stylingService_decorate([Autowired("expressionService")],StylingService.prototype,"expressionService",void 0),StylingService=stylingService_decorate([Bean("stylingService")],StylingService);class AgToggleButton extends AgCheckbox{constructor(config){super(config,"ag-toggle-button")}setValue(value,silent){return super.setValue(value,silent),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}}class AgInputTextArea extends AgAbstractInputField{constructor(config){super(config,"ag-text-area",null,"textarea")}setValue(value,silent){const ret=super.setValue(value,silent);return this.eInput.value=value,ret}setCols(cols){return this.eInput.cols=cols,this}setRows(rows){return this.eInput.rows=rows,this}}class AgInputDateField extends AgInputTextField{constructor(config){super(config,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const usingSafari=isBrowserSafari();this.addManagedListener(this.eInput,"mousedown",(()=>{this.isDisabled()||usingSafari||this.eInput.focus()})),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}setMin(minDate){var _a;const min=minDate instanceof Date?null!==(_a=serialiseDate(null!=minDate?minDate:null,!1))&&void 0!==_a?_a:void 0:minDate;return this.min===min||(this.min=min,addOrRemoveAttribute(this.eInput,"min",min)),this}setMax(maxDate){var _a;const max=maxDate instanceof Date?null!==(_a=serialiseDate(null!=maxDate?maxDate:null,!1))&&void 0!==_a?_a:void 0:maxDate;return this.max===max||(this.max=max,addOrRemoveAttribute(this.eInput,"max",max)),this}setStep(step){return this.step===step||(this.step=step,addOrRemoveAttribute(this.eInput,"step",step)),this}getDate(){var _a;if(this.eInput.validity.valid)return null!==(_a=parseDateTimeFromString(this.getValue()))&&void 0!==_a?_a:void 0}setDate(date,silent){this.setValue(serialiseDate(null!=date?date:null,!1),silent)}}class AgInputRange extends AgAbstractInputField{constructor(config){super(config,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min,max,step}=this.config;null!=min&&this.setMinValue(min),null!=max&&this.setMaxValue(max),this.setStep(step||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",(e=>{const value=e.target.value;this.setValue(value)}))}setMinValue(value){return this.min=value,this.eInput.setAttribute("min",value.toString()),this}setMaxValue(value){return this.max=value,this.eInput.setAttribute("max",value.toString()),this}setStep(value){return this.eInput.setAttribute("step",value.toString()),this}setValue(value,silent){null!=this.min&&(value=Math.max(parseFloat(value),this.min).toString()),null!=this.max&&(value=Math.min(parseFloat(value),this.max).toString());const ret=super.setValue(value,silent);return this.eInput.value=value,ret}}var agRichSelectRow_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class RichSelectRow extends Component{constructor(params,wrapperEl){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=params,this.wrapperEl=wrapperEl}postConstruct(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))}setState(value){let formattedValue="";this.params.valueFormatter&&(formattedValue=this.params.valueFormatter(value));this.populateWithRenderer(value,formattedValue)||this.populateWithoutRenderer(value,formattedValue),this.value=value}highlightString(matchString){const{parsedValue}=this;if(!this.params.cellRenderer&&exists(parsedValue))if(exists(matchString)){const index=null==parsedValue?void 0:parsedValue.toLocaleLowerCase().indexOf(matchString.toLocaleLowerCase());if(index>=0){const highlightEndIndex=index+matchString.length,startPart=escapeString(parsedValue.slice(0,index),!0),highlightedPart=escapeString(parsedValue.slice(index,highlightEndIndex),!0),endPart=escapeString(parsedValue.slice(highlightEndIndex));this.renderValueWithoutRenderer(`${startPart}<span class="ag-rich-select-row-text-highlight">${highlightedPart}</span>${endPart}`)}}else this.renderValueWithoutRenderer(parsedValue)}updateHighlighted(highlighted){var _a;const eGui=this.getGui(),parentId=`ag-rich-select-row-${this.getCompId()}`;if(null===(_a=eGui.parentElement)||void 0===_a||_a.setAttribute("id",parentId),highlighted){setAriaActiveDescendant(this.getParentComponent().getAriaElement(),parentId),this.wrapperEl.setAttribute("data-active-option",parentId)}setAriaSelected(eGui.parentElement,highlighted),this.addOrRemoveCssClass("ag-rich-select-row-selected",highlighted)}populateWithoutRenderer(value,valueFormatted){const eDocument=this.gridOptionsService.getDocument(),eGui=this.getGui(),span=eDocument.createElement("span");span.style.overflow="hidden",span.style.textOverflow="ellipsis";const parsedValue=escapeString(exists(valueFormatted)?valueFormatted:value,!0);this.parsedValue=exists(parsedValue)?parsedValue:null,eGui.appendChild(span),this.renderValueWithoutRenderer(parsedValue)}renderValueWithoutRenderer(value){const span=this.getGui().querySelector("span");span&&(span.innerHTML=exists(value)?value:"&nbsp;")}populateWithRenderer(value,valueFormatted){let cellRendererPromise,userCompDetails;return this.params.cellRenderer&&(userCompDetails=this.userComponentFactory.getCellRendererDetails(this.params,{value,valueFormatted,api:this.gridOptionsService.api})),userCompDetails&&(cellRendererPromise=userCompDetails.newAgStackInstance()),cellRendererPromise&&bindCellRendererToHtmlElement(cellRendererPromise,this.getGui()),!!cellRendererPromise&&(cellRendererPromise.then((childComponent=>{this.addDestroyFunc((()=>{this.getContext().destroyBean(childComponent)}))})),!0)}onMouseUp(){const parent=this.getParentComponent(),event={type:Events.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};null==parent||parent.dispatchEvent(event)}}agRichSelectRow_decorate([Autowired("userComponentFactory")],RichSelectRow.prototype,"userComponentFactory",void 0),agRichSelectRow_decorate([PostConstruct],RichSelectRow.prototype,"postConstruct",null);class TabGuardComp extends Component{initialiseTabGuard(params){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const tabGuards=[this.eTopGuard,this.eBottomGuard],compProxy={setTabIndex:tabIndex=>{tabGuards.forEach((tabGuard=>null!=tabIndex?tabGuard.setAttribute("tabindex",tabIndex):tabGuard.removeAttribute("tabindex")))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:compProxy,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:params.onFocusIn,onFocusOut:params.onFocusOut,focusInnerElement:params.focusInnerElement,handleKeyDown:params.handleKeyDown,onTabKeyDown:params.onTabKeyDown,shouldStopEventPropagation:params.shouldStopEventPropagation}))}createTabGuard(side){const tabGuard=document.createElement("div"),cls="top"===side?TabGuardClassNames.TAB_GUARD_TOP:TabGuardClassNames.TAB_GUARD_BOTTOM;return tabGuard.classList.add(TabGuardClassNames.TAB_GUARD,cls),setAriaRole(tabGuard,"presentation"),tabGuard}addTabGuards(topTabGuard,bottomTabGuard){this.eFocusableElement.insertAdjacentElement("afterbegin",topTabGuard),this.eFocusableElement.insertAdjacentElement("beforeend",bottomTabGuard)}removeAllChildrenExceptTabGuards(){const tabGuards=[this.eTopGuard,this.eBottomGuard];clearElement(this.getFocusableElement()),this.addTabGuards(...tabGuards)}forceFocusOutOfContainer(up=!1){this.tabGuardCtrl.forceFocusOutOfContainer(up)}appendChild(newChild,container){isNodeOrElement(newChild)||(newChild=newChild.getGui());const{eBottomGuard:bottomTabGuard}=this;bottomTabGuard?bottomTabGuard.insertAdjacentElement("beforebegin",newChild):super.appendChild(newChild,container)}}var virtualList_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class VirtualList extends TabGuardComp{constructor(params){super(VirtualList.getTemplate((null==params?void 0:params.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20;const{cssIdentifier="default",ariaRole="listbox",listName}=params||{};this.cssIdentifier=cssIdentifier,this.ariaRole=ariaRole,this.listName=listName}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:fromBottom=>this.focusInnerElement(fromBottom),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,Events.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const listName=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),ariaEl=this.eContainer;setAriaRole(ariaEl,this.ariaRole),setAriaLabel(ariaEl,listName)}addResizeObserver(){const destroyObserver=this.resizeObserverService.observeResize(this.getGui(),(()=>this.animationFrameService.requestAnimationFrame((()=>this.drawVirtualRows()))));this.addDestroyFunc(destroyObserver)}focusInnerElement(fromBottom){this.focusRow(fromBottom?this.model.getRowCount()-1:0)}onFocusIn(e){const target=e.target;return target.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=getAriaPosInSet(target)-1),!1}onFocusOut(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:this.navigate(e.key===KeyCode.UP)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(stopPropagationForAgGrid(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(up){if(null==this.lastFocusedRowIndex)return!1;const nextRow=this.lastFocusedRowIndex+(up?-1:1);return!(nextRow<0||nextRow>=this.model.getRowCount())&&(this.focusRow(nextRow),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(rowNumber){this.ensureIndexVisible(rowNumber),window.setTimeout((()=>{if(!this.isAlive())return;const renderedRow=this.renderedRows.get(rowNumber);renderedRow&&renderedRow.eDiv.focus()}),10)}getComponentAt(rowIndex){const comp=this.renderedRows.get(rowIndex);return comp&&comp.rowComponent}forEachRenderedRow(func){this.renderedRows.forEach(((value,key)=>func(value.rowComponent,key)))}static getTemplate(cssIdentifier){return`<div class="ag-virtual-list-viewport ag-${cssIdentifier}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${cssIdentifier}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(index,scrollPartialIntoView=!0){const lastRow=this.model.getRowCount();if("number"!=typeof index||index<0||index>=lastRow)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+index),!1;const rowTopPixel=index*this.rowHeight,rowBottomPixel=rowTopPixel+this.rowHeight,eGui=this.getGui(),viewportTopPixel=eGui.scrollTop,viewportHeight=eGui.offsetHeight,viewportBottomPixel=viewportTopPixel+viewportHeight,diff=scrollPartialIntoView?0:this.rowHeight,viewportScrolledBeforeRow=viewportBottomPixel<rowBottomPixel-diff;if(viewportTopPixel>rowTopPixel+diff)return eGui.scrollTop=rowTopPixel,!0;if(viewportScrolledBeforeRow){const newScrollPosition=rowBottomPixel-viewportHeight;return eGui.scrollTop=newScrollPosition,!0}return!1}setComponentCreator(componentCreator){this.componentCreator=componentCreator}setComponentUpdater(componentUpdater){this.componentUpdater=componentUpdater}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(rowHeight){this.rowHeight=rowHeight,this.refresh()}refresh(softRefresh){if(null==this.model||!this.isAlive())return;const rowCount=this.model.getRowCount();this.eContainer.style.height=rowCount*this.rowHeight+"px",waitUntil((()=>this.eContainer.clientHeight>=rowCount*this.rowHeight),(()=>{this.isAlive()&&(this.canSoftRefresh(softRefresh)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))}))}canSoftRefresh(softRefresh){return!!(softRefresh&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach(((_,rowIndex)=>this.removeRow(rowIndex)))}drawVirtualRows(softRefresh){if(!this.isAlive()||!this.model)return;const gui=this.getGui(),topPixel=gui.scrollTop,bottomPixel=topPixel+gui.offsetHeight,firstRow=Math.floor(topPixel/this.rowHeight),lastRow=Math.floor(bottomPixel/this.rowHeight);this.ensureRowsRendered(firstRow,lastRow,softRefresh)}ensureRowsRendered(start,finish,softRefresh){this.renderedRows.forEach(((_,rowIndex)=>{(rowIndex<start||rowIndex>finish)&&rowIndex!==this.lastFocusedRowIndex&&this.removeRow(rowIndex)})),softRefresh&&this.refreshRows();for(let rowIndex=start;rowIndex<=finish;rowIndex++)this.renderedRows.has(rowIndex)||rowIndex<this.model.getRowCount()&&this.insertRow(rowIndex)}insertRow(rowIndex){const value=this.model.getRow(rowIndex),eDiv=document.createElement("div");if(eDiv.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),setAriaRole(eDiv,"tree"===this.ariaRole?"treeitem":"option"),setAriaSetSize(eDiv,this.model.getRowCount()),setAriaPosInSet(eDiv,rowIndex+1),eDiv.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){const isSelected=this.model.isRowSelected(rowIndex);setAriaSelected(eDiv,!!isSelected),setAriaChecked(eDiv,isSelected)}eDiv.style.height=`${this.rowHeight}px`,eDiv.style.top=this.rowHeight*rowIndex+"px";const rowComponent=this.componentCreator(value,eDiv);rowComponent.addGuiEventListener("focusin",(()=>this.lastFocusedRowIndex=rowIndex)),eDiv.appendChild(rowComponent.getGui()),this.renderedRows.has(rowIndex-1)?this.renderedRows.get(rowIndex-1).eDiv.insertAdjacentElement("afterend",eDiv):this.renderedRows.has(rowIndex+1)?this.renderedRows.get(rowIndex+1).eDiv.insertAdjacentElement("beforebegin",eDiv):this.eContainer.appendChild(eDiv),this.renderedRows.set(rowIndex,{rowComponent,eDiv,value})}removeRow(rowIndex){const component=this.renderedRows.get(rowIndex);this.eContainer.removeChild(component.eDiv),this.destroyBean(component.rowComponent),this.renderedRows.delete(rowIndex)}refreshRows(){const rowCount=this.model.getRowCount();this.renderedRows.forEach(((row,rowIndex)=>{var _a,_b;if(rowIndex>=rowCount)this.removeRow(rowIndex);else{const newValue=this.model.getRow(rowIndex);(null===(_b=(_a=this.model).areRowsEqual)||void 0===_b?void 0:_b.call(_a,row.value,newValue))?this.componentUpdater(newValue,row.rowComponent):this.removeRow(rowIndex)}}))}addScrollListener(){this.addGuiEventListener("scroll",(()=>this.drawVirtualRows()),{passive:!0})}setModel(model){this.model=model}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}}virtualList_decorate([Autowired("resizeObserverService")],VirtualList.prototype,"resizeObserverService",void 0),virtualList_decorate([Autowired("animationFrameService")],VirtualList.prototype,"animationFrameService",void 0),virtualList_decorate([RefSelector("eContainer")],VirtualList.prototype,"eContainer",void 0),virtualList_decorate([PostConstruct],VirtualList.prototype,"postConstruct",null);var agRichSelect_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgRichSelect extends AgPickerField{constructor(config){var _a,_b;super(Object.assign(Object.assign({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(_a=null==config?void 0:config.template)&&void 0!==_a?_a:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},config),{maxPickerHeight:null!==(_b=null==config?void 0:config.maxPickerHeight)&&void 0!==_b?_b:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight,value,valueList,searchStringCreator}=config||{};null!=cellRowHeight&&(this.cellRowHeight=cellRowHeight),void 0!==value&&(this.value=value),null!=valueList&&(this.values=valueList),searchStringCreator&&(this.searchStringCreator=searchStringCreator)}postConstruct(){var _a;super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping,placeholder}=this.config;allowTyping?(this.eInput.setAutoComplete(!1).setInputPlaceholder(placeholder),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=null!==(_a=this.gridOptionsService.getNum("tabIndex"))&&void 0!==_a?_a:0;const{searchDebounceDelay=300}=this.config;this.clearSearchString=debounce(this.clearSearchString,searchDebounceDelay),this.renderSelectedValue(),allowTyping&&(this.eInput.onValueChange((value=>this.searchTextFromString(value))),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const eDocument=this.gridOptionsService.getDocument(),translate=this.localeService.getLocaleTextFunc(),el=eDocument.createElement("div");el.classList.add("ag-loading-text"),el.innerText=translate("loadingOoo","Loading..."),this.eLoading=el}createListComponent(){this.listComponent=this.createBean(new VirtualList({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,Events.EVENT_FIELD_PICKER_VALUE_SELECTED,(e=>{this.onListValueSelected(e.value,e.fromEnterKey)}));const{cellRowHeight}=this;cellRowHeight&&this.listComponent.setRowHeight(cellRowHeight);const eListGui=this.listComponent.getGui(),eListAriaEl=this.listComponent.getAriaElement();this.addManagedListener(eListGui,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(eListGui,"mousedown",(e=>e.preventDefault())),eListGui.classList.add("ag-rich-select-list");const listId=`ag-rich-select-list-${this.listComponent.getCompId()}`;eListAriaEl.setAttribute("id",listId);setAriaLabel(eListAriaEl,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),setAriaControls(this.eWrapper,eListAriaEl)}renderSelectedValue(){const{value,eDisplayField,config}=this,valueFormatted=this.config.valueFormatter?this.config.valueFormatter(value):value;if(config.allowTyping)return void this.eInput.setValue(valueFormatted);let userCompDetails,userCompDetailsPromise;if(config.cellRenderer&&(userCompDetails=this.userComponentFactory.getCellRendererDetails(this.config,{value,valueFormatted,api:this.gridOptionsService.api})),userCompDetails&&(userCompDetailsPromise=userCompDetails.newAgStackInstance()),userCompDetailsPromise)clearElement(eDisplayField),bindCellRendererToHtmlElement(userCompDetailsPromise,eDisplayField),userCompDetailsPromise.then((renderer=>{this.addDestroyFunc((()=>this.getContext().destroyBean(renderer)))}));else if(exists(this.value))eDisplayField.innerText=valueFormatted,eDisplayField.classList.remove("ag-display-as-placeholder");else{const{placeholder}=config;exists(placeholder)?(eDisplayField.innerHTML=`${escapeString(placeholder)}`,eDisplayField.classList.add("ag-display-as-placeholder")):clearElement(eDisplayField)}}getCurrentValueIndex(){const{currentList,value}=this;if(null==value)return-1;for(let i=0;i<currentList.length;i++)if(currentList[i]===value)return i;return-1}highlightFilterMatch(){var _a;null===(_a=this.listComponent)||void 0===_a||_a.forEachRenderedRow(((cmp,idx)=>{cmp.highlightString(this.searchString)}))}highlightSelectedValue(index){var _a;null==index&&(index=this.getCurrentValueIndex()),this.highlightedItem=index,null===(_a=this.listComponent)||void 0===_a||_a.forEachRenderedRow(((cmp,idx)=>{const highlighted=-1!==index&&this.highlightedItem===idx;cmp.updateHighlighted(highlighted)}))}setRowHeight(height){height!==this.cellRowHeight&&(this.cellRowHeight=height),this.listComponent&&this.listComponent.setRowHeight(height)}createPickerComponent(){const{values}=this;return values&&this.setValueList({valueList:values}),this.listComponent}setSearchStringCreator(searchStringFn){this.searchStringCreator=searchStringFn}setValueList(params){const{valueList,refresh}=params;this.listComponent&&this.currentList!==valueList&&(this.currentList=valueList,this.listComponent.setModel({getRowCount:()=>valueList.length,getRow:index=>valueList[index]}),refresh&&(this.values?this.listComponent.refresh():(this.values=valueList,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker()}showCurrentValueInPicker(){var _a,_b;if(!this.listComponent)return;if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));(null===(_a=this.eLoading)||void 0===_a?void 0:_a.offsetParent)&&(null===(_b=this.eLoading.parentElement)||void 0===_b||_b.removeChild(this.eLoading));const currentValueIndex=this.getCurrentValueIndex();-1!==currentValueIndex?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(currentValueIndex),this.listComponent.refresh(!0),this.highlightSelectedValue(currentValueIndex)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(e){this.eInput&&this.eInput.getFocusableElement().focus()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(searchKey){let{key}=searchKey;if(key===KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),key="";else if(!isEventFromPrintableCharacter(searchKey))return;searchKey.preventDefault(),this.searchTextFromCharacter(key)}searchTextFromCharacter(char){this.searchString+=char,this.runSearch(),this.clearSearchString()}searchTextFromString(str){null==str&&(str=""),this.searchString=str,this.runSearch()}buildSearchStrings(values){const{valueFormatter=value=>value}=this.config;let searchStrings;return"number"==typeof values[0]||"string"==typeof values[0]?searchStrings=values.map((v=>valueFormatter(v))):"object"==typeof values[0]&&this.searchStringCreator&&(searchStrings=this.searchStringCreator(values)),searchStrings}getSuggestionsAndFilteredValues(searchValue,valueList){let suggestions=[],filteredValues=[];if(!searchValue.length)return{suggestions,filteredValues};const{allowTyping,searchType="fuzzy",filterList}=this.config,shouldFilterList=filterList&&allowTyping;if("fuzzy"===searchType){const fuzzySearchResult=fuzzySuggestions(this.searchString,valueList,!0);suggestions=fuzzySearchResult.values;const indices=fuzzySearchResult.indices;if(shouldFilterList&&indices.length)for(let i=0;i<indices.length;i++)filteredValues.push(this.values[indices[i]])}else suggestions=valueList.filter(((val,idx)=>{const currentValue=val.toLocaleLowerCase(),valueToMatch=this.searchString.toLocaleLowerCase(),isMatch="match"===searchType?currentValue.startsWith(valueToMatch):-1!==currentValue.indexOf(valueToMatch);return shouldFilterList&&isMatch&&filteredValues.push(this.values[idx]),isMatch}));return{suggestions,filteredValues}}filterListModel(filteredValues){const{allowTyping,filterList}=this.config;allowTyping&&filterList&&this.setValueList({valueList:filteredValues,refresh:!0})}runSearch(){var _a,_b,_c;const{values}=this,searchStrings=this.buildSearchStrings(values);if(!searchStrings)return void this.highlightSelectedValue(-1);const{suggestions,filteredValues}=this.getSuggestionsAndFilteredValues(this.searchString,searchStrings),{allowTyping,filterList,highlightMatch,searchType="fuzzy"}=this.config,filterValueLen=filteredValues.length,shouldFilter=!(!allowTyping||!filterList||""===this.searchString);if(shouldFilter&&this.filterListModel(shouldFilter?filteredValues:values),suggestions.length){const topSuggestionIndex=shouldFilter?0:searchStrings.indexOf(suggestions[0]);this.selectListItem(topSuggestionIndex),highlightMatch&&"fuzzy"!==searchType&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!shouldFilter||filterValueLen)null===(_a=this.listComponent)||void 0===_a||_a.ensureIndexVisible(0);else if(shouldFilter){this.getAriaElement().removeAttribute("data-active-option");const eListAriaEl=null===(_b=this.listComponent)||void 0===_b?void 0:_b.getAriaElement();eListAriaEl&&setAriaActiveDescendant(eListAriaEl,null)}const eListGui=null===(_c=this.listComponent)||void 0===_c?void 0:_c.getGui();null==eListGui||eListGui.classList.toggle("ag-hidden",shouldFilter&&!filterValueLen)}clearSearchString(){this.searchString=""}selectListItem(index,preventUnnecessaryScroll,skipRefresh){if(!this.isPickerDisplayed||!this.listComponent||index<0||index>=this.currentList.length)return;this.listComponent.ensureIndexVisible(index,!preventUnnecessaryScroll)&&!skipRefresh&&this.listComponent.refresh(!0),this.highlightSelectedValue(index)}setValue(value,silent,fromPicker){const index=this.currentList.indexOf(value);return-1===index?this:(this.value=value,fromPicker||this.selectListItem(index),this.renderSelectedValue(),super.setValue(value,silent))}createRowComponent(value){const row=new RichSelectRow(this.config,this.eWrapper);row.setParentComponent(this.listComponent),this.getContext().createBean(row),row.setState(value);const{highlightMatch,searchType="fuzzy"}=this.config;return highlightMatch&&"fuzzy"!==searchType&&row.highlightString(this.searchString),row}getRowForMouseEvent(e){const{listComponent}=this;if(!listComponent)return-1;const rect=(null==listComponent?void 0:listComponent.getGui()).getBoundingClientRect(),scrollTop=listComponent.getScrollTop(),mouseY=e.clientY-rect.top+scrollTop;return Math.floor(mouseY/listComponent.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const row=this.getRowForMouseEvent(e);-1!==row&&row!=this.lastRowHovered&&(this.lastRowHovered=row,this.selectListItem(row,!0,!0))}onNavigationKeyDown(event,key){event.preventDefault();const isDown=key===KeyCode.DOWN;if(!this.isPickerDisplayed&&isDown)return void this.showPicker();const oldIndex=this.highlightedItem,newIndex=-1===oldIndex?0:oldIndex+(isDown?1:-1);this.selectListItem(newIndex,!1,!0)}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(value,fromEnterKey){this.setValue(value,!1,!0),this.dispatchPickerEvent(value,fromEnterKey),this.hidePicker()}dispatchPickerEvent(value,fromEnterKey){const event={type:Events.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey,value};this.dispatchEvent(event)}getFocusableElement(){const{allowTyping}=this.config;return allowTyping?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(event){const key=event.key,{allowTyping}=this.config;switch(key){case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:allowTyping||event.preventDefault();break;case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:event.preventDefault();break;case KeyCode.DOWN:case KeyCode.UP:this.onNavigationKeyDown(event,key);break;case KeyCode.ESCAPE:this.isPickerDisplayed&&(event.preventDefault(),stopPropagationForAgGrid(event),this.hidePicker());break;case KeyCode.ENTER:this.onEnterKeyDown(event);break;case KeyCode.TAB:this.onTabKeyDown();break;default:allowTyping||this.buildSearchStringFromKeyboardEvent(event)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}}agRichSelect_decorate([Autowired("userComponentFactory")],AgRichSelect.prototype,"userComponentFactory",void 0),agRichSelect_decorate([RefSelector("eInput")],AgRichSelect.prototype,"eInput",void 0);var agSlider_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgSlider extends AgAbstractLabel{constructor(config){super(config,AgSlider.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(callbackFn){const eventChanged=Events.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,eventChanged,(()=>{const textValue=parseFloat(this.eText.getValue());this.eSlider.setValue(textValue.toString(),!0),callbackFn(textValue||0)})),this.addManagedListener(this.eSlider,eventChanged,(()=>{const sliderValue=this.eSlider.getValue();this.eText.setValue(sliderValue,!0),callbackFn(parseFloat(sliderValue))})),this}setSliderWidth(width){return this.eSlider.setWidth(width),this}setTextFieldWidth(width){return this.eText.setWidth(width),this}setMinValue(minValue){return this.eSlider.setMinValue(minValue),this.eText.setMin(minValue),this}setMaxValue(maxValue){return this.eSlider.setMaxValue(maxValue),this.eText.setMax(maxValue),this}getValue(){return this.eText.getValue()}setValue(value){return this.getValue()===value||(this.eText.setValue(value,!0),this.eSlider.setValue(value,!0),this.dispatchEvent({type:Events.EVENT_FIELD_VALUE_CHANGED})),this}setStep(step){return this.eSlider.setStep(step),this.eText.setStep(step),this}}AgSlider.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',agSlider_decorate([RefSelector("eLabel")],AgSlider.prototype,"eLabel",void 0),agSlider_decorate([RefSelector("eSlider")],AgSlider.prototype,"eSlider",void 0),agSlider_decorate([RefSelector("eText")],AgSlider.prototype,"eText",void 0),agSlider_decorate([PostConstruct],AgSlider.prototype,"init",null);var agGroupComponent_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgGroupComponent extends Component{constructor(params={}){super(AgGroupComponent.getTemplate(params)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title,enabled,items,suppressEnabledCheckbox,suppressOpenCloseIcons}=params;this.title=title,this.cssIdentifier=params.cssIdentifier||"default",this.enabled=null==enabled||enabled,this.items=items||[],this.alignItems=params.alignItems||"center",null!=suppressEnabledCheckbox&&(this.suppressEnabledCheckbox=suppressEnabledCheckbox),null!=suppressOpenCloseIcons&&(this.suppressOpenCloseIcons=suppressOpenCloseIcons)}static getTemplate(params){const cssIdentifier=params.cssIdentifier||"default";return`<div class="ag-group ag-${cssIdentifier}-group" role="presentation">\n            <div class="ag-group-title-bar ag-${cssIdentifier}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-${cssIdentifier}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${cssIdentifier}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${cssIdentifier}-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-${cssIdentifier}-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-${params.direction||"vertical"} ag-${cssIdentifier}-group-container"></div>\n        </div>`}postConstruct(){if(this.items.length){const initialItems=this.items;this.items=[],this.addItems(initialItems)}const localeTextFunc=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(localeTextFunc("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(()=>this.toggleGroupExpand())),this.addManagedListener(this.eTitleBar,"keydown",(e=>{switch(e.key){case KeyCode.ENTER:case KeyCode.SPACE:e.preventDefault(),this.toggleGroupExpand();break;case KeyCode.RIGHT:case KeyCode.LEFT:e.preventDefault(),this.toggleGroupExpand(e.key===KeyCode.RIGHT)}}))}refreshAriaStatus(){this.suppressOpenCloseIcons||setAriaExpanded(this.eTitleBar,this.expanded)}refreshChildDisplay(){const showIcon=!this.suppressOpenCloseIcons;setDisplayed(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),setDisplayed(this.eGroupOpenedIcon,showIcon&&this.expanded),setDisplayed(this.eGroupClosedIcon,showIcon&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(alignment){this.alignItems!==alignment&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=alignment;const newCls=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(newCls),this}toggleGroupExpand(expanded){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),setDisplayed(this.eContainer,!0),this):(expanded=null!=expanded?expanded:!this.expanded,this.expanded===expanded||(this.expanded=expanded,this.refreshAriaStatus(),this.refreshChildDisplay(),setDisplayed(this.eContainer,expanded),this.dispatchEvent({type:this.expanded?AgGroupComponent.EVENT_EXPANDED:AgGroupComponent.EVENT_COLLAPSED})),this)}addItems(items){items.forEach((item=>this.addItem(item)))}addItem(item){const container=this.eContainer,el=item instanceof Component?item.getGui():item;el.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),container.appendChild(el),this.items.push(el)}hideItem(hide,index){setDisplayed(this.items[index],!hide)}setTitle(title){return this.eTitle.innerText=title,this}addCssClassToTitleBar(cssClass){this.eTitleBar.classList.add(cssClass)}setEnabled(enabled,skipToggle){return this.enabled=enabled,this.refreshDisabledStyles(),this.toggleGroupExpand(enabled),skipToggle||this.cbGroupEnabled.setValue(enabled),this}isEnabled(){return this.enabled}onEnableChange(callbackFn){return this.cbGroupEnabled.onValueChange((newSelection=>{this.setEnabled(newSelection,!0),callbackFn(newSelection)})),this}hideEnabledCheckbox(hide){return this.suppressEnabledCheckbox=hide,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(hide){return this.suppressOpenCloseIcons=hide,hide&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}}AgGroupComponent.EVENT_EXPANDED="expanded",AgGroupComponent.EVENT_COLLAPSED="collapsed",agGroupComponent_decorate([RefSelector("eTitleBar")],AgGroupComponent.prototype,"eTitleBar",void 0),agGroupComponent_decorate([RefSelector("eGroupOpenedIcon")],AgGroupComponent.prototype,"eGroupOpenedIcon",void 0),agGroupComponent_decorate([RefSelector("eGroupClosedIcon")],AgGroupComponent.prototype,"eGroupClosedIcon",void 0),agGroupComponent_decorate([RefSelector("eToolbar")],AgGroupComponent.prototype,"eToolbar",void 0),agGroupComponent_decorate([RefSelector("cbGroupEnabled")],AgGroupComponent.prototype,"cbGroupEnabled",void 0),agGroupComponent_decorate([RefSelector("eTitle")],AgGroupComponent.prototype,"eTitle",void 0),agGroupComponent_decorate([RefSelector("eContainer")],AgGroupComponent.prototype,"eContainer",void 0),agGroupComponent_decorate([PostConstruct],AgGroupComponent.prototype,"postConstruct",null);var agMenuList_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgMenuList extends TabGuardComp{constructor(level=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=level,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}onTabKeyDown(e){const parent=this.getParentComponent(),parentGui=parent&&parent.getGui();parentGui&&parentGui.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.DOWN:case KeyCode.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case KeyCode.ESCAPE:const topMenu=this.findTopMenu();topMenu&&this.focusService.focusInto(topMenu.getGui())}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(menuItems){null!=menuItems&&menuItems.forEach((menuItemOrString=>{"separator"===menuItemOrString?this.addSeparator():"string"==typeof menuItemOrString?console.warn(`AG Grid: unrecognised menu item ${menuItemOrString}`):this.addItem(menuItemOrString)}))}addItem(menuItemDef){const menuItem=this.createManagedBean(new AgMenuItemComponent(Object.assign(Object.assign({},menuItemDef),{isAnotherSubMenuOpen:()=>this.menuItems.some((m=>m.isSubMenuOpen()))})));menuItem.setParentComponent(this),setAriaLevel(menuItem.getGui(),this.level),this.menuItems.push(menuItem),this.appendChild(menuItem.getGui()),this.addManagedListener(menuItem,AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,(event=>{this.dispatchEvent(event)})),this.addManagedListener(menuItem,AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,(event=>{this.activeMenuItem&&this.activeMenuItem!==event.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=event.menuItem}))}activateFirstItem(){const item=this.menuItems.filter((currentItem=>!currentItem.isDisabled()))[0];item&&item.activate()}addSeparator(){this.appendChild(loadTemplate('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))}findTopMenu(){let parent=this.getParentComponent();if(!parent&&this instanceof AgMenuList)return this;for(;;){const nextParent=parent&&parent.getParentComponent&&parent.getParentComponent();if(!nextParent||!(nextParent instanceof AgMenuList||nextParent instanceof AgMenuItemComponent))break;parent=nextParent}return parent instanceof AgMenuList?parent:void 0}handleNavKey(key){switch(key){case KeyCode.UP:case KeyCode.DOWN:const nextItem=this.findNextItem(key===KeyCode.UP);return void(nextItem&&nextItem!==this.activeMenuItem&&nextItem.activate())}key===(this.gridOptionsService.is("enableRtl")?KeyCode.RIGHT:KeyCode.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const parentItem=this.getParentComponent();parentItem&&parentItem instanceof AgMenuItemComponent&&(e&&e.preventDefault(),parentItem.closeSubMenu(),parentItem.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(up){const items=this.menuItems.filter((item=>!item.isDisabled()));if(!items.length)return;if(!this.activeMenuItem)return up?last(items):items[0];let nextItem;up&&items.reverse();let foundCurrent=!1;for(let i=0;i<items.length;i++){const item=items[i];if(foundCurrent){nextItem=item;break}item===this.activeMenuItem&&(foundCurrent=!0)}return nextItem||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}}agMenuList_decorate([Autowired("focusService")],AgMenuList.prototype,"focusService",void 0),agMenuList_decorate([PostConstruct],AgMenuList.prototype,"postConstruct",null);var agMenuPanel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgMenuPanel extends TabGuardComp{constructor(wrappedComponent){super(),this.wrappedComponent=wrappedComponent,this.setTemplateFromElement(wrappedComponent.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===KeyCode.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const menuItem=this.parentComponent;menuItem.closeSubMenu(),setTimeout((()=>menuItem.getGui().focus()),0)}}agMenuPanel_decorate([PostConstruct],AgMenuPanel.prototype,"postConstruct",null);var agMenuItemComponent_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgMenuItemComponent extends Component{constructor(params){super(),this.params=params,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const eGui=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),setAriaDisabled(eGui,!0)):(this.addGuiEventListener("click",(e=>this.onItemSelected(e))),this.addGuiEventListener("keydown",(e=>{e.key!==KeyCode.ENTER&&e.key!==KeyCode.SPACE||(e.preventDefault(),this.onItemSelected(e))})),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation(),e.preventDefault()})),this.addGuiEventListener("mouseenter",(()=>this.onMouseEnter())),this.addGuiEventListener("mouseleave",(()=>this.onMouseLeave()))),this.params.cssClasses&&this.params.cssClasses.forEach((it=>this.addCssClass(it)))}isDisabled(){return!!this.params.disabled}openSubMenu(activateFirstItem=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const ePopup=loadTemplate('<div class="ag-menu" role="presentation"></div>');let destroySubMenu;if(this.params.subMenu instanceof Array){const currentLevel=getAriaLevel(this.getGui()),nextLevel=isNaN(currentLevel)?1:currentLevel+1,childMenu=this.createBean(new AgMenuList(nextLevel));childMenu.setParentComponent(this),childMenu.addMenuItems(this.params.subMenu),ePopup.appendChild(childMenu.getGui()),this.addManagedListener(childMenu,AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,(e=>this.dispatchEvent(e))),childMenu.addGuiEventListener("mouseenter",(()=>this.cancelDeactivate())),destroySubMenu=()=>this.destroyBean(childMenu),activateFirstItem&&setTimeout((()=>childMenu.activateFirstItem()),0)}else{const{subMenu}=this.params,menuPanel=this.createBean(new AgMenuPanel(subMenu));menuPanel.setParentComponent(this);const subMenuGui=menuPanel.getGui(),mouseEvent="mouseenter",mouseEnterListener=()=>this.cancelDeactivate();subMenuGui.addEventListener(mouseEvent,mouseEnterListener),destroySubMenu=()=>subMenuGui.removeEventListener(mouseEvent,mouseEnterListener),ePopup.appendChild(subMenuGui),subMenu.afterGuiAttached&&setTimeout((()=>subMenu.afterGuiAttached()),0)}const eGui=this.getGui(),positionCallback=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:eGui,ePopup}),translate=this.localeService.getLocaleTextFunc(),addPopupRes=this.popupService.addPopup({modal:!0,eChild:ePopup,positionCallback,anchorToElement:eGui,ariaLabel:translate("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,setAriaExpanded(eGui,!0),this.hideSubMenu=()=>{addPopupRes&&addPopupRes.hideFunc(),this.subMenuIsOpen=!1,setAriaExpanded(eGui,!1),destroySubMenu()}}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,setAriaExpanded(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(openSubMenu){this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),openSubMenu&&this.params.subMenu&&window.setTimeout((()=>{this.isAlive()&&this.isActive&&this.openSubMenu()}),300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const icon=loadTemplate(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?icon.appendChild(createIconNoSpan("check",this.gridOptionsService)):this.params.icon&&(isNodeOrElement(this.params.icon)?icon.appendChild(this.params.icon):"string"==typeof this.params.icon?icon.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(icon)}addName(){if(!this.params.name&&this.params.isCompact)return;const name=loadTemplate(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(name)}addTooltip(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new CustomTooltipFeature(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const shortcut=loadTemplate(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(shortcut)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const pointer=loadTemplate(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),eGui=this.getGui();if(this.params.subMenu){const iconName=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";setAriaExpanded(eGui,!1),pointer.appendChild(createIconNoSpan(iconName,this.gridOptionsService))}eGui.appendChild(pointer)}onItemSelected(event){if(this.params.action?this.params.action():this.openSubMenu(event&&"keydown"===event.type),this.params.subMenu&&!this.params.action)return;const e={type:AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event};this.dispatchEvent(e)}onItemActivated(){const event={type:AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(event)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((()=>this.activate(!0)),AgMenuItemComponent.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((()=>this.deactivate()),AgMenuItemComponent.ACTIVATION_DELAY):this.deactivate()}getClassName(suffix){const prefix=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return suffix?`${prefix}-${suffix}`:prefix}}AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED="menuItemSelected",AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",AgMenuItemComponent.ACTIVATION_DELAY=80,agMenuItemComponent_decorate([Autowired("popupService")],AgMenuItemComponent.prototype,"popupService",void 0),agMenuItemComponent_decorate([PostConstruct],AgMenuItemComponent.prototype,"init",null);var agPanel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgPanel extends Component{constructor(config){super(AgPanel.getTemplate(config)),this.closable=!0,this.config=config}static getTemplate(config){const cssIdentifier=config&&config.cssIdentifier||"default";return`<div class="ag-panel ag-${cssIdentifier}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${cssIdentifier}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${cssIdentifier}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${cssIdentifier}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${cssIdentifier}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component,closable,hideTitleBar,title,minWidth=250,width,minHeight=250,height,centered,popup,x,y}=this.config;this.positionableFeature=new PositionableFeature(this.getGui(),{minWidth,width,minHeight,height,centered,x,y,popup,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const eGui=this.getGui();component&&this.setBodyComponent(component),hideTitleBar?setDisplayed(this.eTitleBar,!1):(title&&this.setTitle(title),this.setClosable(null!=closable?closable:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(e=>{const eDocument=this.gridOptionsService.getDocument();if(eGui.contains(e.relatedTarget)||eGui.contains(eDocument.activeElement)||this.eTitleBarButtons.contains(e.target))return void e.preventDefault();const focusEl=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");focusEl&&focusEl.focus()})),popup&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const eGui=this.getGui();eGui.focus(),this.close=()=>{eGui.parentElement.removeChild(eGui),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(height){this.positionableFeature.setHeight(height)}getWidth(){return this.positionableFeature.getWidth()}setWidth(width){this.positionableFeature.setWidth(width)}setClosable(closable){if(closable!==this.closable&&(this.closable=closable),closable){const closeButtonComp=this.closeButtonComp=new Component(AgPanel.CLOSE_BTN_TEMPLATE);this.getContext().createBean(closeButtonComp);const eGui=closeButtonComp.getGui(),child=createIconNoSpan("close",this.gridOptionsService);child.classList.add("ag-panel-title-bar-button-icon"),eGui.appendChild(child),this.addTitleBarButton(closeButtonComp),closeButtonComp.addManagedListener(eGui,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const eGui=this.closeButtonComp.getGui();eGui.parentElement.removeChild(eGui),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(bodyComponent){bodyComponent.setParentComponent(this),this.eContentWrapper.appendChild(bodyComponent.getGui())}addTitleBarButton(button,position){const eTitleBarButtons=this.eTitleBarButtons,buttons=eTitleBarButtons.children,len=buttons.length;null==position&&(position=len),position=Math.max(0,Math.min(position,len)),button.addCssClass("ag-panel-title-bar-button");const eGui=button.getGui();0===position?eTitleBarButtons.insertAdjacentElement("afterbegin",eGui):position===len?eTitleBarButtons.insertAdjacentElement("beforeend",eGui):buttons[position-1].insertAdjacentElement("afterend",eGui),button.setParentComponent(this)}getBodyHeight(){return getInnerHeight(this.eContentWrapper)}getBodyWidth(){return getInnerWidth(this.eContentWrapper)}setTitle(title){this.eTitle.innerText=title}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const eGui=this.getGui();eGui&&eGui.offsetParent&&this.close(),super.destroy()}}AgPanel.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',agPanel_decorate([RefSelector("eContentWrapper")],AgPanel.prototype,"eContentWrapper",void 0),agPanel_decorate([RefSelector("eTitleBar")],AgPanel.prototype,"eTitleBar",void 0),agPanel_decorate([RefSelector("eTitleBarButtons")],AgPanel.prototype,"eTitleBarButtons",void 0),agPanel_decorate([RefSelector("eTitle")],AgPanel.prototype,"eTitle",void 0),agPanel_decorate([PostConstruct],AgPanel.prototype,"postConstruct",null);var agDialog_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgDialog extends AgPanel{constructor(config){super(Object.assign(Object.assign({},config),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const eGui=this.getGui(),{movable,resizable,maximizable}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(eGui,"focusin",(e=>{eGui.contains(e.relatedTarget)||this.popupService.bringPopupToFront(eGui)})),movable&&this.setMovable(movable),maximizable&&this.setMaximizable(maximizable),resizable&&this.setResizable(resizable)}renderComponent(){const eGui=this.getGui(),{alwaysOnTop,modal,title,afterGuiAttached}=this.config,translate=this.localeService.getLocaleTextFunc(),addPopupRes=this.popupService.addPopup({modal,eChild:eGui,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop,ariaLabel:title||translate("ariaLabelDialog","Dialog"),afterGuiAttached});addPopupRes&&(this.close=addPopupRes.hideFunc)}toggleMaximize(){const position=this.positionableFeature.getPosition();if(this.isMaximized){const{x,y,width,height}=this.lastPosition;this.setWidth(width),this.setHeight(height),this.positionableFeature.offsetElement(x,y)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=position.x,this.lastPosition.y=position.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){setDisplayed(this.maximizeIcon,!this.isMaximized),setDisplayed(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((destroyListener=>destroyListener())),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(resizable){this.positionableFeature.setResizable(resizable)}setMovable(movable){this.positionableFeature.setMovable(movable,this.eTitleBar)}setMaximizable(maximizable){if(!maximizable)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const eTitleBar=this.eTitleBar;if(!eTitleBar||maximizable===this.isMaximizable)return;const maximizeButtonComp=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),maximizeButtonComp.addManagedListener(maximizeButtonComp.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(maximizeButtonComp,0),this.maximizeListeners.push(this.addManagedListener(eTitleBar,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(()=>{this.isMaximized=!1,this.refreshMaximizeIcon()}))}buildMaximizeAndMinimizeElements(){const maximizeButtonComp=this.maximizeButtonComp=this.createBean(new Component('<div class="ag-dialog-button"></span>')),eGui=maximizeButtonComp.getGui();return this.maximizeIcon=createIconNoSpan("maximize",this.gridOptionsService),eGui.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=createIconNoSpan("minimize",this.gridOptionsService),eGui.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),maximizeButtonComp}}agDialog_decorate([Autowired("popupService")],AgDialog.prototype,"popupService",void 0);var PopupService_1,DIRECTION,popupService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(DIRECTION){DIRECTION[DIRECTION.vertical=0]="vertical",DIRECTION[DIRECTION.horizontal=1]="horizontal"}(DIRECTION||(DIRECTION={}));let instanceIdSeq=0,PopupService=PopupService_1=class PopupService extends BeanStub{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridCtrl=p.gridCtrl,this.addManagedListener(this.gridCtrl,Events.EVENT_KEYBOARD_FOCUS,(()=>{this.popupList.forEach((popup=>popup.element.classList.add(FocusService.AG_KEYBOARD_FOCUS)))})),this.addManagedListener(this.gridCtrl,Events.EVENT_MOUSE_FOCUS,(()=>{this.popupList.forEach((popup=>popup.element.classList.remove(FocusService.AG_KEYBOARD_FOCUS)))}))}))}getPopupParent(){const ePopupParent=this.gridOptionsService.get("popupParent");return ePopupParent||this.gridCtrl.getGui()}positionPopupForMenu(params){const{eventSource,ePopup}=params,popupIdx=this.getPopupIndex(ePopup);if(-1!==popupIdx){this.popupList[popupIdx].alignedToElement=eventSource}const sourceRect=eventSource.getBoundingClientRect(),parentRect=this.getParentRect(),y=this.keepXYWithinBounds(ePopup,sourceRect.top-parentRect.top,DIRECTION.vertical),minWidth=ePopup.clientWidth>0?ePopup.clientWidth:200;ePopup.style.minWidth=`${minWidth}px`;const maxX=parentRect.right-parentRect.left-minWidth;let x;function xRightPosition(){return sourceRect.right-parentRect.left-2}function xLeftPosition(){return sourceRect.left-parentRect.left-minWidth}this.gridOptionsService.is("enableRtl")?(x=xLeftPosition(),x<0&&(x=xRightPosition(),this.setAlignedStyles(ePopup,"left")),x>maxX&&(x=0,this.setAlignedStyles(ePopup,"right"))):(x=xRightPosition(),x>maxX&&(x=xLeftPosition(),this.setAlignedStyles(ePopup,"right")),x<0&&(x=0,this.setAlignedStyles(ePopup,"left"))),ePopup.style.left=`${x}px`,ePopup.style.top=`${y}px`}positionPopupUnderMouseEvent(params){const{ePopup,nudgeX,nudgeY,skipObserver}=params;this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds:!0,skipObserver,updatePosition:()=>this.calculatePointerAlign(params.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(params.type,params.ePopup,null,params.mouseEvent,params.column,params.rowNode)})}calculatePointerAlign(e){const parentRect=this.getParentRect();return{x:e.clientX-parentRect.left,y:e.clientY-parentRect.top}}positionPopupByComponent(params){const{ePopup,nudgeX,nudgeY,keepWithinBounds,eventSource,alignSide="left",position="over",column,rowNode,type}=params,sourceRect=eventSource.getBoundingClientRect(),parentRect=this.getParentRect(),popupIdx=this.getPopupIndex(ePopup);if(-1!==popupIdx){this.popupList[popupIdx].alignedToElement=eventSource}this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds,updatePosition:()=>{let y,x=sourceRect.left-parentRect.left;if("right"===alignSide&&(x-=ePopup.offsetWidth-sourceRect.width),"over"===position)y=sourceRect.top-parentRect.top,this.setAlignedStyles(ePopup,"over");else{this.setAlignedStyles(ePopup,"under");y="under"===this.shouldRenderUnderOrAbove(ePopup,sourceRect,parentRect,params.nudgeY||0)?sourceRect.top-parentRect.top+sourceRect.height:sourceRect.top-ePopup.offsetHeight-2*(nudgeY||0)-parentRect.top}return{x,y}},postProcessCallback:()=>this.callPostProcessPopup(type,ePopup,eventSource,null,column,rowNode)})}shouldRenderUnderOrAbove(ePopup,targetCompRect,parentRect,nudgeY){const spaceAvailableUnder=parentRect.bottom-targetCompRect.bottom,spaceAvailableAbove=targetCompRect.top-parentRect.top,spaceRequired=ePopup.offsetHeight+nudgeY;return spaceAvailableUnder>spaceRequired?"under":spaceAvailableAbove>spaceRequired||spaceAvailableAbove>spaceAvailableUnder?"above":"under"}setAlignedStyles(ePopup,positioned){const popupIdx=this.getPopupIndex(ePopup);if(-1===popupIdx)return;const popup=this.popupList[popupIdx],{alignedToElement}=popup;if(!alignedToElement)return;["right","left","over","above","under"].forEach((position=>{alignedToElement.classList.remove(`ag-has-popup-positioned-${position}`),ePopup.classList.remove(`ag-popup-positioned-${position}`)})),positioned&&(alignedToElement.classList.add(`ag-has-popup-positioned-${positioned}`),ePopup.classList.add(`ag-popup-positioned-${positioned}`))}callPostProcessPopup(type,ePopup,eventSource,mouseEvent,column,rowNode){const callback=this.gridOptionsService.getCallback("postProcessPopup");if(callback){callback({column,rowNode,ePopup,type,eventSource,mouseEvent})}}positionPopup(params){const{ePopup,keepWithinBounds,nudgeX,nudgeY,skipObserver,updatePosition}=params,lastSize={width:0,height:0},updatePopupPosition=(fromResizeObserver=!1)=>{let{x,y}=updatePosition();fromResizeObserver&&ePopup.clientWidth===lastSize.width&&ePopup.clientHeight===lastSize.height||(lastSize.width=ePopup.clientWidth,lastSize.height=ePopup.clientHeight,nudgeX&&(x+=nudgeX),nudgeY&&(y+=nudgeY),keepWithinBounds&&(x=this.keepXYWithinBounds(ePopup,x,DIRECTION.horizontal),y=this.keepXYWithinBounds(ePopup,y,DIRECTION.vertical)),ePopup.style.left=`${x}px`,ePopup.style.top=`${y}px`,params.postProcessCallback&&params.postProcessCallback())};if(updatePopupPosition(),!skipObserver){const resizeObserverDestroyFunc=this.resizeObserverService.observeResize(ePopup,(()=>updatePopupPosition(!0)));setTimeout((()=>resizeObserverDestroyFunc()),PopupService_1.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map((popup=>popup.element))}getPopupList(){return this.popupList}getParentRect(){const eDocument=this.gridOptionsService.getDocument();let popupParent=this.getPopupParent();return popupParent===eDocument.body?popupParent=eDocument.documentElement:"static"===getComputedStyle(popupParent).position&&(popupParent=popupParent.offsetParent),getElementRectWithOffset(popupParent)}keepXYWithinBounds(ePopup,position,direction){const isVertical=direction===DIRECTION.vertical,sizeProperty=isVertical?"clientHeight":"clientWidth",anchorProperty=isVertical?"top":"left",offsetProperty=isVertical?"offsetHeight":"offsetWidth",scrollPositionProperty=isVertical?"scrollTop":"scrollLeft",eDocument=this.gridOptionsService.getDocument(),docElement=eDocument.documentElement,popupParent=this.getPopupParent(),parentRect=popupParent.getBoundingClientRect(),documentRect=eDocument.documentElement.getBoundingClientRect(),isBody=popupParent===eDocument.body,offsetSize=ePopup[offsetProperty];let sizeOfParent=isBody?(isVertical?getAbsoluteHeight:getAbsoluteWidth)(docElement)+docElement[scrollPositionProperty]:popupParent[sizeProperty];isBody&&(sizeOfParent-=Math.abs(documentRect[anchorProperty]-parentRect[anchorProperty]));const max=sizeOfParent-offsetSize;return Math.min(Math.max(position,0),Math.abs(max))}addPopup(params){const eDocument=this.gridOptionsService.getDocument(),{eChild,ariaLabel,alwaysOnTop,positionCallback,anchorToElement}=params;if(!eDocument)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const pos=this.getPopupIndex(eChild);if(-1!==pos){return{hideFunc:this.popupList[pos].hideFunc}}this.initialisePopupPosition(eChild);const wrapperEl=this.createPopupWrapper(eChild,ariaLabel,!!alwaysOnTop),removeListeners=this.addEventListenersToPopup(Object.assign(Object.assign({},params),{wrapperEl}));return positionCallback&&positionCallback(),this.addPopupToPopupList(eChild,wrapperEl,removeListeners,anchorToElement),{hideFunc:removeListeners}}initialisePopupPosition(element){const ePopupParentRect=this.getPopupParent().getBoundingClientRect();exists(element.style.top)||(element.style.top=-1*ePopupParentRect.top+"px"),exists(element.style.left)||(element.style.left=-1*ePopupParentRect.left+"px")}createPopupWrapper(element,ariaLabel,alwaysOnTop){const ePopupParent=this.getPopupParent(),eWrapper=document.createElement("div"),{allThemes}=this.environment.getTheme();return allThemes.length&&eWrapper.classList.add(...allThemes),eWrapper.classList.add("ag-popup"),element.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),element.hasAttribute("role")||setAriaRole(element,"dialog"),setAriaLabel(element,ariaLabel),this.focusService.isKeyboardMode()&&element.classList.add(FocusService.AG_KEYBOARD_FOCUS),eWrapper.appendChild(element),ePopupParent.appendChild(eWrapper),alwaysOnTop?this.setAlwaysOnTop(element,!0):this.bringPopupToFront(element),eWrapper}addEventListenersToPopup(params){const eDocument=this.gridOptionsService.getDocument(),ePopupParent=this.getPopupParent(),{wrapperEl,eChild:popupEl,click:pointerEvent,closedCallback,afterGuiAttached,closeOnEsc,modal}=params;let popupHidden=!1;const hidePopupOnKeyboardEvent=event=>{if(!wrapperEl.contains(eDocument.activeElement))return;event.key!==KeyCode.ESCAPE||isStopPropagationForAgGrid(event)||removeListeners({keyboardEvent:event})},hidePopupOnMouseEvent=event=>removeListeners({mouseEvent:event}),hidePopupOnTouchEvent=event=>removeListeners({touchEvent:event}),removeListeners=(popupParams={})=>{const{mouseEvent,touchEvent,keyboardEvent}=popupParams;this.isEventFromCurrentPopup({mouseEvent,touchEvent},popupEl)||popupHidden||(popupHidden=!0,ePopupParent.removeChild(wrapperEl),eDocument.removeEventListener("keydown",hidePopupOnKeyboardEvent),eDocument.removeEventListener("mousedown",hidePopupOnMouseEvent),eDocument.removeEventListener("touchstart",hidePopupOnTouchEvent),eDocument.removeEventListener("contextmenu",hidePopupOnMouseEvent),this.eventService.removeEventListener(Events.EVENT_DRAG_STARTED,hidePopupOnMouseEvent),closedCallback&&closedCallback(mouseEvent||touchEvent||keyboardEvent),this.removePopupFromPopupList(popupEl))};return afterGuiAttached&&afterGuiAttached({hidePopup:removeListeners}),window.setTimeout((()=>{closeOnEsc&&eDocument.addEventListener("keydown",hidePopupOnKeyboardEvent),modal&&(eDocument.addEventListener("mousedown",hidePopupOnMouseEvent),this.eventService.addEventListener(Events.EVENT_DRAG_STARTED,hidePopupOnMouseEvent),eDocument.addEventListener("touchstart",hidePopupOnTouchEvent),eDocument.addEventListener("contextmenu",hidePopupOnMouseEvent))}),0),removeListeners}addPopupToPopupList(element,wrapperEl,removeListeners,anchorToElement){this.popupList.push({element,wrapper:wrapperEl,hideFunc:removeListeners,instanceId:instanceIdSeq++,isAnchored:!!anchorToElement}),anchorToElement&&this.setPopupPositionRelatedToElement(element,anchorToElement)}getPopupIndex(el){return this.popupList.findIndex((p=>p.element===el))}setPopupPositionRelatedToElement(popupEl,relativeElement){const popupIndex=this.getPopupIndex(popupEl);if(-1===popupIndex)return;const popup=this.popupList[popupIndex];if(popup.stopAnchoringPromise&&popup.stopAnchoringPromise.then((destroyFunc=>destroyFunc&&destroyFunc())),popup.stopAnchoringPromise=void 0,popup.isAnchored=!1,!relativeElement)return;const destroyPositionTracker=this.keepPopupPositionedRelativeTo({element:relativeElement,ePopup:popupEl,hidePopup:popup.hideFunc});return popup.stopAnchoringPromise=destroyPositionTracker,popup.isAnchored=!0,destroyPositionTracker}removePopupFromPopupList(element){this.setAlignedStyles(element,null),this.setPopupPositionRelatedToElement(element,null),this.popupList=this.popupList.filter((p=>p.element!==element))}keepPopupPositionedRelativeTo(params){const eParent=this.getPopupParent(),parentRect=eParent.getBoundingClientRect(),{element,ePopup}=params,sourceRect=element.getBoundingClientRect(),initialDiffTop=parentRect.top-sourceRect.top,initialDiffLeft=parentRect.left-sourceRect.left;let lastDiffTop=initialDiffTop,lastDiffLeft=initialDiffLeft;const topPx=ePopup.style.top,top=parseInt(topPx.substring(0,topPx.length-1),10),leftPx=ePopup.style.left,left=parseInt(leftPx.substring(0,leftPx.length-1),10);return new promise_AgPromise((resolve=>{this.getFrameworkOverrides().setInterval((()=>{const pRect=eParent.getBoundingClientRect(),sRect=element.getBoundingClientRect();if(0==sRect.top&&0==sRect.left&&0==sRect.height&&0==sRect.width)return void params.hidePopup();const currentDiffTop=pRect.top-sRect.top;if(currentDiffTop!=lastDiffTop){const newTop=this.keepXYWithinBounds(ePopup,top+initialDiffTop-currentDiffTop,DIRECTION.vertical);ePopup.style.top=`${newTop}px`}lastDiffTop=currentDiffTop;const currentDiffLeft=pRect.left-sRect.left;if(currentDiffLeft!=lastDiffLeft){const newLeft=this.keepXYWithinBounds(ePopup,left+initialDiffLeft-currentDiffLeft,DIRECTION.horizontal);ePopup.style.left=`${newLeft}px`}lastDiffLeft=currentDiffLeft}),200).then((intervalId=>{resolve((()=>{null!=intervalId&&window.clearInterval(intervalId)}))}))}))}hasAnchoredPopup(){return this.popupList.some((popup=>popup.isAnchored))}isEventFromCurrentPopup(params,target){const{mouseEvent,touchEvent}=params,event=mouseEvent||touchEvent;if(!event)return!1;const indexOfThisChild=this.getPopupIndex(target);if(-1===indexOfThisChild)return!1;for(let i=indexOfThisChild;i<this.popupList.length;i++){if(isElementInEventPath(this.popupList[i].element,event))return!0}return this.isElementWithinCustomPopup(event.target)}isElementWithinCustomPopup(el){const eDocument=this.gridOptionsService.getDocument();for(;el&&el!==eDocument.body;){if(el.classList.contains("ag-custom-component-popup")||null===el.parentElement)return!0;el=el.parentElement}return!1}getWrapper(ePopup){for(;!ePopup.classList.contains("ag-popup")&&ePopup.parentElement;)ePopup=ePopup.parentElement;return ePopup.classList.contains("ag-popup")?ePopup:null}setAlwaysOnTop(ePopup,alwaysOnTop){const eWrapper=this.getWrapper(ePopup);eWrapper&&(eWrapper.classList.toggle("ag-always-on-top",!!alwaysOnTop),alwaysOnTop&&this.bringPopupToFront(eWrapper))}bringPopupToFront(ePopup){const parent=this.getPopupParent(),popupList=Array.prototype.slice.call(parent.querySelectorAll(".ag-popup")),popupLen=popupList.length,alwaysOnTopList=Array.prototype.slice.call(parent.querySelectorAll(".ag-popup.ag-always-on-top")),onTopLength=alwaysOnTopList.length,eWrapper=this.getWrapper(ePopup);if(!eWrapper||popupLen<=1||!parent.contains(ePopup))return;const pos=popupList.indexOf(eWrapper),innerEls=eWrapper.querySelectorAll("div"),innerElsScrollMap=[];if(innerEls.forEach((el=>{0!==el.scrollTop&&innerElsScrollMap.push([el,el.scrollTop])})),onTopLength){eWrapper.classList.contains("ag-always-on-top")?pos!==popupLen-1&&last(alwaysOnTopList).insertAdjacentElement("afterend",eWrapper):pos!==popupLen-onTopLength-1&&alwaysOnTopList[0].insertAdjacentElement("beforebegin",eWrapper)}else pos!==popupLen-1&&last(popupList).insertAdjacentElement("afterend",eWrapper);for(;innerElsScrollMap.length;){const currentEl=innerElsScrollMap.pop();currentEl[0].scrollTop=currentEl[1]}const params={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper};this.eventService.dispatchEvent(params)}};PopupService.WAIT_FOR_POPUP_CONTENT_RESIZE=200,popupService_decorate([Autowired("focusService")],PopupService.prototype,"focusService",void 0),popupService_decorate([Autowired("ctrlsService")],PopupService.prototype,"ctrlsService",void 0),popupService_decorate([Autowired("resizeObserverService")],PopupService.prototype,"resizeObserverService",void 0),popupService_decorate([PostConstruct],PopupService.prototype,"postConstruct",null),PopupService=PopupService_1=popupService_decorate([Bean("popupService")],PopupService);class AgAutocompleteRow extends Component{constructor(){super('\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>'),this.hasHighlighting=!1}setState(value,selected){this.value=value,this.render(),this.updateSelected(selected)}updateSelected(selected){this.addOrRemoveCssClass("ag-autocomplete-row-selected",selected)}setSearchString(searchString){var _a;let keepHighlighting=!1;if(exists(searchString)){const index=null===(_a=this.value)||void 0===_a?void 0:_a.toLocaleLowerCase().indexOf(searchString.toLocaleLowerCase());if(index>=0){keepHighlighting=!0,this.hasHighlighting=!0;const highlightEndIndex=index+searchString.length,startPart=escapeString(this.value.slice(0,index)),highlightedPart=escapeString(this.value.slice(index,highlightEndIndex)),endPart=escapeString(this.value.slice(highlightEndIndex));this.getGui().lastElementChild.innerHTML=`${startPart}<b>${highlightedPart}</b>${endPart}`}}!keepHighlighting&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var _a;this.getGui().lastElementChild.innerHTML=null!==(_a=escapeString(this.value))&&void 0!==_a?_a:"&nbsp;"}}var agAutocompleteList_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgAutocompleteList extends PopupComponent{constructor(params){super(AgAutocompleteList.TEMPLATE),this.params=params,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new VirtualList({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:index=>this.autocompleteEntries[index]});const virtualListGui=this.virtualList.getGui();this.addManagedListener(virtualListGui,"click",(()=>this.params.onConfirmed())),this.addManagedListener(virtualListGui,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(virtualListGui,"mousedown",(e=>e.preventDefault())),this.setSelectedValue(0)}onNavigationKeyDown(event,key){event.preventDefault();const oldIndex=this.autocompleteEntries.indexOf(this.selectedValue),newIndex=key===KeyCode.UP?oldIndex-1:oldIndex+1;this.checkSetSelectedValue(newIndex)}setSearch(searchString){this.searchString=searchString,exists(searchString)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(searchString,searchStrings){let topMatch,topMatchStartsWithSearchString=!1;const lowerCaseSearchString=searchString.toLocaleLowerCase(),allMatches=searchStrings.filter((string=>{const index=string.toLocaleLowerCase().indexOf(lowerCaseSearchString),startsWithSearchString=0===index,isMatch=index>=0;return isMatch&&(!topMatch||!topMatchStartsWithSearchString&&startsWithSearchString||topMatchStartsWithSearchString===startsWithSearchString&&string.length<topMatch.length)&&(topMatch=string,topMatchStartsWithSearchString=startsWithSearchString),isMatch}));return!topMatch&&allMatches.length&&(topMatch=allMatches[0]),{topMatch,allMatches}}runSearch(){var _a,_b;const{autocompleteEntries}=this.params,searchStrings=autocompleteEntries.map((v=>{var _a;return null!==(_a=v.displayValue)&&void 0!==_a?_a:v.key}));let matchingStrings,topSuggestion;if(this.params.useFuzzySearch)matchingStrings=fuzzySuggestions(this.searchString,searchStrings,!0).values,topSuggestion=matchingStrings.length?matchingStrings[0]:void 0;else{const containsMatches=this.runContainsSearch(this.searchString,searchStrings);matchingStrings=containsMatches.allMatches,topSuggestion=containsMatches.topMatch}let filteredEntries=autocompleteEntries.filter((({key,displayValue})=>matchingStrings.includes(null!=displayValue?displayValue:key)));if(!filteredEntries.length&&this.selectedValue&&(null===(_b=null===(_a=this.params)||void 0===_a?void 0:_a.forceLastSelection)||void 0===_b?void 0:_b.call(_a,this.selectedValue,this.searchString))&&(filteredEntries=[this.selectedValue]),this.autocompleteEntries=filteredEntries,this.virtualList.refresh(),!topSuggestion)return;const topSuggestionIndex=matchingStrings.indexOf(topSuggestion);this.checkSetSelectedValue(topSuggestionIndex)}updateSearchInList(){this.virtualList.forEachRenderedRow((row=>row.setSearchString(this.searchString)))}checkSetSelectedValue(index){index>=0&&index<this.autocompleteEntries.length&&this.setSelectedValue(index)}setSelectedValue(index){const value=this.autocompleteEntries[index];this.selectedValue!==value&&(this.selectedValue=value,this.virtualList.ensureIndexVisible(index),this.virtualList.forEachRenderedRow(((cmp,idx)=>{cmp.updateSelected(index===idx)})))}createRowComponent(value){var _a;const row=new AgAutocompleteRow;return this.getContext().createBean(row),row.setState(null!==(_a=value.displayValue)&&void 0!==_a?_a:value.key,value===this.selectedValue),row}onMouseMove(mouseEvent){const rect=this.virtualList.getGui().getBoundingClientRect(),scrollTop=this.virtualList.getScrollTop(),mouseY=mouseEvent.clientY-rect.top+scrollTop,row=Math.floor(mouseY/this.virtualList.getRowHeight());this.checkSetSelectedValue(row)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var _a;return this.autocompleteEntries.length&&null!==(_a=this.selectedValue)&&void 0!==_a?_a:null}}AgAutocompleteList.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',agAutocompleteList_decorate([RefSelector("eList")],AgAutocompleteList.prototype,"eList",void 0),agAutocompleteList_decorate([PostConstruct],AgAutocompleteList.prototype,"init",null);var agAutocomplete_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AgAutocomplete extends Component{constructor(){super('\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>'),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange((value=>this.onValueChanged(value))),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc((()=>{this.destroyBean(this.autocompleteList)})),this.addGuiEventListener("focusout",(()=>this.onFocusOut()))}onValueChanged(value){const parsedValue=makeNull(value);this.updateValue(parsedValue),this.updateAutocompleteList(parsedValue)}updateValue(value){this.updateLastPosition(),this.dispatchEvent({type:AgAutocomplete.EVENT_VALUE_CHANGED,value}),this.validate(value)}updateAutocompleteList(value){var _a,_b,_c,_d;const autocompleteListParams=null!==(_b=null===(_a=this.listGenerator)||void 0===_a?void 0:_a.call(this,value,this.lastPosition))&&void 0!==_b?_b:{enabled:!1};if(autocompleteListParams.type&&autocompleteListParams.type===(null===(_c=this.autocompleteListParams)||void 0===_c?void 0:_c.type)||this.isListOpen&&this.closeList(),this.autocompleteListParams=autocompleteListParams,null===(_d=this.autocompleteListParams)||void 0===_d?void 0:_d.enabled){this.isListOpen||this.openList();const{searchString}=this.autocompleteListParams;this.autocompleteList.setSearch(null!=searchString?searchString:"")}else this.isListOpen&&this.closeList()}onKeyDown(event){const key=event.key;switch(this.updateLastPosition(),key){case KeyCode.ENTER:this.onEnterKeyDown(event);break;case KeyCode.TAB:this.onTabKeyDown(event);break;case KeyCode.DOWN:case KeyCode.UP:this.onUpDownKeyDown(event,key);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:setTimeout((()=>{this.updatePositionAndList()}));break;case KeyCode.ESCAPE:this.onEscapeKeyDown(event);break;case KeyCode.SPACE:event.ctrlKey&&!this.isListOpen&&(event.preventDefault(),this.forceOpenList())}}confirmSelection(){var _a;const selectedValue=null===(_a=this.autocompleteList)||void 0===_a?void 0:_a.getSelectedValue();selectedValue&&(this.closeList(),this.dispatchEvent({type:AgAutocomplete.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:selectedValue,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(event){this.isListOpen&&(event.preventDefault(),event.stopPropagation(),this.confirmSelection())}onEnterKeyDown(event){event.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(event,key){var _a;event.preventDefault(),this.isListOpen?null===(_a=this.autocompleteList)||void 0===_a||_a.onNavigationKeyDown(event,key):this.forceOpenList()}onEscapeKeyDown(event){this.isListOpen&&(event.preventDefault(),event.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var _a;this.updateLastPosition(),this.updateAutocompleteList(null!==(_a=this.eAutocompleteInput.getValue())&&void 0!==_a?_a:null)}setCaret(position,setFocus){const eDocument=this.gridOptionsService.getDocument();setFocus&&eDocument.activeElement===eDocument.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(position,position)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var _a;this.lastPosition=null!==(_a=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==_a?_a:0}validate(value){var _a;this.validator&&(this.validationMessage=this.validator(value),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(_a=this.validationMessage)&&void 0!==_a?_a:""),this.valid=!this.validationMessage,this.dispatchEvent({type:AgAutocomplete.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new AgAutocompleteList({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const ePopupGui=this.autocompleteList.getGui(),positionParams={ePopup:ePopupGui,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},addPopupRes=this.popupService.addPopup({eChild:ePopupGui,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(positionParams),ariaLabel:this.listAriaLabel});this.hidePopup=addPopupRes.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:AgAutocomplete.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return makeNull(this.eAutocompleteInput.getValue())}setInputPlaceholder(placeholder){return this.eAutocompleteInput.setInputPlaceholder(placeholder),this}setInputAriaLabel(label){return this.eAutocompleteInput.setInputAriaLabel(label),this}setListAriaLabel(label){return this.listAriaLabel=label,this}setListGenerator(listGenerator){return this.listGenerator=listGenerator,this}setValidator(validator){return this.validator=validator,this}isValid(){return this.valid}setValue(params){const{value,position,silent,updateListOnlyIfOpen,restoreFocus}=params;this.eAutocompleteInput.setValue(value,!0),this.setCaret(null!=position?position:this.lastPosition,restoreFocus),silent||this.updateValue(value),updateListOnlyIfOpen&&!this.isListOpen||this.updateAutocompleteList(value)}setForceLastSelection(forceLastSelection){return this.forceLastSelection=forceLastSelection,this}setInputDisabled(disabled){return this.eAutocompleteInput.setDisabled(disabled),this}}AgAutocomplete.EVENT_VALUE_CHANGED="eventValueChanged",AgAutocomplete.EVENT_VALUE_CONFIRMED="eventValueConfirmed",AgAutocomplete.EVENT_OPTION_SELECTED="eventOptionSelected",AgAutocomplete.EVENT_VALID_CHANGED="eventValidChanged",agAutocomplete_decorate([Autowired("popupService")],AgAutocomplete.prototype,"popupService",void 0),agAutocomplete_decorate([RefSelector("eAutocompleteInput")],AgAutocomplete.prototype,"eAutocompleteInput",void 0),agAutocomplete_decorate([PostConstruct],AgAutocomplete.prototype,"postConstruct",null);const OUTSIDE_ANGULAR_EVENTS=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],vanillaFrameworkOverrides_PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel"];class VanillaFrameworkOverrides{constructor(){this.renderingEngine="vanilla",this.isOutsideAngular=eventType=>includes(OUTSIDE_ANGULAR_EVENTS,eventType)}setTimeout(action,timeout){window.setTimeout(action,timeout)}setInterval(action,timeout){return new promise_AgPromise((resolve=>{resolve(window.setInterval(action,timeout))}))}addEventListener(element,type,listener,useCapture){const isPassive=includes(vanillaFrameworkOverrides_PASSIVE_EVENTS,type);element.addEventListener(type,listener,{capture:!!useCapture,passive:isPassive})}dispatchEvent(eventType,listener,global=!1){listener()}frameworkComponent(name){return null}isFrameworkComponent(comp){return!1}}var cellNavigationService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let CellNavigationService=class CellNavigationService extends BeanStub{getNextCellToFocus(key,focusedCell,ctrlPressed=!1){return ctrlPressed?this.getNextCellToFocusWithCtrlPressed(key,focusedCell):this.getNextCellToFocusWithoutCtrlPressed(key,focusedCell)}getNextCellToFocusWithCtrlPressed(key,focusedCell){const upKey=key===KeyCode.UP,downKey=key===KeyCode.DOWN,leftKey=key===KeyCode.LEFT;let column,rowIndex;if(upKey||downKey)rowIndex=upKey?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),column=focusedCell.column;else{const allColumns=this.columnModel.getAllDisplayedColumns(),isRtl=this.gridOptionsService.is("enableRtl");rowIndex=focusedCell.rowIndex,column=leftKey!==isRtl?allColumns[0]:last(allColumns)}return{rowIndex,rowPinned:null,column}}getNextCellToFocusWithoutCtrlPressed(key,focusedCell){let pointer=focusedCell,finished=!1;for(;!finished;){switch(key){case KeyCode.UP:pointer=this.getCellAbove(pointer);break;case KeyCode.DOWN:pointer=this.getCellBelow(pointer);break;case KeyCode.RIGHT:pointer=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(pointer):this.getCellToRight(pointer);break;case KeyCode.LEFT:pointer=this.gridOptionsService.is("enableRtl")?this.getCellToRight(pointer):this.getCellToLeft(pointer);break;default:pointer=null,console.warn("AG Grid: unknown key for navigation "+key)}finished=!pointer||this.isCellGoodToFocusOn(pointer)}return pointer}isCellGoodToFocusOn(gridCell){const column=gridCell.column;let rowNode;switch(gridCell.rowPinned){case"top":rowNode=this.pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);break;case"bottom":rowNode=this.pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);break;default:rowNode=this.rowModel.getRow(gridCell.rowIndex)}if(!rowNode)return!1;return!column.isSuppressNavigable(rowNode)}getCellToLeft(lastCell){if(!lastCell)return null;const colToLeft=this.columnModel.getDisplayedColBefore(lastCell.column);return colToLeft?{rowIndex:lastCell.rowIndex,column:colToLeft,rowPinned:lastCell.rowPinned}:null}getCellToRight(lastCell){if(!lastCell)return null;const colToRight=this.columnModel.getDisplayedColAfter(lastCell.column);return colToRight?{rowIndex:lastCell.rowIndex,column:colToRight,rowPinned:lastCell.rowPinned}:null}getRowBelow(rowPosition){const index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;if(this.isLastRowInContainer(rowPosition))switch(pinned){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const rowNode=this.rowModel.getRow(rowPosition.rowIndex),nextStickyPosition=this.getNextStickyPosition(rowNode);return nextStickyPosition||{rowIndex:index+1,rowPinned:pinned}}getNextStickyPosition(rowNode,up){if(!this.gridOptionsService.isGroupRowsSticky()||!rowNode||!rowNode.sticky)return;const stickyRowCtrls=[...this.rowRenderer.getStickyTopRowCtrls()].sort(((a,b)=>a.getRowNode().rowIndex-b.getRowNode().rowIndex)),diff=up?-1:1,idx=stickyRowCtrls.findIndex((ctrl=>ctrl.getRowNode().rowIndex===rowNode.rowIndex)),nextCtrl=stickyRowCtrls[idx+diff];return nextCtrl?{rowIndex:nextCtrl.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(lastCell){if(!lastCell)return null;const rowBelow=this.getRowBelow(lastCell);return rowBelow?{rowIndex:rowBelow.rowIndex,column:lastCell.column,rowPinned:rowBelow.rowPinned}:null}isLastRowInContainer(rowPosition){const pinned=rowPosition.rowPinned,index=rowPosition.rowIndex;if("top"===pinned){return this.pinnedRowModel.getPinnedTopRowData().length-1<=index}if("bottom"===pinned){return this.pinnedRowModel.getPinnedBottomRowData().length-1<=index}return this.paginationProxy.getPageLastRow()<=index}getRowAbove(rowPosition){const index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;if(pinned?0===index:index===this.paginationProxy.getPageFirstRow())return"top"===pinned?null:pinned&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const rowNode=this.rowModel.getRow(rowPosition.rowIndex),nextStickyPosition=this.getNextStickyPosition(rowNode,!0);return nextStickyPosition||{rowIndex:index-1,rowPinned:pinned}}getCellAbove(lastCell){if(!lastCell)return null;const rowAbove=this.getRowAbove({rowIndex:lastCell.rowIndex,rowPinned:lastCell.rowPinned});return rowAbove?{rowIndex:rowAbove.rowIndex,column:lastCell.column,rowPinned:rowAbove.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)}getNextTabbedCellForwards(gridCell){const displayedColumns=this.columnModel.getAllDisplayedColumns();let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=this.columnModel.getDisplayedColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];const rowBelow=this.getRowBelow(gridCell);if(missing(rowBelow))return null;if(!rowBelow.rowPinned&&!this.paginationProxy.isRowInPage(rowBelow))return null;newRowIndex=rowBelow?rowBelow.rowIndex:null,newFloating=rowBelow?rowBelow.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}getNextTabbedCellBackwards(gridCell){const displayedColumns=this.columnModel.getAllDisplayedColumns();let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=this.columnModel.getDisplayedColBefore(gridCell.column);if(!newColumn){newColumn=last(displayedColumns);const rowAbove=this.getRowAbove({rowIndex:gridCell.rowIndex,rowPinned:gridCell.rowPinned});if(missing(rowAbove))return null;if(!rowAbove.rowPinned&&!this.paginationProxy.isRowInPage(rowAbove))return null;newRowIndex=rowAbove?rowAbove.rowIndex:null,newFloating=rowAbove?rowAbove.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}};cellNavigationService_decorate([Autowired("columnModel")],CellNavigationService.prototype,"columnModel",void 0),cellNavigationService_decorate([Autowired("rowModel")],CellNavigationService.prototype,"rowModel",void 0),cellNavigationService_decorate([Autowired("rowRenderer")],CellNavigationService.prototype,"rowRenderer",void 0),cellNavigationService_decorate([Autowired("pinnedRowModel")],CellNavigationService.prototype,"pinnedRowModel",void 0),cellNavigationService_decorate([Autowired("paginationProxy")],CellNavigationService.prototype,"paginationProxy",void 0),CellNavigationService=cellNavigationService_decorate([Bean("cellNavigationService")],CellNavigationService);var alignedGridsService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},alignedGridsService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let AlignedGridsService=class AlignedGridsService extends BeanStub{constructor(){super(...arguments),this.consuming=!1}setBeans(loggerFactory){this.logger=loggerFactory.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(callback){if(this.consuming)return;const otherGrids=this.gridOptionsService.get("alignedGrids");otherGrids&&otherGrids.forEach((otherGridOptions=>{if(otherGridOptions.api){const alignedGridService=otherGridOptions.api.__getAlignedGridService();callback(alignedGridService)}}))}onEvent(callback){this.consuming=!0,callback(),this.consuming=!1}fireColumnEvent(event){this.fireEvent((alignedGridsService=>{alignedGridsService.onColumnEvent(event)}))}fireScrollEvent(event){"horizontal"===event.direction&&this.fireEvent((alignedGridsService=>{alignedGridsService.onScrollEvent(event)}))}onScrollEvent(event){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(event.left,!0)}))}getMasterColumns(event){const result=[];return event.columns?event.columns.forEach((column=>{result.push(column)})):event.column&&result.push(event.column),result}getColumnIds(event){const result=[];return event.columns?event.columns.forEach((column=>{result.push(column.getColId())})):event.column&&result.push(event.column.getColId()),result}onColumnEvent(event){this.onEvent((()=>{switch(event.type){case Events.EVENT_COLUMN_MOVED:case Events.EVENT_COLUMN_VISIBLE:case Events.EVENT_COLUMN_PINNED:case Events.EVENT_COLUMN_RESIZED:const colEvent=event;this.processColumnEvent(colEvent);break;case Events.EVENT_COLUMN_GROUP_OPENED:const groupOpenedEvent=event;this.processGroupOpenedEvent(groupOpenedEvent);break;case Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(groupOpenedEvent){const masterColumnGroup=groupOpenedEvent.columnGroup;let otherColumnGroup=null;if(masterColumnGroup){const groupId=masterColumnGroup.getGroupId();otherColumnGroup=this.columnModel.getProvidedColumnGroup(groupId)}masterColumnGroup&&!otherColumnGroup||(this.logger.log("onColumnEvent-> processing "+groupOpenedEvent+" expanded = "+masterColumnGroup.isExpanded()),this.columnModel.setColumnGroupOpened(otherColumnGroup,masterColumnGroup.isExpanded(),"alignedGridChanged"))}processColumnEvent(colEvent){var _a;const masterColumn=colEvent.column;let otherColumn=null;if(masterColumn&&(otherColumn=this.columnModel.getPrimaryColumn(masterColumn.getColId())),masterColumn&&!otherColumn)return;const masterColumns=this.getMasterColumns(colEvent);switch(colEvent.type){case Events.EVENT_COLUMN_MOVED:{const movedEvent=colEvent,destColState=colEvent.columnApi.getColumnState().map((s=>({colId:s.colId})));this.columnModel.applyColumnState({state:destColState,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${colEvent.type} toIndex = ${movedEvent.toIndex}`)}break;case Events.EVENT_COLUMN_VISIBLE:{const visibleEvent=colEvent,destColState=colEvent.columnApi.getColumnState().map((s=>({colId:s.colId,hide:s.hide})));this.columnModel.applyColumnState({state:destColState},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${colEvent.type} visible = ${visibleEvent.visible}`)}break;case Events.EVENT_COLUMN_PINNED:{const pinnedEvent=colEvent,destColState=colEvent.columnApi.getColumnState().map((s=>({colId:s.colId,pinned:s.pinned})));this.columnModel.applyColumnState({state:destColState},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${colEvent.type} pinned = ${pinnedEvent.pinned}`)}break;case Events.EVENT_COLUMN_RESIZED:const resizedEvent=colEvent,columnWidths={};masterColumns.forEach((column=>{this.logger.log(`onColumnEvent-> processing ${colEvent.type} actualWidth = ${column.getActualWidth()}`),columnWidths[column.getId()]={key:column.getColId(),newWidth:column.getActualWidth()}})),null===(_a=resizedEvent.flexColumns)||void 0===_a||_a.forEach((col=>{columnWidths[col.getId()]&&delete columnWidths[col.getId()]})),this.columnModel.setColumnWidths(Object.values(columnWidths),!1,resizedEvent.finished,"alignedGridChanged")}const isVerticalScrollShowing=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),alignedGrids=this.gridOptionsService.get("alignedGrids");alignedGrids&&alignedGrids.forEach((grid=>{grid.api&&grid.api.setAlwaysShowVerticalScroll(isVerticalScrollShowing)}))}};alignedGridsService_decorate([Autowired("columnModel")],AlignedGridsService.prototype,"columnModel",void 0),alignedGridsService_decorate([Autowired("ctrlsService")],AlignedGridsService.prototype,"ctrlsService",void 0),alignedGridsService_decorate([alignedGridsService_param(0,Qualifier("loggerFactory"))],AlignedGridsService.prototype,"setBeans",null),alignedGridsService_decorate([PostConstruct],AlignedGridsService.prototype,"init",null),AlignedGridsService=alignedGridsService_decorate([Bean("alignedGridsService")],AlignedGridsService);var selectionService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},selectionService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let SelectionService=class SelectionService extends BeanStub{setBeans(loggerFactory){this.logger=loggerFactory.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",(propChange=>this.groupSelectsChildren=propChange.currentValue)),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(propChange=>this.rowSelection=propChange.currentValue)),this.addManagedListener(this.eventService,Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(params){var _a;if(0===params.nodes.length)return 0;const{newValue,clearSelection,suppressFinishActions,rangeSelect,event,source="api"}=params;if(params.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const groupSelectsFiltered=this.groupSelectsChildren&&!0===params.groupSelectsFiltered,nodes=params.nodes.map((node=>node.footer?node.sibling:node));if(rangeSelect){if(params.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const lastSelectedNode=this.getLastSelectedNode();if(lastSelectedNode){const node=nodes[0];if(lastSelectedNode!==node&&this.isMultiselect()){const nodesChanged=this.selectRange(node,lastSelectedNode,params.newValue,source);return this.setLastSelectedNode(node),nodesChanged}}}let updatedCount=0;for(let i=0;i<nodes.length;i++){const node=nodes[i];if(!(groupSelectsFiltered&&node.group)){node.selectThisNode(newValue,params.event,source)&&updatedCount++}this.groupSelectsChildren&&(null===(_a=node.childrenAfterGroup)||void 0===_a?void 0:_a.length)&&(updatedCount+=this.selectChildren(node,newValue,groupSelectsFiltered,source))}if(!suppressFinishActions){if(newValue&&(clearSelection||!this.isMultiselect())&&(updatedCount+=this.clearOtherNodes(nodes[0],source)),updatedCount>0){this.updateGroupsFromChildrenSelections(source);const event={type:Events.EVENT_SELECTION_CHANGED,source};this.eventService.dispatchEvent(event)}newValue&&this.setLastSelectedNode(nodes[nodes.length-1])}return updatedCount}selectRange(fromNode,toNode,value=!0,source){const nodesToSelect=this.rowModel.getNodesInRangeForSelection(fromNode,toNode);let updatedCount=0;nodesToSelect.forEach((rowNode=>{if(rowNode.group&&this.groupSelectsChildren||!1===value&&fromNode===rowNode)return;rowNode.selectThisNode(value,void 0,source)&&updatedCount++})),this.updateGroupsFromChildrenSelections(source);const event={type:Events.EVENT_SELECTION_CHANGED,source};return this.eventService.dispatchEvent(event),updatedCount}selectChildren(node,newValue,groupSelectsFiltered,source){const children=groupSelectsFiltered?node.childrenAfterAggFilter:node.childrenAfterGroup;return _.missing(children)?0:this.setNodesSelected({newValue,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered,source,nodes:children})}setLastSelectedNode(rowNode){this.lastSelectedNode=rowNode}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const selectedNodes=[];return iterateObject(this.selectedNodes,((key,rowNode)=>{rowNode&&selectedNodes.push(rowNode)})),selectedNodes}getSelectedRows(){const selectedRows=[];return iterateObject(this.selectedNodes,((key,rowNode)=>{rowNode&&rowNode.data&&selectedRows.push(rowNode.data)})),selectedRows}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(predicate){const newSelectedNodes={};Object.entries(this.selectedNodes).forEach((([key,node])=>{node&&predicate(node)&&(newSelectedNodes[key]=node)})),this.selectedNodes=newSelectedNodes}updateGroupsFromChildrenSelections(source,changedPath){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;const rootNode=this.rowModel.getRootNode();changedPath||(changedPath=new ChangedPath(!0,rootNode)).setInactive();let selectionChanged=!1;return changedPath.forEachChangedNodeDepthFirst((rowNode=>{if(rowNode!==rootNode){const selected=rowNode.calculateSelectedFromChildren();selectionChanged=rowNode.selectThisNode(null!==selected&&selected,void 0,source)||selectionChanged}})),selectionChanged}clearOtherNodes(rowNodeToKeepSelected,source){const groupsToRefresh={};let updatedCount=0;return iterateObject(this.selectedNodes,((key,otherRowNode)=>{if(otherRowNode&&otherRowNode.id!==rowNodeToKeepSelected.id){const rowNode=this.selectedNodes[otherRowNode.id];updatedCount+=rowNode.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source}),this.groupSelectsChildren&&otherRowNode.parent&&(groupsToRefresh[otherRowNode.parent.id]=otherRowNode.parent)}})),iterateObject(groupsToRefresh,((key,group)=>{const selected=group.calculateSelectedFromChildren();group.selectThisNode(null!==selected&&selected,void 0,source)})),updatedCount}onRowSelected(event){const rowNode=event.node;this.groupSelectsChildren&&rowNode.group||(rowNode.isSelected()?this.selectedNodes[rowNode.id]=rowNode:delete this.selectedNodes[rowNode.id])}syncInRowNode(rowNode,oldNode){this.syncInOldRowNode(rowNode,oldNode),this.syncInNewRowNode(rowNode)}syncInOldRowNode(rowNode,oldNode){if(exists(oldNode)&&rowNode.id!==oldNode.id&&oldNode){const id=oldNode.id;this.selectedNodes[id]==rowNode&&(this.selectedNodes[oldNode.id]=oldNode)}}syncInNewRowNode(rowNode){exists(this.selectedNodes[rowNode.id])?(rowNode.setSelectedInitialValue(!0),this.selectedNodes[rowNode.id]=rowNode):rowNode.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const topLevelNodes=this.rowModel.getTopLevelNodes();if(null===topLevelNodes)return;const result=[];return function traverse(nodes){for(let i=0,l=nodes.length;i<l;i++){const node=nodes[i];if(node.isSelected())result.push(node);else{const maybeGroup=node;maybeGroup.group&&maybeGroup.children&&traverse(maybeGroup.children)}}}(topLevelNodes),result}isEmpty(){let count=0;return iterateObject(this.selectedNodes,((nodeId,rowNode)=>{rowNode&&count++})),0===count}deselectAllRowNodes(params){const callback=rowNode=>rowNode.selectThisNode(!1,void 0,source),rowModelClientSide="clientSide"===this.rowModel.getType(),{source,justFiltered,justCurrentPage}=params;if(justCurrentPage||justFiltered){if(!rowModelClientSide)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(justFiltered,justCurrentPage).forEach(callback)}else iterateObject(this.selectedNodes,((id,rowNode)=>{rowNode&&callback(rowNode)})),this.reset();rowModelClientSide&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(source);const event={type:Events.EVENT_SELECTION_CHANGED,source};this.eventService.dispatchEvent(event)}getSelectAllState(justFiltered,justCurrentPage){let selectedCount=0,notSelectedCount=0;return this.getNodesToSelect(justFiltered,justCurrentPage).forEach((node=>{this.groupSelectsChildren&&node.group||(node.isSelected()?selectedCount++:node.selectable&&notSelectedCount++)})),(0!==selectedCount||0!==notSelectedCount)&&(selectedCount>0&&notSelectedCount>0?null:selectedCount>0)}getNodesToSelect(justFiltered=!1,justCurrentPage=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const nodes=[];if(justCurrentPage)return this.paginationProxy.forEachNodeOnPage((node=>{if(node.group)if(node.expanded)this.groupSelectsChildren||nodes.push(node);else{const recursivelyAddChildren=child=>{var _a;nodes.push(child),(null===(_a=child.childrenAfterFilter)||void 0===_a?void 0:_a.length)&&child.childrenAfterFilter.forEach(recursivelyAddChildren)};recursivelyAddChildren(node)}else nodes.push(node)})),nodes;const clientSideRowModel=this.rowModel;return justFiltered?(clientSideRowModel.forEachNodeAfterFilter((node=>{nodes.push(node)})),nodes):(clientSideRowModel.forEachNode((node=>{nodes.push(node)})),nodes)}selectAllRowNodes(params){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source,justFiltered,justCurrentPage}=params;this.getNodesToSelect(justFiltered,justCurrentPage).forEach((rowNode=>rowNode.selectThisNode(!0,void 0,source))),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(source);const event={type:Events.EVENT_SELECTION_CHANGED,source};this.eventService.dispatchEvent(event)}getServerSideSelectionState(){return null}setServerSideSelectionState(state){}};selectionService_decorate([Autowired("rowModel")],SelectionService.prototype,"rowModel",void 0),selectionService_decorate([Autowired("paginationProxy")],SelectionService.prototype,"paginationProxy",void 0),selectionService_decorate([selectionService_param(0,Qualifier("loggerFactory"))],SelectionService.prototype,"setBeans",null),selectionService_decorate([PostConstruct],SelectionService.prototype,"init",null),SelectionService=selectionService_decorate([Bean("selectionService")],SelectionService);var columnApi_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ColumnApi=class ColumnApi{sizeColumnsToFit(gridWidth){void 0===gridWidth&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(gridWidth,"api")}setColumnGroupOpened(group,newValue){this.columnModel.setColumnGroupOpened(group,newValue,"api")}getColumnGroup(name,instanceId){return this.columnModel.getColumnGroup(name,instanceId)}getProvidedColumnGroup(name){return this.columnModel.getProvidedColumnGroup(name)}getDisplayNameForColumn(column,location){return this.columnModel.getDisplayNameForColumn(column,location)||""}getDisplayNameForColumnGroup(columnGroup,location){return this.columnModel.getDisplayNameForColumnGroup(columnGroup,location)||""}getColumn(key){return this.columnModel.getPrimaryColumn(key)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(params){return this.columnModel.applyColumnState(params,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(stateItems){this.columnModel.setColumnGroupState(stateItems,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(col){return this.columnModel.getDisplayedColAfter(col)}getDisplayedColBefore(col){return this.columnModel.getDisplayedColBefore(col)}setColumnVisible(key,visible){this.columnModel.setColumnVisible(key,visible,"api")}setColumnsVisible(keys,visible){this.columnModel.setColumnsVisible(keys,visible,"api")}setColumnPinned(key,pinned){this.columnModel.setColumnPinned(key,pinned,"api")}setColumnsPinned(keys,pinned){this.columnModel.setColumnsPinned(keys,pinned,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(key,toIndex){this.columnModel.moveColumn(key,toIndex,"api")}moveColumnByIndex(fromIndex,toIndex){this.columnModel.moveColumnByIndex(fromIndex,toIndex,"api")}moveColumns(columnsToMoveKeys,toIndex){this.columnModel.moveColumns(columnsToMoveKeys,toIndex,"api")}moveRowGroupColumn(fromIndex,toIndex){this.columnModel.moveRowGroupColumn(fromIndex,toIndex)}setColumnAggFunc(key,aggFunc){this.columnModel.setColumnAggFunc(key,aggFunc)}setColumnWidth(key,newWidth,finished=!0,source){this.columnModel.setColumnWidths([{key,newWidth}],!1,finished,source)}setColumnWidths(columnWidths,finished=!0,source){this.columnModel.setColumnWidths(columnWidths,!1,finished,source)}setPivotMode(pivotMode){this.columnModel.setPivotMode(pivotMode)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(pivotKeys,valueColKey){return this.columnModel.getSecondaryPivotColumn(pivotKeys,valueColKey)}setValueColumns(colKeys){this.columnModel.setValueColumns(colKeys,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(colKey){this.columnModel.removeValueColumn(colKey,"api")}removeValueColumns(colKeys){this.columnModel.removeValueColumns(colKeys,"api")}addValueColumn(colKey){this.columnModel.addValueColumn(colKey,"api")}addValueColumns(colKeys){this.columnModel.addValueColumns(colKeys,"api")}setRowGroupColumns(colKeys){this.columnModel.setRowGroupColumns(colKeys,"api")}removeRowGroupColumn(colKey){this.columnModel.removeRowGroupColumn(colKey,"api")}removeRowGroupColumns(colKeys){this.columnModel.removeRowGroupColumns(colKeys,"api")}addRowGroupColumn(colKey){this.columnModel.addRowGroupColumn(colKey,"api")}addRowGroupColumns(colKeys){this.columnModel.addRowGroupColumns(colKeys,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(colKeys){this.columnModel.setPivotColumns(colKeys,"api")}removePivotColumn(colKey){this.columnModel.removePivotColumn(colKey,"api")}removePivotColumns(colKeys){this.columnModel.removePivotColumns(colKeys,"api")}addPivotColumn(colKey){this.columnModel.addPivotColumn(colKey,"api")}addPivotColumns(colKeys){this.columnModel.addPivotColumns(colKeys,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(key,skipHeader){return this.columnModel.autoSizeColumn(key,skipHeader,"api")}autoSizeColumns(keys,skipHeader){this.columnModel.autoSizeColumns({columns:keys,skipHeader})}autoSizeAllColumns(skipHeader){this.columnModel.autoSizeAllColumns(skipHeader,"api")}setPivotResultColumns(colDefs){this.columnModel.setSecondaryColumns(colDefs,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(_.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return logDeprecation("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return logDeprecation("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return logDeprecation("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(colDefs){logDeprecation("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(colDefs)}getSecondaryPivotColumn(pivotKeys,valueColKey){return logDeprecation("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(pivotKeys,valueColKey)}};columnApi_decorate([Autowired("columnModel")],ColumnApi.prototype,"columnModel",void 0),columnApi_decorate([PreDestroy],ColumnApi.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),ColumnApi=columnApi_decorate([Bean("columnApi")],ColumnApi);var valueService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ValueService=class ValueService extends BeanStub{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(Events.EVENT_CELL_VALUE_CHANGED,(event=>this.callColumnCellValueChangedHandler(event)),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",(propChange=>this.isTreeData=propChange.currentValue))}getValue(column,rowNode,forFilter=!1,ignoreAggData=!1){if(this.initialised||this.init(),!rowNode)return;const colDef=column.getColDef(),field=colDef.field,colId=column.getColId(),data=rowNode.data;let result;const groupDataExists=rowNode.groupData&&void 0!==rowNode.groupData[colId],aggDataExists=!ignoreAggData&&rowNode.aggData&&void 0!==rowNode.aggData[colId],ignoreSsrmAggData=this.isSsrm&&ignoreAggData&&!!column.getColDef().aggFunc,ssrmFooterGroupCol=this.isSsrm&&rowNode.footer&&rowNode.field&&(!0===column.getColDef().showRowGroup||column.getColDef().showRowGroup===rowNode.field);if(forFilter&&colDef.filterValueGetter?result=this.executeFilterValueGetter(colDef.filterValueGetter,data,column,rowNode):this.isTreeData&&aggDataExists?result=rowNode.aggData[colId]:this.isTreeData&&colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):this.isTreeData&&field&&data?result=getValueUsingField(data,field,column.isFieldContainsDots()):groupDataExists?result=rowNode.groupData[colId]:aggDataExists?result=rowNode.aggData[colId]:colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):ssrmFooterGroupCol?result=getValueUsingField(data,rowNode.field,column.isFieldContainsDots()):field&&data&&!ignoreSsrmAggData&&(result=getValueUsingField(data,field,column.isFieldContainsDots())),this.cellExpressions&&"string"==typeof result&&0===result.indexOf("=")){const cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,rowNode)}if(null==result){const openedGroup=this.getOpenedGroup(rowNode,column);if(null!=openedGroup)return openedGroup}return result}getOpenedGroup(rowNode,column){if(!this.gridOptionsService.is("showOpenedGroup"))return;if(!column.getColDef().showRowGroup)return;const showRowGroup=column.getColDef().showRowGroup;let pointer=rowNode.parent;for(;null!=pointer;){if(pointer.rowGroupColumn&&(!0===showRowGroup||showRowGroup===pointer.rowGroupColumn.getColId()))return pointer.key;pointer=pointer.parent}}setValue(rowNode,colKey,newValue,eventSource){const column=this.columnModel.getPrimaryColumn(colKey);if(!rowNode||!column)return!1;missing(rowNode.data)&&(rowNode.data={});const{field,valueSetter}=column.getColDef();if(missing(field)&&missing(valueSetter))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(column,newValue))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const params={node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode),newValue,colDef:column.getColDef(),column,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};let valueWasDifferent;if(params.newValue=newValue,valueWasDifferent=exists(valueSetter)?"function"==typeof valueSetter?valueSetter(params):this.expressionService.evaluate(valueSetter,params):this.setValueUsingField(rowNode.data,field,newValue,column.isFieldContainsDots()),void 0===valueWasDifferent&&(valueWasDifferent=!0),!valueWasDifferent)return!1;rowNode.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),params.newValue=this.getValue(column,rowNode);const event={type:Events.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,column:params.column,api:params.api,columnApi:params.columnApi,colDef:params.colDef,context:params.context,data:rowNode.data,node:rowNode,oldValue:params.oldValue,newValue:params.newValue,value:params.newValue,source:eventSource};return this.eventService.dispatchEvent(event),!0}callColumnCellValueChangedHandler(event){const onCellValueChanged=event.colDef.onCellValueChanged;"function"==typeof onCellValueChanged&&onCellValueChanged({node:event.node,data:event.data,oldValue:event.oldValue,newValue:event.newValue,colDef:event.colDef,column:event.column,api:event.api,columnApi:event.columnApi,context:event.context})}setValueUsingField(data,field,newValue,isFieldContainsDots){if(!field)return!1;let valuesAreSame=!1;if(isFieldContainsDots){const fieldPieces=field.split(".");let currentObject=data;for(;fieldPieces.length>0&&currentObject;){const fieldPiece=fieldPieces.shift();0===fieldPieces.length?(valuesAreSame=currentObject[fieldPiece]===newValue,valuesAreSame||(currentObject[fieldPiece]=newValue)):currentObject=currentObject[fieldPiece]}}else valuesAreSame=data[field]===newValue,valuesAreSame||(data[field]=newValue);return!valuesAreSame}executeFilterValueGetter(valueGetter,data,column,rowNode){const params={data,node:rowNode,column,colDef:column.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,rowNode)};return"function"==typeof valueGetter?valueGetter(params):this.expressionService.evaluate(valueGetter,params)}executeValueGetter(valueGetter,data,column,rowNode){const colId=column.getColId(),valueFromCache=this.valueCache.getValue(rowNode,colId);if(void 0!==valueFromCache)return valueFromCache;const params={data,node:rowNode,column,colDef:column.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,rowNode)};let result;return result="function"==typeof valueGetter?valueGetter(params):this.expressionService.evaluate(valueGetter,params),this.valueCache.setValue(rowNode,colId,result),result}getValueCallback(node,field){const otherColumn=this.columnModel.getPrimaryColumn(field);return otherColumn?this.getValue(otherColumn,node):null}getKeyForNode(col,rowNode){const value=this.getValue(col,rowNode),keyCreator=col.getColDef().keyCreator;let result=value;if(keyCreator){result=keyCreator({value,colDef:col.getColDef(),column:col,node:rowNode,data:rowNode.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})}return"string"==typeof result||null==result||(result=String(result),"[object Object]"===result&&function_doOnce((()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]")),result}};valueService_decorate([Autowired("expressionService")],ValueService.prototype,"expressionService",void 0),valueService_decorate([Autowired("columnModel")],ValueService.prototype,"columnModel",void 0),valueService_decorate([Autowired("valueCache")],ValueService.prototype,"valueCache",void 0),valueService_decorate([Autowired("dataTypeService")],ValueService.prototype,"dataTypeService",void 0),valueService_decorate([PostConstruct],ValueService.prototype,"init",null),ValueService=valueService_decorate([Bean("valueService")],ValueService);var expressionService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},expressionService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let ExpressionService=class ExpressionService extends BeanStub{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(loggerFactory){this.logger=loggerFactory.create("ExpressionService")}evaluate(expression,params){if("string"==typeof expression)return this.evaluateExpression(expression,params);console.error("AG Grid: value should be either a string or a function",expression)}evaluateExpression(expression,params){try{const javaScriptFunction=this.createExpressionFunction(expression);return javaScriptFunction(params.value,params.context,params.oldValue,params.newValue,params.value,params.node,params.data,params.colDef,params.rowIndex,params.api,params.columnApi,params.getValue,params.column,params.columnGroup)}catch(e){return console.log("Processing of the expression failed"),console.log("Expression = "+expression),console.log("Params =",params),console.log("Exception = "+e),null}}createExpressionFunction(expression){if(this.expressionToFunctionCache[expression])return this.expressionToFunctionCache[expression];const functionBody=this.createFunctionBody(expression),theFunction=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",functionBody);return this.expressionToFunctionCache[expression]=theFunction,theFunction}createFunctionBody(expression){return expression.indexOf("return")>=0?expression:"return "+expression+";"}};expressionService_decorate([expressionService_param(0,Qualifier("loggerFactory"))],ExpressionService.prototype,"setBeans",null),ExpressionService=expressionService_decorate([Bean("expressionService")],ExpressionService);var templateService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let TemplateService=class TemplateService extends BeanStub{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(url,callback){const templateFromCache=this.templateCache[url];if(templateFromCache)return templateFromCache;let callbackList=this.waitingCallbacks[url];const that=this;if(!callbackList){callbackList=[],this.waitingCallbacks[url]=callbackList;const client=new XMLHttpRequest;client.onload=function(){that.handleHttpResult(this,url)},client.open("GET",url),client.send()}return callback&&callbackList.push(callback),null}handleHttpResult(httpResult,url){if(200!==httpResult.status||null===httpResult.response)return void console.warn(`AG Grid: Unable to get template error ${httpResult.status} - ${url}`);this.templateCache[url]=httpResult.response||httpResult.responseText;const callbacks=this.waitingCallbacks[url];for(let i=0;i<callbacks.length;i++){(0,callbacks[i])()}}};TemplateService=templateService_decorate([Bean("templateService")],TemplateService);var logger_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},logger_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let LoggerFactory=class LoggerFactory extends BeanStub{setBeans(gridOptionsService){this.logging=gridOptionsService.is("debug")}create(name){return new Logger(name,this.isLogging.bind(this))}isLogging(){return this.logging}};logger_decorate([logger_param(0,Qualifier("gridOptionsService"))],LoggerFactory.prototype,"setBeans",null),LoggerFactory=logger_decorate([Bean("loggerFactory")],LoggerFactory);class Logger{constructor(name,isLoggingFunc){this.name=name,this.isLoggingFunc=isLoggingFunc}isLogging(){return this.isLoggingFunc()}log(message){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+message)}}var gridCtrl_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GridCtrl extends BeanStub{setComp(view,eGridDiv,eGui){this.view=view,this.eGridHostDiv=eGridDiv,this.eGui=eGui,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:type=>type===DragSourceType.HeaderCell||type===DragSourceType.ToolPanel,getIconName:()=>DragAndDropService.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(eGridDiv),this.createManagedBean(new LayoutFeature(this.view)),this.addRtlSupport(),this.addManagedListener(this,Events.EVENT_KEYBOARD_FOCUS,(()=>{this.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,Events.EVENT_MOUSE_FOCUS,(()=>{this.view.addOrRemoveKeyboardFocusClass(!1)}));const unsubscribeFromResize=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>unsubscribeFromResize())),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var _a;const el=this.focusService.findTabbableParent(this.getGui());return(null===(_a=null==el?void 0:el.getAttribute("row-id"))||void 0===_a?void 0:_a.startsWith("detail"))||!1}showDropZones(){return ModuleRegistry.__isRegistered(ModuleNames.RowGroupingModule,this.context.getGridId())}showSideBar(){return ModuleRegistry.__isRegistered(ModuleNames.SideBarModule,this.context.getGridId())}showStatusBar(){return ModuleRegistry.__isRegistered(ModuleNames.StatusBarModule,this.context.getGridId())}showWatermark(){return ModuleRegistry.__isRegistered(ModuleNames.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){const event={type:Events.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(event)}addRtlSupport(){const cssClass=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(cssClass)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(on){this.view.setCursor(on?"ew-resize":null)}disableUserSelect(on){this.view.setUserSelect(on?"none":null)}focusNextInnerContainer(backwards){const eDocument=this.gridOptionsService.getDocument(),focusableContainers=this.view.getFocusableContainers(),nextIdx=focusableContainers.findIndex((container=>container.contains(eDocument.activeElement)))+(backwards?-1:1);return!(nextIdx<=0||nextIdx>=focusableContainers.length)&&this.focusService.focusInto(focusableContainers[nextIdx])}focusInnerElement(fromBottom){const focusableContainers=this.view.getFocusableContainers(),allColumns=this.columnModel.getAllDisplayedColumns();if(fromBottom){if(focusableContainers.length>1)return this.focusService.focusInto(last(focusableContainers),!0);const lastColumn=last(allColumns);if(this.focusService.focusGridView(lastColumn,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(allColumns[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(up=!1){this.view.forceFocusOutOfContainer(up)}}gridCtrl_decorate([Autowired("focusService")],GridCtrl.prototype,"focusService",void 0),gridCtrl_decorate([Autowired("resizeObserverService")],GridCtrl.prototype,"resizeObserverService",void 0),gridCtrl_decorate([Autowired("columnModel")],GridCtrl.prototype,"columnModel",void 0),gridCtrl_decorate([Autowired("ctrlsService")],GridCtrl.prototype,"ctrlsService",void 0),gridCtrl_decorate([Autowired("mouseEventService")],GridCtrl.prototype,"mouseEventService",void 0),gridCtrl_decorate([Autowired("dragAndDropService")],GridCtrl.prototype,"dragAndDropService",void 0);var gridComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GridComp extends TabGuardComp{constructor(eGridDiv){super(),this.eGridDiv=eGridDiv}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const compProxy={destroyGridUi:()=>this.destroyBean(this),setRtlClass:cssClass=>this.addCssClass(cssClass),addOrRemoveKeyboardFocusClass:addOrRemove=>this.addOrRemoveCssClass(FocusService.AG_KEYBOARD_FOCUS,addOrRemove),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:value=>{this.getGui().style.userSelect=null!=value?value:"",this.getGui().style.webkitUserSelect=null!=value?value:""},setCursor:value=>{this.getGui().style.cursor=null!=value?value:""}};this.ctrl=this.createManagedBean(new GridCtrl);const template=this.createTemplate();this.setTemplate(template),this.ctrl.setComp(compProxy,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:fromBottom=>this.ctrl.focusInnerElement(fromBottom)})}insertGridIntoDom(){const eGui=this.getGui();this.eGridDiv.appendChild(eGui),this.addDestroyFunc((()=>{this.eGridDiv.removeChild(eGui),this.logger.log("Grid removed from DOM")}))}updateLayoutClasses(cssClass,params){const eRootWrapperBodyClassList=this.eRootWrapperBody.classList;eRootWrapperBodyClassList.toggle(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),eRootWrapperBodyClassList.toggle(LayoutCssClasses.NORMAL,params.normal),eRootWrapperBodyClassList.toggle(LayoutCssClasses.PRINT,params.print),this.addOrRemoveCssClass(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),this.addOrRemoveCssClass(LayoutCssClasses.NORMAL,params.normal),this.addOrRemoveCssClass(LayoutCssClasses.PRINT,params.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const focusableContainers=[this.gridBodyComp.getGui()];return this.sideBarComp&&focusableContainers.push(this.sideBarComp.getGui()),focusableContainers.filter((el=>isVisible(el)))}}gridComp_decorate([Autowired("loggerFactory")],GridComp.prototype,"loggerFactory",void 0),gridComp_decorate([RefSelector("gridBody")],GridComp.prototype,"gridBodyComp",void 0),gridComp_decorate([RefSelector("sideBar")],GridComp.prototype,"sideBarComp",void 0),gridComp_decorate([RefSelector("rootWrapperBody")],GridComp.prototype,"eRootWrapperBody",void 0),gridComp_decorate([PostConstruct],GridComp.prototype,"postConstruct",null);var SortController_1,sortController_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let SortController=SortController_1=class SortController extends BeanStub{progressSort(column,multiSort,source){const nextDirection=this.getNextSortDirection(column);this.setSortForColumn(column,nextDirection,multiSort,source)}setSortForColumn(column,sort,multiSort,source){"asc"!==sort&&"desc"!==sort&&(sort=null);let columnsToUpdate=[column];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&column.getColDef().showRowGroup){const rowGroupColumns=this.columnModel.getSourceColumnsForGroupColumn(column),sortableRowGroupColumns=null==rowGroupColumns?void 0:rowGroupColumns.filter((col=>col.getColDef().sortable));sortableRowGroupColumns&&(columnsToUpdate=[column,...sortableRowGroupColumns])}columnsToUpdate.forEach((col=>col.setSort(sort,source)));(multiSort||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(columnsToUpdate,source),this.updateSortIndex(column),this.dispatchSortChangedEvents(source)}updateSortIndex(lastColToChange){const isCoupled=this.gridOptionsService.isColumnsSortingCoupledToGroup(),groupParent=this.columnModel.getGroupDisplayColumnForGroup(lastColToChange.getId()),lastSortIndexCol=isCoupled&&groupParent||lastColToChange,allSortedCols=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((col=>col.setSortIndex(null)));const allSortedColsWithoutChanges=allSortedCols.filter((col=>col!==lastSortIndexCol));(lastSortIndexCol.getSort()?[...allSortedColsWithoutChanges,lastSortIndexCol]:allSortedColsWithoutChanges).forEach(((col,idx)=>col.setSortIndex(idx)))}onSortChanged(source){this.dispatchSortChangedEvents(source)}isSortActive(){const sortedCols=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((column=>!!column.getSort()));return sortedCols&&sortedCols.length>0}dispatchSortChangedEvents(source){const event={type:Events.EVENT_SORT_CHANGED,source};this.eventService.dispatchEvent(event)}clearSortBarTheseColumns(columnsToSkip,source){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((columnToClear=>{columnsToSkip.includes(columnToClear)||columnToClear.setSort(void 0,source)}))}getNextSortDirection(column){let sortingOrder;if(sortingOrder=column.getColDef().sortingOrder?column.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):SortController_1.DEFAULT_SORTING_ORDER,!Array.isArray(sortingOrder)||sortingOrder.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${sortingOrder}`),null;const currentIndex=sortingOrder.indexOf(column.getSort()),notInArray=currentIndex<0,lastItemInArray=currentIndex==sortingOrder.length-1;let result;return result=notInArray||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1],SortController_1.DEFAULT_SORTING_ORDER.indexOf(result)<0?(console.warn("AG Grid: invalid sort type "+result),null):result}getIndexedSortMap(){let allSortedCols=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((col=>!!col.getSort()));if(this.columnModel.isPivotMode()){const isSortingLinked=this.gridOptionsService.isColumnsSortingCoupledToGroup();allSortedCols=allSortedCols.filter((col=>{const isAggregated=!!col.getAggFunc(),isSecondary=!col.isPrimary(),isGroup=isSortingLinked?this.columnModel.getGroupDisplayColumnForGroup(col.getId()):col.getColDef().showRowGroup;return isAggregated||isSecondary||isGroup}))}const sortedRowGroupCols=this.columnModel.getRowGroupColumns().filter((col=>!!col.getSort())),isSortLinked=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!sortedRowGroupCols.length;isSortLinked&&(allSortedCols=[...new Set(allSortedCols.map((col=>{var _a;return null!==(_a=this.columnModel.getGroupDisplayColumnForGroup(col.getId()))&&void 0!==_a?_a:col})))]);const allColsIndexes={};allSortedCols.forEach(((col,index)=>allColsIndexes[col.getId()]=index)),allSortedCols.sort(((a,b)=>{const iA=a.getSortIndex(),iB=b.getSortIndex();if(null!=iA&&null!=iB)return iA-iB;if(null==iA&&null==iB){return allColsIndexes[a.getId()]>allColsIndexes[b.getId()]?1:-1}return null==iB?-1:1}));const indexMap=new Map;return allSortedCols.forEach(((col,idx)=>indexMap.set(col,idx))),isSortLinked&&sortedRowGroupCols.forEach((col=>{const groupDisplayCol=this.columnModel.getGroupDisplayColumnForGroup(col.getId());indexMap.set(col,indexMap.get(groupDisplayCol))})),indexMap}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((([col1,idx1],[col2,idx2])=>idx1-idx2)).map((([col])=>col))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),colId:column.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),column})))}canColumnDisplayMixedSort(column){const isColumnSortCouplingActive=this.gridOptionsService.isColumnsSortingCoupledToGroup(),isGroupDisplayColumn=!!column.getColDef().showRowGroup;return isColumnSortCouplingActive&&isGroupDisplayColumn}getDisplaySortForColumn(column){const linkedColumns=this.columnModel.getSourceColumnsForGroupColumn(column);if(!this.canColumnDisplayMixedSort(column)||!(null==linkedColumns?void 0:linkedColumns.length))return column.getSort();const sortableColumns=null!=column.getColDef().field||!!column.getColDef().valueGetter?[column,...linkedColumns]:linkedColumns,firstSort=sortableColumns[0].getSort();return sortableColumns.every((col=>col.getSort()==firstSort))?firstSort:"mixed"}getDisplaySortIndexForColumn(column){return this.getIndexedSortMap().get(column)}};SortController.DEFAULT_SORTING_ORDER=["asc","desc",null],sortController_decorate([Autowired("columnModel")],SortController.prototype,"columnModel",void 0),SortController=SortController_1=sortController_decorate([Bean("sortController")],SortController);var columnHoverService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ColumnHoverService=class ColumnHoverService extends BeanStub{setMouseOver(columns){this.selectedColumns=columns;const event={type:Events.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(event)}clearMouseOver(){this.selectedColumns=null;const event={type:Events.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(event)}isHovered(column){return!!this.selectedColumns&&this.selectedColumns.indexOf(column)>=0}};ColumnHoverService=columnHoverService_decorate([Bean("columnHoverService")],ColumnHoverService);var columnAnimationService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ColumnAnimationService=class ColumnAnimationService extends BeanStub{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady((p=>this.gridBodyCtrl=p.gridBodyCtrl))}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&(this.flush(),this.active=!1)}executeNextVMTurn(func){this.active?this.executeNextFuncs.push(func):func()}executeLaterVMTurn(func){this.active?this.executeLaterFuncs.push(func):func()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const animationThreadCountCopy=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===animationThreadCountCopy&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(){const nowFuncs=this.executeNextFuncs;this.executeNextFuncs=[];const waitFuncs=this.executeLaterFuncs;this.executeLaterFuncs=[],0===nowFuncs.length&&0===waitFuncs.length||(window.setTimeout((()=>nowFuncs.forEach((func=>func()))),0),window.setTimeout((()=>waitFuncs.forEach((func=>func()))),300))}};columnAnimationService_decorate([Autowired("ctrlsService")],ColumnAnimationService.prototype,"ctrlsService",void 0),columnAnimationService_decorate([PostConstruct],ColumnAnimationService.prototype,"postConstruct",null),ColumnAnimationService=columnAnimationService_decorate([Bean("columnAnimationService")],ColumnAnimationService);var paginationAutoPageSizeService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let PaginationAutoPageSizeService=class PaginationAutoPageSizeService extends BeanStub{postConstruct(){this.ctrlsService.whenReady((p=>{this.centerRowContainerCon=p.centerRowContainerCtrl,this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()}))}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon}checkPageSize(){if(this.notActive())return;const bodyHeight=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(bodyHeight>0){const update=()=>{const rowHeight=this.gridOptionsService.getRowHeightAsNumber(),newPageSize=Math.floor(bodyHeight/rowHeight);this.gridOptionsService.set("paginationPageSize",newPageSize)};this.isBodyRendered?debounce((()=>update()),50)():(update(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};paginationAutoPageSizeService_decorate([Autowired("ctrlsService")],PaginationAutoPageSizeService.prototype,"ctrlsService",void 0),paginationAutoPageSizeService_decorate([PostConstruct],PaginationAutoPageSizeService.prototype,"postConstruct",null),PaginationAutoPageSizeService=paginationAutoPageSizeService_decorate([Bean("paginationAutoPageSizeService")],PaginationAutoPageSizeService);var valueCache_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ValueCache=class ValueCache extends BeanStub{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(rowNode,colId,value){this.active&&(rowNode.__cacheVersion!==this.cacheVersion&&(rowNode.__cacheVersion=this.cacheVersion,rowNode.__cacheData={}),rowNode.__cacheData[colId]=value)}getValue(rowNode,colId){if(this.active&&rowNode.__cacheVersion===this.cacheVersion)return rowNode.__cacheData[colId]}};valueCache_decorate([PostConstruct],ValueCache.prototype,"init",null),ValueCache=valueCache_decorate([Bean("valueCache")],ValueCache);var changeDetectionService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ChangeDetectionService=class ChangeDetectionService extends BeanStub{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(event){"paste"!==event.source&&this.doChangeDetection(event.node,event.column)}doChangeDetection(rowNode,column){if(this.gridOptionsService.is("suppressChangeDetection"))return;const nodesToRefresh=[rowNode];if(this.clientSideRowModel&&!rowNode.isRowPinned()){const onlyChangedColumns=this.gridOptionsService.is("aggregateOnlyChangedColumns"),changedPath=new ChangedPath(onlyChangedColumns,this.clientSideRowModel.getRootNode());changedPath.addParentNode(rowNode.parent,[column]),this.clientSideRowModel.doAggregate(changedPath),changedPath.forEachChangedNodeDepthFirst((rowNode=>{nodesToRefresh.push(rowNode)}))}this.rowRenderer.refreshCells({rowNodes:nodesToRefresh})}};changeDetectionService_decorate([Autowired("rowModel")],ChangeDetectionService.prototype,"rowModel",void 0),changeDetectionService_decorate([Autowired("rowRenderer")],ChangeDetectionService.prototype,"rowRenderer",void 0),changeDetectionService_decorate([PostConstruct],ChangeDetectionService.prototype,"init",null),ChangeDetectionService=changeDetectionService_decorate([Bean("changeDetectionService")],ChangeDetectionService);var agComponentUtils_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AgComponentUtils=class AgComponentUtils extends BeanStub{adaptFunction(propertyName,jsCompFunc){const metadata=this.componentMetadataProvider.retrieve(propertyName);return metadata&&metadata.functionAdapter?metadata.functionAdapter(jsCompFunc):null}adaptCellRendererFunction(callback){return class Adapter{refresh(params){return!1}getGui(){return this.eGui}init(params){const callbackResult=callback(params),type=typeof callbackResult;this.eGui="string"!==type&&"number"!==type&&"boolean"!==type?null!=callbackResult?callbackResult:loadTemplate("<span></span>"):loadTemplate("<span>"+callbackResult+"</span>")}}}doesImplementIComponent(candidate){return!!candidate&&(candidate.prototype&&"getGui"in candidate.prototype)}};agComponentUtils_decorate([Autowired("componentMetadataProvider")],AgComponentUtils.prototype,"componentMetadataProvider",void 0),AgComponentUtils=agComponentUtils_decorate([Bean("agComponentUtils")],AgComponentUtils);var componentMetadataProvider_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ComponentMetadataProvider=class ComponentMetadataProvider extends BeanStub{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(name){return this.componentMetaData[name]}};componentMetadataProvider_decorate([Autowired("agComponentUtils")],ComponentMetadataProvider.prototype,"agComponentUtils",void 0),componentMetadataProvider_decorate([PostConstruct],ComponentMetadataProvider.prototype,"postConstruct",null),ComponentMetadataProvider=componentMetadataProvider_decorate([Bean("componentMetadataProvider")],ComponentMetadataProvider);var environment_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const HARD_CODED_SIZES={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},SASS_PROPERTY_BUILDER={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let Environment=class Environment extends BeanStub{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var _a;const el=null!==(_a=this.getTheme().el)&&void 0!==_a?_a:this.eGridDiv;this.mutationObserver=new MutationObserver((()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()})),this.mutationObserver.observe(el||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const event={type:Events.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(event)}getSassVariable(key){const{themeFamily,el}=this.getTheme();if(!themeFamily||0!==themeFamily.indexOf("ag-theme"))return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[themeFamily]||(this.calculatedSizes[themeFamily]={});const size=this.calculatedSizes[themeFamily][key];return null!=size?size:(this.calculatedSizes[themeFamily][key]=this.calculateValueForSassProperty(key,themeFamily,el),this.calculatedSizes[themeFamily][key])}calculateValueForSassProperty(property,theme,themeElement){const useTheme="ag-theme-"+(theme.match("material")?"material":theme.match("balham")?"balham":theme.match("alpine")?"alpine":"custom"),defaultValue=HARD_CODED_SIZES[useTheme][property],eDocument=this.gridOptionsService.getDocument();if(themeElement||(themeElement=this.eGridDiv),!SASS_PROPERTY_BUILDER[property])return defaultValue;const classList=SASS_PROPERTY_BUILDER[property],div=eDocument.createElement("div"),classesFromThemeElement=Array.from(themeElement.classList);div.classList.add(theme,...classesFromThemeElement),div.style.position="absolute";const el=classList.reduce(((prevEl,currentClass)=>{const currentDiv=eDocument.createElement("div");return currentDiv.style.position="static",currentDiv.classList.add(currentClass),prevEl.appendChild(currentDiv),currentDiv}),div);let calculatedValue=0;if(eDocument.body){eDocument.body.appendChild(div);const sizeName=-1!==property.toLowerCase().indexOf("height")?"height":"width";calculatedValue=parseInt(window.getComputedStyle(el)[sizeName],10),eDocument.body.removeChild(div)}return calculatedValue||defaultValue}isThemeDark(){const{theme}=this.getTheme();return!!theme&&theme.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const reg=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let el=this.eGridDiv,themeMatch=null,allThemes=[];for(;el;){if(themeMatch=reg.exec(el.className),themeMatch){const matched=el.className.match(reg);matched&&(allThemes=matched);break}el=el.parentElement||void 0}if(!themeMatch)return{allThemes};const theme=themeMatch[0];return{theme,el,themeFamily:theme.replace(/-dark$/,""),allThemes}}getFromTheme(defaultValue,sassVariableName){var _a;return null!==(_a=this.getSassVariable(sassVariableName))&&void 0!==_a?_a:defaultValue}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const oldRowHeight=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),height=this.gridOptionsService.getNum("rowHeight");if(null==height||isNaN(height)||!isFinite(height))return-1;const newRowHeight=`${height}px`;return oldRowHeight!=newRowHeight?(this.eGridDiv.style.setProperty("--ag-line-height",newRowHeight),height):""!=oldRowHeight?parseFloat(oldRowHeight):-1}getMinColWidth(){const measuredMin=this.getFromTheme(null,"headerCellMinWidth");return exists(measuredMin)?Math.max(measuredMin,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};environment_decorate([Autowired("eGridDiv")],Environment.prototype,"eGridDiv",void 0),environment_decorate([PostConstruct],Environment.prototype,"postConstruct",null),Environment=environment_decorate([Bean("environment")],Environment);var rowContainerHeightService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},rowContainerHeightService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};let RowContainerHeightService=class RowContainerHeightService extends BeanStub{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(loggerFactory){this.logger=loggerFactory.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=getMaxDivHeight(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const newScrollY=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,newBodyHeight=this.getUiBodyHeight();(newScrollY!==this.scrollY||newBodyHeight!==this.uiBodyHeight)&&(this.scrollY=newScrollY,this.uiBodyHeight=newBodyHeight,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const scrollPercent=this.scrollY/this.maxScrollY,divStretchOffset=scrollPercent*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${divStretchOffset} (${this.pixelsToShave} * ${scrollPercent})`),this.setDivStretchOffset(divStretchOffset)}setUiContainerHeight(height){height!==this.uiContainerHeight&&(this.uiContainerHeight=height,this.eventService.dispatchEvent({type:Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(newOffset){const newOffsetFloor="number"==typeof newOffset?Math.floor(newOffset):null;this.divStretchOffset!==newOffsetFloor&&(this.divStretchOffset=newOffsetFloor,this.eventService.dispatchEvent({type:Events.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(modelHeight){this.modelHeight=modelHeight,this.stretching=null!=modelHeight&&this.maxDivHeight>0&&modelHeight>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(modelPixel){return modelPixel-this.divStretchOffset}getUiBodyHeight(){const pos=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return pos.bottom-pos.top}getScrollPositionForPixel(rowTop){if(this.pixelsToShave<=0)return rowTop;const scrollPercent=rowTop/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*scrollPercent}};rowContainerHeightService_decorate([Autowired("ctrlsService")],RowContainerHeightService.prototype,"ctrlsService",void 0),rowContainerHeightService_decorate([rowContainerHeightService_param(0,Qualifier("loggerFactory"))],RowContainerHeightService.prototype,"agWire",null),rowContainerHeightService_decorate([PostConstruct],RowContainerHeightService.prototype,"postConstruct",null),RowContainerHeightService=rowContainerHeightService_decorate([Bean("rowContainerHeightService")],RowContainerHeightService);var selectableService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let SelectableService=class SelectableService extends BeanStub{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(rowNode){if(this.isRowSelectableFunc){const nextChildrenFunc=node=>node.childrenAfterGroup;this.recurseDown(rowNode.childrenAfterGroup,nextChildrenFunc)}}recurseDown(children,nextChildrenFunc){children&&children.forEach((child=>{if(!child.group)return;let rowSelectable;if(child.hasChildren()&&this.recurseDown(nextChildrenFunc(child),nextChildrenFunc),this.groupSelectsChildren){rowSelectable=exists((nextChildrenFunc(child)||[]).find((rowNode=>!0===rowNode.selectable)))}else rowSelectable=!!this.isRowSelectableFunc&&this.isRowSelectableFunc(child);child.setRowSelectable(rowSelectable)}))}};selectableService_decorate([PostConstruct],SelectableService.prototype,"init",null),SelectableService=selectableService_decorate([Bean("selectableService")],SelectableService);var paginationComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class PaginationComp extends Component{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const isRtl=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());const{btFirst,btPrevious,btNext,btLast}=this;this.activateTabIndex([btFirst,btPrevious,btNext,btLast]),btFirst.insertAdjacentElement("afterbegin",createIconNoSpan(isRtl?"last":"first",this.gridOptionsService)),btPrevious.insertAdjacentElement("afterbegin",createIconNoSpan(isRtl?"next":"previous",this.gridOptionsService)),btNext.insertAdjacentElement("afterbegin",createIconNoSpan(isRtl?"previous":"next",this.gridOptionsService)),btLast.insertAdjacentElement("afterbegin",createIconNoSpan(isRtl?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const paginationPanelEnabled=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(paginationPanelEnabled),paginationPanelEnabled&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,Events.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((item=>{const{el,fn}=item;this.addManagedListener(el,"click",fn),this.addManagedListener(el,"keydown",(e=>{e.key!==KeyCode.ENTER&&e.key!==KeyCode.SPACE||(e.preventDefault(),fn())}))})),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const pagesExist=this.paginationProxy.getTotalPages()>0,currentPage=this.paginationProxy.getCurrentPage(),toDisplay=pagesExist?currentPage+1:0;this.lbCurrent.innerHTML=this.formatNumber(toDisplay)}formatNumber(value){const userFunc=this.gridOptionsService.getCallback("paginationNumberFormatter");if(userFunc){return userFunc({value})}const localeTextFunc=this.localeService.getLocaleTextFunc();return formatNumberCommas(value,localeTextFunc("thousandSeparator",","),localeTextFunc("decimalSeparator","."))}getTemplate(){const localeTextFunc=this.localeService.getLocaleTextFunc(),strPage=localeTextFunc("page","Page"),strTo=localeTextFunc("to","to"),strOf=localeTextFunc("of","of"),strFirst=localeTextFunc("firstPage","First Page"),strPrevious=localeTextFunc("previousPage","Previous Page"),strNext=localeTextFunc("nextPage","Next Page"),strLast=localeTextFunc("lastPage","Last Page"),compId=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${compId}">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${compId}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${compId}-to">${strTo}</span>\n                    <span id="ag-${compId}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${compId}-of">${strOf}</span>\n                    <span id="ag-${compId}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${strFirst}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${strPrevious}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${compId}-start-page">${strPage}</span>\n                        <span id="ag-${compId}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${compId}-of-page">${strOf}</span>\n                        <span id="ag-${compId}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${strNext}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${strLast}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const currentPage=this.paginationProxy.getCurrentPage(),maxRowFound=this.paginationProxy.isLastPageFound(),totalPages=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===currentPage,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const zeroPagesToDisplay=this.isZeroPagesToDisplay(),onLastPage=maxRowFound&&currentPage===totalPages-1;this.nextButtonDisabled=onLastPage||zeroPagesToDisplay,this.lastButtonDisabled=!maxRowFound||zeroPagesToDisplay||currentPage===totalPages-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(button,disabled){setAriaDisabled(button,disabled),button.classList.toggle("ag-disabled",disabled)}updateRowLabels(){const currentPage=this.paginationProxy.getCurrentPage(),pageSize=this.paginationProxy.getPageSize(),maxRowFound=this.paginationProxy.isLastPageFound(),rowCount=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let startRow,endRow;if(this.isZeroPagesToDisplay()?startRow=endRow=0:(startRow=pageSize*currentPage+1,endRow=startRow+pageSize-1,maxRowFound&&endRow>rowCount&&(endRow=rowCount)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(startRow),this.rowNodeBlockLoader.isLoading()){const translate=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=translate("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(endRow)}isZeroPagesToDisplay(){const maxRowFound=this.paginationProxy.isLastPageFound(),totalPages=this.paginationProxy.getTotalPages();return maxRowFound&&0===totalPages}setTotalLabels(){const lastPageFound=this.paginationProxy.isLastPageFound(),totalPages=this.paginationProxy.getTotalPages(),rowCount=lastPageFound?this.paginationProxy.getMasterRowCount():null;if(1===rowCount){const firstRow=this.paginationProxy.getRow(0);if(firstRow&&firstRow.group&&!(firstRow.groupData||firstRow.aggData))return void this.setTotalLabelsToZero()}if(lastPageFound)this.lbTotal.innerHTML=this.formatNumber(totalPages),this.lbRecordCount.innerHTML=this.formatNumber(rowCount);else{const moreText=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=moreText,this.lbRecordCount.innerHTML=moreText}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}}paginationComp_decorate([Autowired("paginationProxy")],PaginationComp.prototype,"paginationProxy",void 0),paginationComp_decorate([Autowired("rowNodeBlockLoader")],PaginationComp.prototype,"rowNodeBlockLoader",void 0),paginationComp_decorate([RefSelector("btFirst")],PaginationComp.prototype,"btFirst",void 0),paginationComp_decorate([RefSelector("btPrevious")],PaginationComp.prototype,"btPrevious",void 0),paginationComp_decorate([RefSelector("btNext")],PaginationComp.prototype,"btNext",void 0),paginationComp_decorate([RefSelector("btLast")],PaginationComp.prototype,"btLast",void 0),paginationComp_decorate([RefSelector("lbRecordCount")],PaginationComp.prototype,"lbRecordCount",void 0),paginationComp_decorate([RefSelector("lbFirstRowOnPage")],PaginationComp.prototype,"lbFirstRowOnPage",void 0),paginationComp_decorate([RefSelector("lbLastRowOnPage")],PaginationComp.prototype,"lbLastRowOnPage",void 0),paginationComp_decorate([RefSelector("lbCurrent")],PaginationComp.prototype,"lbCurrent",void 0),paginationComp_decorate([RefSelector("lbTotal")],PaginationComp.prototype,"lbTotal",void 0),paginationComp_decorate([PostConstruct],PaginationComp.prototype,"postConstruct",null);var LoadingType,overlayWrapperComponent_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};!function(LoadingType){LoadingType[LoadingType.Loading=0]="Loading",LoadingType[LoadingType.NoRows=1]="NoRows"}(LoadingType||(LoadingType={}));class OverlayWrapperComponent extends Component{constructor(){super(OverlayWrapperComponent.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(cssClass,params){const overlayWrapperClassList=this.eOverlayWrapper.classList;overlayWrapperClassList.toggle(LayoutCssClasses.AUTO_HEIGHT,params.autoHeight),overlayWrapperClassList.toggle(LayoutCssClasses.NORMAL,params.normal),overlayWrapperClassList.toggle(LayoutCssClasses.PRINT,params.print)}postConstruct(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(loadingType){const overlayWrapperClassList=this.eOverlayWrapper.classList;overlayWrapperClassList.toggle("ag-overlay-loading-wrapper",loadingType===LoadingType.Loading),overlayWrapperClassList.toggle("ag-overlay-no-rows-wrapper",loadingType===LoadingType.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const promise=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(promise,LoadingType.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const promise=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(promise,LoadingType.NoRows)}showOverlay(workItem,type){this.inProgress||(this.setWrapperTypeClass(type),this.destroyActiveOverlay(),this.inProgress=!0,workItem&&workItem.then((comp=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(comp.getGui()),this.activeOverlay=comp,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),clearElement(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const isEmpty=this.paginationProxy.isEmpty(),isSuppressNoRowsOverlay=this.gridOptionsService.is("suppressNoRowsOverlay");isEmpty&&!isSuppressNoRowsOverlay?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()}}OverlayWrapperComponent.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',overlayWrapperComponent_decorate([Autowired("userComponentFactory")],OverlayWrapperComponent.prototype,"userComponentFactory",void 0),overlayWrapperComponent_decorate([Autowired("paginationProxy")],OverlayWrapperComponent.prototype,"paginationProxy",void 0),overlayWrapperComponent_decorate([Autowired("gridApi")],OverlayWrapperComponent.prototype,"gridApi",void 0),overlayWrapperComponent_decorate([Autowired("columnModel")],OverlayWrapperComponent.prototype,"columnModel",void 0),overlayWrapperComponent_decorate([RefSelector("eOverlayWrapper")],OverlayWrapperComponent.prototype,"eOverlayWrapper",void 0),overlayWrapperComponent_decorate([PostConstruct],OverlayWrapperComponent.prototype,"postConstruct",null);var rowPositionUtils_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let RowPositionUtils=class RowPositionUtils extends BeanStub{getFirstRow(){let rowPinned,rowIndex=0;return this.pinnedRowModel.getPinnedTopRowCount()?rowPinned="top":this.rowModel.getRowCount()?(rowPinned=null,rowIndex=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(rowPinned="bottom"),void 0===rowPinned?null:{rowIndex,rowPinned}}getLastRow(){let rowIndex,rowPinned=null;const pinnedBottomCount=this.pinnedRowModel.getPinnedBottomRowCount(),pinnedTopCount=this.pinnedRowModel.getPinnedTopRowCount();return pinnedBottomCount?(rowPinned="bottom",rowIndex=pinnedBottomCount-1):this.rowModel.getRowCount()?(rowPinned=null,rowIndex=this.paginationProxy.getPageLastRow()):pinnedTopCount&&(rowPinned="top",rowIndex=pinnedTopCount-1),void 0===rowIndex?null:{rowIndex,rowPinned}}getRowNode(gridRow){switch(gridRow.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}}sameRow(rowA,rowB){return!rowA&&!rowB||!(rowA&&!rowB||!rowA&&rowB)&&(rowA.rowIndex===rowB.rowIndex&&rowA.rowPinned==rowB.rowPinned)}before(rowA,rowB){switch(rowA.rowPinned){case"top":if("top"!==rowB.rowPinned)return!0;break;case"bottom":if("bottom"!==rowB.rowPinned)return!1;break;default:if(exists(rowB.rowPinned))return"top"!==rowB.rowPinned}return rowA.rowIndex<rowB.rowIndex}rowMax(rows){let max;return rows.forEach((row=>{(void 0===max||this.before(max,row))&&(max=row)})),max}rowMin(rows){let min;return rows.forEach((row=>{(void 0===min||this.before(row,min))&&(min=row)})),min}};rowPositionUtils_decorate([Autowired("rowModel")],RowPositionUtils.prototype,"rowModel",void 0),rowPositionUtils_decorate([Autowired("pinnedRowModel")],RowPositionUtils.prototype,"pinnedRowModel",void 0),rowPositionUtils_decorate([Autowired("paginationProxy")],RowPositionUtils.prototype,"paginationProxy",void 0),RowPositionUtils=rowPositionUtils_decorate([Bean("rowPositionUtils")],RowPositionUtils);var cellPositionUtils_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let CellPositionUtils=class CellPositionUtils extends BeanStub{createId(cellPosition){const{rowIndex,rowPinned,column}=cellPosition;return this.createIdFromValues({rowIndex,column,rowPinned})}createIdFromValues(cellPosition){const{rowIndex,rowPinned,column}=cellPosition;return`${rowIndex}.${null==rowPinned?"null":rowPinned}.${column.getId()}`}equals(cellA,cellB){const colsMatch=cellA.column===cellB.column,floatingMatch=cellA.rowPinned===cellB.rowPinned,indexMatch=cellA.rowIndex===cellB.rowIndex;return colsMatch&&floatingMatch&&indexMatch}};CellPositionUtils=cellPositionUtils_decorate([Bean("cellPositionUtils")],CellPositionUtils);class UndoRedoAction{constructor(cellValueChanges){this.cellValueChanges=cellValueChanges}}class RangeUndoRedoAction extends UndoRedoAction{constructor(cellValueChanges,initialRange,finalRange,ranges){super(cellValueChanges),this.initialRange=initialRange,this.finalRange=finalRange,this.ranges=ranges}}class UndoRedoStack{constructor(maxStackSize){this.actionStack=[],this.maxStackSize=maxStackSize||UndoRedoStack.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(item){item.cellValueChanges&&item.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(item))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}}UndoRedoStack.DEFAULT_STACK_SIZE=10;var undoRedoService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let UndoRedoService=class UndoRedoService extends BeanStub{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=event=>{const eventCell={column:event.column,rowIndex:event.rowIndex,rowPinned:event.rowPinned},isCellEditing=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,eventCell),isRowEditing=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,eventCell);if(!(isCellEditing||isRowEditing||this.isPasting||this.isRangeInAction))return;const{rowPinned,rowIndex,column,oldValue,value}=event,cellValueChange={rowPinned,rowIndex,columnId:column.getColId(),newValue:value,oldValue};this.cellValueChanges.push(cellValueChange)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const undoRedoLimit=this.gridOptionsService.getNum("undoRedoCellEditingLimit");undoRedoLimit<=0||(this.undoStack=new UndoRedoStack(undoRedoLimit),this.redoStack=new UndoRedoStack(undoRedoLimit),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,Events.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Events.EVENT_MODEL_UPDATED,(e=>{e.keepUndoRedoStack||this.clearStacks()})),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Events.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(source){const startEvent={type:Events.EVENT_UNDO_STARTED,source};this.eventService.dispatchEvent(startEvent);const operationPerformed=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),endEvent={type:Events.EVENT_UNDO_ENDED,source,operationPerformed};this.eventService.dispatchEvent(endEvent)}redo(source){const startEvent={type:Events.EVENT_REDO_STARTED,source};this.eventService.dispatchEvent(startEvent);const operationPerformed=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),endEvent={type:Events.EVENT_REDO_ENDED,source,operationPerformed};this.eventService.dispatchEvent(endEvent)}undoRedo(undoRedoStack,opposingUndoRedoStack,rangeProperty,cellValueChangeProperty,source){if(!undoRedoStack)return!1;const undoRedoAction=undoRedoStack.pop();return!(!undoRedoAction||!undoRedoAction.cellValueChanges)&&(this.processAction(undoRedoAction,(cellValueChange=>cellValueChange[cellValueChangeProperty]),source),undoRedoAction instanceof RangeUndoRedoAction?this.processRange(undoRedoAction.ranges||[undoRedoAction[rangeProperty]]):this.processCell(undoRedoAction.cellValueChanges),opposingUndoRedoStack.push(undoRedoAction),!0)}processAction(action,valueExtractor,source){action.cellValueChanges.forEach((cellValueChange=>{const{rowIndex,rowPinned,columnId}=cellValueChange,rowPosition={rowIndex,rowPinned},currentRow=this.getRowNode(rowPosition);currentRow.displayed&&currentRow.setDataValue(columnId,valueExtractor(cellValueChange),source)}))}processRange(ranges){let lastFocusedCell;this.rangeService.removeAllCellRanges(!0),ranges.forEach(((range,idx)=>{if(!range)return;const startRow=range.startRow,endRow=range.endRow;idx===ranges.length-1&&(lastFocusedCell={rowPinned:startRow.rowPinned,rowIndex:startRow.rowIndex,columnId:range.startColumn.getColId()},this.setLastFocusedCell(lastFocusedCell));const cellRangeParams={rowStartIndex:startRow.rowIndex,rowStartPinned:startRow.rowPinned,rowEndIndex:endRow.rowIndex,rowEndPinned:endRow.rowPinned,columnStart:range.startColumn,columns:range.columns};this.rangeService.addCellRange(cellRangeParams)}))}processCell(cellValueChanges){const cellValueChange=cellValueChanges[0],{rowIndex,rowPinned}=cellValueChange,rowPosition={rowIndex,rowPinned},row=this.getRowNode(rowPosition),lastFocusedCell={rowPinned:cellValueChange.rowPinned,rowIndex:row.rowIndex,columnId:cellValueChange.columnId};this.setLastFocusedCell(lastFocusedCell,!!this.rangeService)}setLastFocusedCell(lastFocusedCell,setRangeToCell){const{rowIndex,columnId,rowPinned}=lastFocusedCell,scrollFeature=this.gridBodyCtrl.getScrollFeature(),column=this.columnModel.getGridColumn(columnId);if(!column)return;scrollFeature.ensureIndexVisible(rowIndex),scrollFeature.ensureColumnVisible(column);const cellPosition={rowIndex,column,rowPinned};this.focusService.setFocusedCell(Object.assign(Object.assign({},cellPosition),{forceBrowserFocus:!0})),setRangeToCell&&this.rangeService.setRangeToCell(cellPosition)}addRowEditingListeners(){this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STARTED,(e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,Events.EVENT_ROW_EDITING_STOPPED,(()=>{const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action),this.activeRowEdit=null}))}addCellEditingListeners(){this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STARTED,(e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,Events.EVENT_CELL_EDITING_STOPPED,(e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action)}}))}addPasteListeners(){this.addManagedListener(this.eventService,Events.EVENT_PASTE_START,(()=>{this.isPasting=!0})),this.addManagedListener(this.eventService,Events.EVENT_PASTE_END,(()=>{const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action),this.isPasting=!1}))}addFillListeners(){this.addManagedListener(this.eventService,Events.EVENT_FILL_START,(()=>{this.isRangeInAction=!0})),this.addManagedListener(this.eventService,Events.EVENT_FILL_END,(event=>{const action=new RangeUndoRedoAction(this.cellValueChanges,event.initialRange,event.finalRange);this.pushActionsToUndoStack(action),this.isRangeInAction=!1}))}addCellKeyListeners(){this.addManagedListener(this.eventService,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(()=>{this.isRangeInAction=!0})),this.addManagedListener(this.eventService,Events.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(()=>{let action;action=this.rangeService&&this.gridOptionsService.is("enableRangeSelection")?new RangeUndoRedoAction(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new UndoRedoAction(this.cellValueChanges),this.pushActionsToUndoStack(action),this.isRangeInAction=!1}))}pushActionsToUndoStack(action){this.undoStack.push(action),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(gridRow){switch(gridRow.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}}};undoRedoService_decorate([Autowired("focusService")],UndoRedoService.prototype,"focusService",void 0),undoRedoService_decorate([Autowired("ctrlsService")],UndoRedoService.prototype,"ctrlsService",void 0),undoRedoService_decorate([Autowired("rowModel")],UndoRedoService.prototype,"rowModel",void 0),undoRedoService_decorate([Autowired("pinnedRowModel")],UndoRedoService.prototype,"pinnedRowModel",void 0),undoRedoService_decorate([Autowired("cellPositionUtils")],UndoRedoService.prototype,"cellPositionUtils",void 0),undoRedoService_decorate([Autowired("rowPositionUtils")],UndoRedoService.prototype,"rowPositionUtils",void 0),undoRedoService_decorate([Autowired("columnModel")],UndoRedoService.prototype,"columnModel",void 0),undoRedoService_decorate([Optional("rangeService")],UndoRedoService.prototype,"rangeService",void 0),undoRedoService_decorate([PostConstruct],UndoRedoService.prototype,"init",null),UndoRedoService=undoRedoService_decorate([Bean("undoRedoService")],UndoRedoService);var headerPosition_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let HeaderPositionUtils=class HeaderPositionUtils extends BeanStub{findHeader(focusedHeader,direction){let nextColumn,getGroupMethod,getColMethod;if(focusedHeader.column instanceof ColumnGroup?(getGroupMethod=`getDisplayedGroup${direction}`,nextColumn=this.columnModel[getGroupMethod](focusedHeader.column)):(getColMethod=`getDisplayedCol${direction}`,nextColumn=this.columnModel[getColMethod](focusedHeader.column)),!nextColumn)return;let{headerRowIndex}=focusedHeader;if(this.getHeaderRowType(headerRowIndex)===HeaderRowType.COLUMN_GROUP){const columnGroup=nextColumn;if(columnGroup.isPadding()&&this.isAnyChildSpanningHeaderHeight(columnGroup)){const{nextFocusColumn,nextRow}=this.getColumnVisibleChild(columnGroup,headerRowIndex,direction);nextFocusColumn&&(nextColumn=nextFocusColumn,headerRowIndex=nextRow)}}return{column:nextColumn,headerRowIndex}}isAnyChildSpanningHeaderHeight(columnGroup){return!!columnGroup&&columnGroup.getLeafColumns().some((col=>col.isSpanHeaderHeight()))}getColumnVisibleParent(currentColumn,currentIndex){const currentRowType=this.getHeaderRowType(currentIndex),isFloatingFilter=currentRowType===HeaderRowType.FLOATING_FILTER,isColumn=currentRowType===HeaderRowType.COLUMN;let nextFocusColumn=isFloatingFilter?currentColumn:currentColumn.getParent(),nextRow=currentIndex-1;if(isColumn&&this.isAnyChildSpanningHeaderHeight(currentColumn.getParent())){for(;nextFocusColumn&&nextFocusColumn.isPadding();)nextFocusColumn=nextFocusColumn.getParent(),nextRow--;nextRow<0&&(nextFocusColumn=currentColumn,nextRow=currentIndex)}return{nextFocusColumn,nextRow}}getColumnVisibleChild(column,currentIndex,direction="After"){let nextFocusColumn=column,nextRow=currentIndex+1;if(this.getHeaderRowType(currentIndex)===HeaderRowType.COLUMN_GROUP){const leafColumns=column.getLeafColumns(),leafChild="After"===direction?leafColumns[0]:last(leafColumns);if(this.isAnyChildSpanningHeaderHeight(leafChild.getParent())){nextFocusColumn=leafChild;let currentColumn=leafChild.getParent();for(;currentColumn&&currentColumn!==column;)currentColumn=currentColumn.getParent(),nextRow++}else nextFocusColumn=column.getDisplayedChildren()[0]}return{nextFocusColumn,nextRow}}getHeaderRowType(rowIndex){const centerHeaderContainer=this.ctrlsService.getHeaderRowContainerCtrl();if(centerHeaderContainer)return centerHeaderContainer.getRowType(rowIndex)}findColAtEdgeForHeaderRow(level,position){const displayedColumns=this.columnModel.getAllDisplayedColumns(),column=displayedColumns["start"===position?0:displayedColumns.length-1];if(!column)return;const type=this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned()).getRowType(level);if(type==HeaderRowType.COLUMN_GROUP){return{headerRowIndex:level,column:this.columnModel.getColumnGroupAtLevel(column,level)}}return{headerRowIndex:null==type?-1:level,column}}};headerPosition_decorate([Autowired("columnModel")],HeaderPositionUtils.prototype,"columnModel",void 0),headerPosition_decorate([Autowired("ctrlsService")],HeaderPositionUtils.prototype,"ctrlsService",void 0),HeaderPositionUtils=headerPosition_decorate([Bean("headerPositionUtils")],HeaderPositionUtils);var columnDefFactory_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ColumnDefFactory=class ColumnDefFactory{buildColumnDefs(cols,rowGroupColumns,pivotColumns){const res=[],colGroupDefs={};return cols.forEach((col=>{let addToResult=!0,childDef=this.createDefFromColumn(col,rowGroupColumns,pivotColumns),pointer=col.getOriginalParent(),lastPointer=null;for(;pointer;){let parentDef=null;if(pointer.isPadding()){pointer=pointer.getOriginalParent();continue}const existingParentDef=colGroupDefs[pointer.getGroupId()];if(existingParentDef){existingParentDef.children.push(childDef),addToResult=!1;break}if(parentDef=this.createDefFromGroup(pointer),parentDef&&(parentDef.children=[childDef],colGroupDefs[parentDef.groupId]=parentDef,childDef=parentDef,pointer=pointer.getOriginalParent()),null!=pointer&&lastPointer===pointer){addToResult=!1;break}lastPointer=pointer}addToResult&&res.push(childDef)})),res}createDefFromGroup(group){const defCloned=deepCloneDefinition(group.getColGroupDef(),["children"]);return defCloned&&(defCloned.groupId=group.getGroupId()),defCloned}createDefFromColumn(col,rowGroupColumns,pivotColumns){const colDefCloned=deepCloneDefinition(col.getColDef());return colDefCloned.colId=col.getColId(),colDefCloned.width=col.getActualWidth(),colDefCloned.rowGroup=col.isRowGroupActive(),colDefCloned.rowGroupIndex=col.isRowGroupActive()?rowGroupColumns.indexOf(col):null,colDefCloned.pivot=col.isPivotActive(),colDefCloned.pivotIndex=col.isPivotActive()?pivotColumns.indexOf(col):null,colDefCloned.aggFunc=col.isValueActive()?col.getAggFunc():null,colDefCloned.hide=!col.isVisible()||void 0,colDefCloned.pinned=col.isPinned()?col.getPinned():null,colDefCloned.sort=col.getSort()?col.getSort():null,colDefCloned.sortIndex=null!=col.getSortIndex()?col.getSortIndex():null,colDefCloned}};ColumnDefFactory=columnDefFactory_decorate([Bean("columnDefFactory")],ColumnDefFactory);var rowCssClassCalculator_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let RowCssClassCalculator=class RowCssClassCalculator{getInitialRowClasses(params){const classes=[];return exists(params.extraCssClass)&&classes.push(params.extraCssClass),classes.push("ag-row"),classes.push(params.rowFocused?"ag-row-focus":"ag-row-no-focus"),params.fadeRowIn&&classes.push("ag-opacity-zero"),classes.push(params.rowIsEven?"ag-row-even":"ag-row-odd"),params.rowNode.isRowPinned()&&classes.push("ag-row-pinned"),params.rowNode.isSelected()&&classes.push("ag-row-selected"),params.rowNode.footer&&classes.push("ag-row-footer"),classes.push("ag-row-level-"+params.rowLevel),params.rowNode.stub&&classes.push("ag-row-loading"),params.fullWidthRow&&classes.push("ag-full-width-row"),params.expandable&&(classes.push("ag-row-group"),classes.push(params.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),params.rowNode.dragging&&classes.push("ag-row-dragging"),pushAll(classes,this.processClassesFromGridOptions(params.rowNode)),pushAll(classes,this.preProcessRowClassRules(params.rowNode)),classes.push(params.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),params.firstRowOnPage&&classes.push("ag-row-first"),params.lastRowOnPage&&classes.push("ag-row-last"),params.fullWidthRow&&("left"===params.pinned&&classes.push("ag-cell-last-left-pinned"),"right"===params.pinned&&classes.push("ag-cell-first-right-pinned")),classes}processClassesFromGridOptions(rowNode){const res=[],process=rowCls=>{"string"==typeof rowCls?res.push(rowCls):Array.isArray(rowCls)&&rowCls.forEach((e=>res.push(e)))},rowClass=this.gridOptionsService.get("rowClass");if(rowClass){if("function"==typeof rowClass)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];process(rowClass)}const rowClassFunc=this.gridOptionsService.getCallback("getRowClass");if(rowClassFunc){process(rowClassFunc({data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex}))}return res}preProcessRowClassRules(rowNode){const res=[];return this.processRowClassRules(rowNode,(className=>{res.push(className)}),(className=>{})),res}processRowClassRules(rowNode,onApplicableClass,onNotApplicableClass){const rowClassParams={data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),rowClassParams,onApplicableClass,onNotApplicableClass)}calculateRowLevel(rowNode){return rowNode.group?rowNode.level:rowNode.parent?rowNode.parent.level+1:0}};rowCssClassCalculator_decorate([Autowired("stylingService")],RowCssClassCalculator.prototype,"stylingService",void 0),rowCssClassCalculator_decorate([Autowired("gridOptionsService")],RowCssClassCalculator.prototype,"gridOptionsService",void 0),RowCssClassCalculator=rowCssClassCalculator_decorate([Bean("rowCssClassCalculator")],RowCssClassCalculator);var rowNodeSorter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let RowNodeSorter=class RowNodeSorter extends BeanStub{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(propChange=>this.isAccentedSort=propChange.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup()))}doFullSort(rowNodes,sortOptions){const sortedRowNodes=rowNodes.map(((rowNode,pos)=>({currentPos:pos,rowNode})));return sortedRowNodes.sort(this.compareRowNodes.bind(this,sortOptions)),sortedRowNodes.map((item=>item.rowNode))}compareRowNodes(sortOptions,sortedNodeA,sortedNodeB){const nodeA=sortedNodeA.rowNode,nodeB=sortedNodeB.rowNode;for(let i=0,len=sortOptions.length;i<len;i++){const sortOption=sortOptions[i],isDescending="desc"===sortOption.sort,valueA=this.getValue(nodeA,sortOption.column),valueB=this.getValue(nodeB,sortOption.column);let comparatorResult;const providedComparator=this.getComparator(sortOption,nodeA);comparatorResult=providedComparator?providedComparator(valueA,valueB,nodeA,nodeB,isDescending):_.defaultComparator(valueA,valueB,this.isAccentedSort);if(!isNaN(comparatorResult)&&0!==comparatorResult)return"asc"===sortOption.sort?comparatorResult:-1*comparatorResult}return sortedNodeA.currentPos-sortedNodeB.currentPos}getComparator(sortOption,rowNode){const column=sortOption.column,comparatorOnCol=column.getColDef().comparator;if(null!=comparatorOnCol)return comparatorOnCol;if(!column.getColDef().showRowGroup)return;const groupLeafField=!rowNode.group&&column.getColDef().field;if(!groupLeafField)return;const primaryColumn=this.columnModel.getPrimaryColumn(groupLeafField);return primaryColumn?primaryColumn.getColDef().comparator:void 0}getValue(node,column){var _a,_b;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(column,node,!1,!1);if(node.rowGroupColumn===column){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(column.getColDef().keyCreator)return node.key;const leafChild=null===(_a=node.allLeafChildren)||void 0===_a?void 0:_a[0];return leafChild?this.valueService.getValue(column,leafChild,!1,!1):void 0}const displayCol=this.columnModel.getGroupDisplayColumnForGroup(column.getId());if(!displayCol)return;return null===(_b=node.groupData)||void 0===_b?void 0:_b[displayCol.getId()]}return node.group&&column.getColDef().showRowGroup?void 0:this.valueService.getValue(column,node,!1,!1)}};rowNodeSorter_decorate([Autowired("valueService")],RowNodeSorter.prototype,"valueService",void 0),rowNodeSorter_decorate([Autowired("columnModel")],RowNodeSorter.prototype,"columnModel",void 0),rowNodeSorter_decorate([PostConstruct],RowNodeSorter.prototype,"init",null),RowNodeSorter=rowNodeSorter_decorate([Bean("rowNodeSorter")],RowNodeSorter);var CtrlsService_1,ctrlsService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let CtrlsService=CtrlsService_1=class CtrlsService extends BeanStub{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const p=this.createReadyParams();this.readyCallbacks.forEach((c=>c(p))),this.readyCallbacks.length=0}}whenReady(callback){this.ready?callback(this.createReadyParams()):this.readyCallbacks.push(callback)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(comp){this.fakeHScrollComp=comp,this.checkReady()}registerFakeVScrollComp(comp){this.fakeVScrollComp=comp,this.checkReady()}registerGridHeaderCtrl(gridHeaderCtrl){this.gridHeaderCtrl=gridHeaderCtrl,this.checkReady()}registerCenterRowContainerCtrl(ctrl){this.centerRowContainerCtrl=ctrl,this.checkReady()}registerLeftRowContainerCtrl(ctrl){this.leftRowContainerCtrl=ctrl,this.checkReady()}registerRightRowContainerCtrl(ctrl){this.rightRowContainerCtrl=ctrl,this.checkReady()}registerTopCenterRowContainerCtrl(ctrl){this.topCenterRowContainerCtrl=ctrl,this.checkReady()}registerTopLeftRowContainerCon(ctrl){this.topLeftRowContainerCtrl=ctrl,this.checkReady()}registerTopRightRowContainerCtrl(ctrl){this.topRightRowContainerCtrl=ctrl,this.checkReady()}registerStickyTopCenterRowContainerCtrl(ctrl){this.stickyTopCenterRowContainerCtrl=ctrl,this.checkReady()}registerStickyTopLeftRowContainerCon(ctrl){this.stickyTopLeftRowContainerCtrl=ctrl,this.checkReady()}registerStickyTopRightRowContainerCtrl(ctrl){this.stickyTopRightRowContainerCtrl=ctrl,this.checkReady()}registerBottomCenterRowContainerCtrl(ctrl){this.bottomCenterRowContainerCtrl=ctrl,this.checkReady()}registerBottomLeftRowContainerCtrl(ctrl){this.bottomLeftRowContainerCtrl=ctrl,this.checkReady()}registerBottomRightRowContainerCtrl(ctrl){this.bottomRightRowContainerCtrl=ctrl,this.checkReady()}registerHeaderContainer(ctrl,pinned){switch(pinned){case"left":this.leftHeaderRowContainerCtrl=ctrl;break;case"right":this.rightHeaderRowContainerCtrl=ctrl;break;default:this.centerHeaderRowContainerCtrl=ctrl}this.checkReady()}registerGridBodyCtrl(ctrl){this.gridBodyCtrl=ctrl,this.checkReady()}registerGridCtrl(ctrl){this.gridCtrl=ctrl,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(pinned){switch(pinned){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};CtrlsService.NAME="ctrlsService",CtrlsService=CtrlsService_1=ctrlsService_decorate([Bean(CtrlsService_1.NAME)],CtrlsService);var ctrlsFactory_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let CtrlsFactory=class CtrlsFactory extends BeanStub{constructor(){super(...arguments),this.registry={}}register(meta){this.registry[meta.controllerName]=meta.controllerClass}getInstance(name){const ControllerClass=this.registry[name];if(null!=ControllerClass)return new ControllerClass}};CtrlsFactory=ctrlsFactory_decorate([Bean("ctrlsFactory")],CtrlsFactory);var abstractFakeScrollComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class AbstractFakeScrollComp extends Component{constructor(template,direction){super(template),this.direction=direction,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,Events.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",isMacOsUserAgent()||isIOSUserAgent())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const eGui=this.getGui();["mouseenter","mousedown","touchstart"].forEach((eventName=>this.addManagedListener(eGui,eventName,(()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))))),["mouseleave","touchend"].forEach((eventName=>this.addManagedListener(eGui,eventName,(()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL,(params=>{params.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,Events.EVENT_BODY_SCROLL_END,(()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}))}attemptSettingScrollPosition(value){const viewport=this.getViewport();waitUntil((()=>isVisible(viewport)),(()=>this.setScrollPosition(value)),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(fn){this.addManagedListener(this.getViewport(),"scroll",fn)}}abstractFakeScrollComp_decorate([RefSelector("eViewport")],AbstractFakeScrollComp.prototype,"eViewport",void 0),abstractFakeScrollComp_decorate([RefSelector("eContainer")],AbstractFakeScrollComp.prototype,"eContainer",void 0),abstractFakeScrollComp_decorate([Autowired("scrollVisibleService")],AbstractFakeScrollComp.prototype,"scrollVisibleService",void 0),abstractFakeScrollComp_decorate([Autowired("ctrlsService")],AbstractFakeScrollComp.prototype,"ctrlsService",void 0),abstractFakeScrollComp_decorate([Autowired("animationFrameService")],AbstractFakeScrollComp.prototype,"animationFrameService",void 0);var fakeHScrollComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class FakeHScrollComp extends AbstractFakeScrollComp{constructor(){super(FakeHScrollComp.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const spacerWidthsListener=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,spacerWidthsListener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,spacerWidthsListener),this.addManagedListener(this.eventService,Events.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",spacerWidthsListener),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new CenterWidthFeature((width=>this.eContainer.style.width=`${width}px`)))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const bottomPinnedHeight=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${bottomPinnedHeight}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const vScrollShowing=this.scrollVisibleService.isVerticalScrollShowing();let rightSpacing=this.columnModel.getDisplayedColumnsRightWidth();const scrollOnRight=!this.enableRtl&&vScrollShowing,scrollbarWidth=this.gridOptionsService.getScrollbarWidth();scrollOnRight&&(rightSpacing+=scrollbarWidth),setFixedWidth(this.eRightSpacer,rightSpacing),this.eRightSpacer.classList.toggle("ag-scroller-corner",rightSpacing<=scrollbarWidth);let leftSpacing=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&vScrollShowing&&(leftSpacing+=scrollbarWidth),setFixedWidth(this.eLeftSpacer,leftSpacing),this.eLeftSpacer.classList.toggle("ag-scroller-corner",leftSpacing<=scrollbarWidth)}setScrollVisible(){const hScrollShowing=this.scrollVisibleService.isHorizontalScrollShowing(),invisibleScrollbar=this.invisibleScrollbar,isSuppressHorizontalScroll=this.gridOptionsService.is("suppressHorizontalScroll"),scrollbarWidth=hScrollShowing&&this.gridOptionsService.getScrollbarWidth()||0,scrollContainerSize=isSuppressHorizontalScroll?0:0===scrollbarWidth&&invisibleScrollbar?16:scrollbarWidth;this.addOrRemoveCssClass("ag-scrollbar-invisible",invisibleScrollbar),setFixedHeight(this.getGui(),scrollContainerSize),setFixedHeight(this.eViewport,scrollContainerSize),setFixedHeight(this.eContainer,scrollContainerSize),this.setDisplayed(hScrollShowing,{skipAriaHidden:!0})}getScrollPosition(){return getScrollLeft(this.getViewport(),this.enableRtl)}setScrollPosition(value){isVisible(this.getViewport())||this.attemptSettingScrollPosition(value),setScrollLeft(this.getViewport(),value,this.enableRtl)}}FakeHScrollComp.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',fakeHScrollComp_decorate([RefSelector("eLeftSpacer")],FakeHScrollComp.prototype,"eLeftSpacer",void 0),fakeHScrollComp_decorate([RefSelector("eRightSpacer")],FakeHScrollComp.prototype,"eRightSpacer",void 0),fakeHScrollComp_decorate([Autowired("columnModel")],FakeHScrollComp.prototype,"columnModel",void 0),fakeHScrollComp_decorate([Autowired("pinnedRowModel")],FakeHScrollComp.prototype,"pinnedRowModel",void 0),fakeHScrollComp_decorate([PostConstruct],FakeHScrollComp.prototype,"postConstruct",null);var pinnedWidthService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let PinnedWidthService=class PinnedWidthService extends BeanStub{postConstruct(){const listener=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.addManagedListener(this.eventService,Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,listener),this.addManagedPropertyListener("domLayout",listener)}checkContainerWidths(){const printLayout=this.gridOptionsService.isDomLayout("print"),newLeftWidth=printLayout?0:this.columnModel.getDisplayedColumnsLeftWidth(),newRightWidth=printLayout?0:this.columnModel.getDisplayedColumnsRightWidth();newLeftWidth!=this.leftWidth&&(this.leftWidth=newLeftWidth,this.eventService.dispatchEvent({type:Events.EVENT_LEFT_PINNED_WIDTH_CHANGED})),newRightWidth!=this.rightWidth&&(this.rightWidth=newRightWidth,this.eventService.dispatchEvent({type:Events.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};pinnedWidthService_decorate([Autowired("columnModel")],PinnedWidthService.prototype,"columnModel",void 0),pinnedWidthService_decorate([PostConstruct],PinnedWidthService.prototype,"postConstruct",null),PinnedWidthService=pinnedWidthService_decorate([Bean("pinnedWidthService")],PinnedWidthService);var rowNodeEventThrottle_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let RowNodeEventThrottle=class RowNodeEventThrottle extends BeanStub{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(event){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(event);this.events.push(event);const func=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(func)),this.dispatchExpandedDebounced()}};rowNodeEventThrottle_decorate([Autowired("animationFrameService")],RowNodeEventThrottle.prototype,"animationFrameService",void 0),rowNodeEventThrottle_decorate([Autowired("rowModel")],RowNodeEventThrottle.prototype,"rowModel",void 0),rowNodeEventThrottle_decorate([PostConstruct],RowNodeEventThrottle.prototype,"postConstruct",null),RowNodeEventThrottle=rowNodeEventThrottle_decorate([Bean("rowNodeEventThrottle")],RowNodeEventThrottle);var GridOptionsService_1,gridOptionsService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},gridOptionsService_param=function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};function isTrue(value){return!0===value||"true"===value}let GridOptionsService=GridOptionsService_1=class GridOptionsService{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new EventService,this.globalEventHandlerFactory=restrictToSyncOnly=>(eventName,event)=>{if(this.destroyed)return;const alwaysSync=GridOptionsService_1.alwaysSyncGlobalEvents.has(eventName);if(alwaysSync&&!restrictToSyncOnly||!alwaysSync&&restrictToSyncOnly)return;const callbackMethodName=ComponentUtil.getCallbackForEvent(eventName);"function"==typeof this.gridOptions[callbackMethodName]&&this.gridOptions[callbackMethodName](event)}}get context(){return this.gridOptions.context}agWire(gridApi,columnApi){this.gridOptions.api=gridApi,this.gridOptions.columnApi=columnApi,this.api=gridApi,this.columnApi=columnApi}init(){this.gridOptionLookup=new Set([...ComponentUtil.ALL_PROPERTIES,...ComponentUtil.EVENT_CALLBACKS]);const async=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),async),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(property){return isTrue(this.gridOptions[property])}get(property){return this.gridOptions[property]}getNum(property){return function toNumber(value){return"number"==typeof value?value:"string"==typeof value?parseInt(value,10):void 0}(this.gridOptions[property])}getCallback(property){return this.mergeGridCommonParams(this.gridOptions[property])}exists(property){return exists(this.gridOptions[property])}mergeGridCommonParams(callback){if(callback){return callbackParams=>{const mergedParams=callbackParams;return mergedParams.api=this.api,mergedParams.columnApi=this.columnApi,mergedParams.context=this.context,callback(mergedParams)}}return callback}__setPropertyOnly(key,newValue){const previousValue=this.gridOptions[key];return this.gridOptionLookup.has(key)&&(this.gridOptions[key]=newValue),previousValue!==newValue}set(key,newValue,force=!1,eventParams={},changeSet=void 0){if(this.gridOptionLookup.has(key)){const previousValue=this.gridOptions[key];if(force||previousValue!==newValue){this.gridOptions[key]=newValue;const event=Object.assign({type:key,currentValue:newValue,previousValue,changeSet},eventParams);this.propertyEventService.dispatchEvent(event)}}}addEventListener(key,listener){this.propertyEventService.addEventListener(key,listener)}removeEventListener(key,listener){this.propertyEventService.removeEventListener(key,listener)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(null==this.scrollbarWidth){const scrollbarWidth="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:getScrollbarWidth();null!=scrollbarWidth&&(this.scrollbarWidth=scrollbarWidth,this.eventService.dispatchEvent({type:Events.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(rowModelType){return this.gridOptions.rowModelType===rowModelType||"clientSide"===rowModelType&&missing(this.gridOptions.rowModelType)}isDomLayout(domLayout){var _a;return(null!==(_a=this.gridOptions.domLayout)&&void 0!==_a?_a:"normal")===domLayout}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(rowNode,allowEstimate=!1,defaultRowHeight){if(null==defaultRowHeight&&(defaultRowHeight=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(allowEstimate)return{height:defaultRowHeight,estimated:!0};const params={node:rowNode,data:rowNode.data},height=this.getCallback("getRowHeight")(params);if(this.isNumeric(height))return 0===height&&function_doOnce((()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")),"invalidRowHeight"),{height:Math.max(1,height),estimated:!1}}if(rowNode.detail&&this.is("masterDetail"))return this.getMasterDetailRowHeight();return{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:defaultRowHeight,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||missing(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const rowHeight=this.environment.refreshRowHeightVariable();return-1!==rowHeight?rowHeight:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(value){return!isNaN(value)&&"number"==typeof value&&isFinite(value)}getDomDataKey(){return this.domDataKey}getDomData(element,key){const domData=element[this.getDomDataKey()];return domData?domData[key]:void 0}setDomData(element,key,value){const domDataKey=this.getDomDataKey();let domData=element[domDataKey];missing(domData)&&(domData={},element[domDataKey]=domData),domData[key]=value}getDocument(){let result=null;return this.gridOptions.getDocument&&exists(this.gridOptions.getDocument)?result=this.gridOptions.getDocument():this.eGridDiv&&(result=this.eGridDiv.ownerDocument),result&&exists(result)?result:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.is("ensureDomOrder")&&this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isColumnsSortingCoupledToGroup(){const autoGroupColumnDef=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(null==autoGroupColumnDef?void 0:autoGroupColumnDef.comparator)&&!this.is("treeData")}getGroupAggFiltering(){const userValue=this.gridOptions.groupAggFiltering;return"function"==typeof userValue?this.getCallback("groupAggFiltering"):isTrue(userValue)?()=>!0:void 0}isGroupIncludeFooterTrueOrCallback(){const userValue=this.gridOptions.groupIncludeFooter;return isTrue(userValue)||"function"==typeof userValue}getGroupIncludeFooter(){const userValue=this.gridOptions.groupIncludeFooter;return"function"==typeof userValue?this.getCallback("groupIncludeFooter"):isTrue(userValue)?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(pivotMode){return!pivotMode&&(!!this.gridOptions.groupDisplayType&&matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType))}};GridOptionsService.alwaysSyncGlobalEvents=new Set([Events.EVENT_GRID_PRE_DESTROYED]),gridOptionsService_decorate([Autowired("gridOptions")],GridOptionsService.prototype,"gridOptions",void 0),gridOptionsService_decorate([Autowired("eventService")],GridOptionsService.prototype,"eventService",void 0),gridOptionsService_decorate([Autowired("environment")],GridOptionsService.prototype,"environment",void 0),gridOptionsService_decorate([Autowired("eGridDiv")],GridOptionsService.prototype,"eGridDiv",void 0),gridOptionsService_decorate([gridOptionsService_param(0,Qualifier("gridApi")),gridOptionsService_param(1,Qualifier("columnApi"))],GridOptionsService.prototype,"agWire",null),gridOptionsService_decorate([PostConstruct],GridOptionsService.prototype,"init",null),gridOptionsService_decorate([PreDestroy],GridOptionsService.prototype,"destroy",null),GridOptionsService=GridOptionsService_1=gridOptionsService_decorate([Bean("gridOptionsService")],GridOptionsService);var localeService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let LocaleService=class LocaleService extends BeanStub{getLocaleTextFunc(){const getLocaleText=this.gridOptionsService.getCallback("getLocaleText");if(getLocaleText)return(key,defaultValue,variableValues)=>getLocaleText({key,defaultValue,variableValues});const localeText=this.gridOptionsService.get("localeText");return(key,defaultValue,variableValues)=>{let localisedText=localeText&&localeText[key];if(localisedText&&variableValues&&variableValues.length){let found=0;for(;!(found>=variableValues.length);){if(-1===localisedText.indexOf("${variable}"))break;localisedText=localisedText.replace("${variable}",variableValues[found++])}}return null!=localisedText?localisedText:defaultValue}}};LocaleService=localeService_decorate([Bean("localeService")],LocaleService);var fakeVScrollComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class FakeVScrollComp extends AbstractFakeScrollComp{constructor(){super(FakeVScrollComp.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new SetHeightFeature(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,Events.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const vScrollShowing=this.scrollVisibleService.isVerticalScrollShowing(),invisibleScrollbar=this.invisibleScrollbar,scrollbarWidth=vScrollShowing&&this.gridOptionsService.getScrollbarWidth()||0,adjustedScrollbarWidth=0===scrollbarWidth&&invisibleScrollbar?16:scrollbarWidth;this.addOrRemoveCssClass("ag-scrollbar-invisible",invisibleScrollbar),setFixedWidth(this.getGui(),adjustedScrollbarWidth),setFixedWidth(this.eViewport,adjustedScrollbarWidth),setFixedWidth(this.eContainer,adjustedScrollbarWidth),this.setDisplayed(vScrollShowing,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const gridBodyViewportEl=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=gridBodyViewportEl.scrollTop&&(this.eViewport.scrollTop=gridBodyViewportEl.scrollTop)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(value){isVisible(this.getViewport())||this.attemptSettingScrollPosition(value),this.getViewport().scrollTop=value}}FakeVScrollComp.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',fakeVScrollComp_decorate([PostConstruct],FakeVScrollComp.prototype,"postConstruct",null);var dataTypeService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const MONTH_LOCALE_TEXT={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},MONTH_KEYS=["january","february","march","april","may","june","july","august","september","october","november","december"];let DataTypeService=class DataTypeService extends BeanStub{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")}))}processDataTypeDefinitions(){var _a;const defaultDataTypes=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(defaultDataTypes).forEach((([cellDataType,dataTypeDefinition])=>{this.dataTypeDefinitions[cellDataType]=Object.assign(Object.assign({},dataTypeDefinition),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(dataTypeDefinition)})}));const dataTypeDefinitions=null!==(_a=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==_a?_a:{};this.dataTypeMatchers={},Object.entries(dataTypeDefinitions).forEach((([cellDataType,dataTypeDefinition])=>{const mergedDataTypeDefinition=this.processDataTypeDefinition(dataTypeDefinition,dataTypeDefinitions,[cellDataType],defaultDataTypes);mergedDataTypeDefinition&&(this.dataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,dataTypeDefinition.dataTypeMatcher&&(this.dataTypeMatchers[cellDataType]=dataTypeDefinition.dataTypeMatcher))})),this.checkObjectValueHandlers(defaultDataTypes),["dateString","text","number","boolean","date"].forEach((cellDataType=>{const overriddenDataTypeMatcher=this.dataTypeMatchers[cellDataType];overriddenDataTypeMatcher&&delete this.dataTypeMatchers[cellDataType],this.dataTypeMatchers[cellDataType]=null!=overriddenDataTypeMatcher?overriddenDataTypeMatcher:defaultDataTypes[cellDataType].dataTypeMatcher}))}mergeDataTypeDefinitions(parentDataTypeDefinition,childDataTypeDefinition){const mergedDataTypeDefinition=Object.assign(Object.assign({},parentDataTypeDefinition),childDataTypeDefinition);return parentDataTypeDefinition.columnTypes&&childDataTypeDefinition.columnTypes&&childDataTypeDefinition.appendColumnTypes&&(mergedDataTypeDefinition.columnTypes=[...this.convertColumnTypes(parentDataTypeDefinition.columnTypes),...this.convertColumnTypes(childDataTypeDefinition.columnTypes)]),mergedDataTypeDefinition}processDataTypeDefinition(dataTypeDefinition,dataTypeDefinitions,alreadyProcessedDataTypes,defaultDataTypes){let mergedDataTypeDefinition;const extendsCellDataType=dataTypeDefinition.extendsDataType;if(dataTypeDefinition.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),dataTypeDefinition.extendsDataType===dataTypeDefinition.baseDataType){const baseDataTypeDefinition=defaultDataTypes[extendsCellDataType];if(!this.validateDataTypeDefinition(dataTypeDefinition,baseDataTypeDefinition,extendsCellDataType))return;mergedDataTypeDefinition=this.mergeDataTypeDefinitions(baseDataTypeDefinition,dataTypeDefinition)}else{if(alreadyProcessedDataTypes.includes(extendsCellDataType))return void function_doOnce((()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')),"dataTypeExtendsCircularRef");const extendedDataTypeDefinition=dataTypeDefinitions[extendsCellDataType];if(!this.validateDataTypeDefinition(dataTypeDefinition,extendedDataTypeDefinition,extendsCellDataType))return;const mergedExtendedDataTypeDefinition=this.processDataTypeDefinition(extendedDataTypeDefinition,dataTypeDefinitions,[...alreadyProcessedDataTypes,extendsCellDataType],defaultDataTypes);if(!mergedExtendedDataTypeDefinition)return;mergedDataTypeDefinition=this.mergeDataTypeDefinitions(mergedExtendedDataTypeDefinition,dataTypeDefinition)}return Object.assign(Object.assign({},mergedDataTypeDefinition),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(mergedDataTypeDefinition)})}validateDataTypeDefinition(dataTypeDefinition,parentDataTypeDefinition,parentCellDataType){return parentDataTypeDefinition?parentDataTypeDefinition.baseDataType===dataTypeDefinition.baseDataType||(function_doOnce((()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')),"dataTypeBaseTypesMatch"),!1):(function_doOnce((()=>console.warn(`AG Grid: The data type definition ${parentCellDataType} does not exist.`)),"dataTypeDefMissing"+parentCellDataType),!1)}createGroupSafeValueFormatter(dataTypeDefinition){if(dataTypeDefinition.valueFormatter)return params=>{var _a,_b;if(!(null===(_a=params.node)||void 0===_a?void 0:_a.group))return this.groupHideOpenParents&&params.column.isRowGroupActive()?"string"!=typeof params.value||(null===(_b=dataTypeDefinition.dataTypeMatcher)||void 0===_b?void 0:_b.call(dataTypeDefinition,params.value))?dataTypeDefinition.valueFormatter(params):void 0:dataTypeDefinition.valueFormatter(params);{const aggFunc=params.column.getAggFunc();if(aggFunc){if("first"===aggFunc||"last"===aggFunc)return dataTypeDefinition.valueFormatter(params);if("number"===dataTypeDefinition.baseDataType&&"count"!==aggFunc){if("number"==typeof params.value)return dataTypeDefinition.valueFormatter(params);if("object"==typeof params.value){if(!params.value)return;if("toNumber"in params.value)return dataTypeDefinition.valueFormatter(Object.assign(Object.assign({},params),{value:params.value.toNumber()}));if("value"in params.value)return dataTypeDefinition.valueFormatter(Object.assign(Object.assign({},params),{value:params.value.value}))}}}}}}updateColDefAndGetDataTypeDefinitionColumnType(colDef,userColDef,colId){let{cellDataType}=userColDef;const{field}=userColDef;if(void 0===cellDataType&&(cellDataType=colDef.cellDataType),null!=cellDataType&&!0!==cellDataType||(cellDataType=!!this.canInferCellDataType(colDef,userColDef)&&this.inferCellDataType(field,colId)),!cellDataType)return void(colDef.cellDataType=!1);const dataTypeDefinition=this.dataTypeDefinitions[cellDataType];if(dataTypeDefinition)return colDef.cellDataType=cellDataType,dataTypeDefinition.groupSafeValueFormatter&&(colDef.valueFormatter=dataTypeDefinition.groupSafeValueFormatter),dataTypeDefinition.valueParser&&(colDef.valueParser=dataTypeDefinition.valueParser),dataTypeDefinition.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(colDef,dataTypeDefinition,colId),dataTypeDefinition.columnTypes;function_doOnce((()=>console.warn(`AG Grid: Missing data type definition - "${cellDataType}"`)),"dataTypeMissing"+cellDataType)}updateColDefAndGetColumnType(colDef,userColDef,colId){var _a,_b;const dataTypeDefinitionColumnType=this.updateColDefAndGetDataTypeDefinitionColumnType(colDef,userColDef,colId),columnTypes=null!==(_b=null!==(_a=userColDef.type)&&void 0!==_a?_a:dataTypeDefinitionColumnType)&&void 0!==_b?_b:colDef.type;return colDef.type=columnTypes,columnTypes?this.convertColumnTypes(columnTypes):void 0}addColumnListeners(column){if(!this.isWaitingForRowData)return;const columnStateUpdates=this.columnStateUpdatesPendingInference[column.getColId()];if(!columnStateUpdates)return;const columnListener=event=>{columnStateUpdates.add(event.key)};column.addEventListener(Column.EVENT_STATE_UPDATED,columnListener),this.columnStateUpdateListenerDestroyFuncs.push((()=>column.removeEventListener(Column.EVENT_STATE_UPDATED,columnListener)))}canInferCellDataType(colDef,userColDef){var _a;if("clientSide"!==this.rowModel.getType())return!1;const propsToCheckForInference={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(userColDef,propsToCheckForInference))return!1;const columnTypes=null===userColDef.type?colDef.type:userColDef.type;if(columnTypes){const columnTypeDefs=null!==(_a=this.gridOptionsService.get("columnTypes"))&&void 0!==_a?_a:{};if(this.convertColumnTypes(columnTypes).some((columnType=>{const columnTypeDef=columnTypeDefs[columnType.trim()];return columnTypeDef&&this.doColDefPropsPreventInference(columnTypeDef,propsToCheckForInference)})))return!1}return!this.doColDefPropsPreventInference(colDef,propsToCheckForInference)}doColDefPropsPreventInference(colDef,propsToCheckForInference){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((([prop,comparisonValue])=>this.doesColDefPropPreventInference(colDef,propsToCheckForInference,prop,comparisonValue)))}doesColDefPropPreventInference(colDef,checkProps,prop,comparisonValue){if(!checkProps[prop])return!1;const value=colDef[prop];return null===value?(checkProps[prop]=!1,!1):void 0===comparisonValue?!!value:value===comparisonValue}inferCellDataType(field,colId){var _a;if(!field)return;let value;const initialData=this.getInitialData();if(initialData){const fieldContainsDots=field.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");value=getValueUsingField(initialData,field,fieldContainsDots)}else this.initWaitForRowData(colId);if(null==value)return;const[cellDataType]=null!==(_a=Object.entries(this.dataTypeMatchers).find((([_cellDataType,dataTypeMatcher])=>dataTypeMatcher(value))))&&void 0!==_a?_a:["object"];return cellDataType}getInitialData(){const rowData=this.gridOptionsService.get("rowData");if(null==rowData?void 0:rowData.length)return rowData[0];if(this.initialData)return this.initialData;{const rowNodes=this.rowModel.getRootNode().allLeafChildren;if(null==rowNodes?void 0:rowNodes.length)return rowNodes[0].data}return null}initWaitForRowData(colId){if(this.columnStateUpdatesPendingInference[colId]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const columnTypeOverridesExist=this.isColumnTypeOverrideInDataTypeDefinitions;columnTypeOverridesExist&&this.columnModel.queueResizeOperations();const destroyFunc=this.addManagedListener(this.eventService,Events.EVENT_ROW_DATA_UPDATE_STARTED,(event=>{const{firstRowData}=event;if(!firstRowData)return;null==destroyFunc||destroyFunc(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(firstRowData,columnTypeOverridesExist),this.columnStateUpdatesPendingInference={},columnTypeOverridesExist&&this.columnModel.processResizeOperations();const dataTypesInferredEvent={type:Events.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(dataTypesInferredEvent)}))}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(firstRowData,columnTypeOverridesExist){this.initialData=firstRowData;const state=[];this.columnStateUpdateListenerDestroyFuncs.forEach((destroyFunc=>destroyFunc())),this.columnStateUpdateListenerDestroyFuncs=[];const newRowGroupColumnStateWithoutIndex={},newPivotColumnStateWithoutIndex={};Object.entries(this.columnStateUpdatesPendingInference).forEach((([colId,columnStateUpdates])=>{const column=this.columnModel.getGridColumn(colId);if(!column)return;const oldColDef=column.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(column))return;const newColDef=column.getColDef();if(columnTypeOverridesExist&&newColDef.type&&newColDef.type!==oldColDef.type){const updatedColumnState=this.getUpdatedColumnState(column,columnStateUpdates);updatedColumnState.rowGroup&&null==updatedColumnState.rowGroupIndex&&(newRowGroupColumnStateWithoutIndex[colId]=updatedColumnState),updatedColumnState.pivot&&null==updatedColumnState.pivotIndex&&(newPivotColumnStateWithoutIndex[colId]=updatedColumnState),state.push(updatedColumnState)}})),columnTypeOverridesExist&&state.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(newRowGroupColumnStateWithoutIndex,newPivotColumnStateWithoutIndex)),state.length&&this.columnModel.applyColumnState({state},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(column,columnStateUpdates){const columnState=this.columnModel.getColumnStateFromColDef(column);return columnStateUpdates.forEach((key=>{delete columnState[key],"rowGroup"===key?delete columnState.rowGroupIndex:"pivot"===key&&delete columnState.pivotIndex})),columnState}checkObjectValueHandlers(defaultDataTypes){const resolvedObjectDataTypeDefinition=this.dataTypeDefinitions.object,defaultObjectDataTypeDefinition=defaultDataTypes.object;this.hasObjectValueParser=resolvedObjectDataTypeDefinition.valueParser!==defaultObjectDataTypeDefinition.valueParser,this.hasObjectValueFormatter=resolvedObjectDataTypeDefinition.valueFormatter!==defaultObjectDataTypeDefinition.valueFormatter}convertColumnTypes(type){let typeKeys=[];if(type instanceof Array){type.some((a=>"string"!=typeof a))?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):typeKeys=type}else"string"==typeof type?typeKeys=type.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return typeKeys}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}getDataTypeDefinition(column){const colDef=column.getColDef();if(colDef.cellDataType)return this.dataTypeDefinitions[colDef.cellDataType]}getBaseDataType(column){var _a;return null===(_a=this.getDataTypeDefinition(column))||void 0===_a?void 0:_a.baseDataType}checkType(column,value){var _a;if(null==value)return!0;const dataTypeMatcher=null===(_a=this.getDataTypeDefinition(column))||void 0===_a?void 0:_a.dataTypeMatcher;return!dataTypeMatcher||dataTypeMatcher(value)}validateColDef(colDef){"object"===colDef.cellDataType&&(colDef.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||function_doOnce((()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')),"dataTypeObjectValueFormatter"),colDef.editable&&colDef.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&function_doOnce((()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(colDef,dataTypeDefinition,colId){const formatValue=(column,node,value)=>{let valueFormatter=column.getColDef().valueFormatter;return valueFormatter===dataTypeDefinition.groupSafeValueFormatter&&(valueFormatter=dataTypeDefinition.valueFormatter),this.valueFormatterService.formatValue(column,node,value,valueFormatter)},usingSetFilter=ModuleRegistry.__isRegistered(ModuleNames.SetFilterModule,this.context.getGridId()),translate=this.localeService.getLocaleTextFunc(),mergeFilterParams=params=>{const{filterParams}=colDef;colDef.filterParams="object"==typeof filterParams?Object.assign(Object.assign({},filterParams),params):params};switch(colDef.useValueFormatterForExport=!0,colDef.useValueParserForImport=!0,dataTypeDefinition.baseDataType){case"number":colDef.cellEditor="agNumberCellEditor",usingSetFilter&&mergeFilterParams({comparator:(a,b)=>{const valA=null==a?0:parseInt(a),valB=null==b?0:parseInt(b);return valA===valB?0:valA>valB?1:-1}});break;case"boolean":colDef.cellEditor="agCheckboxCellEditor",colDef.cellRenderer="agCheckboxCellRenderer",colDef.suppressKeyboardEvent=params=>!!params.colDef.editable&&params.event.key===KeyCode.SPACE,mergeFilterParams(usingSetFilter?{valueFormatter:params=>exists(params.value)?translate(String(params.value),params.value?"True":"False"):translate("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(_filterValues,cellValue)=>cellValue,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(_filterValues,cellValue)=>!1===cellValue,numberOfInputs:0}]});break;case"date":colDef.cellEditor="agDateCellEditor",colDef.keyCreator=params=>formatValue(params.column,params.node,params.value),usingSetFilter&&mergeFilterParams({valueFormatter:params=>{const valueFormatted=formatValue(params.column,params.node,params.value);return exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")},treeList:!0,treeListFormatter:(pathKey,level)=>{if(1===level&&null!=pathKey){const monthKey=MONTH_KEYS[Number(pathKey)-1];return translate(monthKey,MONTH_LOCALE_TEXT[monthKey])}return null!=pathKey?pathKey:translate("blanks","(Blanks)")}});break;case"dateString":{colDef.cellEditor="agDateStringCellEditor",colDef.keyCreator=params=>formatValue(params.column,params.node,params.value);const convertToDate=this.getDateParserFunction();mergeFilterParams(usingSetFilter?{valueFormatter:params=>{const valueFormatted=formatValue(params.column,params.node,params.value);return exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")},treeList:!0,treeListPathGetter:value=>{const date=convertToDate(null!=value?value:void 0);return date?[String(date.getFullYear()),String(date.getMonth()+1),String(date.getDate())]:null},treeListFormatter:(pathKey,level)=>{if(1===level&&null!=pathKey){const monthKey=MONTH_KEYS[Number(pathKey)-1];return translate(monthKey,MONTH_LOCALE_TEXT[monthKey])}return null!=pathKey?pathKey:translate("blanks","(Blanks)")}}:{comparator:(filterDate,cellValue)=>{const cellAsDate=convertToDate(cellValue);return null==cellValue||cellAsDate<filterDate?-1:cellAsDate>filterDate?1:0}});break}case"object":colDef.cellEditorParams={useFormatter:!0},colDef.comparator=(a,b)=>{const column=this.columnModel.getPrimaryColumn(colId),colDef=null==column?void 0:column.getColDef();if(!column||!colDef)return 0;const valA=null==a?"":formatValue(column,null,a),valB=null==b?"":formatValue(column,null,b);return valA===valB?0:valA>valB?1:-1},colDef.keyCreator=params=>formatValue(params.column,params.node,params.value),usingSetFilter?mergeFilterParams({valueFormatter:params=>{const valueFormatted=formatValue(params.column,params.node,params.value);return exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")}}):colDef.filterValueGetter=params=>formatValue(params.column,params.node,this.valueService.getValue(params.column,params.node))}}getDefaultDataTypes(){const defaultDateFormatMatcher=value=>!!value.match("^\\d{4}-\\d{2}-\\d{2}$"),translate=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:params=>""===params.newValue?null:Number(params.newValue),valueFormatter:params=>null==params.value?"":"number"!=typeof params.value||isNaN(params.value)?translate("invalidNumber","Invalid Number"):String(params.value),dataTypeMatcher:value=>"number"==typeof value},text:{baseDataType:"text",valueParser:params=>""===params.newValue?null:toStringOrNull(params.newValue),dataTypeMatcher:value=>"string"==typeof value},boolean:{baseDataType:"boolean",valueParser:params=>""===params.newValue?null:"true"===String(params.newValue).toLowerCase(),valueFormatter:params=>null==params.value?"":String(params.value),dataTypeMatcher:value=>"boolean"==typeof value},date:{baseDataType:"date",valueParser:params=>parseDateTimeFromString(null==params.newValue?null:String(params.newValue)),valueFormatter:params=>{var _a;return null==params.value?"":params.value instanceof Date&&!isNaN(params.value.getTime())?null!==(_a=serialiseDate(params.value,!1))&&void 0!==_a?_a:"":translate("invalidDate","Invalid Date")},dataTypeMatcher:value=>value instanceof Date},dateString:{baseDataType:"dateString",dateParser:value=>{var _a;return null!==(_a=parseDateTimeFromString(value))&&void 0!==_a?_a:void 0},dateFormatter:value=>{var _a;return null!==(_a=serialiseDate(null!=value?value:null,!1))&&void 0!==_a?_a:void 0},valueParser:params=>defaultDateFormatMatcher(String(params.newValue))?params.newValue:null,valueFormatter:params=>defaultDateFormatMatcher(String(params.value))?params.value:"",dataTypeMatcher:value=>"string"==typeof value&&defaultDateFormatMatcher(value)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:params=>{var _a;return null!==(_a=toStringOrNull(params.value))&&void 0!==_a?_a:""}}}}};dataTypeService_decorate([Autowired("rowModel")],DataTypeService.prototype,"rowModel",void 0),dataTypeService_decorate([Autowired("columnModel")],DataTypeService.prototype,"columnModel",void 0),dataTypeService_decorate([Autowired("columnUtils")],DataTypeService.prototype,"columnUtils",void 0),dataTypeService_decorate([Autowired("valueService")],DataTypeService.prototype,"valueService",void 0),dataTypeService_decorate([Autowired("valueFormatterService")],DataTypeService.prototype,"valueFormatterService",void 0),dataTypeService_decorate([PostConstruct],DataTypeService.prototype,"init",null),DataTypeService=dataTypeService_decorate([Bean("dataTypeService")],DataTypeService);var valueParserService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let ValueParserService=class ValueParserService extends BeanStub{parseValue(column,rowNode,newValue,oldValue){const colDef=column.getColDef(),params={node:rowNode,data:null==rowNode?void 0:rowNode.data,oldValue,newValue,colDef,column,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},valueParser=colDef.valueParser;return exists(valueParser)?"function"==typeof valueParser?valueParser(params):this.expressionService.evaluate(valueParser,params):newValue}};valueParserService_decorate([Autowired("expressionService")],ValueParserService.prototype,"expressionService",void 0),ValueParserService=valueParserService_decorate([Bean("valueParserService")],ValueParserService);class Grid{constructor(eGridDiv,gridOptions,params){gridOptions?(this.gridOptions=gridOptions,(new GridCoreCreator).create(eGridDiv,gridOptions,(context=>{const gridComp=new GridComp(eGridDiv);context.createBean(gridComp)}),void 0,params)):console.error("AG Grid: no gridOptions provided to the grid")}destroy(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()}}let nextGridId=1;class GridCoreCreator{create(eGridDiv,gridOptions,createUi,acceptChanges,params){var _a;const debug=!!gridOptions.debug,gridId=null!==(_a=gridOptions.gridId)&&void 0!==_a?_a:String(nextGridId++),registeredModules=this.getRegisteredModules(params,gridId),beanClasses=this.createBeansList(gridOptions.rowModelType,registeredModules,gridId),providedBeanInstances=this.createProvidedBeans(eGridDiv,gridOptions,params);if(!beanClasses)return;const contextParams={providedBeanInstances,beanClasses,debug,gridId},logger=new Logger("AG Grid",(()=>gridOptions.debug)),contextLogger=new Logger("Context",(()=>contextParams.debug)),context=new Context(contextParams,contextLogger),beans=context.getBean("beans");this.registerModuleUserComponents(beans,registeredModules),this.registerStackComponents(beans,registeredModules),this.registerControllers(beans,registeredModules),createUi(context),beans.ctrlsService.whenReady((()=>{this.setColumnsAndData(beans),this.dispatchGridReadyEvent(beans);const isEnterprise=ModuleRegistry.__isRegistered(ModuleNames.EnterpriseCoreModule,gridId);logger.log(`initialised successfully, enterprise = ${isEnterprise}`)})),acceptChanges&&acceptChanges(context)}registerControllers(beans,registeredModules){registeredModules.forEach((module=>{module.controllers&&module.controllers.forEach((meta=>beans.ctrlsFactory.register(meta)))}))}registerStackComponents(beans,registeredModules){const agStackComponents=this.createAgStackComponentsList(registeredModules);beans.agStackComponentsRegistry.setupComponents(agStackComponents)}getRegisteredModules(params,gridId){const passedViaConstructor=params?params.modules:null,registered=ModuleRegistry.__getRegisteredModules(gridId),allModules=[],mapNames={},addModule=(moduleBased,mod,gridId)=>{var currentModule;mapNames[(currentModule=mod).moduleName]||(mapNames[currentModule.moduleName]=!0,allModules.push(currentModule),ModuleRegistry.__register(currentModule,moduleBased,gridId)),mod.dependantModules&&mod.dependantModules.forEach((m=>addModule(moduleBased,m,gridId)))};return passedViaConstructor&&passedViaConstructor.forEach((m=>addModule(!0,m,gridId))),registered&&registered.forEach((m=>addModule(!ModuleRegistry.__isPackageBased(),m,void 0))),allModules}registerModuleUserComponents(beans,registeredModules){this.extractModuleEntity(registeredModules,(module=>module.userComponents?module.userComponents:[])).forEach((compMeta=>{beans.userComponentRegistry.registerDefaultComponent(compMeta.componentName,compMeta.componentClass)}))}createProvidedBeans(eGridDiv,gridOptions,params){let frameworkOverrides=params?params.frameworkOverrides:null;missing(frameworkOverrides)&&(frameworkOverrides=new VanillaFrameworkOverrides);const seed={gridOptions,eGridDiv,globalEventListener:params?params.globalEventListener:null,globalSyncEventListener:params?params.globalSyncEventListener:null,frameworkOverrides};return params&&params.providedBeanInstances&&Object.assign(seed,params.providedBeanInstances),seed}createAgStackComponentsList(registeredModules){let components=[{componentName:"AgCheckbox",componentClass:AgCheckbox},{componentName:"AgRadioButton",componentClass:AgRadioButton},{componentName:"AgToggleButton",componentClass:AgToggleButton},{componentName:"AgInputTextField",componentClass:AgInputTextField},{componentName:"AgInputTextArea",componentClass:AgInputTextArea},{componentName:"AgInputNumberField",componentClass:AgInputNumberField},{componentName:"AgInputDateField",componentClass:AgInputDateField},{componentName:"AgInputRange",componentClass:AgInputRange},{componentName:"AgRichSelect",componentClass:AgRichSelect},{componentName:"AgSelect",componentClass:AgSelect},{componentName:"AgSlider",componentClass:AgSlider},{componentName:"AgGridBody",componentClass:GridBodyComp},{componentName:"AgHeaderRoot",componentClass:GridHeaderComp},{componentName:"AgSortIndicator",componentClass:SortIndicatorComp},{componentName:"AgPagination",componentClass:PaginationComp},{componentName:"AgOverlayWrapper",componentClass:OverlayWrapperComponent},{componentName:"AgGroupComponent",componentClass:AgGroupComponent},{componentName:"AgPanel",componentClass:AgPanel},{componentName:"AgDialog",componentClass:AgDialog},{componentName:"AgRowContainer",componentClass:RowContainerComp},{componentName:"AgFakeHorizontalScroll",componentClass:FakeHScrollComp},{componentName:"AgFakeVerticalScroll",componentClass:FakeVScrollComp},{componentName:"AgAutocomplete",componentClass:AgAutocomplete}];const moduleAgStackComps=this.extractModuleEntity(registeredModules,(module=>module.agStackComponents?module.agStackComponents:[]));return components=components.concat(moduleAgStackComps),components}createBeansList(rowModelType="clientSide",registeredModules,gridId){const rowModelModules=registeredModules.filter((module=>!module.rowModel||module.rowModel===rowModelType)),rowModelModuleNames={clientSide:ModuleNames.ClientSideRowModelModule,infinite:ModuleNames.InfiniteRowModelModule,serverSide:ModuleNames.ServerSideRowModelModule,viewport:ModuleNames.ViewportRowModelModule};if(!rowModelModuleNames[rowModelType])return void console.error("AG Grid: could not find row model for rowModelType = "+rowModelType);if(!ModuleRegistry.__assertRegistered(rowModelModuleNames[rowModelType],`rowModelType = '${rowModelType}'`,gridId))return;const beans=[Beans,RowPositionUtils,CellPositionUtils,HeaderPositionUtils,PaginationAutoPageSizeService,GridApi,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,HorizontalResizeService,LocaleService,GridOptionsValidator,PinnedRowModel,DragService,DisplayedGroupCreator,EventService,GridOptionsService,PopupService,SelectionService,FilterManager,ColumnModel,HeaderNavigationService,PaginationProxy,RowRenderer,ExpressionService,ColumnFactory,TemplateService,AlignedGridsService,NavigationService,ValueCache,ValueService,LoggerFactory,ColumnUtils,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,ColumnApi,FocusService,MouseEventService,Environment,CellNavigationService,ValueFormatterService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,AutoGroupColService,ChangeDetectionService,AnimationFrameService,UndoRedoService,AgStackComponentsRegistry,ColumnDefFactory,RowCssClassCalculator,RowNodeBlockLoader,RowNodeSorter,CtrlsService,PinnedWidthService,RowNodeEventThrottle,CtrlsFactory,DataTypeService,ValueParserService,QuickFilterService],moduleBeans=this.extractModuleEntity(rowModelModules,(module=>module.beans?module.beans:[]));beans.push(...moduleBeans);const beansNoDuplicates=[];return beans.forEach((bean=>{beansNoDuplicates.indexOf(bean)<0&&beansNoDuplicates.push(bean)})),beansNoDuplicates}extractModuleEntity(moduleEntities,extractor){return[].concat(...moduleEntities.map(extractor))}setColumnsAndData(beans){const columnDefs=beans.gridOptionsService.get("columnDefs");beans.columnModel.setColumnDefs(columnDefs||[],"gridInitializing"),beans.rowModel.start()}dispatchGridReadyEvent(beans){const readyEvent={type:Events.EVENT_GRID_READY};beans.eventService.dispatchEvent(readyEvent)}}class BaseComponentWrapper{wrap(OriginalConstructor,mandatoryMethodList,optionalMethodList=[],componentType){const wrapper=this.createWrapper(OriginalConstructor,componentType);return mandatoryMethodList.forEach((methodName=>{this.createMethod(wrapper,methodName,!0)})),optionalMethodList.forEach((methodName=>{this.createMethod(wrapper,methodName,!1)})),wrapper}unwrap(comp){return comp}createMethod(wrapper,methodName,mandatory){wrapper.addMethod(methodName,this.createMethodProxy(wrapper,methodName,mandatory))}createMethodProxy(wrapper,methodName,mandatory){return function(){return wrapper.hasMethod(methodName)?wrapper.callMethod(methodName,arguments):(mandatory&&console.warn("AG Grid: Framework component is missing the method "+methodName+"()"),null)}}}var BarColumnLabelPlacement;!function(BarColumnLabelPlacement){BarColumnLabelPlacement.InsideBase="insideBase",BarColumnLabelPlacement.InsideEnd="insideEnd",BarColumnLabelPlacement.Center="center",BarColumnLabelPlacement.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={}));const globalObj=void 0===__webpack_require__.g?{}:__webpack_require__.g;globalObj.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,globalObj.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,globalObj.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,globalObj.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,globalObj.Node="undefined"==typeof Node?{}:Node,globalObj.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent},"./node_modules/@ag-grid-enterprise/row-grouping/dist/esm/es6/main.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{qZ:()=>RowGroupingModule});var main=__webpack_require__("./node_modules/@ag-grid-community/core/dist/esm/es6/main.mjs");class MD5{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")}md5cycle(x,k){let a=x[0],b=x[1],c=x[2],d=x[3];a=this.ff(a,b,c,d,k[0],7,-680876936),d=this.ff(d,a,b,c,k[1],12,-389564586),c=this.ff(c,d,a,b,k[2],17,606105819),b=this.ff(b,c,d,a,k[3],22,-1044525330),a=this.ff(a,b,c,d,k[4],7,-176418897),d=this.ff(d,a,b,c,k[5],12,1200080426),c=this.ff(c,d,a,b,k[6],17,-1473231341),b=this.ff(b,c,d,a,k[7],22,-45705983),a=this.ff(a,b,c,d,k[8],7,1770035416),d=this.ff(d,a,b,c,k[9],12,-1958414417),c=this.ff(c,d,a,b,k[10],17,-42063),b=this.ff(b,c,d,a,k[11],22,-1990404162),a=this.ff(a,b,c,d,k[12],7,1804603682),d=this.ff(d,a,b,c,k[13],12,-40341101),c=this.ff(c,d,a,b,k[14],17,-1502002290),b=this.ff(b,c,d,a,k[15],22,1236535329),a=this.gg(a,b,c,d,k[1],5,-165796510),d=this.gg(d,a,b,c,k[6],9,-1069501632),c=this.gg(c,d,a,b,k[11],14,643717713),b=this.gg(b,c,d,a,k[0],20,-373897302),a=this.gg(a,b,c,d,k[5],5,-701558691),d=this.gg(d,a,b,c,k[10],9,38016083),c=this.gg(c,d,a,b,k[15],14,-660478335),b=this.gg(b,c,d,a,k[4],20,-405537848),a=this.gg(a,b,c,d,k[9],5,568446438),d=this.gg(d,a,b,c,k[14],9,-1019803690),c=this.gg(c,d,a,b,k[3],14,-187363961),b=this.gg(b,c,d,a,k[8],20,1163531501),a=this.gg(a,b,c,d,k[13],5,-1444681467),d=this.gg(d,a,b,c,k[2],9,-51403784),c=this.gg(c,d,a,b,k[7],14,1735328473),b=this.gg(b,c,d,a,k[12],20,-1926607734),a=this.hh(a,b,c,d,k[5],4,-378558),d=this.hh(d,a,b,c,k[8],11,-2022574463),c=this.hh(c,d,a,b,k[11],16,1839030562),b=this.hh(b,c,d,a,k[14],23,-35309556),a=this.hh(a,b,c,d,k[1],4,-1530992060),d=this.hh(d,a,b,c,k[4],11,1272893353),c=this.hh(c,d,a,b,k[7],16,-155497632),b=this.hh(b,c,d,a,k[10],23,-1094730640),a=this.hh(a,b,c,d,k[13],4,681279174),d=this.hh(d,a,b,c,k[0],11,-358537222),c=this.hh(c,d,a,b,k[3],16,-722521979),b=this.hh(b,c,d,a,k[6],23,76029189),a=this.hh(a,b,c,d,k[9],4,-640364487),d=this.hh(d,a,b,c,k[12],11,-421815835),c=this.hh(c,d,a,b,k[15],16,530742520),b=this.hh(b,c,d,a,k[2],23,-995338651),a=this.ii(a,b,c,d,k[0],6,-198630844),d=this.ii(d,a,b,c,k[7],10,1126891415),c=this.ii(c,d,a,b,k[14],15,-1416354905),b=this.ii(b,c,d,a,k[5],21,-57434055),a=this.ii(a,b,c,d,k[12],6,1700485571),d=this.ii(d,a,b,c,k[3],10,-1894986606),c=this.ii(c,d,a,b,k[10],15,-1051523),b=this.ii(b,c,d,a,k[1],21,-2054922799),a=this.ii(a,b,c,d,k[8],6,1873313359),d=this.ii(d,a,b,c,k[15],10,-30611744),c=this.ii(c,d,a,b,k[6],15,-1560198380),b=this.ii(b,c,d,a,k[13],21,1309151649),a=this.ii(a,b,c,d,k[4],6,-145523070),d=this.ii(d,a,b,c,k[11],10,-1120210379),c=this.ii(c,d,a,b,k[2],15,718787259),b=this.ii(b,c,d,a,k[9],21,-343485551),x[0]=this.add32(a,x[0]),x[1]=this.add32(b,x[1]),x[2]=this.add32(c,x[2]),x[3]=this.add32(d,x[3])}cmn(q,a,b,x,s,t){return a=this.add32(this.add32(a,q),this.add32(x,t)),this.add32(a<<s|a>>>32-s,b)}ff(a,b,c,d,x,s,t){return this.cmn(b&c|~b&d,a,b,x,s,t)}gg(a,b,c,d,x,s,t){return this.cmn(b&d|c&~d,a,b,x,s,t)}hh(a,b,c,d,x,s,t){return this.cmn(b^c^d,a,b,x,s,t)}ii(a,b,c,d,x,s,t){return this.cmn(c^(b|~d),a,b,x,s,t)}md51(s){const n=s.length,state=[1732584193,-271733879,-1732584194,271733878];let i;for(i=64;i<=s.length;i+=64)this.md5cycle(state,this.md5blk(s.substring(i-64,i)));s=s.substring(i-64);const tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(state,tail),i=0;i<16;i++)tail[i]=0;return tail[14]=8*n,this.md5cycle(state,tail),state}md5blk(s){const md5blks=[];for(let i=0;i<64;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks}rhex(n){const hex_chr="0123456789abcdef".split("");let s="",j=0;for(;j<4;j++)s+=hex_chr[n>>8*j+4&15]+hex_chr[n>>8*j&15];return s}hex(x){for(let i=0;i<x.length;i++)x[i]=this.rhex(x[i]);return x.join("")}md5(s){return this.hex(this.md51(s))}add32(a,b){return this.ieCompatibility?this.add32Compat(a,b):this.add32Std(a,b)}add32Std(a,b){return a+b&4294967295}add32Compat(x,y){const lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}}function missingOrEmpty(value){return null==value||0===value.length}class LicenseManager{constructor(document){this.watermarkMessage=void 0,this.document=document,this.md5=new MD5,this.md5.init()}validateLicense(){if(missingOrEmpty(LicenseManager.licenseKey))this.isWebsiteUrl()&&!this.isForceWatermark()||this.outputMissingLicenseKey();else if(LicenseManager.licenseKey.length>32)if(-1!==LicenseManager.licenseKey.indexOf("For_Trialing_ag-Grid_Only"))this.outputInvalidLicenseKey();else{const{md5,license,version,isTrial}=LicenseManager.extractLicenseComponents(LicenseManager.licenseKey);md5===this.md5.md5(license)?function exists(value,allowEmptyString=!1){return null!=value&&(""!==value||allowEmptyString)}(version)&&version?this.validateLicenseKeyForVersion(version,!!isTrial,license):this.validateLegacyKey(license):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()}static extractExpiry(license){const restrictionHashed=license.substring(license.lastIndexOf("_")+1,license.length);return new Date(parseInt(LicenseManager.decode(restrictionHashed),10))}static extractLicenseComponents(licenseKey){let cleanedLicenseKey=licenseKey.replace(/[\u200B-\u200D\uFEFF]/g,"");cleanedLicenseKey=cleanedLicenseKey.replace(/\r?\n|\r/g,"");const hashStart=cleanedLicenseKey.length-32,md5=cleanedLicenseKey.substring(hashStart),license=cleanedLicenseKey.substring(0,hashStart),[version,isTrial]=LicenseManager.extractBracketedInformation(cleanedLicenseKey);return{md5,license,version,isTrial}}getLicenseDetails(licenseKey){const{md5,license,version,isTrial}=LicenseManager.extractLicenseComponents(licenseKey);let valid=md5===this.md5.md5(license)&&-1===licenseKey.indexOf("For_Trialing_ag-Grid_Only"),trialExpired=null,expiry=null;if(valid&&(expiry=LicenseManager.extractExpiry(license),valid=!isNaN(expiry.getTime()),isTrial)){trialExpired=expiry<new Date}return{licenseKey,valid,expiry:valid?LicenseManager.formatDate(expiry):null,version:version||"legacy",isTrial,trialExpired}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const loc=(this.document.defaultView||window).location,{hostname=""}=loc;return hostname}isForceWatermark(){const loc=(this.document.defaultView||window).location,{pathname}=loc;return!!pathname&&-1!==pathname.indexOf("forceWatermark")}isWebsiteUrl(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)}isLocalhost(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)}static formatDate(date){const day=date.getDate(),monthIndex=date.getMonth(),year=date.getFullYear();return day+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][monthIndex]+" "+year}static getGridReleaseDate(){return new Date(parseInt(LicenseManager.decode(LicenseManager.RELEASE_INFORMATION),10))}static decode(input){const keystr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,i,s,o,u,a,t="",f=0;const e=input.replace(/[^A-Za-z0-9+/=]/g,"");for(;f<e.length;)s=keystr.indexOf(e.charAt(f++)),o=keystr.indexOf(e.charAt(f++)),u=keystr.indexOf(e.charAt(f++)),a=keystr.indexOf(e.charAt(f++)),n=s<<2|o>>4,r=(15&o)<<4|u>>2,i=(3&u)<<6|a,t+=String.fromCharCode(n),64!=u&&(t+=String.fromCharCode(r)),64!=a&&(t+=String.fromCharCode(i));return t=LicenseManager.utf8_decode(t),t}static utf8_decode(input){input=input.replace(/rn/g,"n");let t="";for(let n=0;n<input.length;n++){const r=input.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}static setLicenseKey(licenseKey){this.licenseKey=licenseKey}static extractBracketedInformation(licenseKey){const matches=licenseKey.split("[").filter((function(v){return v.indexOf("]")>-1})).map((function(value){return value.split("]")[0]}));if(!matches||0===matches.length)return[null,null];const isTrial=1===matches.filter((match=>"TRIAL"===match)).length;return[matches.filter((match=>0===match.indexOf("v"))).map((match=>match.replace(/^v/,"")))[0],isTrial]}validateLicenseKeyForVersion(version,isTrial,license){"2"===version&&(isTrial?this.validateForTrial(license):this.validateLegacyKey(license))}validateLegacyKey(license){const gridReleaseDate=LicenseManager.getGridReleaseDate(),expiry=LicenseManager.extractExpiry(license);let valid=!1,current=!1;if(isNaN(expiry.getTime())||(valid=!0,current=gridReleaseDate<expiry),valid){if(!current){const formattedExpiryDate=LicenseManager.formatDate(expiry),formattedReleaseDate=LicenseManager.formatDate(gridReleaseDate);this.outputIncompatibleVersion(formattedExpiryDate,formattedReleaseDate)}}else this.outputInvalidLicenseKey()}validateForTrial(license){const expiry=LicenseManager.extractExpiry(license),now=new Date;let valid=!1,current=!1;if(isNaN(expiry.getTime())||(valid=!0,current=expiry>now),valid){if(!current){const formattedExpiryDate=LicenseManager.formatDate(expiry);this.outputExpiredTrialKey(formattedExpiryDate)}}else this.outputInvalidLicenseKey()}outputInvalidLicenseKey(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(formattedExpiryDate){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error(`* Your license for AG Grid Enterprise expired on ${formattedExpiryDate}.                                                *`),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"}outputIncompatibleVersion(formattedExpiryDate,formattedReleaseDate){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error(`* license end date. The license key that you have expires on ${formattedExpiryDate}, however the version of AG Grid you    *`),console.error(`* are trying to use was released on ${formattedReleaseDate}.                                                               *`),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"}}LicenseManager.RELEASE_INFORMATION="MTY5ODkxNzc1MzgxNA==";var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let GridLicenseManager=class GridLicenseManager extends main.AS9{validateLicense(){this.licenseManager=new LicenseManager(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()}static getLicenseDetails(licenseKey){return new LicenseManager(null).getLicenseDetails(licenseKey)}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(licenseKey){LicenseManager.setLicenseKey(licenseKey)}};__decorate([main.$j7],GridLicenseManager.prototype,"validateLicense",null),GridLicenseManager=__decorate([(0,main.Vu6)("licenseManager")],GridLicenseManager);var watermark_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class WatermarkComp extends main.wA2{constructor(){super('<div class="ag-watermark">\n                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n            </div>')}postConstruct(){const show=this.shouldDisplayWatermark();this.setDisplayed(show),show&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((()=>this.addCssClass("ag-opacity-zero")),0),window.setTimeout((()=>this.setDisplayed(!1)),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}}watermark_decorate([(0,main.fsG)("licenseManager")],WatermarkComp.prototype,"licenseManager",void 0),watermark_decorate([(0,main.cqo)("eLicenseTextRef")],WatermarkComp.prototype,"eLicenseTextRef",void 0),watermark_decorate([main.NqP],WatermarkComp.prototype,"postConstruct",null);const EnterpriseCoreModule={version:"30.2.1",moduleName:main.GXE.EnterpriseCoreModule,beans:[GridLicenseManager],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]};var aggregationStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AggregationStage=class AggregationStage extends main.AS9{execute(params){const noValueColumns=main._.missingOrEmpty(this.columnModel.getValueColumns()),noUserAgg=!this.gridOptionsService.getCallback("getGroupRowAgg"),changedPathActive=params.changedPath&&params.changedPath.isActive();if(noValueColumns&&noUserAgg&&changedPathActive)return;const aggDetails=this.createAggDetails(params);this.recursivelyCreateAggData(aggDetails)}createAggDetails(params){const pivotActive=this.columnModel.isPivotActive(),measureColumns=this.columnModel.getValueColumns(),pivotColumns=pivotActive?this.columnModel.getPivotColumns():[];return{alwaysAggregateAtRootLevel:this.gridOptionsService.is("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),changedPath:params.changedPath,valueColumns:measureColumns,pivotColumns,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.is("suppressAggFilteredOnly")}recursivelyCreateAggData(aggDetails){aggDetails.changedPath.forEachChangedNodeDepthFirst((rowNode=>{if(!rowNode.hasChildren())return void(rowNode.aggData&&rowNode.setAggData(null));if(-1===rowNode.level&&!aggDetails.groupIncludeTotalFooter){const notPivoting=!this.columnModel.isPivotMode();if(!aggDetails.alwaysAggregateAtRootLevel&&notPivoting)return}this.aggregateRowNode(rowNode,aggDetails)}),!0)}aggregateRowNode(rowNode,aggDetails){const measureColumnsMissing=0===aggDetails.valueColumns.length,pivotColumnsMissing=0===aggDetails.pivotColumns.length;let aggResult;aggResult=aggDetails.userAggFunc?aggDetails.userAggFunc({nodes:rowNode.childrenAfterFilter}):measureColumnsMissing?null:pivotColumnsMissing?this.aggregateRowNodeUsingValuesOnly(rowNode,aggDetails):this.aggregateRowNodeUsingValuesAndPivot(rowNode),rowNode.setAggData(aggResult),rowNode.sibling&&rowNode.sibling.setAggData(aggResult)}aggregateRowNodeUsingValuesAndPivot(rowNode){var _a;const result={},secondaryColumns=null!==(_a=this.columnModel.getSecondaryColumns())&&void 0!==_a?_a:[];return secondaryColumns.forEach((secondaryCol=>{const{pivotValueColumn,pivotTotalColumnIds,colId,pivotKeys}=secondaryCol.getColDef();if(main._.exists(pivotTotalColumnIds))return;const keys=null!=pivotKeys?pivotKeys:[];let values;values=rowNode.leafGroup?this.getValuesFromMappedSet(rowNode.childrenMapped,keys,pivotValueColumn):this.getValuesPivotNonLeaf(rowNode,colId),result[colId]=this.aggregateValues(values,pivotValueColumn.getAggFunc(),pivotValueColumn,rowNode,secondaryCol)})),secondaryColumns.forEach((secondaryCol=>{const{pivotValueColumn,pivotTotalColumnIds,colId}=secondaryCol.getColDef();if(!main._.exists(pivotTotalColumnIds))return;const aggResults=[];pivotTotalColumnIds&&pivotTotalColumnIds.length&&(pivotTotalColumnIds.forEach((currentColId=>{aggResults.push(result[currentColId])})),result[colId]=this.aggregateValues(aggResults,pivotValueColumn.getAggFunc(),pivotValueColumn,rowNode,secondaryCol))})),result}aggregateRowNodeUsingValuesOnly(rowNode,aggDetails){const result={},changedValueColumns=aggDetails.changedPath.isActive()?aggDetails.changedPath.getValueColumnsForNode(rowNode,aggDetails.valueColumns):aggDetails.valueColumns,notChangedValueColumns=aggDetails.changedPath.isActive()?aggDetails.changedPath.getNotValueColumnsForNode(rowNode,aggDetails.valueColumns):null,values2d=this.getValuesNormal(rowNode,changedValueColumns,aggDetails.filteredOnly),oldValues=rowNode.aggData;return changedValueColumns.forEach(((valueColumn,index)=>{result[valueColumn.getId()]=this.aggregateValues(values2d[index],valueColumn.getAggFunc(),valueColumn,rowNode)})),notChangedValueColumns&&oldValues&&notChangedValueColumns.forEach((valueColumn=>{result[valueColumn.getId()]=oldValues[valueColumn.getId()]})),result}getValuesPivotNonLeaf(rowNode,colId){const values=[];return rowNode.childrenAfterFilter.forEach((node=>{const value=node.aggData[colId];values.push(value)})),values}getValuesFromMappedSet(mappedSet,keys,valueColumn){let mapPointer=mappedSet;if(keys.forEach((key=>mapPointer=mapPointer?mapPointer[key]:null)),!mapPointer)return[];const values=[];return mapPointer.forEach((rowNode=>{const value=this.valueService.getValue(valueColumn,rowNode);values.push(value)})),values}getValuesNormal(rowNode,valueColumns,filteredOnly){const values=[];valueColumns.forEach((()=>values.push([])));const valueColumnCount=valueColumns.length,nodeList=filteredOnly?rowNode.childrenAfterFilter:rowNode.childrenAfterGroup,rowCount=nodeList.length;for(let i=0;i<rowCount;i++){const childNode=nodeList[i];for(let j=0;j<valueColumnCount;j++){const valueColumn=valueColumns[j],value=this.valueService.getValue(valueColumn,childNode);values[j].push(value)}}return values}aggregateValues(values,aggFuncOrString,column,rowNode,pivotResultColumn){const aggFunc="string"==typeof aggFuncOrString?this.aggFuncService.getAggFunc(aggFuncOrString):aggFuncOrString;if("function"!=typeof aggFunc)return console.error(`AG Grid: unrecognised aggregation function ${aggFuncOrString}`),null;return aggFunc({values,column,colDef:column?column.getColDef():void 0,pivotResultColumn,rowNode,data:rowNode?rowNode.data:void 0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})}};aggregationStage_decorate([(0,main.fsG)("columnModel")],AggregationStage.prototype,"columnModel",void 0),aggregationStage_decorate([(0,main.fsG)("valueService")],AggregationStage.prototype,"valueService",void 0),aggregationStage_decorate([(0,main.fsG)("aggFuncService")],AggregationStage.prototype,"aggFuncService",void 0),AggregationStage=aggregationStage_decorate([(0,main.Vu6)("aggregationStage")],AggregationStage);class BatchRemover{constructor(){this.allSets={},this.allParents=[]}removeFromChildrenAfterGroup(parent,child){this.getSet(parent).removeFromChildrenAfterGroup[child.id]=!0}isRemoveFromAllLeafChildren(parent,child){return!!this.getSet(parent).removeFromAllLeafChildren[child.id]}preventRemoveFromAllLeafChildren(parent,child){delete this.getSet(parent).removeFromAllLeafChildren[child.id]}removeFromAllLeafChildren(parent,child){this.getSet(parent).removeFromAllLeafChildren[child.id]=!0}getSet(parent){return this.allSets[parent.id]||(this.allSets[parent.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(parent)),this.allSets[parent.id]}getAllParents(){return this.allParents}flush(){this.allParents.forEach((parent=>{const nodeDetails=this.allSets[parent.id];parent.childrenAfterGroup=parent.childrenAfterGroup.filter((child=>!nodeDetails.removeFromChildrenAfterGroup[child.id])),parent.allLeafChildren=parent.allLeafChildren.filter((child=>!nodeDetails.removeFromAllLeafChildren[child.id])),parent.updateHasChildren(),parent.sibling&&(parent.sibling.childrenAfterGroup=parent.childrenAfterGroup,parent.sibling.allLeafChildren=parent.allLeafChildren)})),this.allSets={},this.allParents.length=0}}var groupStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let GroupStage=class GroupStage extends main.AS9{constructor(){super(...arguments),this.groupIdSequence=new main.at1}execute(params){const details=this.createGroupingDetails(params);if(details.transactions)this.handleTransaction(details);else{const afterColsChanged=!0===params.afterColumnsChanged;this.shotgunResetEverything(details,afterColsChanged)}details.usingTreeData||(this.positionLeafsAndGroups(params.changedPath),this.orderGroups(details)),this.selectableService.updateSelectableAfterGrouping(details.rootNode)}positionLeafsAndGroups(changedPath){changedPath.forEachChangedNodeDepthFirst((group=>{if(group.childrenAfterGroup){const leafNodes=[],groupNodes=[];let unbalancedNode;group.childrenAfterGroup.forEach((row=>{var _a;(null===(_a=row.childrenAfterGroup)||void 0===_a?void 0:_a.length)?""!==row.key||unbalancedNode?groupNodes.push(row):unbalancedNode=row:leafNodes.push(row)})),unbalancedNode&&groupNodes.push(unbalancedNode),group.childrenAfterGroup=[...leafNodes,...groupNodes]}}),!1)}createGroupingDetails(params){const{rowNode,changedPath,rowNodeTransactions,rowNodeOrder}=params,usingTreeData=this.gridOptionsService.is("treeData"),groupedCols=usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols,rootNode:rowNode,pivotMode:this.columnModel.isPivotMode(),groupedColCount:usingTreeData||!groupedCols?0:groupedCols.length,rowNodeOrder,transactions:rowNodeTransactions,changedPath,groupAllowUnbalanced:this.gridOptionsService.is("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),createGroupFooter:this.gridOptionsService.isGroupIncludeFooterTrueOrCallback(),usingTreeData,getDataPath:usingTreeData?this.gridOptionsService.get("getDataPath"):void 0}}handleTransaction(details){details.transactions.forEach((tran=>{const batchRemover=details.usingTreeData?void 0:new BatchRemover;if(main._.existsAndNotEmpty(tran.remove)&&this.removeNodes(tran.remove,details,batchRemover),main._.existsAndNotEmpty(tran.update)&&this.moveNodesInWrongPath(tran.update,details,batchRemover),main._.existsAndNotEmpty(tran.add)&&this.insertNodes(tran.add,details,!1),batchRemover){const parentsWithChildrenRemoved=batchRemover.getAllParents().slice();batchRemover.flush(),this.removeEmptyGroups(parentsWithChildrenRemoved,details)}})),details.rowNodeOrder&&this.sortChildren(details)}sortChildren(details){details.changedPath.forEachChangedNodeDepthFirst((node=>{if(!node.childrenAfterGroup)return;main._.sortRowNodesByOrder(node.childrenAfterGroup,details.rowNodeOrder)&&details.changedPath.addParentNode(node)}),!1,!0)}orderGroups(details){const comparator=details.initialGroupOrderComparator;main._.exists(comparator)&&function recursiveSort(rowNode){main._.exists(rowNode.childrenAfterGroup)&&!rowNode.leafGroup&&(rowNode.childrenAfterGroup.sort(((nodeA,nodeB)=>comparator({nodeA,nodeB}))),rowNode.childrenAfterGroup.forEach((childNode=>recursiveSort(childNode))))}(details.rootNode)}getExistingPathForNode(node,details){const res=[];let pointer=details.usingTreeData?node:node.parent;for(;pointer&&pointer!==details.rootNode;)res.push({key:pointer.key,rowGroupColumn:pointer.rowGroupColumn,field:pointer.field}),pointer=pointer.parent;return res.reverse(),res}moveNodesInWrongPath(childNodes,details,batchRemover){childNodes.forEach((childNode=>{details.changedPath.isActive()&&details.changedPath.addParentNode(childNode.parent);const infoToKeyMapper=item=>item.key,oldPath=this.getExistingPathForNode(childNode,details).map(infoToKeyMapper),newPath=this.getGroupInfo(childNode,details).map(infoToKeyMapper);main._.areEqual(oldPath,newPath)||this.moveNode(childNode,details,batchRemover)}))}moveNode(childNode,details,batchRemover){if(this.removeNodesInStages([childNode],details,batchRemover),this.insertOneNode(childNode,details,!0,batchRemover),childNode.setData(childNode.data),details.changedPath.isActive()){const newParent=childNode.parent;details.changedPath.addParentNode(newParent)}}removeNodes(leafRowNodes,details,batchRemover){this.removeNodesInStages(leafRowNodes,details,batchRemover),details.changedPath.isActive()&&leafRowNodes.forEach((rowNode=>details.changedPath.addParentNode(rowNode.parent)))}removeNodesInStages(leafRowNodes,details,batchRemover){if(this.removeNodesFromParents(leafRowNodes,details,batchRemover),details.usingTreeData){this.postRemoveCreateFillerNodes(leafRowNodes,details);const nodeParents=leafRowNodes.map((n=>n.parent));this.removeEmptyGroups(nodeParents,details)}}forEachParentGroup(details,group,callback){let pointer=group;for(;pointer&&pointer!==details.rootNode;)callback(pointer),pointer=pointer.parent}removeNodesFromParents(nodesToRemove,details,provided){const batchRemoverIsLocal=null==provided,batchRemoverToUse=provided||new BatchRemover;nodesToRemove.forEach((nodeToRemove=>{this.removeFromParent(nodeToRemove,batchRemoverToUse),this.forEachParentGroup(details,nodeToRemove.parent,(parentNode=>{batchRemoverToUse.removeFromAllLeafChildren(parentNode,nodeToRemove)}))})),batchRemoverIsLocal&&batchRemoverToUse.flush()}postRemoveCreateFillerNodes(nodesToRemove,details){nodesToRemove.forEach((nodeToRemove=>{if(nodeToRemove.hasChildren()){const oldPath=this.getExistingPathForNode(nodeToRemove,details),newGroupNode=this.findParentForNode(nodeToRemove,oldPath,details);newGroupNode.expanded=nodeToRemove.expanded,newGroupNode.allLeafChildren=nodeToRemove.allLeafChildren,newGroupNode.childrenAfterGroup=nodeToRemove.childrenAfterGroup,newGroupNode.childrenMapped=nodeToRemove.childrenMapped,newGroupNode.updateHasChildren(),newGroupNode.childrenAfterGroup.forEach((rowNode=>rowNode.parent=newGroupNode))}}))}removeEmptyGroups(possibleEmptyGroups,details){let checkAgain=!0;const groupShouldBeRemoved=rowNode=>{const mapKey=this.getChildrenMappedKey(rowNode.key,rowNode.rowGroupColumn),parentRowNode=rowNode.parent;return!(!parentRowNode||!parentRowNode.childrenMapped||!parentRowNode.childrenMapped[mapKey])&&!!rowNode.isEmptyRowGroupNode()};for(;checkAgain;){checkAgain=!1;const batchRemover=new BatchRemover;possibleEmptyGroups.forEach((possibleEmptyGroup=>{this.forEachParentGroup(details,possibleEmptyGroup,(rowNode=>{groupShouldBeRemoved(rowNode)&&(checkAgain=!0,this.removeFromParent(rowNode,batchRemover),rowNode.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))}))})),batchRemover.flush()}}removeFromParent(child,batchRemover){child.parent&&(batchRemover?batchRemover.removeFromChildrenAfterGroup(child.parent,child):(main._.removeFromArray(child.parent.childrenAfterGroup,child),child.parent.updateHasChildren()));const mapKey=this.getChildrenMappedKey(child.key,child.rowGroupColumn);child.parent&&child.parent.childrenMapped&&(child.parent.childrenMapped[mapKey]=void 0),child.setRowTop(null),child.setRowIndex(null)}addToParent(child,parent){const mapKey=this.getChildrenMappedKey(child.key,child.rowGroupColumn);if(parent){null!=parent.childrenMapped&&(parent.childrenMapped[mapKey]=child),parent.childrenAfterGroup.push(child),parent.updateHasChildren()}}areGroupColsEqual(d1,d2){return null!=d1&&null!=d2&&d1.pivotMode===d2.pivotMode&&main._.areEqual(d1.groupedCols,d2.groupedCols)}checkAllGroupDataAfterColsChanged(details){const recurse=rowNodes=>{rowNodes&&rowNodes.forEach((rowNode=>{if(!details.usingTreeData&&!rowNode.group)return;const groupInfo={field:rowNode.field,key:rowNode.key,rowGroupColumn:rowNode.rowGroupColumn};this.setGroupData(rowNode,groupInfo,details),recurse(rowNode.childrenAfterGroup)}))};recurse(details.rootNode.childrenAfterGroup)}shotgunResetEverything(details,afterColumnsChanged){if(this.noChangeInGroupingColumns(details,afterColumnsChanged))return;this.selectionService.filterFromSelection((node=>node&&!node.group));const{rootNode,groupedCols}=details;rootNode.leafGroup=!details.usingTreeData&&0===groupedCols.length,rootNode.childrenAfterGroup=[],rootNode.childrenMapped={},rootNode.updateHasChildren();const sibling=rootNode.sibling;sibling&&(sibling.childrenAfterGroup=rootNode.childrenAfterGroup,sibling.childrenMapped=rootNode.childrenMapped),this.insertNodes(rootNode.allLeafChildren,details,!1)}noChangeInGroupingColumns(details,afterColumnsChanged){let noFurtherProcessingNeeded=!1;const groupDisplayColumns=this.columnModel.getGroupDisplayColumns(),newGroupDisplayColIds=groupDisplayColumns?groupDisplayColumns.map((c=>c.getId())).join("-"):"";return afterColumnsChanged&&(noFurtherProcessingNeeded=details.usingTreeData||this.areGroupColsEqual(details,this.oldGroupingDetails),this.oldGroupDisplayColIds!==newGroupDisplayColIds&&this.checkAllGroupDataAfterColsChanged(details)),this.oldGroupingDetails=details,this.oldGroupDisplayColIds=newGroupDisplayColIds,noFurtherProcessingNeeded}insertNodes(newRowNodes,details,isMove){newRowNodes.forEach((rowNode=>{this.insertOneNode(rowNode,details,isMove),details.changedPath.isActive()&&details.changedPath.addParentNode(rowNode.parent)}))}insertOneNode(childNode,details,isMove,batchRemover){const path=this.getGroupInfo(childNode,details),parentGroup=this.findParentForNode(childNode,path,details,batchRemover);parentGroup.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[parentGroup.data,childNode.data]),details.usingTreeData?this.swapGroupWithUserNode(parentGroup,childNode,isMove):(childNode.parent=parentGroup,childNode.level=path.length,parentGroup.childrenAfterGroup.push(childNode),parentGroup.updateHasChildren())}findParentForNode(childNode,path,details,batchRemover){let nextNode=details.rootNode;return path.forEach(((groupInfo,level)=>{nextNode=this.getOrCreateNextNode(nextNode,groupInfo,level,details),(null==batchRemover?void 0:batchRemover.isRemoveFromAllLeafChildren(nextNode,childNode))?null==batchRemover||batchRemover.preventRemoveFromAllLeafChildren(nextNode,childNode):nextNode.allLeafChildren.push(childNode)})),nextNode}swapGroupWithUserNode(fillerGroup,userGroup,isMove){userGroup.parent=fillerGroup.parent,userGroup.key=fillerGroup.key,userGroup.field=fillerGroup.field,userGroup.groupData=fillerGroup.groupData,userGroup.level=fillerGroup.level,isMove||(userGroup.expanded=fillerGroup.expanded),userGroup.leafGroup=fillerGroup.leafGroup,userGroup.rowGroupIndex=fillerGroup.rowGroupIndex,userGroup.allLeafChildren=fillerGroup.allLeafChildren,userGroup.childrenAfterGroup=fillerGroup.childrenAfterGroup,userGroup.childrenMapped=fillerGroup.childrenMapped,userGroup.sibling=fillerGroup.sibling,userGroup.updateHasChildren(),this.removeFromParent(fillerGroup),userGroup.childrenAfterGroup.forEach((rowNode=>rowNode.parent=userGroup)),this.addToParent(userGroup,fillerGroup.parent)}getOrCreateNextNode(parentGroup,groupInfo,level,details){const key=this.getChildrenMappedKey(groupInfo.key,groupInfo.rowGroupColumn);let nextNode=parentGroup.childrenMapped?parentGroup.childrenMapped[key]:void 0;return nextNode||(nextNode=this.createGroup(groupInfo,parentGroup,level,details),this.addToParent(nextNode,parentGroup)),nextNode}createGroup(groupInfo,parent,level,details){const groupNode=new main.Fxk(this.beans);return groupNode.group=!0,groupNode.field=groupInfo.field,groupNode.rowGroupColumn=groupInfo.rowGroupColumn,this.setGroupData(groupNode,groupInfo,details),groupNode.id=main.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),groupNode.key=groupInfo.key,groupNode.level=level,groupNode.leafGroup=!details.usingTreeData&&level===details.groupedColCount-1,groupNode.allLeafChildren=[],groupNode.setAllChildrenCount(0),groupNode.rowGroupIndex=details.usingTreeData?null:level,groupNode.childrenAfterGroup=[],groupNode.childrenMapped={},groupNode.updateHasChildren(),groupNode.parent=details.includeParents?parent:null,this.setExpandedInitialValue(details,groupNode),groupNode}setGroupData(groupNode,groupInfo,details){groupNode.groupData={};this.columnModel.getGroupDisplayColumns().forEach((col=>{(details.usingTreeData||!!groupNode.rowGroupColumn&&col.isRowGroupDisplayed(groupNode.rowGroupColumn.getId()))&&(groupNode.groupData[col.getColId()]=groupInfo.key)}))}getChildrenMappedKey(key,rowGroupColumn){return rowGroupColumn?rowGroupColumn.getId()+"-"+key:key}setExpandedInitialValue(details,groupNode){if(details.pivotMode&&groupNode.leafGroup)return void(groupNode.expanded=!1);const userCallback=details.isGroupOpenByDefault;if(userCallback){const params={rowNode:groupNode,field:groupNode.field,key:groupNode.key,level:groupNode.level,rowGroupColumn:groupNode.rowGroupColumn};return void(groupNode.expanded=1==userCallback(params))}const{expandByDefault}=details;-1!==details.expandByDefault?groupNode.expanded=groupNode.level<expandByDefault:groupNode.expanded=!0}getGroupInfo(rowNode,details){return details.usingTreeData?this.getGroupInfoFromCallback(rowNode,details):this.getGroupInfoFromGroupColumns(rowNode,details)}getGroupInfoFromCallback(rowNode,details){const keys=details.getDataPath?details.getDataPath(rowNode.data):null;null!=keys&&0!==keys.length||main._.doOnce((()=>console.warn("AG Grid: getDataPath() should not return an empty path for data",rowNode.data)),"groupStage.getGroupInfoFromCallback");return keys?keys.map((key=>({key,field:null,rowGroupColumn:null}))):[]}getGroupInfoFromGroupColumns(rowNode,details){const res=[];return details.groupedCols.forEach((groupCol=>{let key=this.valueService.getKeyForNode(groupCol,rowNode),keyExists=null!=key&&""!==key;if((details.pivotMode||!details.groupAllowUnbalanced)&&!keyExists&&(key="",keyExists=!0),keyExists){const item={key,field:groupCol.getColDef().field,rowGroupColumn:groupCol};res.push(item)}})),res}};groupStage_decorate([(0,main.fsG)("columnModel")],GroupStage.prototype,"columnModel",void 0),groupStage_decorate([(0,main.fsG)("selectableService")],GroupStage.prototype,"selectableService",void 0),groupStage_decorate([(0,main.fsG)("valueService")],GroupStage.prototype,"valueService",void 0),groupStage_decorate([(0,main.fsG)("beans")],GroupStage.prototype,"beans",void 0),groupStage_decorate([(0,main.fsG)("selectionService")],GroupStage.prototype,"selectionService",void 0),GroupStage=groupStage_decorate([(0,main.Vu6)("groupStage")],GroupStage);var PivotColDefService_1,pivotColDefService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let PivotColDefService=PivotColDefService_1=class PivotColDefService extends main.AS9{init(){const getFieldSeparator=()=>{var _a;return null!==(_a=this.gos.get("serverSidePivotResultFieldSeparator"))&&void 0!==_a?_a:"_"};this.fieldSeparator=getFieldSeparator(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",(()=>{this.fieldSeparator=getFieldSeparator()}));const getPivotDefaultExpanded=()=>{var _a;return null!==(_a=this.gos.getNum("pivotDefaultExpanded"))&&void 0!==_a?_a:0};this.pivotDefaultExpanded=getPivotDefaultExpanded(),this.addManagedPropertyListener("pivotDefaultExpanded",(()=>{this.pivotDefaultExpanded=getPivotDefaultExpanded()}))}createPivotColumnDefs(uniqueValues){const pivotColumnGroupDefs=this.createPivotColumnsFromUniqueValues(uniqueValues);const pivotColumnDefs=function extractColDefs(input,arr=[]){return input.forEach((def=>{void 0!==def.children?extractColDefs(def.children,arr):arr.push(def)})),arr}(pivotColumnGroupDefs);this.addRowGroupTotals(pivotColumnGroupDefs,pivotColumnDefs),this.addExpandablePivotGroups(pivotColumnGroupDefs,pivotColumnDefs),this.addPivotTotalsToGroups(pivotColumnGroupDefs,pivotColumnDefs);return{pivotColumnGroupDefs,pivotColumnDefs:pivotColumnDefs.map((colDef=>main._.cloneObject(colDef)))}}createPivotColumnsFromUniqueValues(uniqueValues){const pivotColumns=this.columnModel.getPivotColumns(),maxDepth=pivotColumns.length;return this.recursivelyBuildGroup(0,uniqueValues,[],maxDepth,pivotColumns)}recursivelyBuildGroup(index,uniqueValue,pivotKeys,maxDepth,primaryPivotColumns){const measureColumns=this.columnModel.getValueColumns();if(index>=maxDepth)return this.buildMeasureCols(pivotKeys);const primaryPivotColumnDefs=primaryPivotColumns[index].getColDef(),comparator=this.headerNameComparator.bind(this,primaryPivotColumnDefs.pivotComparator);if(1===measureColumns.length&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&index===maxDepth-1){const leafCols=[];return main._.iterateObject(uniqueValue,(key=>{const newPivotKeys=[...pivotKeys,key],colDef=this.createColDef(measureColumns[0],key,newPivotKeys);colDef.columnGroupShow="open",leafCols.push(colDef)})),leafCols.sort(comparator),leafCols}const groups=[];return main._.iterateObject(uniqueValue,((key,value)=>{const openByDefault=-1===this.pivotDefaultExpanded||index<this.pivotDefaultExpanded,newPivotKeys=[...pivotKeys,key];groups.push({children:this.recursivelyBuildGroup(index+1,value,newPivotKeys,maxDepth,primaryPivotColumns),headerName:key,pivotKeys:newPivotKeys,columnGroupShow:"open",openByDefault,groupId:this.generateColumnGroupId(newPivotKeys)})})),groups.sort(comparator),groups}buildMeasureCols(pivotKeys){const measureColumns=this.columnModel.getValueColumns();return 0===measureColumns.length?[this.createColDef(null,"-",pivotKeys)]:measureColumns.map((measureCol=>{const columnName=this.columnModel.getDisplayNameForColumn(measureCol,"header");return Object.assign(Object.assign({},this.createColDef(measureCol,columnName,pivotKeys)),{columnGroupShow:"open"})}))}addExpandablePivotGroups(pivotColumnGroupDefs,pivotColumnDefs){if(this.gridOptionsService.is("suppressExpandablePivotGroups")||this.gridOptionsService.get("pivotColumnGroupTotals"))return;const recursivelyAddSubTotals=(groupDef,currentPivotColumnDefs,acc)=>{const group=groupDef;if(group.children){const childAcc=new Map;group.children.forEach((grp=>{recursivelyAddSubTotals(grp,currentPivotColumnDefs,childAcc)}));const firstGroup=!group.children.some((child=>child.children));this.columnModel.getValueColumns().forEach((valueColumn=>{const columnName=this.columnModel.getDisplayNameForColumn(valueColumn,"header"),totalColDef=this.createColDef(valueColumn,columnName,groupDef.pivotKeys);if(totalColDef.pivotTotalColumnIds=childAcc.get(valueColumn.getColId()),totalColDef.columnGroupShow="closed",totalColDef.aggFunc=valueColumn.getAggFunc(),!firstGroup){groupDef.children.push(totalColDef),currentPivotColumnDefs.push(totalColDef)}})),this.merge(acc,childAcc)}else{const def=groupDef;if(!def.pivotValueColumn)return;const pivotValueColId=def.pivotValueColumn.getColId(),arr=acc.has(pivotValueColId)?acc.get(pivotValueColId):[];arr.push(def.colId),acc.set(pivotValueColId,arr)}};pivotColumnGroupDefs.forEach((groupDef=>{recursivelyAddSubTotals(groupDef,pivotColumnDefs,new Map)}))}addPivotTotalsToGroups(pivotColumnGroupDefs,pivotColumnDefs){if(!this.gridOptionsService.get("pivotColumnGroupTotals"))return;const insertAfter="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),valueCols=this.columnModel.getValueColumns(),aggFuncs=valueCols.map((valueCol=>valueCol.getAggFunc()));if(!aggFuncs||aggFuncs.length<1||!this.sameAggFuncs(aggFuncs))return;const valueColumn=valueCols[0];pivotColumnGroupDefs.forEach((groupDef=>{this.recursivelyAddPivotTotal(groupDef,pivotColumnDefs,valueColumn,insertAfter)}))}recursivelyAddPivotTotal(groupDef,pivotColumnDefs,valueColumn,insertAfter){const group=groupDef;if(!group.children){const def=groupDef;return def.colId?[def.colId]:null}let colIds=[];if(group.children.forEach((grp=>{const childColIds=this.recursivelyAddPivotTotal(grp,pivotColumnDefs,valueColumn,insertAfter);childColIds&&(colIds=colIds.concat(childColIds))})),group.children.length>1){const headerName=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),totalColDef=this.createColDef(valueColumn,headerName,groupDef.pivotKeys,!0);totalColDef.pivotTotalColumnIds=colIds,totalColDef.aggFunc=valueColumn.getAggFunc();const children=groupDef.children;insertAfter?children.push(totalColDef):children.unshift(totalColDef),pivotColumnDefs.push(totalColDef)}return colIds}addRowGroupTotals(pivotColumnGroupDefs,pivotColumnDefs){if(!this.gridOptionsService.get("pivotRowTotals"))return;const insertAfter="after"===this.gridOptionsService.get("pivotRowTotals"),valueColumns=this.columnModel.getValueColumns(),valueCols=insertAfter?valueColumns.slice():valueColumns.slice().reverse();for(let i=0;i<valueCols.length;i++){const valueCol=valueCols[i];let colIds=[];pivotColumnGroupDefs.forEach((groupDef=>{colIds=colIds.concat(this.extractColIdsForValueColumn(groupDef,valueCol))}));const withGroup=valueCols.length>1||!this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");this.createRowGroupTotal(pivotColumnGroupDefs,pivotColumnDefs,valueCol,colIds,insertAfter,withGroup)}}extractColIdsForValueColumn(groupDef,valueColumn){const group=groupDef;if(!group.children){const colDef=group;return colDef.pivotValueColumn===valueColumn&&colDef.colId?[colDef.colId]:[]}let colIds=[];return group.children.forEach((grp=>{this.extractColIdsForValueColumn(grp,valueColumn);const childColIds=this.extractColIdsForValueColumn(grp,valueColumn);colIds=colIds.concat(childColIds)})),colIds}createRowGroupTotal(parentChildren,pivotColumnDefs,valueColumn,colIds,insertAfter,addGroup){let colDef;if(0===this.columnModel.getValueColumns().length)colDef=this.createColDef(null,"-",[]);else{const columnName=this.columnModel.getDisplayNameForColumn(valueColumn,"header");colDef=this.createColDef(valueColumn,columnName,[]),colDef.pivotTotalColumnIds=colIds}colDef.colId=PivotColDefService_1.PIVOT_ROW_TOTAL_PREFIX+colDef.colId,pivotColumnDefs.push(colDef);const valueGroup=addGroup?{children:[colDef],pivotKeys:[],groupId:`${PivotColDefService_1.PIVOT_ROW_TOTAL_PREFIX}_pivotGroup_${valueColumn.getColId()}`}:colDef;insertAfter?parentChildren.push(valueGroup):parentChildren.unshift(valueGroup)}createColDef(valueColumn,headerName,pivotKeys,totalColumn=!1){const colDef={};if(valueColumn){const colDefToCopy=valueColumn.getColDef();Object.assign(colDef,colDefToCopy),colDef.hide=!1}return colDef.headerName=headerName,colDef.colId=this.generateColumnId(pivotKeys||[],valueColumn&&!totalColumn?valueColumn.getColId():""),colDef.field=colDef.colId,colDef.valueGetter=params=>{var _a;return null===(_a=params.data)||void 0===_a?void 0:_a[params.colDef.field]},colDef.pivotKeys=pivotKeys,colDef.pivotValueColumn=valueColumn,!0===colDef.filter&&(colDef.filter="agNumberColumnFilter"),colDef}sameAggFuncs(aggFuncs){if(1==aggFuncs.length)return!0;for(let i=1;i<aggFuncs.length;i++)if(aggFuncs[i]!==aggFuncs[0])return!1;return!0}headerNameComparator(userComparator,a,b){return userComparator?userComparator(a.headerName,b.headerName):a.headerName&&!b.headerName?1:!a.headerName&&b.headerName?-1:a.headerName&&b.headerName?a.headerName<b.headerName?-1:a.headerName>b.headerName?1:0:0}merge(m1,m2){m2.forEach(((value,key,map)=>{const updatedList=[...m1.has(key)?m1.get(key):[],...value];m1.set(key,updatedList)}))}generateColumnGroupId(pivotKeys){return`pivotGroup_${this.columnModel.getPivotColumns().map((col=>col.getColId())).join("-")}_${pivotKeys.join("-")}`}generateColumnId(pivotKeys,measureColumnId){return`pivot_${this.columnModel.getPivotColumns().map((col=>col.getColId())).join("-")}_${pivotKeys.join("-")}_${measureColumnId}`}createColDefsFromFields(fields){const uniqueValues={};for(let i=0;i<fields.length;i++){const parts=fields[i].split(this.fieldSeparator);let level=uniqueValues;for(let p=0;p<parts.length;p++){const part=parts[p];null==level[part]&&(level[part]={}),level=level[part]}}const uniqueValuesToGroups=(id,key,uniqueValues,depth)=>{var _a;const children=[];for(let key in uniqueValues){const item=uniqueValues[key],child=uniqueValuesToGroups(`${id}${this.fieldSeparator}${key}`,key,item,depth+1);children.push(child)}if(0===children.length){const col={colId:id,headerName:key,valueGetter:params=>{var _a;return null===(_a=params.data)||void 0===_a?void 0:_a[id]}},potentialAggCol=this.columnModel.getPrimaryColumn(key);return potentialAggCol&&(col.headerName=null!==(_a=this.columnModel.getDisplayNameForColumn(potentialAggCol,"header"))&&void 0!==_a?_a:key,col.aggFunc=potentialAggCol.getAggFunc(),col.pivotValueColumn=potentialAggCol),col}if(this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===children.length&&"colId"in children[0])return children[0].headerName=key,children[0];return{openByDefault:-1===this.pivotDefaultExpanded||depth<this.pivotDefaultExpanded,groupId:id,headerName:key,children}},res=[];for(let key in uniqueValues){const col=uniqueValuesToGroups(key,key,uniqueValues[key],0);res.push(col)}return res}};PivotColDefService.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",pivotColDefService_decorate([(0,main.fsG)("columnModel")],PivotColDefService.prototype,"columnModel",void 0),pivotColDefService_decorate([(0,main.fsG)("gridOptionsService")],PivotColDefService.prototype,"gos",void 0),pivotColDefService_decorate([main.NqP],PivotColDefService.prototype,"init",null),PivotColDefService=PivotColDefService_1=pivotColDefService_decorate([(0,main.Vu6)("pivotColDefService")],PivotColDefService);var pivotStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let PivotStage=class PivotStage extends main.AS9{constructor(){super(...arguments),this.uniqueValues={}}execute(params){const changedPath=params.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(changedPath):this.executePivotOff(changedPath)}executePivotOff(changedPath){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),changedPath&&changedPath.setInactive())}executePivotOn(changedPath){const uniqueValues=this.bucketUpRowNodes(changedPath),uniqueValuesChanged=this.setUniqueValues(uniqueValues),aggregationColumns=this.columnModel.getValueColumns(),aggregationColumnsHash=aggregationColumns.map((column=>`${column.getId()}-${column.getColDef().headerName}`)).join("#"),aggregationFuncsHash=aggregationColumns.map((column=>column.getAggFunc().toString())).join("#"),aggregationColumnsChanged=this.aggregationColumnsHashLastTime!==aggregationColumnsHash,aggregationFuncsChanged=this.aggregationFuncsHashLastTime!==aggregationFuncsHash;this.aggregationColumnsHashLastTime=aggregationColumnsHash,this.aggregationFuncsHashLastTime=aggregationFuncsHash;const groupColumnsHash=this.columnModel.getRowGroupColumns().map((column=>column.getId())).join("#"),groupColumnsChanged=groupColumnsHash!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=groupColumnsHash,uniqueValuesChanged||aggregationColumnsChanged||groupColumnsChanged||aggregationFuncsChanged){const{pivotColumnGroupDefs,pivotColumnDefs}=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues);this.pivotColumnDefs=pivotColumnDefs,this.columnModel.setSecondaryColumns(pivotColumnGroupDefs,"rowModelUpdated"),changedPath&&changedPath.setInactive()}}setUniqueValues(newValues){return!!(JSON.stringify(newValues)!==JSON.stringify(this.uniqueValues))&&(this.uniqueValues=newValues,!0)}bucketUpRowNodes(changedPath){const uniqueValues={};changedPath.forEachChangedNodeDepthFirst((node=>{node.leafGroup&&(node.childrenMapped=null)}));const recursivelyBucketFilteredChildren=node=>{var _a;node.leafGroup?this.bucketRowNode(node,uniqueValues):null===(_a=node.childrenAfterFilter)||void 0===_a||_a.forEach(recursivelyBucketFilteredChildren)};return changedPath.executeFromRootNode(recursivelyBucketFilteredChildren),uniqueValues}bucketRowNode(rowNode,uniqueValues){const pivotColumns=this.columnModel.getPivotColumns();0===pivotColumns.length?rowNode.childrenMapped=null:rowNode.childrenMapped=this.bucketChildren(rowNode.childrenAfterFilter,pivotColumns,0,uniqueValues),rowNode.sibling&&(rowNode.sibling.childrenMapped=rowNode.childrenMapped)}bucketChildren(children,pivotColumns,pivotIndex,uniqueValues){const mappedChildren={},pivotColumn=pivotColumns[pivotIndex];if(children.forEach((child=>{let key=this.valueService.getKeyForNode(pivotColumn,child);main._.missing(key)&&(key=""),uniqueValues[key]||(uniqueValues[key]={}),mappedChildren[key]||(mappedChildren[key]=[]),mappedChildren[key].push(child)})),pivotIndex===pivotColumns.length-1)return mappedChildren;{const result={};return main._.iterateObject(mappedChildren,((key,value)=>{result[key]=this.bucketChildren(value,pivotColumns,pivotIndex+1,uniqueValues[key])})),result}}getPivotColumnDefs(){return this.pivotColumnDefs}};pivotStage_decorate([(0,main.fsG)("valueService")],PivotStage.prototype,"valueService",void 0),pivotStage_decorate([(0,main.fsG)("columnModel")],PivotStage.prototype,"columnModel",void 0),pivotStage_decorate([(0,main.fsG)("pivotColDefService")],PivotStage.prototype,"pivotColDefService",void 0),PivotStage=pivotStage_decorate([(0,main.Vu6)("pivotStage")],PivotStage);var AggFuncService_1,aggFuncService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};const AGBigInt="undefined"==typeof BigInt?null:BigInt;let AggFuncService=AggFuncService_1=class AggFuncService extends main.AS9{constructor(){super(...arguments),this.aggFuncsMap={},this.initialised=!1}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))}initialiseWithDefaultAggregations(){this.aggFuncsMap[AggFuncService_1.AGG_SUM]=aggSum,this.aggFuncsMap[AggFuncService_1.AGG_FIRST]=aggFirst,this.aggFuncsMap[AggFuncService_1.AGG_LAST]=aggLast,this.aggFuncsMap[AggFuncService_1.AGG_MIN]=aggMin,this.aggFuncsMap[AggFuncService_1.AGG_MAX]=aggMax,this.aggFuncsMap[AggFuncService_1.AGG_COUNT]=aggCount,this.aggFuncsMap[AggFuncService_1.AGG_AVG]=aggAvg,this.initialised=!0}isAggFuncPossible(column,func){const allKeys=this.getFuncNames(column),allowed=main._.includes(allKeys,func),funcExists=main._.exists(this.aggFuncsMap[func]);return allowed&&funcExists}getDefaultAggFunc(column){const defaultAgg=column.getColDef().defaultAggFunc;if(main._.exists(defaultAgg)&&this.isAggFuncPossible(column,defaultAgg))return defaultAgg;if(this.isAggFuncPossible(column,AggFuncService_1.AGG_SUM))return AggFuncService_1.AGG_SUM;const allKeys=this.getFuncNames(column);return main._.existsAndNotEmpty(allKeys)?allKeys[0]:null}addAggFuncs(aggFuncs){main._.iterateObject(aggFuncs,this.addAggFunc.bind(this))}addAggFunc(key,aggFunc){this.init(),this.aggFuncsMap[key]=aggFunc}getAggFunc(name){return this.init(),this.aggFuncsMap[name]}getFuncNames(column){const userAllowedFuncs=column.getColDef().allowedAggFuncs;return null==userAllowedFuncs?Object.keys(this.aggFuncsMap).sort():userAllowedFuncs}clear(){this.aggFuncsMap={}}};function aggSum(params){const{values}=params;let result=null;for(let i=0;i<values.length;i++){const value=values[i];"number"==typeof value?null===result?result=value:result+=AGBigInt?"number"==typeof result?value:AGBigInt(value):value:"bigint"==typeof value&&(result=null===result?value:("bigint"==typeof result?result:AGBigInt(result))+value)}return result}function aggFirst(params){return params.values.length>0?params.values[0]:null}function aggLast(params){return params.values.length>0?main._.last(params.values):null}function aggMin(params){const{values}=params;let result=null;for(let i=0;i<values.length;i++){const value=values[i];"number"!=typeof value&&"bigint"!=typeof value||!(null===result||result>value)||(result=value)}return result}function aggMax(params){const{values}=params;let result=null;for(let i=0;i<values.length;i++){const value=values[i];"number"!=typeof value&&"bigint"!=typeof value||!(null===result||result<value)||(result=value)}return result}function aggCount(params){var _a,_b;const{values}=params;let result=0;for(let i=0;i<values.length;i++){const value=values[i];result+=null!=value&&"number"==typeof value.value?value.value:1}const existingAggData=null===(_b=null===(_a=params.rowNode)||void 0===_a?void 0:_a.aggData)||void 0===_b?void 0:_b[params.column.getColId()];return existingAggData&&existingAggData.value===result?existingAggData:{value:result,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function aggAvg(params){var _a,_b,_c;const{values}=params;let sum=0,count=0;for(let i=0;i<values.length;i++){const currentValue=values[i];let valueToAdd=null;"number"==typeof currentValue||"bigint"==typeof currentValue?(valueToAdd=currentValue,count++):null==currentValue||"number"!=typeof currentValue.value&&"bigint"!=typeof currentValue.value||"number"!=typeof currentValue.count||(valueToAdd=AGBigInt?currentValue.value*("number"==typeof currentValue.value?currentValue.count:AGBigInt(currentValue.count)):currentValue.value*currentValue.count,count+=currentValue.count),"number"==typeof valueToAdd?sum+=AGBigInt?"number"==typeof sum?valueToAdd:AGBigInt(valueToAdd):valueToAdd:"bigint"==typeof valueToAdd&&(sum=("bigint"==typeof sum?sum:AGBigInt(sum))+valueToAdd)}let value=null;count>0&&(value=AGBigInt?sum/("number"==typeof sum?count:AGBigInt(count)):sum/count);const existingAggData=null===(_b=null===(_a=params.rowNode)||void 0===_a?void 0:_a.aggData)||void 0===_b?void 0:_b[null===(_c=params.column)||void 0===_c?void 0:_c.getColId()];return existingAggData&&existingAggData.count===count&&existingAggData.value===value?existingAggData:{count,value,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}AggFuncService.AGG_SUM="sum",AggFuncService.AGG_FIRST="first",AggFuncService.AGG_LAST="last",AggFuncService.AGG_MIN="min",AggFuncService.AGG_MAX="max",AggFuncService.AGG_COUNT="count",AggFuncService.AGG_AVG="avg",aggFuncService_decorate([main.NqP],AggFuncService.prototype,"init",null),AggFuncService=AggFuncService_1=aggFuncService_decorate([(0,main.Vu6)("aggFuncService")],AggFuncService);var dropZoneColumnComp_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class DropZoneColumnComp extends main.wA2{constructor(column,dragSourceDropTarget,ghost,dropZonePurpose,horizontal){super(),this.column=column,this.dragSourceDropTarget=dragSourceDropTarget,this.ghost=ghost,this.dropZonePurpose=dropZonePurpose,this.horizontal=horizontal,this.popupShowing=!1}init(){this.setTemplate(DropZoneColumnComp.TEMPLATE);const eGui=this.getGui(),isFunctionsReadOnly=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(eGui),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(main._.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(main._.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||isFunctionsReadOnly||this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,main.sgG.EVENT_SORT_CHANGED,(()=>{this.setupAria()})),this.setupTooltip(),this.activateTabIndex()}setupAria(){const translate=this.localeService.getLocaleTextFunc(),{name,aggFuncName}=this.getColumnAndAggFuncName(),aggSeparator=translate("ariaDropZoneColumnComponentAggFuncSeparator"," of "),sortDirection={asc:translate("ariaDropZoneColumnComponentSortAscending","ascending"),desc:translate("ariaDropZoneColumnComponentSortDescending","descending")},columnSort=this.column.getSort(),isSortSuppressed=this.gridOptionsService.is("rowGroupPanelSuppressSort"),ariaInstructions=[[aggFuncName&&`${aggFuncName}${aggSeparator}`,name,this.isGroupingZone()&&!isSortSuppressed&&columnSort&&`, ${sortDirection[columnSort]}`].filter((part=>!!part)).join("")],isFunctionsReadOnly=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!isFunctionsReadOnly){const aggregationMenuAria=translate("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");ariaInstructions.push(aggregationMenuAria)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!isSortSuppressed){const sortProgressAria=translate("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");ariaInstructions.push(sortProgressAria)}const deleteAria=translate("ariaDropZoneColumnComponentDescription","Press DELETE to remove");ariaInstructions.push(deleteAria),main._.setAriaLabel(this.getGui(),ariaInstructions.join(". "))}setupTooltip(){const refresh=()=>{const newTooltipText=this.column.getColDef().headerTooltip;this.setTooltip(newTooltipText)};refresh(),this.addManagedListener(this.eventService,main.zW2.EVENT_NEW_COLUMNS_LOADED,refresh)}setupSort(){const canSort=this.column.getColDef().sortable,isGroupingZone=this.isGroupingZone();if(canSort&&isGroupingZone&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const performSort=event=>{event.preventDefault();const multiSort="ctrl"===this.gridOptionsService.get("multiSortKey")?event.ctrlKey||event.metaKey:event.shiftKey;this.sortController.progressSort(this.column,multiSort,"uiColumnSorted")};this.addGuiEventListener("click",performSort),this.addGuiEventListener("keydown",(e=>{e.key===main.VDZ.ENTER&&this.isGroupingZone()&&performSort(e)}))}}addDragSource(){const dragSource={type:main.rvo.ToolPanel,eElement:this.eDragHandle,getDefaultIconName:()=>main.jUB.ICON_HIDE,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(dragSource,!0),this.addDestroyFunc((()=>this.dragAndDropService.removeDragSource(dragSource)))}createDragItem(){const visibleState={};return visibleState[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState}}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}setupRemove(){main._.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));const agEvent={type:DropZoneColumnComp.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",(e=>{const isEnter=e.key===main.VDZ.ENTER;e.key===main.VDZ.DELETE&&(e.preventDefault(),this.dispatchEvent(agEvent)),isEnter&&this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())})),this.addManagedListener(this.eButton,"click",(mouseEvent=>{this.dispatchEvent(agEvent),mouseEvent.stopPropagation()}));const touchListener=new main.rwP(this.eButton);this.addManagedListener(touchListener,main.rwP.EVENT_TAP,(()=>{this.dispatchEvent(agEvent)})),this.addDestroyFunc(touchListener.destroy.bind(touchListener))}getColumnAndAggFuncName(){const name=this.displayName;let aggFuncName="";if(this.isAggregationZone()){const aggFunc=this.column.getAggFunc(),aggFuncString="string"==typeof aggFunc?aggFunc:"agg";aggFuncName=this.localeService.getLocaleTextFunc()(aggFuncString,aggFuncString)}return{name,aggFuncName}}setTextValue(){const{name,aggFuncName}=this.getColumnAndAggFuncName(),displayValue=this.isAggregationZone()?`${aggFuncName}(${name})`:name,displayValueSanitised=main._.escapeString(displayValue);this.eText.innerHTML=displayValueSanitised}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const virtualList=new main.CPJ({cssIdentifier:"select-agg-func"}),rows=this.aggFuncService.getFuncNames(this.column),eGui=this.getGui(),virtualListGui=virtualList.getGui();virtualList.setModel({getRow:function(index){return rows[index]},getRowCount:function(){return rows.length}}),this.getContext().createBean(virtualList);const ePopup=main._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');ePopup.style.top="0px",ePopup.style.left="0px",ePopup.appendChild(virtualListGui),ePopup.style.width=`${eGui.clientWidth}px`;const focusoutListener=this.addManagedListener(ePopup,"focusout",(e=>{!ePopup.contains(e.relatedTarget)&&addPopupRes&&addPopupRes.hideFunc()})),translate=this.localeService.getLocaleTextFunc(),addPopupRes=this.popupService.addPopup({modal:!0,eChild:ePopup,closeOnEsc:!0,closedCallback:callbackEvent=>{this.destroyBean(virtualList),this.popupShowing=!1,"Escape"===(null==callbackEvent?void 0:callbackEvent.key)&&eGui.focus(),focusoutListener&&focusoutListener()},ariaLabel:translate("ariaLabelAggregationFunction","Aggregation Function")});addPopupRes&&virtualList.setComponentCreator(this.createAggSelect.bind(this,addPopupRes.hideFunc)),virtualList.addGuiEventListener("keydown",(e=>{if(e.key===main.VDZ.ENTER||e.key===main.VDZ.SPACE){const row=virtualList.getLastFocusedRow();if(null==row)return;const comp=virtualList.getComponentAt(row);comp&&comp.selectItem()}})),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:eGui,ePopup,keepWithinBounds:!0,column:this.column,position:"under"}),virtualList.refresh();let rowToFocus=rows.findIndex((r=>r===this.column.getAggFunc()));-1===rowToFocus&&(rowToFocus=0),virtualList.focusRow(rowToFocus)}createAggSelect(hidePopup,value){const localeTextFunc=this.localeService.getLocaleTextFunc(),aggFuncString=value.toString(),aggFuncStringTranslated=localeTextFunc(aggFuncString,aggFuncString);return new AggItemComp((()=>{if(hidePopup(),this.gridOptionsService.is("functionsPassive")){const event={type:main.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[this.column],aggFunc:value};this.eventService.dispatchEvent(event)}else this.columnModel.setColumnAggFunc(this.column,value,"toolPanelDragAndDrop")}),aggFuncStringTranslated)}addElementClasses(el,suffix){suffix=suffix?`-${suffix}`:"";const direction=this.horizontal?"horizontal":"vertical";el.classList.add(`ag-column-drop-cell${suffix}`,`ag-column-drop-${direction}-cell${suffix}`)}isAggregationZone(){return"aggregation"===this.dropZonePurpose}isGroupingZone(){return"rowGroup"===this.dropZonePurpose}}DropZoneColumnComp.EVENT_COLUMN_REMOVE="columnRemove",DropZoneColumnComp.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',dropZoneColumnComp_decorate([(0,main.fsG)("dragAndDropService")],DropZoneColumnComp.prototype,"dragAndDropService",void 0),dropZoneColumnComp_decorate([(0,main.fsG)("columnModel")],DropZoneColumnComp.prototype,"columnModel",void 0),dropZoneColumnComp_decorate([(0,main.fsG)("popupService")],DropZoneColumnComp.prototype,"popupService",void 0),dropZoneColumnComp_decorate([(0,main.FiY)("aggFuncService")],DropZoneColumnComp.prototype,"aggFuncService",void 0),dropZoneColumnComp_decorate([(0,main.fsG)("sortController")],DropZoneColumnComp.prototype,"sortController",void 0),dropZoneColumnComp_decorate([(0,main.cqo)("eText")],DropZoneColumnComp.prototype,"eText",void 0),dropZoneColumnComp_decorate([(0,main.cqo)("eDragHandle")],DropZoneColumnComp.prototype,"eDragHandle",void 0),dropZoneColumnComp_decorate([(0,main.cqo)("eButton")],DropZoneColumnComp.prototype,"eButton",void 0),dropZoneColumnComp_decorate([(0,main.cqo)("eSortIndicator")],DropZoneColumnComp.prototype,"eSortIndicator",void 0),dropZoneColumnComp_decorate([main.NqP],DropZoneColumnComp.prototype,"init",null);class AggItemComp extends main.wA2{constructor(itemSelected,value){super('<div class="ag-select-agg-func-item"/>'),this.selectItem=itemSelected,this.getGui().innerText=value,this.addGuiEventListener("click",this.selectItem)}}var baseDropZonePanel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class BaseDropZonePanel extends main.wA2{constructor(horizontal,dropZonePurpose){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=horizontal,this.dropZonePurpose=dropZonePurpose,this.state=BaseDropZonePanel.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childColumnComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.eColumnDropList=document.createElement("div"),this.addElementClasses(this.eColumnDropList,"list"),main._.setAriaRole(this.eColumnDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(resizable){this.positionableFeature.setResizable(!!resizable&&{bottom:!0}),this.resizeEnabled=resizable}setBeans(beans){this.beans=beans}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach((func=>func())),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,main._.clearElement(this.getGui()),main._.clearElement(this.eColumnDropList)}init(params){this.params=params,this.createManagedBean(new main.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,main.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new main.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),main._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())}handleKeyDown(e){const isVertical=!this.horizontal;let isNext=e.key===main.VDZ.DOWN,isPrevious=e.key===main.VDZ.UP;if(!isVertical){const isRtl=this.gridOptionsService.is("enableRtl");isNext=!isRtl&&e.key===main.VDZ.RIGHT||isRtl&&e.key===main.VDZ.LEFT,isPrevious=!isRtl&&e.key===main.VDZ.LEFT||isRtl&&e.key===main.VDZ.RIGHT}if(!isNext&&!isPrevious)return;const el=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,isPrevious);el&&(e.preventDefault(),el.focus())}addElementClasses(el,suffix){suffix=suffix?`-${suffix}`:"";const direction=this.horizontal?"horizontal":"vertical";el.classList.add(`ag-column-drop${suffix}`,`ag-column-drop-${direction}${suffix}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)}isInterestedIn(type){return type===main.rvo.HeaderCell||type===main.rvo.ToolPanel}checkInsertIndex(draggingEvent){const newIndex=this.getNewInsertIndex(draggingEvent);if(newIndex<0)return!1;const changed=newIndex!==this.insertIndex;return changed&&(this.insertIndex=newIndex),changed}getNewInsertIndex(draggingEvent){const mouseEvent=draggingEvent.event,mouseLocation=this.horizontal?mouseEvent.clientX:mouseEvent.clientY,boundsList=this.childColumnComponents.map((col=>col.getGui().getBoundingClientRect())),hoveredIndex=boundsList.findIndex((rect=>this.horizontal?rect.right>mouseLocation&&rect.left<mouseLocation:rect.top<mouseLocation&&rect.bottom>mouseLocation));if(-1===hoveredIndex){const enableRtl=this.beans.gridOptionsService.is("enableRtl");if(boundsList.every((rect=>mouseLocation>(this.horizontal?rect.right:rect.bottom))))return enableRtl&&this.horizontal?0:this.childColumnComponents.length;return boundsList.every((rect=>mouseLocation<(this.horizontal?rect.left:rect.top)))?enableRtl&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=hoveredIndex?hoveredIndex+1:hoveredIndex}checkDragStartedBySelf(draggingEvent){this.state===BaseDropZonePanel.STATE_NOT_DRAGGING&&(this.state=BaseDropZonePanel.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=draggingEvent.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(draggingEvent),this.refreshGui())}onDragging(draggingEvent){this.checkDragStartedBySelf(draggingEvent),this.checkInsertIndex(draggingEvent)&&this.refreshGui()}onDragEnter(draggingEvent){const dragColumns=draggingEvent.dragSource.getDragItem().columns||[];this.state=BaseDropZonePanel.STATE_NEW_COLUMNS_IN;const goodDragColumns=dragColumns.filter(this.isColumnDroppable.bind(this));if(goodDragColumns.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!draggingEvent.fromNudge){const columns=draggingEvent.dragSource.getDragItem().columns;this.setColumnsVisible(columns,!1,"uiColumnDragged")}this.potentialDndColumns=goodDragColumns,this.checkInsertIndex(draggingEvent),this.refreshGui()}}setColumnsVisible(columns,visible,source="api"){if(columns){const allowedCols=columns.filter((c=>!c.getColDef().lockVisible));this.colModel.setColumnsVisible(allowedCols,visible,source)}}isPotentialDndColumns(){return main._.existsAndNotEmpty(this.potentialDndColumns)}isRowGroupPanel(){return"rowGroup"===this.dropZonePurpose}onDragLeave(draggingEvent){if(this.state===BaseDropZonePanel.STATE_REARRANGE_COLUMNS){const columns=draggingEvent.dragSource.getDragItem().columns||[];this.removeColumns(columns)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!draggingEvent.fromNudge){const dragItem=draggingEvent.dragSource.getDragItem();this.setColumnsVisible(dragItem.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=BaseDropZonePanel.STATE_NOT_DRAGGING}onDragStop(){if(this.isPotentialDndColumns()){let success=!1;this.state===BaseDropZonePanel.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),success=!0):success=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsService.is("functionsPassive")&&success||this.refreshGui()}this.state=BaseDropZonePanel.STATE_NOT_DRAGGING}removeColumns(columnsToRemove){const newColumnList=this.getExistingColumns().filter((col=>!main._.includes(columnsToRemove,col)));this.updateColumns(newColumnList)}addColumns(columnsToAdd){if(!columnsToAdd)return;const newColumnList=this.getExistingColumns().slice(),colsToAddNoDuplicates=columnsToAdd.filter((col=>newColumnList.indexOf(col)<0));main._.insertArrayIntoArray(newColumnList,colsToAddNoDuplicates,this.insertIndex),this.updateColumns(newColumnList)}rearrangeColumns(columnsToAdd){const newColumnList=this.getNonGhostColumns().slice();return main._.insertArrayIntoArray(newColumnList,columnsToAdd,this.insertIndex),!main._.areEqual(newColumnList,this.getExistingColumns())&&(this.updateColumns(newColumnList),!0)}refreshGui(){const scrollTop=this.eColumnDropList.scrollTop,resizeEnabled=this.resizeEnabled,focusedIndex=this.getFocusedItem();let alternateElement=this.focusService.findNextFocusableElement();alternateElement||(alternateElement=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=scrollTop),resizeEnabled&&this.toggleResizable(resizeEnabled),this.focusService.isKeyboardMode()&&this.restoreFocus(focusedIndex,alternateElement)}getFocusedItem(){const eGui=this.getGui(),activeElement=this.gridOptionsService.getDocument().activeElement;if(!eGui.contains(activeElement))return-1;return Array.from(eGui.querySelectorAll(".ag-column-drop-cell")).indexOf(activeElement)}restoreFocus(index,alternateElement){const eGui=this.getGui(),items=Array.from(eGui.querySelectorAll(".ag-column-drop-cell"));if(-1===index)return;0===items.length&&alternateElement.focus();const el=items[Math.min(items.length-1,index)];el&&el.focus()}getNonGhostColumns(){const existingColumns=this.getExistingColumns();return this.isPotentialDndColumns()?existingColumns.filter((column=>!main._.includes(this.potentialDndColumns,column))):existingColumns}addColumnsToGui(){const itemsToAddToGui=this.getNonGhostColumns().map((column=>this.createColumnComponent(column,!1)));if(this.isPotentialDndColumns()){const dndColumns=this.potentialDndColumns.map((column=>this.createColumnComponent(column,!0)));this.insertIndex>=itemsToAddToGui.length?itemsToAddToGui.push(...dndColumns):itemsToAddToGui.splice(this.insertIndex,0,...dndColumns)}this.appendChild(this.eColumnDropList),itemsToAddToGui.forEach(((columnComponent,index)=>{index>0&&this.addArrow(this.eColumnDropList),this.eColumnDropList.appendChild(columnComponent.getGui())})),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childColumnComponents.forEach(((comp,idx)=>{const eGui=comp.getGui();main._.setAriaPosInSet(eGui,idx+1),main._.setAriaSetSize(eGui,this.childColumnComponents.length)}))}createColumnComponent(column,ghost){const columnComponent=new DropZoneColumnComp(column,this.dropTarget,ghost,this.dropZonePurpose,this.horizontal);return columnComponent.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[column])),this.beans.context.createBean(columnComponent),this.guiDestroyFunctions.push((()=>this.destroyBean(columnComponent))),ghost||this.childColumnComponents.push(columnComponent),columnComponent}addIconAndTitleToGui(){const eGroupIcon=this.params.icon,eTitleBar=document.createElement("div");if(main._.setAriaHidden(eTitleBar,!0),this.addElementClasses(eTitleBar,"title-bar"),this.addElementClasses(eGroupIcon,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),eTitleBar.appendChild(eGroupIcon),!this.horizontal){const eTitle=document.createElement("span");this.addElementClasses(eTitle,"title"),eTitle.innerHTML=this.params.title,eTitleBar.appendChild(eTitle)}this.appendChild(eTitleBar)}isExistingColumnsEmpty(){return 0===this.getExistingColumns().length}addEmptyMessageToGui(){if(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())return;const eMessage=document.createElement("span");eMessage.innerHTML=this.params.emptyMessage,this.addElementClasses(eMessage,"empty-message"),this.eColumnDropList.appendChild(eMessage)}addArrow(eParent){if(this.horizontal){const enableRtl=this.beans.gridOptionsService.is("enableRtl"),icon=main._.createIconNoSpan(enableRtl?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(icon,"cell-separator"),eParent.appendChild(icon)}}}BaseDropZonePanel.STATE_NOT_DRAGGING="notDragging",BaseDropZonePanel.STATE_NEW_COLUMNS_IN="newColumnsIn",BaseDropZonePanel.STATE_REARRANGE_COLUMNS="rearrangeColumns",baseDropZonePanel_decorate([(0,main.fsG)("columnModel")],BaseDropZonePanel.prototype,"colModel",void 0),baseDropZonePanel_decorate([(0,main.fsG)("focusService")],BaseDropZonePanel.prototype,"focusService",void 0);var rowGroupDropZonePanel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class RowGroupDropZonePanel extends BaseDropZonePanel{constructor(horizontal){super(horizontal,"rowGroup")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const localeTextFunc=this.localeService.getLocaleTextFunc(),emptyMessage=localeTextFunc("rowGroupColumnsEmptyMessage","Drag here to set row groups"),title=localeTextFunc("groups","Row Groups");super.init({dragAndDropIcon:main.jUB.ICON_GROUP,icon:main._.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage,title}),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}getTooltipParams(){const res=super.getTooltipParams();return res.location="rowGroupColumnsList",res}isColumnDroppable(column){return!(this.gridOptionsService.is("functionsReadOnly")||!column.isPrimary())&&(column.isAllowRowGroup()&&!column.isRowGroupActive())}updateColumns(columns){if(this.gridOptionsService.is("functionsPassive")){const event={type:main.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns};this.eventService.dispatchEvent(event)}else this.columnModel.setRowGroupColumns(columns,"toolPanelUi")}getIconName(){return this.isPotentialDndColumns()?main.jUB.ICON_GROUP:main.jUB.ICON_NOT_ALLOWED}getExistingColumns(){return this.columnModel.getRowGroupColumns()}}rowGroupDropZonePanel_decorate([(0,main.fsG)("columnModel")],RowGroupDropZonePanel.prototype,"columnModel",void 0),rowGroupDropZonePanel_decorate([(0,main.fsG)("loggerFactory")],RowGroupDropZonePanel.prototype,"loggerFactory",void 0),rowGroupDropZonePanel_decorate([(0,main.fsG)("dragAndDropService")],RowGroupDropZonePanel.prototype,"dragAndDropService",void 0),rowGroupDropZonePanel_decorate([main.NqP],RowGroupDropZonePanel.prototype,"passBeansUp",null);var pivotDropZonePanel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class PivotDropZonePanel extends BaseDropZonePanel{constructor(horizontal){super(horizontal,"pivot")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const localeTextFunc=this.localeService.getLocaleTextFunc(),emptyMessage=localeTextFunc("pivotColumnsEmptyMessage","Drag here to set column labels"),title=localeTextFunc("pivots","Column Labels");super.init({dragAndDropIcon:main.jUB.ICON_GROUP,icon:main._.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage,title}),this.addManagedListener(this.eventService,main.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}getTooltipParams(){const res=super.getTooltipParams();return res.location="pivotColumnsList",res}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const pivotMode=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(pivotMode);break;case"onlyWhenPivoting":const pivotActive=this.columnModel.isPivotActive();this.setDisplayed(pivotMode&&pivotActive);break;default:this.setDisplayed(!1)}else this.setDisplayed(pivotMode)}isColumnDroppable(column){return!(this.gridOptionsService.is("functionsReadOnly")||!column.isPrimary())&&(column.isAllowPivot()&&!column.isPivotActive())}updateColumns(columns){if(this.gridOptionsService.is("functionsPassive")){const event={type:main.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns};this.eventService.dispatchEvent(event)}else this.columnModel.setPivotColumns(columns,"toolPanelUi")}getIconName(){return this.isPotentialDndColumns()?main.jUB.ICON_PIVOT:main.jUB.ICON_NOT_ALLOWED}getExistingColumns(){return this.columnModel.getPivotColumns()}}pivotDropZonePanel_decorate([(0,main.fsG)("columnModel")],PivotDropZonePanel.prototype,"columnModel",void 0),pivotDropZonePanel_decorate([(0,main.fsG)("loggerFactory")],PivotDropZonePanel.prototype,"loggerFactory",void 0),pivotDropZonePanel_decorate([(0,main.fsG)("dragAndDropService")],PivotDropZonePanel.prototype,"dragAndDropService",void 0),pivotDropZonePanel_decorate([main.NqP],PivotDropZonePanel.prototype,"passBeansUp",null);var gridHeaderDropZones_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GridHeaderDropZones extends main.wA2{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,main.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()}createNorthPanel(){const topPanelGui=document.createElement("div"),dropPanelVisibleListener=this.onDropPanelVisible.bind(this);return topPanelGui.classList.add("ag-column-drop-wrapper"),main._.setAriaRole(topPanelGui,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),topPanelGui.appendChild(this.rowGroupComp.getGui()),topPanelGui.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,main.wA2.EVENT_DISPLAYED_CHANGED,dropPanelVisibleListener),this.addManagedListener(this.pivotComp,main.wA2.EVENT_DISPLAYED_CHANGED,dropPanelVisibleListener),this.onDropPanelVisible(),topPanelGui}onDropPanelVisible(){const bothDisplayed=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",bothDisplayed),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",bothDisplayed)}onRowGroupChanged(){if(!this.rowGroupComp)return;const rowGroupPanelShow=this.gridOptionsService.get("rowGroupPanelShow");if("always"===rowGroupPanelShow)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===rowGroupPanelShow){const grouping=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(grouping)}else this.rowGroupComp.setDisplayed(!1)}}gridHeaderDropZones_decorate([(0,main.fsG)("columnModel")],GridHeaderDropZones.prototype,"columnModel",void 0),gridHeaderDropZones_decorate([main.NqP],GridHeaderDropZones.prototype,"postConstruct",null);var filterAggregatesStage_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FilterAggregatesStage=class FilterAggregatesStage extends main.AS9{execute(params){const isPivotMode=this.columnModel.isPivotMode(),isAggFilterActive=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),applyFilterToNode=this.gridOptionsService.getGroupAggFiltering()||(isPivotMode?params=>params.node.leafGroup:params=>!params.node.group),{changedPath}=params,preserveChildren=(node,recursive=!1)=>{node.childrenAfterFilter&&(node.childrenAfterAggFilter=node.childrenAfterFilter,recursive&&node.childrenAfterAggFilter.forEach((child=>preserveChildren(child,recursive))),this.setAllChildrenCount(node)),node.sibling&&(node.sibling.childrenAfterAggFilter=node.childrenAfterAggFilter)};changedPath.forEachChangedNodeDepthFirst(isAggFilterActive?node=>{var _a;node.childrenAfterAggFilter=(null===(_a=node.childrenAfterFilter)||void 0===_a?void 0:_a.filter((child=>{var _a;if(applyFilterToNode({node:child})){if(this.filterManager.doesRowPassAggregateFilters({rowNode:child}))return preserveChildren(child,!0),!0}return null===(_a=child.childrenAfterAggFilter)||void 0===_a?void 0:_a.length})))||null,this.setAllChildrenCount(node),node.sibling&&(node.sibling.childrenAfterAggFilter=node.childrenAfterAggFilter)}:preserveChildren,!0)}setAllChildrenCountTreeData(rowNode){let allChildrenCount=0;rowNode.childrenAfterAggFilter.forEach((child=>{allChildrenCount++,allChildrenCount+=child.allChildrenCount})),rowNode.setAllChildrenCount(allChildrenCount)}setAllChildrenCountGridGrouping(rowNode){let allChildrenCount=0;rowNode.childrenAfterAggFilter.forEach((child=>{child.group?allChildrenCount+=child.allChildrenCount:allChildrenCount++})),rowNode.setAllChildrenCount(allChildrenCount)}setAllChildrenCount(rowNode){rowNode.hasChildren()?this.gridOptionsService.is("treeData")?this.setAllChildrenCountTreeData(rowNode):this.setAllChildrenCountGridGrouping(rowNode):rowNode.setAllChildrenCount(null)}};filterAggregatesStage_decorate([(0,main.fsG)("filterManager")],FilterAggregatesStage.prototype,"filterManager",void 0),filterAggregatesStage_decorate([(0,main.fsG)("columnModel")],FilterAggregatesStage.prototype,"columnModel",void 0),FilterAggregatesStage=filterAggregatesStage_decorate([(0,main.Vu6)("filterAggregatesStage")],FilterAggregatesStage);var groupFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GroupFilter extends main.BxR{constructor(){super('\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')}postConstruct(){this.initialiseTabGuard({})}init(params){return this.params=params,this.validateParams(),this.updateGroups().then((()=>{this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.onColumnRowGroupChanged()))}))}validateParams(){const{colDef}=this.params;colDef.field&&main._.doOnce((()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.')),"groupFilterFieldParam"),colDef.filterValueGetter&&main._.doOnce((()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.')),"groupFilterFilterValueGetterParam"),colDef.filterParams&&main._.doOnce((()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')),"groupFilterFilterParams")}updateGroups(){const sourceColumns=this.updateGroupField();return this.getUnderlyingFilters(sourceColumns)}getSourceColumns(){if(this.groupColumn=this.params.column,this.gridOptionsService.is("treeData"))return main._.doOnce((()=>console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.")),"groupFilterTreeData"),[];const sourceColumns=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return sourceColumns||(main._.doOnce((()=>console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.")),"groupFilterNotGroupColumn"),[])}updateGroupField(){main._.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);const allSourceColumns=this.getSourceColumns(),sourceColumns=allSourceColumns.filter((sourceColumn=>sourceColumn.isFilterAllowed()));return sourceColumns.length?(1===allSourceColumns.length?(this.selectedColumn=sourceColumns[0],main._.setDisplayed(this.eGroupField,!1)):(this.selectedColumn&&sourceColumns.some((column=>column.getId()===this.selectedColumn.getId()))||(this.selectedColumn=sourceColumns[0]),this.createGroupFieldSelectElement(sourceColumns),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(main._.loadTemplate('<div class="ag-filter-separator"></div>')),main._.setDisplayed(this.eGroupField,!0)),sourceColumns):(this.selectedColumn=void 0,main._.setDisplayed(this.eGroupField,!1),null)}createGroupFieldSelectElement(sourceColumns){this.eGroupFieldSelect=this.createManagedBean(new main.wGv);const localeTextFunc=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(localeTextFunc("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(sourceColumns.map((sourceColumn=>{var _a;return{value:sourceColumn.getId(),text:null!==(_a=this.columnModel.getDisplayNameForColumn(sourceColumn,"groupFilter",!1))&&void 0!==_a?_a:void 0}}))),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange((newValue=>this.updateSelectedColumn(newValue))),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===sourceColumns.length&&this.eGroupFieldSelect.setDisabled(!0)}getUnderlyingFilters(sourceColumns){if(!sourceColumns)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),main.j_S.resolve();const filterPromises=[],filterColumnPairs=[];return sourceColumns.forEach((column=>{const filterWrapper=this.filterManager.getOrCreateFilterWrapper(column,"COLUMN_MENU");(null==filterWrapper?void 0:filterWrapper.filterPromise)&&filterPromises.push(filterWrapper.filterPromise.then((filter=>(filter&&filterColumnPairs.push({filter,column}),column.getId()===this.selectedColumn.getId()&&(this.selectedFilter=null!=filter?filter:void 0),filter))))})),main.j_S.all(filterPromises).then((()=>{this.filterColumnPairs=filterColumnPairs,this.groupColumn.setFilterActive(this.isFilterActive(),"columnRowGroupChanged")}))}addUnderlyingFilterElement(){if(main._.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return main.j_S.resolve();const filterWrapper=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return filterWrapper?filterWrapper.guiPromise.then((gui=>{var _a;this.eUnderlyingFilter.appendChild(gui),null===(_a=filterWrapper.filterPromise)||void 0===_a||_a.then((filter=>{var _a,_b;null===(_a=null==filter?void 0:filter.afterGuiAttached)||void 0===_a||_a.call(filter,this.afterGuiAttachedParams),(null===(_b=this.afterGuiAttachedParams)||void 0===_b?void 0:_b.suppressFocus)||!this.eGroupFieldSelect||this.eGroupFieldSelect.isDisabled()||this.eGroupFieldSelect.getFocusableElement().focus()}))})):main.j_S.resolve()}updateSelectedColumn(columnId){var _a,_b;if(!columnId)return;null===(_b=null===(_a=this.selectedFilter)||void 0===_a?void 0:_a.afterGuiDetached)||void 0===_b||_b.call(_a);const selectedFilterColumnPair=this.getFilterColumnPair(columnId);this.selectedColumn=null==selectedFilterColumnPair?void 0:selectedFilterColumnPair.column,this.selectedFilter=null==selectedFilterColumnPair?void 0:selectedFilterColumnPair.filter,this.dispatchEvent({type:GroupFilter.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}isFilterActive(){var _a;return!!(null===(_a=this.filterColumnPairs)||void 0===_a?void 0:_a.some((({filter})=>filter.isFilterActive())))}doesFilterPass(){return!0}getModel(){return null}setModel(){return main.j_S.resolve()}afterGuiAttached(params){this.afterGuiAttachedParams=params,this.addUnderlyingFilterElement()}afterGuiDetached(){var _a,_b;main._.clearElement(this.eUnderlyingFilter),null===(_b=null===(_a=this.selectedFilter)||void 0===_a?void 0:_a.afterGuiDetached)||void 0===_b||_b.call(_a)}onColumnRowGroupChanged(){this.updateGroups().then((()=>{this.dispatchEvent({type:GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED}),this.eventService.dispatchEvent({type:"filterAllowedUpdated"})}))}getFilterColumnPair(columnId){var _a;if(columnId)return null===(_a=this.filterColumnPairs)||void 0===_a?void 0:_a.find((({column})=>column.getId()===columnId))}getSelectedFilter(){return this.selectedFilter}getSelectedColumn(){return this.selectedColumn}isFilterAllowed(){return!!this.selectedColumn}destroy(){super.destroy()}}GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",GroupFilter.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",groupFilter_decorate([(0,main.fsG)("filterManager")],GroupFilter.prototype,"filterManager",void 0),groupFilter_decorate([(0,main.fsG)("columnModel")],GroupFilter.prototype,"columnModel",void 0),groupFilter_decorate([(0,main.cqo)("eGroupField")],GroupFilter.prototype,"eGroupField",void 0),groupFilter_decorate([(0,main.cqo)("eUnderlyingFilter")],GroupFilter.prototype,"eUnderlyingFilter",void 0),groupFilter_decorate([main.NqP],GroupFilter.prototype,"postConstruct",null);var groupFloatingFilter_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class GroupFloatingFilterComp extends main.wA2{constructor(){super('\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        '),this.haveAddedColumnListeners=!1}init(params){this.params=params;const canShowUnderlyingFloatingFilter="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new main.j_S((resolve=>{this.params.parentFilterInstance((parentFilterInstance=>{this.parentFilterInstance=parentFilterInstance,canShowUnderlyingFloatingFilter?this.setupUnderlyingFloatingFilterElement().then((()=>resolve())):(this.setupReadOnlyFloatingFilterElement(),resolve())}))})).then((()=>{this.addManagedListener(this.parentFilterInstance,GroupFilter.EVENT_SELECTED_COLUMN_CHANGED,(()=>this.onSelectedColumnChanged())),this.addManagedListener(this.parentFilterInstance,GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED,(()=>this.onColumnRowGroupChanged()))}))}onParamsUpdated(params){this.params=params,this.setParams()}setParams(){var _a;const displayName=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),translate=this.localeService.getLocaleTextFunc();null===(_a=this.eFloatingFilterText)||void 0===_a||_a.setInputAriaLabel(`${displayName} ${translate("ariaFilterInput","Filter Input")}`)}setupReadOnlyFloatingFilterElement(){this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new main.INo),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",(()=>this.params.showParentFilter())),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,main._.clearElement(this.eFloatingFilter);const column=this.parentFilterInstance.getSelectedColumn();if(column&&!column.isVisible()){const compDetails=this.filterManager.getFloatingFilterCompDetails(column,this.params.showParentFilter);if(compDetails)return this.compDetails=compDetails,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(column,main.sgG.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(column,main.sgG.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),compDetails.newAgStackInstance().then((floatingFilter=>{var _a,_b;this.underlyingFloatingFilter=floatingFilter,null===(_a=this.underlyingFloatingFilter)||void 0===_a||_a.onParentModelChanged(null===(_b=this.parentFilterInstance.getSelectedFilter())||void 0===_b?void 0:_b.getModel()),this.appendChild(floatingFilter.getGui()),this.showingUnderlyingFloatingFilter=!0}))}return this.setupReadOnlyFloatingFilterElement(),main.j_S.resolve()}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement()}onColDefChanged(event){var _a,_b;if(!event.column)return;const compDetails=this.filterManager.getFloatingFilterCompDetails(event.column,this.params.showParentFilter);compDetails&&(null===(_b=null===(_a=this.underlyingFloatingFilter)||void 0===_a?void 0:_a.onParamsUpdated)||void 0===_b||_b.call(_a,compDetails.params))}onParentModelChanged(_model,event){var _a,_b;this.showingUnderlyingFloatingFilter?null===(_a=this.underlyingFloatingFilter)||void 0===_a||_a.onParentModelChanged(null===(_b=this.parentFilterInstance.getSelectedFilter())||void 0===_b?void 0:_b.getModel(),event):this.updateDisplayedValue()}updateDisplayedValue(){if(!this.parentFilterInstance||!this.eFloatingFilterText)return;const selectedFilter=this.parentFilterInstance.getSelectedFilter();if(!selectedFilter)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),selectedFilter.getModelAsString){const filterModel=selectedFilter.getModel();this.eFloatingFilterText.setValue(null==filterModel?"":selectedFilter.getModelAsString(filterModel))}else this.eFloatingFilterText.setValue("")}onSelectedColumnChanged(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}onColumnRowGroupChanged(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}destroy(){super.destroy()}}groupFloatingFilter_decorate([(0,main.fsG)("columnModel")],GroupFloatingFilterComp.prototype,"columnModel",void 0),groupFloatingFilter_decorate([(0,main.fsG)("filterManager")],GroupFloatingFilterComp.prototype,"filterManager",void 0),groupFloatingFilter_decorate([(0,main.cqo)("eFloatingFilter")],GroupFloatingFilterComp.prototype,"eFloatingFilter",void 0);const RowGroupingModule={version:"30.2.1",moduleName:main.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:GroupFilter},{componentName:"agGroupColumnFloatingFilter",componentClass:GroupFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]};var valueDropZonePanel_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};class ValuesDropZonePanel extends BaseDropZonePanel{constructor(horizontal){super(horizontal,"aggregation")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const localeTextFunc=this.localeService.getLocaleTextFunc(),emptyMessage=localeTextFunc("valueColumnsEmptyMessage","Drag here to aggregate"),title=localeTextFunc("values","Values");super.init({dragAndDropIcon:main.jUB.ICON_AGGREGATE,icon:main._.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage,title}),this.addManagedListener(this.eventService,main.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getTooltipParams(){const res=super.getTooltipParams();return res.location="valueColumnsList",res}getIconName(){return this.isPotentialDndColumns()?main.jUB.ICON_AGGREGATE:main.jUB.ICON_NOT_ALLOWED}isColumnDroppable(column){return!(this.gridOptionsService.is("functionsReadOnly")||!column.isPrimary())&&(column.isAllowValue()&&!column.isValueActive())}updateColumns(columns){if(this.gridOptionsService.is("functionsPassive")){const event={type:main.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns};this.eventService.dispatchEvent(event)}else this.columnModel.setValueColumns(columns,"toolPanelUi")}getExistingColumns(){return this.columnModel.getValueColumns()}}valueDropZonePanel_decorate([(0,main.fsG)("columnModel")],ValuesDropZonePanel.prototype,"columnModel",void 0),valueDropZonePanel_decorate([(0,main.fsG)("loggerFactory")],ValuesDropZonePanel.prototype,"loggerFactory",void 0),valueDropZonePanel_decorate([(0,main.fsG)("dragAndDropService")],ValuesDropZonePanel.prototype,"dragAndDropService",void 0),valueDropZonePanel_decorate([main.NqP],ValuesDropZonePanel.prototype,"passBeansUp",null)},"./node_modules/@agilent/ag-grid-community-extensions/fesm2022/agilent-ag-grid-community-extensions.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{eW:()=>AwfCellRendererComponent});var en_US_namespaceObject={};__webpack_require__.r(en_US_namespaceObject),__webpack_require__.d(en_US_namespaceObject,{templates:()=>en_US_templates});var es_ES_namespaceObject={};__webpack_require__.r(es_ES_namespaceObject),__webpack_require__.d(es_ES_namespaceObject,{templates:()=>es_ES_templates});var fr_FR_namespaceObject={};__webpack_require__.r(fr_FR_namespaceObject),__webpack_require__.d(fr_FR_namespaceObject,{templates:()=>fr_FR_templates});var ja_JP_namespaceObject={};__webpack_require__.r(ja_JP_namespaceObject),__webpack_require__.d(ja_JP_namespaceObject,{templates:()=>ja_JP_templates});var pt_BR_namespaceObject={};__webpack_require__.r(pt_BR_namespaceObject),__webpack_require__.d(pt_BR_namespaceObject,{templates:()=>pt_BR_templates});var ru_RU_namespaceObject={};__webpack_require__.r(ru_RU_namespaceObject),__webpack_require__.d(ru_RU_namespaceObject,{templates:()=>ru_RU_templates});var zh_HANS_namespaceObject={};__webpack_require__.r(zh_HANS_namespaceObject),__webpack_require__.d(zh_HANS_namespaceObject,{templates:()=>zh_HANS_templates});var small_namespaceObject={};__webpack_require__.r(small_namespaceObject);var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");function isNullOrUndefined(val){return null==val}function isDefined(val){return!isNullOrUndefined(val)}var of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),isFunction=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function isObservable(obj){return!!obj&&(obj instanceof Observable.y||(0,isFunction.m)(obj.lift)&&(0,isFunction.m)(obj.subscribe))}var isArray=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(args){if(1===args.length){var first_1=args[0];if(isArray(first_1))return{args:first_1,keys:null};if(function isPOJO(obj){return obj&&"object"==typeof obj&&getPrototypeOf(obj)===objectProto}(first_1)){var keys=getKeys(first_1);return{args:keys.map((function(key){return first_1[key]})),keys}}}return{args,keys:null}}var innerFrom=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js"),util_args=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/args.js"),OperatorSubscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),mapOneOrManyArgs_isArray=Array.isArray;function mapOneOrManyArgs(fn){return(0,map.U)((function(args){return function callOrApply(fn,args){return mapOneOrManyArgs_isArray(args)?fn.apply(void 0,(0,tslib_es6.ev)([],(0,tslib_es6.CR)(args))):fn(args)}(fn,args)}))}function forkJoin(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var resultSelector=(0,util_args.jO)(args),_a=argsArgArrayOrObject(args),sources=_a.args,keys=_a.keys,result=new Observable.y((function(subscriber){var length=sources.length;if(length)for(var values=new Array(length),remainingCompletions=length,remainingEmissions=length,_loop_1=function(sourceIndex){var hasValue=!1;(0,innerFrom.Xf)(sources[sourceIndex]).subscribe((0,OperatorSubscriber.x)(subscriber,(function(value){hasValue||(hasValue=!0,remainingEmissions--),values[sourceIndex]=value}),(function(){return remainingCompletions--}),void 0,(function(){remainingCompletions&&hasValue||(remainingEmissions||subscriber.next(keys?function createObject(keys,values){return keys.reduce((function(result,key,i){return result[key]=values[i],result}),{})}(keys,values):values),subscriber.complete())})))},sourceIndex=0;sourceIndex<length;sourceIndex++)_loop_1(sourceIndex);else subscriber.complete()}));return resultSelector?result.pipe(mapOneOrManyArgs(resultSelector)):result}var mergeAll=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js");var from=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/from.js");function concat(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return function concatAll(){return(0,mergeAll.J)(1)}()((0,from.D)(args,(0,util_args.yG)(args)))}function defer(observableFactory){return new Observable.y((function(subscriber){(0,innerFrom.Xf)(observableFactory()).subscribe(subscriber)}))}var take=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/take.js"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(_super){function ReplaySubject(_bufferSize,_windowTime,_timestampProvider){void 0===_bufferSize&&(_bufferSize=1/0),void 0===_windowTime&&(_windowTime=1/0),void 0===_timestampProvider&&(_timestampProvider=dateTimestampProvider);var _this=_super.call(this)||this;return _this._bufferSize=_bufferSize,_this._windowTime=_windowTime,_this._timestampProvider=_timestampProvider,_this._buffer=[],_this._infiniteTimeWindow=!0,_this._infiniteTimeWindow=_windowTime===1/0,_this._bufferSize=Math.max(1,_bufferSize),_this._windowTime=Math.max(1,_windowTime),_this}return(0,tslib_es6.ZT)(ReplaySubject,_super),ReplaySubject.prototype.next=function(value){var _a=this,isStopped=_a.isStopped,_buffer=_a._buffer,_infiniteTimeWindow=_a._infiniteTimeWindow,_timestampProvider=_a._timestampProvider,_windowTime=_a._windowTime;isStopped||(_buffer.push(value),!_infiniteTimeWindow&&_buffer.push(_timestampProvider.now()+_windowTime)),this._trimBuffer(),_super.prototype.next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){this._throwIfClosed(),this._trimBuffer();for(var subscription=this._innerSubscribe(subscriber),_infiniteTimeWindow=this._infiniteTimeWindow,copy=this._buffer.slice(),i=0;i<copy.length&&!subscriber.closed;i+=_infiniteTimeWindow?1:2)subscriber.next(copy[i]);return this._checkFinalizedStatuses(subscriber),subscription},ReplaySubject.prototype._trimBuffer=function(){var _bufferSize=this._bufferSize,_timestampProvider=this._timestampProvider,_buffer=this._buffer,_infiniteTimeWindow=this._infiniteTimeWindow,adjustedBufferSize=(_infiniteTimeWindow?1:2)*_bufferSize;if(_bufferSize<1/0&&adjustedBufferSize<_buffer.length&&_buffer.splice(0,_buffer.length-adjustedBufferSize),!_infiniteTimeWindow){for(var now=_timestampProvider.now(),last=0,i=1;i<_buffer.length&&_buffer[i]<=now;i+=2)last=i;last&&_buffer.splice(0,last+1)}},ReplaySubject}(Subject.x),share=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/share.js");function shareReplay(configOrBufferSize,windowTime,scheduler){var _a,_b,_c,bufferSize,refCount=!1;return configOrBufferSize&&"object"==typeof configOrBufferSize?(_a=configOrBufferSize.bufferSize,bufferSize=void 0===_a?1/0:_a,_b=configOrBufferSize.windowTime,windowTime=void 0===_b?1/0:_b,refCount=void 0!==(_c=configOrBufferSize.refCount)&&_c,scheduler=configOrBufferSize.scheduler):bufferSize=null!=configOrBufferSize?configOrBufferSize:1/0,(0,share.B)({connector:function(){return new ReplaySubject(bufferSize,windowTime,scheduler)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:refCount})}var concatMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js");class TranslateLoader{}class TranslateFakeLoader extends TranslateLoader{getTranslation(lang){return(0,of.of)({})}static ɵfac=function(){let ɵTranslateFakeLoader_BaseFactory;return function TranslateFakeLoader_Factory(t){return(ɵTranslateFakeLoader_BaseFactory||(ɵTranslateFakeLoader_BaseFactory=core["ɵɵgetInheritedFactory"](TranslateFakeLoader)))(t||TranslateFakeLoader)}}();static ɵprov=core["ɵɵdefineInjectable"]({token:TranslateFakeLoader,factory:TranslateFakeLoader.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslateFakeLoader,[{type:core.Injectable}],null,null);class MissingTranslationHandler{}class FakeMissingTranslationHandler{handle(params){return params.key}static ɵfac=function FakeMissingTranslationHandler_Factory(t){return new(t||FakeMissingTranslationHandler)};static ɵprov=core["ɵɵdefineInjectable"]({token:FakeMissingTranslationHandler,factory:FakeMissingTranslationHandler.ɵfac})}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!=o1&&o2!=o2)return!0;let length,key,keySet,t1=typeof o1;if(t1==typeof o2&&"object"==t1){if(!Array.isArray(o1)){if(Array.isArray(o2))return!1;for(key in keySet=Object.create(null),o1){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&void 0!==o2[key])return!1;return!0}if(!Array.isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function ngx_translate_core_isDefined(value){return null!=value}function isObject(item){return item&&"object"==typeof item&&!Array.isArray(item)}function mergeDeep(target,source){let output=Object.assign({},target);return isObject(target)&&isObject(source)&&Object.keys(source).forEach((key=>{isObject(source[key])?key in target?output[key]=mergeDeep(target[key],source[key]):Object.assign(output,{[key]:source[key]}):Object.assign(output,{[key]:source[key]})})),output}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FakeMissingTranslationHandler,[{type:core.Injectable}],null,null);class TranslateParser{}class TranslateDefaultParser extends TranslateParser{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(expr,params){let result;return result="string"==typeof expr?this.interpolateString(expr,params):"function"==typeof expr?this.interpolateFunction(expr,params):expr,result}getValue(target,key){let keys="string"==typeof key?key.split("."):[key];key="";do{key+=keys.shift(),!ngx_translate_core_isDefined(target)||!ngx_translate_core_isDefined(target[key])||"object"!=typeof target[key]&&keys.length?keys.length?key+=".":target=void 0:(target=target[key],key="")}while(keys.length);return target}interpolateFunction(fn,params){return fn(params)}interpolateString(expr,params){return params?expr.replace(this.templateMatcher,((substring,b)=>{let r=this.getValue(params,b);return ngx_translate_core_isDefined(r)?r:substring})):expr}static ɵfac=function(){let ɵTranslateDefaultParser_BaseFactory;return function TranslateDefaultParser_Factory(t){return(ɵTranslateDefaultParser_BaseFactory||(ɵTranslateDefaultParser_BaseFactory=core["ɵɵgetInheritedFactory"](TranslateDefaultParser)))(t||TranslateDefaultParser)}}();static ɵprov=core["ɵɵdefineInjectable"]({token:TranslateDefaultParser,factory:TranslateDefaultParser.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslateDefaultParser,[{type:core.Injectable}],null,null);class TranslateCompiler{}class TranslateFakeCompiler extends TranslateCompiler{compile(value,lang){return value}compileTranslations(translations,lang){return translations}static ɵfac=function(){let ɵTranslateFakeCompiler_BaseFactory;return function TranslateFakeCompiler_Factory(t){return(ɵTranslateFakeCompiler_BaseFactory||(ɵTranslateFakeCompiler_BaseFactory=core["ɵɵgetInheritedFactory"](TranslateFakeCompiler)))(t||TranslateFakeCompiler)}}();static ɵprov=core["ɵɵdefineInjectable"]({token:TranslateFakeCompiler,factory:TranslateFakeCompiler.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslateFakeCompiler,[{type:core.Injectable}],null,null);class TranslateStore{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new core.EventEmitter;onLangChange=new core.EventEmitter;onDefaultLangChange=new core.EventEmitter}const USE_STORE=new core.InjectionToken("USE_STORE"),USE_DEFAULT_LANG=new core.InjectionToken("USE_DEFAULT_LANG"),DEFAULT_LANGUAGE=new core.InjectionToken("DEFAULT_LANGUAGE"),USE_EXTEND=new core.InjectionToken("USE_EXTEND");class TranslateService{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new core.EventEmitter;_onLangChange=new core.EventEmitter;_onDefaultLangChange=new core.EventEmitter;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(defaultLang){this.isolate?this._defaultLang=defaultLang:this.store.defaultLang=defaultLang}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(currentLang){this.isolate?this._currentLang=currentLang:this.store.currentLang=currentLang}get langs(){return this.isolate?this._langs:this.store.langs}set langs(langs){this.isolate?this._langs=langs:this.store.langs=langs}get translations(){return this.isolate?this._translations:this.store.translations}set translations(translations){this.isolate?this._translations=translations:this.store.translations=translations}constructor(store,currentLoader,compiler,parser,missingTranslationHandler,useDefaultLang=!0,isolate=!1,extend=!1,defaultLanguage){this.store=store,this.currentLoader=currentLoader,this.compiler=compiler,this.parser=parser,this.missingTranslationHandler=missingTranslationHandler,this.useDefaultLang=useDefaultLang,this.isolate=isolate,this.extend=extend,defaultLanguage&&this.setDefaultLang(defaultLanguage)}setDefaultLang(lang){if(lang===this.defaultLang)return;let pending=this.retrieveTranslations(lang);void 0!==pending?(null==this.defaultLang&&(this.defaultLang=lang),pending.pipe((0,take.q)(1)).subscribe((res=>{this.changeDefaultLang(lang)}))):this.changeDefaultLang(lang)}getDefaultLang(){return this.defaultLang}use(lang){if(lang===this.currentLang)return(0,of.of)(this.translations[lang]);let pending=this.retrieveTranslations(lang);return void 0!==pending?(this.currentLang||(this.currentLang=lang),pending.pipe((0,take.q)(1)).subscribe((res=>{this.changeLang(lang)})),pending):(this.changeLang(lang),(0,of.of)(this.translations[lang]))}retrieveTranslations(lang){let pending;return(void 0===this.translations[lang]||this.extend)&&(this._translationRequests[lang]=this._translationRequests[lang]||this.getTranslation(lang),pending=this._translationRequests[lang]),pending}getTranslation(lang){this.pending=!0;const loadingTranslations=this.currentLoader.getTranslation(lang).pipe(shareReplay(1),(0,take.q)(1));return this.loadingTranslations=loadingTranslations.pipe((0,map.U)((res=>this.compiler.compileTranslations(res,lang))),shareReplay(1),(0,take.q)(1)),this.loadingTranslations.subscribe({next:res=>{this.translations[lang]=this.extend&&this.translations[lang]?{...res,...this.translations[lang]}:res,this.updateLangs(),this.pending=!1},error:err=>{this.pending=!1}}),loadingTranslations}setTranslation(lang,translations,shouldMerge=!1){translations=this.compiler.compileTranslations(translations,lang),(shouldMerge||this.extend)&&this.translations[lang]?this.translations[lang]=mergeDeep(this.translations[lang],translations):this.translations[lang]=translations,this.updateLangs(),this.onTranslationChange.emit({lang,translations:this.translations[lang]})}getLangs(){return this.langs}addLangs(langs){langs.forEach((lang=>{-1===this.langs.indexOf(lang)&&this.langs.push(lang)}))}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(translations,key,interpolateParams){let res;if(key instanceof Array){let result={},observables=!1;for(let k of key)result[k]=this.getParsedResult(translations,k,interpolateParams),isObservable(result[k])&&(observables=!0);if(observables){const sources=key.map((k=>isObservable(result[k])?result[k]:(0,of.of)(result[k])));return forkJoin(sources).pipe((0,map.U)((arr=>{let obj={};return arr.forEach(((value,index)=>{obj[key[index]]=value})),obj})))}return result}if(translations&&(res=this.parser.interpolate(this.parser.getValue(translations,key),interpolateParams)),void 0===res&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(res=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],key),interpolateParams)),void 0===res){let params={key,translateService:this};void 0!==interpolateParams&&(params.interpolateParams=interpolateParams),res=this.missingTranslationHandler.handle(params)}return void 0!==res?res:key}get(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,concatMap.b)((res=>isObservable(res=this.getParsedResult(res,key,interpolateParams))?res:(0,of.of)(res))));{let res=this.getParsedResult(this.translations[this.currentLang],key,interpolateParams);return isObservable(res)?res:(0,of.of)(res)}}getStreamOnTranslationChange(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');return concat(defer((()=>this.get(key,interpolateParams))),this.onTranslationChange.pipe((0,switchMap.w)((event=>{const res=this.getParsedResult(event.translations,key,interpolateParams);return"function"==typeof res.subscribe?res:(0,of.of)(res)}))))}stream(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');return concat(defer((()=>this.get(key,interpolateParams))),this.onLangChange.pipe((0,switchMap.w)((event=>{const res=this.getParsedResult(event.translations,key,interpolateParams);return isObservable(res)?res:(0,of.of)(res)}))))}instant(key,interpolateParams){if(!ngx_translate_core_isDefined(key)||!key.length)throw new Error('Parameter "key" required');let res=this.getParsedResult(this.translations[this.currentLang],key,interpolateParams);if(isObservable(res)){if(key instanceof Array){let obj={};return key.forEach(((value,index)=>{obj[key[index]]=key[index]})),obj}return key}return res}set(key,value,lang=this.currentLang){this.translations[lang][key]=this.compiler.compile(value,lang),this.updateLangs(),this.onTranslationChange.emit({lang,translations:this.translations[lang]})}changeLang(lang){this.currentLang=lang,this.onLangChange.emit({lang,translations:this.translations[lang]}),null==this.defaultLang&&this.changeDefaultLang(lang)}changeDefaultLang(lang){this.defaultLang=lang,this.onDefaultLangChange.emit({lang,translations:this.translations[lang]})}reloadLang(lang){return this.resetLang(lang),this.getTranslation(lang)}resetLang(lang){this._translationRequests[lang]=void 0,this.translations[lang]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let browserLang=window.navigator.languages?window.navigator.languages[0]:null;return browserLang=browserLang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==browserLang?(-1!==browserLang.indexOf("-")&&(browserLang=browserLang.split("-")[0]),-1!==browserLang.indexOf("_")&&(browserLang=browserLang.split("_")[0]),browserLang):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let browserCultureLang=window.navigator.languages?window.navigator.languages[0]:null;return browserCultureLang=browserCultureLang||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,browserCultureLang}static ɵfac=function TranslateService_Factory(t){return new(t||TranslateService)(core["ɵɵinject"](TranslateStore),core["ɵɵinject"](TranslateLoader),core["ɵɵinject"](TranslateCompiler),core["ɵɵinject"](TranslateParser),core["ɵɵinject"](MissingTranslationHandler),core["ɵɵinject"](USE_DEFAULT_LANG),core["ɵɵinject"](USE_STORE),core["ɵɵinject"](USE_EXTEND),core["ɵɵinject"](DEFAULT_LANGUAGE))};static ɵprov=core["ɵɵdefineInjectable"]({token:TranslateService,factory:TranslateService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslateService,[{type:core.Injectable}],(function(){return[{type:TranslateStore},{type:TranslateLoader},{type:TranslateCompiler},{type:TranslateParser},{type:MissingTranslationHandler},{type:void 0,decorators:[{type:core.Inject,args:[USE_DEFAULT_LANG]}]},{type:void 0,decorators:[{type:core.Inject,args:[USE_STORE]}]},{type:void 0,decorators:[{type:core.Inject,args:[USE_EXTEND]}]},{type:void 0,decorators:[{type:core.Inject,args:[DEFAULT_LANGUAGE]}]}]}),null);class TranslateDirective{translateService;element;_ref;key;lastParams;currentParams;onLangChangeSub;onDefaultLangChangeSub;onTranslationChangeSub;set translate(key){key&&(this.key=key,this.checkNodes())}set translateParams(params){equals(this.currentParams,params)||(this.currentParams=params,this.checkNodes(!0))}constructor(translateService,element,_ref){this.translateService=translateService,this.element=element,this._ref=_ref,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe((event=>{event.lang===this.translateService.currentLang&&this.checkNodes(!0,event.translations)}))),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe((event=>{this.checkNodes(!0,event.translations)}))),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe((event=>{this.checkNodes(!0)})))}ngAfterViewChecked(){this.checkNodes()}checkNodes(forceUpdate=!1,translations){let nodes=this.element.nativeElement.childNodes;nodes.length||(this.setContent(this.element.nativeElement,this.key),nodes=this.element.nativeElement.childNodes);for(let i=0;i<nodes.length;++i){let node=nodes[i];if(3===node.nodeType){let key;if(forceUpdate&&(node.lastKey=null),ngx_translate_core_isDefined(node.lookupKey))key=node.lookupKey;else if(this.key)key=this.key;else{let content=this.getContent(node),trimmedContent=content.trim();trimmedContent.length&&(node.lookupKey=trimmedContent,content!==node.currentValue?(key=trimmedContent,node.originalContent=content||node.originalContent):node.originalContent?key=node.originalContent.trim():content!==node.currentValue&&(key=trimmedContent,node.originalContent=content||node.originalContent))}this.updateValue(key,node,translations)}}}updateValue(key,node,translations){if(key){if(node.lastKey===key&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let onTranslation=res=>{res!==key&&(node.lastKey=key),node.originalContent||(node.originalContent=this.getContent(node)),node.currentValue=ngx_translate_core_isDefined(res)?res:node.originalContent||key,this.setContent(node,this.key?node.currentValue:node.originalContent.replace(key,node.currentValue)),this._ref.markForCheck()};if(ngx_translate_core_isDefined(translations)){let res=this.translateService.getParsedResult(translations,key,this.currentParams);isObservable(res)?res.subscribe({next:onTranslation}):onTranslation(res)}else this.translateService.get(key,this.currentParams).subscribe(onTranslation)}}getContent(node){return ngx_translate_core_isDefined(node.textContent)?node.textContent:node.data}setContent(node,content){ngx_translate_core_isDefined(node.textContent)?node.textContent=content:node.data=content}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static ɵfac=function TranslateDirective_Factory(t){return new(t||TranslateDirective)(core["ɵɵdirectiveInject"](TranslateService),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.ChangeDetectorRef))};static ɵdir=core["ɵɵdefineDirective"]({type:TranslateDirective,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslateDirective,[{type:core.Directive,args:[{selector:"[translate],[ngx-translate]"}]}],(function(){return[{type:TranslateService},{type:core.ElementRef},{type:core.ChangeDetectorRef}]}),{translate:[{type:core.Input}],translateParams:[{type:core.Input}]});class TranslatePipe{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(translate,_ref){this.translate=translate,this._ref=_ref}updateValue(key,interpolateParams,translations){let onTranslation=res=>{this.value=void 0!==res?res:key,this.lastKey=key,this._ref.markForCheck()};if(translations){let res=this.translate.getParsedResult(translations,key,interpolateParams);isObservable(res.subscribe)?res.subscribe(onTranslation):onTranslation(res)}this.translate.get(key,interpolateParams).subscribe(onTranslation)}transform(query,...args){if(!query||!query.length)return query;if(equals(query,this.lastKey)&&equals(args,this.lastParams))return this.value;let interpolateParams;if(ngx_translate_core_isDefined(args[0])&&args.length)if("string"==typeof args[0]&&args[0].length){let validArgs=args[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{interpolateParams=JSON.parse(validArgs)}catch(e){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${args[0]}`)}}else"object"!=typeof args[0]||Array.isArray(args[0])||(interpolateParams=args[0]);return this.lastKey=query,this.lastParams=args,this.updateValue(query,interpolateParams),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe((event=>{this.lastKey&&event.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(query,interpolateParams,event.translations))}))),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe((event=>{this.lastKey&&(this.lastKey=null,this.updateValue(query,interpolateParams,event.translations))}))),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe((()=>{this.lastKey&&(this.lastKey=null,this.updateValue(query,interpolateParams))}))),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static ɵfac=function TranslatePipe_Factory(t){return new(t||TranslatePipe)(core["ɵɵdirectiveInject"](TranslateService,16),core["ɵɵdirectiveInject"](core.ChangeDetectorRef,16))};static ɵpipe=core["ɵɵdefinePipe"]({name:"translate",type:TranslatePipe,pure:!1});static ɵprov=core["ɵɵdefineInjectable"]({token:TranslatePipe,factory:TranslatePipe.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslatePipe,[{type:core.Injectable},{type:core.Pipe,args:[{name:"translate",pure:!1}]}],(function(){return[{type:TranslateService},{type:core.ChangeDetectorRef}]}),null);class TranslateModule{static forRoot(config={}){return{ngModule:TranslateModule,providers:[config.loader||{provide:TranslateLoader,useClass:TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},TranslateStore,{provide:USE_STORE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},TranslateService]}}static forChild(config={}){return{ngModule:TranslateModule,providers:[config.loader||{provide:TranslateLoader,useClass:TranslateFakeLoader},config.compiler||{provide:TranslateCompiler,useClass:TranslateFakeCompiler},config.parser||{provide:TranslateParser,useClass:TranslateDefaultParser},config.missingTranslationHandler||{provide:MissingTranslationHandler,useClass:FakeMissingTranslationHandler},{provide:USE_STORE,useValue:config.isolate},{provide:USE_DEFAULT_LANG,useValue:config.useDefaultLang},{provide:USE_EXTEND,useValue:config.extend},{provide:DEFAULT_LANGUAGE,useValue:config.defaultLanguage},TranslateService]}}static ɵfac=function TranslateModule_Factory(t){return new(t||TranslateModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:TranslateModule,declarations:[TranslatePipe,TranslateDirective],exports:[TranslatePipe,TranslateDirective]});static ɵinj=core["ɵɵdefineInjector"]({})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TranslateModule,[{type:core.NgModule,args:[{declarations:[TranslatePipe,TranslateDirective],exports:[TranslatePipe,TranslateDirective]}]}],null,null);var common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");class BaseControlValueAccessor{constructor(_renderer,_elementRef){this._renderer=_renderer,this._elementRef=_elementRef,this.onChange=_=>{},this.onTouched=()=>{}}setProperty(key,value){this._renderer.setProperty(this._elementRef.nativeElement,key,value)}registerOnTouched(fn){this.onTouched=fn}registerOnChange(fn){this.onChange=fn}setDisabledState(isDisabled){this.setProperty("disabled",isDisabled)}static#_=this.ɵfac=function BaseControlValueAccessor_Factory(t){return new(t||BaseControlValueAccessor)(core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](core.ElementRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:BaseControlValueAccessor})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](BaseControlValueAccessor,[{type:core.Directive}],(function(){return[{type:core.Renderer2},{type:core.ElementRef}]}),null);class BuiltInControlValueAccessor extends BaseControlValueAccessor{static#_=this.ɵfac=function(){let ɵBuiltInControlValueAccessor_BaseFactory;return function BuiltInControlValueAccessor_Factory(t){return(ɵBuiltInControlValueAccessor_BaseFactory||(ɵBuiltInControlValueAccessor_BaseFactory=core["ɵɵgetInheritedFactory"](BuiltInControlValueAccessor)))(t||BuiltInControlValueAccessor)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:BuiltInControlValueAccessor,features:[core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](BuiltInControlValueAccessor,[{type:core.Directive}],null,null);const NG_VALUE_ACCESSOR=new core.InjectionToken("NgValueAccessor"),CHECKBOX_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>CheckboxControlValueAccessor)),multi:!0};class CheckboxControlValueAccessor extends BuiltInControlValueAccessor{writeValue(value){this.setProperty("checked",value)}static#_=this.ɵfac=function(){let ɵCheckboxControlValueAccessor_BaseFactory;return function CheckboxControlValueAccessor_Factory(t){return(ɵCheckboxControlValueAccessor_BaseFactory||(ɵCheckboxControlValueAccessor_BaseFactory=core["ɵɵgetInheritedFactory"](CheckboxControlValueAccessor)))(t||CheckboxControlValueAccessor)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CheckboxControlValueAccessor,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function CheckboxControlValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("change",(function CheckboxControlValueAccessor_change_HostBindingHandler($event){return ctx.onChange($event.target.checked)}))("blur",(function CheckboxControlValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))},features:[core["ɵɵProvidersFeature"]([CHECKBOX_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CheckboxControlValueAccessor,[{type:core.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[CHECKBOX_VALUE_ACCESSOR]}]}],null,null);const DEFAULT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>DefaultValueAccessor)),multi:!0};const COMPOSITION_BUFFER_MODE=new core.InjectionToken("CompositionEventMode");class DefaultValueAccessor extends BaseControlValueAccessor{constructor(renderer,elementRef,_compositionMode){super(renderer,elementRef),this._compositionMode=_compositionMode,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _isAndroid(){const userAgent=(0,common["ɵgetDOM"])()?(0,common["ɵgetDOM"])().getUserAgent():"";return/android (\d+)/.test(userAgent.toLowerCase())}())}writeValue(value){const normalizedValue=null==value?"":value;this.setProperty("value",normalizedValue)}_handleInput(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(value)}_compositionStart(){this._composing=!0}_compositionEnd(value){this._composing=!1,this._compositionMode&&this.onChange(value)}static#_=this.ɵfac=function DefaultValueAccessor_Factory(t){return new(t||DefaultValueAccessor)(core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](COMPOSITION_BUFFER_MODE,8))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:DefaultValueAccessor,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function DefaultValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("input",(function DefaultValueAccessor_input_HostBindingHandler($event){return ctx._handleInput($event.target.value)}))("blur",(function DefaultValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))("compositionstart",(function DefaultValueAccessor_compositionstart_HostBindingHandler(){return ctx._compositionStart()}))("compositionend",(function DefaultValueAccessor_compositionend_HostBindingHandler($event){return ctx._compositionEnd($event.target.value)}))},features:[core["ɵɵProvidersFeature"]([DEFAULT_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}function isEmptyInputValue(value){return null==value||("string"==typeof value||Array.isArray(value))&&0===value.length}function hasValidLength(value){return null!=value&&"number"==typeof value.length}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DefaultValueAccessor,[{type:core.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[DEFAULT_VALUE_ACCESSOR]}]}],(function(){return[{type:core.Renderer2},{type:core.ElementRef},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[COMPOSITION_BUFFER_MODE]}]}]}),null);const NG_VALIDATORS=new core.InjectionToken("NgValidators"),NG_ASYNC_VALIDATORS=new core.InjectionToken("NgAsyncValidators"),EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Validators{static min(min){return minValidator(min)}static max(max){return maxValidator(max)}static required(control){return requiredValidator(control)}static requiredTrue(control){return requiredTrueValidator(control)}static email(control){return emailValidator(control)}static minLength(minLength){return minLengthValidator(minLength)}static maxLength(maxLength){return maxLengthValidator(maxLength)}static pattern(pattern){return patternValidator(pattern)}static nullValidator(control){return null}static compose(validators){return compose(validators)}static composeAsync(validators){return composeAsync(validators)}}function minValidator(min){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(min))return null;const value=parseFloat(control.value);return!isNaN(value)&&value<min?{min:{min,actual:control.value}}:null}}function maxValidator(max){return control=>{if(isEmptyInputValue(control.value)||isEmptyInputValue(max))return null;const value=parseFloat(control.value);return!isNaN(value)&&value>max?{max:{max,actual:control.value}}:null}}function requiredValidator(control){return isEmptyInputValue(control.value)?{required:!0}:null}function requiredTrueValidator(control){return!0===control.value?null:{required:!0}}function emailValidator(control){return isEmptyInputValue(control.value)||EMAIL_REGEXP.test(control.value)?null:{email:!0}}function minLengthValidator(minLength){return control=>isEmptyInputValue(control.value)||!hasValidLength(control.value)?null:control.value.length<minLength?{minlength:{requiredLength:minLength,actualLength:control.value.length}}:null}function maxLengthValidator(maxLength){return control=>hasValidLength(control.value)&&control.value.length>maxLength?{maxlength:{requiredLength:maxLength,actualLength:control.value.length}}:null}function patternValidator(pattern){if(!pattern)return nullValidator;let regex,regexStr;return"string"==typeof pattern?(regexStr="","^"!==pattern.charAt(0)&&(regexStr+="^"),regexStr+=pattern,"$"!==pattern.charAt(pattern.length-1)&&(regexStr+="$"),regex=new RegExp(regexStr)):(regexStr=pattern.toString(),regex=pattern),control=>{if(isEmptyInputValue(control.value))return null;const value=control.value;return regex.test(value)?null:{pattern:{requiredPattern:regexStr,actualValue:value}}}}function nullValidator(control){return null}function isPresent(o){return null!=o}function toObservable(value){const obs=(0,core["ɵisPromise"])(value)?(0,from.D)(value):value;if(("undefined"==typeof ngDevMode||ngDevMode)&&!(0,core["ɵisSubscribable"])(obs)){let errorMessage="Expected async validator to return Promise or Observable.";throw"object"==typeof value&&(errorMessage+=" Are you using a synchronous validator where an async validator is expected?"),new core["ɵRuntimeError"](-1101,errorMessage)}return obs}function mergeErrors(arrayOfErrors){let res={};return arrayOfErrors.forEach((errors=>{res=null!=errors?{...res,...errors}:res})),0===Object.keys(res).length?null:res}function executeValidators(control,validators){return validators.map((validator=>validator(control)))}function normalizeValidators(validators){return validators.map((validator=>function isValidatorFn(validator){return!validator.validate}(validator)?validator:c=>validator.validate(c)))}function compose(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return mergeErrors(executeValidators(control,presentValidators))}}function composeValidators(validators){return null!=validators?compose(normalizeValidators(validators)):null}function composeAsync(validators){if(!validators)return null;const presentValidators=validators.filter(isPresent);return 0==presentValidators.length?null:function(control){return forkJoin(executeValidators(control,presentValidators).map(toObservable)).pipe((0,map.U)(mergeErrors))}}function composeAsyncValidators(validators){return null!=validators?composeAsync(normalizeValidators(validators)):null}function mergeValidators(controlValidators,dirValidator){return null===controlValidators?[dirValidator]:Array.isArray(controlValidators)?[...controlValidators,dirValidator]:[controlValidators,dirValidator]}function getControlValidators(control){return control._rawValidators}function getControlAsyncValidators(control){return control._rawAsyncValidators}function makeValidatorsArray(validators){return validators?Array.isArray(validators)?validators:[validators]:[]}function hasValidator(validators,validator){return Array.isArray(validators)?validators.includes(validator):validators===validator}function addValidators(validators,currentValidators){const current=makeValidatorsArray(currentValidators);return makeValidatorsArray(validators).forEach((v=>{hasValidator(current,v)||current.push(v)})),current}function removeValidators(validators,currentValidators){return makeValidatorsArray(currentValidators).filter((v=>!hasValidator(validators,v)))}class AbstractControlDirective{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(validators){this._rawValidators=validators||[],this._composedValidatorFn=composeValidators(this._rawValidators)}_setAsyncValidators(validators){this._rawAsyncValidators=validators||[],this._composedAsyncValidatorFn=composeAsyncValidators(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(fn){this._onDestroyCallbacks.push(fn)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach((fn=>fn())),this._onDestroyCallbacks=[]}reset(value=void 0){this.control&&this.control.reset(value)}hasError(errorCode,path){return!!this.control&&this.control.hasError(errorCode,path)}getError(errorCode,path){return this.control?this.control.getError(errorCode,path):null}}class ControlContainer extends AbstractControlDirective{get formDirective(){return null}get path(){return null}}class NgControl extends AbstractControlDirective{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AbstractControlStatus{constructor(cd){this._cd=cd}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}const ngControlStatusHost={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ngGroupStatusHost={...ngControlStatusHost,"[class.ng-submitted]":"isSubmitted"};class NgControlStatus extends AbstractControlStatus{constructor(cd){super(cd)}static#_=this.ɵfac=function NgControlStatus_Factory(t){return new(t||NgControlStatus)(core["ɵɵdirectiveInject"](NgControl,2))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgControlStatus,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function NgControlStatus_HostBindings(rf,ctx){2&rf&&core["ɵɵclassProp"]("ng-untouched",ctx.isUntouched)("ng-touched",ctx.isTouched)("ng-pristine",ctx.isPristine)("ng-dirty",ctx.isDirty)("ng-valid",ctx.isValid)("ng-invalid",ctx.isInvalid)("ng-pending",ctx.isPending)},features:[core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgControlStatus,[{type:core.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:ngControlStatusHost}]}],(function(){return[{type:NgControl,decorators:[{type:core.Self}]}]}),null);class NgControlStatusGroup extends AbstractControlStatus{constructor(cd){super(cd)}static#_=this.ɵfac=function NgControlStatusGroup_Factory(t){return new(t||NgControlStatusGroup)(core["ɵɵdirectiveInject"](ControlContainer,10))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgControlStatusGroup,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function NgControlStatusGroup_HostBindings(rf,ctx){2&rf&&core["ɵɵclassProp"]("ng-untouched",ctx.isUntouched)("ng-touched",ctx.isTouched)("ng-pristine",ctx.isPristine)("ng-dirty",ctx.isDirty)("ng-valid",ctx.isValid)("ng-invalid",ctx.isInvalid)("ng-pending",ctx.isPending)("ng-submitted",ctx.isSubmitted)},features:[core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgControlStatusGroup,[{type:core.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:ngGroupStatusHost}]}],(function(){return[{type:ControlContainer,decorators:[{type:core.Optional},{type:core.Self}]}]}),null);const formControlNameExample='\n  <div [formGroup]="myGroup">\n    <input formControlName="firstName">\n  </div>\n\n  In your class:\n\n  this.myGroup = new FormGroup({\n      firstName: new FormControl()\n  });',formGroupNameExample='\n  <div [formGroup]="myGroup">\n      <div formGroupName="person">\n        <input formControlName="firstName">\n      </div>\n  </div>\n\n  In your class:\n\n  this.myGroup = new FormGroup({\n      person: new FormGroup({ firstName: new FormControl() })\n  });',ngModelGroupExample='\n  <form>\n      <div ngModelGroup="person">\n        <input [(ngModel)]="person.name" name="firstName">\n      </div>\n  </form>';const disabledAttrWarning="\n  It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n  when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n  you. We recommend using this approach to avoid 'changed after checked' errors.\n\n  Example:\n  // Specify the `disabled` property at control creation time:\n  form = new FormGroup({\n    first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n    last: new FormControl('Drew', Validators.required)\n  });\n\n  // Controls can also be enabled/disabled after creation:\n  form.get('first')?.enable();\n  form.get('last')?.disable();\n";function describeKey(isFormGroup,key){return isFormGroup?`with name: '${key}'`:`at index: ${key}`}function pickValidators(validatorOrOpts){return(isOptionsObj(validatorOrOpts)?validatorOrOpts.validators:validatorOrOpts)||null}function pickAsyncValidators(asyncValidator,validatorOrOpts){return("undefined"==typeof ngDevMode||ngDevMode)&&isOptionsObj(validatorOrOpts)&&asyncValidator&&console.warn("\n  It looks like you're constructing using a FormControl with both an options argument and an\n  async validators argument. Mixing these arguments will cause your async validators to be dropped.\n  You should either put all your validators in the options object, or in separate validators\n  arguments. For example:\n\n  // Using validators arguments\n  fc = new FormControl(42, Validators.required, myAsyncValidator);\n\n  // Using AbstractControlOptions\n  fc = new FormControl(42, {validators: Validators.required, asyncValidators: myAV});\n\n  // Do NOT mix them: async validators will be dropped!\n  fc = new FormControl(42, {validators: Validators.required}, /* Oops! */ myAsyncValidator);\n"),(isOptionsObj(validatorOrOpts)?validatorOrOpts.asyncValidators:asyncValidator)||null}function isOptionsObj(validatorOrOpts){return null!=validatorOrOpts&&!Array.isArray(validatorOrOpts)&&"object"==typeof validatorOrOpts}function assertControlPresent(parent,isGroup,key){const controls=parent.controls;if(!(isGroup?Object.keys(controls):controls).length)throw new core["ɵRuntimeError"](1e3,"undefined"==typeof ngDevMode||ngDevMode?function noControlsError(isFormGroup){return`\n    There are no form controls registered with this ${isFormGroup?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(isGroup):"");if(!controls[key])throw new core["ɵRuntimeError"](1001,"undefined"==typeof ngDevMode||ngDevMode?function missingControlError(isFormGroup,key){return`Cannot find form control ${describeKey(isFormGroup,key)}`}(isGroup,key):"")}function assertAllValuesPresent(control,isGroup,value){control._forEachChild(((_,key)=>{if(void 0===value[key])throw new core["ɵRuntimeError"](1002,"undefined"==typeof ngDevMode||ngDevMode?function missingControlValueError(isFormGroup,key){return`Must supply a value for form control ${describeKey(isFormGroup,key)}`}(isGroup,key):"")}))}class AbstractControl{constructor(validators,asyncValidators){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(validators),this._assignAsyncValidators(asyncValidators)}get validator(){return this._composedValidatorFn}set validator(validatorFn){this._rawValidators=this._composedValidatorFn=validatorFn}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(asyncValidatorFn){this._rawAsyncValidators=this._composedAsyncValidatorFn=asyncValidatorFn}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(validators){this._assignValidators(validators)}setAsyncValidators(validators){this._assignAsyncValidators(validators)}addValidators(validators){this.setValidators(addValidators(validators,this._rawValidators))}addAsyncValidators(validators){this.setAsyncValidators(addValidators(validators,this._rawAsyncValidators))}removeValidators(validators){this.setValidators(removeValidators(validators,this._rawValidators))}removeAsyncValidators(validators){this.setAsyncValidators(removeValidators(validators,this._rawAsyncValidators))}hasValidator(validator){return hasValidator(this._rawValidators,validator)}hasAsyncValidator(validator){return hasValidator(this._rawAsyncValidators,validator)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(opts={}){this.touched=!0,this._parent&&!opts.onlySelf&&this._parent.markAsTouched(opts)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild((control=>control.markAllAsTouched()))}markAsUntouched(opts={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild((control=>{control.markAsUntouched({onlySelf:!0})})),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}markAsDirty(opts={}){this.pristine=!1,this._parent&&!opts.onlySelf&&this._parent.markAsDirty(opts)}markAsPristine(opts={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild((control=>{control.markAsPristine({onlySelf:!0})})),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}markAsPending(opts={}){this.status="PENDING",!1!==opts.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!opts.onlySelf&&this._parent.markAsPending(opts)}disable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((control=>{control.disable({...opts,onlySelf:!0})})),this._updateValue(),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...opts,skipPristineCheck}),this._onDisabledChange.forEach((changeFn=>changeFn(!0)))}enable(opts={}){const skipPristineCheck=this._parentMarkedDirty(opts.onlySelf);this.status="VALID",this._forEachChild((control=>{control.enable({...opts,onlySelf:!0})})),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent}),this._updateAncestors({...opts,skipPristineCheck}),this._onDisabledChange.forEach((changeFn=>changeFn(!1)))}_updateAncestors(opts){this._parent&&!opts.onlySelf&&(this._parent.updateValueAndValidity(opts),opts.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(parent){this._parent=parent}getRawValue(){return this.value}updateValueAndValidity(opts={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(opts.emitEvent)),!1!==opts.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!opts.onlySelf&&this._parent.updateValueAndValidity(opts)}_updateTreeValidity(opts={emitEvent:!0}){this._forEachChild((ctrl=>ctrl._updateTreeValidity(opts))),this.updateValueAndValidity({onlySelf:!0,emitEvent:opts.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(emitEvent){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const obs=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=obs.subscribe((errors=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(errors,{emitEvent})}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(errors,opts={}){this.errors=errors,this._updateControlsErrors(!1!==opts.emitEvent)}get(path){let currPath=path;return null==currPath?null:(Array.isArray(currPath)||(currPath=currPath.split(".")),0===currPath.length?null:currPath.reduce(((control,name)=>control&&control._find(name)),this))}getError(errorCode,path){const control=path?this.get(path):this;return control&&control.errors?control.errors[errorCode]:null}hasError(errorCode,path){return!!this.getError(errorCode,path)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(emitEvent){this.status=this._calculateStatus(),emitEvent&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(emitEvent)}_initObservables(){this.valueChanges=new core.EventEmitter,this.statusChanges=new core.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(status){return this._anyControls((control=>control.status===status))}_anyControlsDirty(){return this._anyControls((control=>control.dirty))}_anyControlsTouched(){return this._anyControls((control=>control.touched))}_updatePristine(opts={}){this.pristine=!this._anyControlsDirty(),this._parent&&!opts.onlySelf&&this._parent._updatePristine(opts)}_updateTouched(opts={}){this.touched=this._anyControlsTouched(),this._parent&&!opts.onlySelf&&this._parent._updateTouched(opts)}_registerOnCollectionChange(fn){this._onCollectionChange=fn}_setUpdateStrategy(opts){isOptionsObj(opts)&&null!=opts.updateOn&&(this._updateOn=opts.updateOn)}_parentMarkedDirty(onlySelf){const parentDirty=this._parent&&this._parent.dirty;return!onlySelf&&!!parentDirty&&!this._parent._anyControlsDirty()}_find(name){return null}_assignValidators(validators){this._rawValidators=Array.isArray(validators)?validators.slice():validators,this._composedValidatorFn=function coerceToValidator(validator){return Array.isArray(validator)?composeValidators(validator):validator||null}(this._rawValidators)}_assignAsyncValidators(validators){this._rawAsyncValidators=Array.isArray(validators)?validators.slice():validators,this._composedAsyncValidatorFn=function coerceToAsyncValidator(asyncValidator){return Array.isArray(asyncValidator)?composeAsyncValidators(asyncValidator):asyncValidator||null}(this._rawAsyncValidators)}}class FormGroup extends AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(pickValidators(validatorOrOpts),pickAsyncValidators(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(name,control){return this.controls[name]?this.controls[name]:(this.controls[name]=control,control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange),control)}addControl(name,control,options={}){this.registerControl(name,control),this.updateValueAndValidity({emitEvent:options.emitEvent}),this._onCollectionChange()}removeControl(name,options={}){this.controls[name]&&this.controls[name]._registerOnCollectionChange((()=>{})),delete this.controls[name],this.updateValueAndValidity({emitEvent:options.emitEvent}),this._onCollectionChange()}setControl(name,control,options={}){this.controls[name]&&this.controls[name]._registerOnCollectionChange((()=>{})),delete this.controls[name],control&&this.registerControl(name,control),this.updateValueAndValidity({emitEvent:options.emitEvent}),this._onCollectionChange()}contains(controlName){return this.controls.hasOwnProperty(controlName)&&this.controls[controlName].enabled}setValue(value,options={}){assertAllValuesPresent(this,!0,value),Object.keys(value).forEach((name=>{assertControlPresent(this,!0,name),this.controls[name].setValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})})),this.updateValueAndValidity(options)}patchValue(value,options={}){null!=value&&(Object.keys(value).forEach((name=>{const control=this.controls[name];control&&control.patchValue(value[name],{onlySelf:!0,emitEvent:options.emitEvent})})),this.updateValueAndValidity(options))}reset(value={},options={}){this._forEachChild(((control,name)=>{control.reset(value?value[name]:null,{onlySelf:!0,emitEvent:options.emitEvent})})),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this._reduceChildren({},((acc,control,name)=>(acc[name]=control.getRawValue(),acc)))}_syncPendingControls(){let subtreeUpdated=this._reduceChildren(!1,((updated,child)=>!!child._syncPendingControls()||updated));return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_forEachChild(cb){Object.keys(this.controls).forEach((key=>{const control=this.controls[key];control&&cb(control,key)}))}_setUpControls(){this._forEachChild((control=>{control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)}))}_updateValue(){this.value=this._reduceValue()}_anyControls(condition){for(const[controlName,control]of Object.entries(this.controls))if(this.contains(controlName)&&condition(control))return!0;return!1}_reduceValue(){return this._reduceChildren({},((acc,control,name)=>((control.enabled||this.disabled)&&(acc[name]=control.value),acc)))}_reduceChildren(initValue,fn){let res=initValue;return this._forEachChild(((control,name)=>{res=fn(res,control,name)})),res}_allControlsDisabled(){for(const controlName of Object.keys(this.controls))if(this.controls[controlName].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(name){return this.controls.hasOwnProperty(name)?this.controls[name]:null}}class FormRecord extends FormGroup{}const CALL_SET_DISABLED_STATE=new core.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>setDisabledStateDefault}),setDisabledStateDefault="always";function controlPath(name,parent){return[...parent.path,name]}function setUpControl(control,dir,callSetDisabledState=setDisabledStateDefault){("undefined"==typeof ngDevMode||ngDevMode)&&(control||_throwError(dir,"Cannot find control with"),dir.valueAccessor||function _throwMissingValueAccessorError(dir){const loc=_describeControlLocation(dir);throw new core["ɵRuntimeError"](-1203,`No value accessor for form control ${loc}.`)}(dir)),setUpValidators(control,dir),dir.valueAccessor.writeValue(control.value),(control.disabled||"always"===callSetDisabledState)&&dir.valueAccessor.setDisabledState?.(control.disabled),function setUpViewChangePipeline(control,dir){dir.valueAccessor.registerOnChange((newValue=>{control._pendingValue=newValue,control._pendingChange=!0,control._pendingDirty=!0,"change"===control.updateOn&&updateControl(control,dir)}))}(control,dir),function setUpModelChangePipeline(control,dir){const onChange=(newValue,emitModelEvent)=>{dir.valueAccessor.writeValue(newValue),emitModelEvent&&dir.viewToModelUpdate(newValue)};control.registerOnChange(onChange),dir._registerOnDestroy((()=>{control._unregisterOnChange(onChange)}))}(control,dir),function setUpBlurPipeline(control,dir){dir.valueAccessor.registerOnTouched((()=>{control._pendingTouched=!0,"blur"===control.updateOn&&control._pendingChange&&updateControl(control,dir),"submit"!==control.updateOn&&control.markAsTouched()}))}(control,dir),function setUpDisabledChangeHandler(control,dir){if(dir.valueAccessor.setDisabledState){const onDisabledChange=isDisabled=>{dir.valueAccessor.setDisabledState(isDisabled)};control.registerOnDisabledChange(onDisabledChange),dir._registerOnDestroy((()=>{control._unregisterOnDisabledChange(onDisabledChange)}))}}(control,dir)}function cleanUpControl(control,dir,validateControlPresenceOnChange=!0){const noop=()=>{validateControlPresenceOnChange&&("undefined"==typeof ngDevMode||ngDevMode)&&function _noControlError(dir){return _throwError(dir,"There is no FormControl instance attached to form control element with")}(dir)};dir.valueAccessor&&(dir.valueAccessor.registerOnChange(noop),dir.valueAccessor.registerOnTouched(noop)),cleanUpValidators(control,dir),control&&(dir._invokeOnDestroyCallbacks(),control._registerOnCollectionChange((()=>{})))}function registerOnValidatorChange(validators,onChange){validators.forEach((validator=>{validator.registerOnValidatorChange&&validator.registerOnValidatorChange(onChange)}))}function setUpValidators(control,dir){const validators=getControlValidators(control);null!==dir.validator?control.setValidators(mergeValidators(validators,dir.validator)):"function"==typeof validators&&control.setValidators([validators]);const asyncValidators=getControlAsyncValidators(control);null!==dir.asyncValidator?control.setAsyncValidators(mergeValidators(asyncValidators,dir.asyncValidator)):"function"==typeof asyncValidators&&control.setAsyncValidators([asyncValidators]);const onValidatorChange=()=>control.updateValueAndValidity();registerOnValidatorChange(dir._rawValidators,onValidatorChange),registerOnValidatorChange(dir._rawAsyncValidators,onValidatorChange)}function cleanUpValidators(control,dir){let isControlUpdated=!1;if(null!==control){if(null!==dir.validator){const validators=getControlValidators(control);if(Array.isArray(validators)&&validators.length>0){const updatedValidators=validators.filter((validator=>validator!==dir.validator));updatedValidators.length!==validators.length&&(isControlUpdated=!0,control.setValidators(updatedValidators))}}if(null!==dir.asyncValidator){const asyncValidators=getControlAsyncValidators(control);if(Array.isArray(asyncValidators)&&asyncValidators.length>0){const updatedAsyncValidators=asyncValidators.filter((asyncValidator=>asyncValidator!==dir.asyncValidator));updatedAsyncValidators.length!==asyncValidators.length&&(isControlUpdated=!0,control.setAsyncValidators(updatedAsyncValidators))}}}const noop=()=>{};return registerOnValidatorChange(dir._rawValidators,noop),registerOnValidatorChange(dir._rawAsyncValidators,noop),isControlUpdated}function updateControl(control,dir){control._pendingDirty&&control.markAsDirty(),control.setValue(control._pendingValue,{emitModelToViewChange:!1}),dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1}function setUpFormContainer(control,dir){null!=control||"undefined"!=typeof ngDevMode&&!ngDevMode||_throwError(dir,"Cannot find control with"),setUpValidators(control,dir)}function _throwError(dir,message){const messageEnd=_describeControlLocation(dir);throw new Error(`${message} ${messageEnd}`)}function _describeControlLocation(dir){const path=dir.path;return path&&path.length>1?`path: '${path.join(" -> ")}'`:path?.[0]?`name: '${path}'`:"unspecified name attribute"}function isPropertyUpdated(changes,viewModel){if(!changes.hasOwnProperty("model"))return!1;const change=changes.model;return!!change.isFirstChange()||!Object.is(viewModel,change.currentValue)}function syncPendingControls(form,directives){form._syncPendingControls(),directives.forEach((dir=>{const control=dir.control;"submit"===control.updateOn&&control._pendingChange&&(dir.viewToModelUpdate(control._pendingValue),control._pendingChange=!1)}))}function selectValueAccessor(dir,valueAccessors){if(!valueAccessors)return null;let defaultAccessor,builtinAccessor,customAccessor;return Array.isArray(valueAccessors)||"undefined"!=typeof ngDevMode&&!ngDevMode||function _throwInvalidValueAccessorError(dir){const loc=_describeControlLocation(dir);throw new core["ɵRuntimeError"](1200,`Value accessor was not provided as an array for form control with ${loc}. Check that the \`NG_VALUE_ACCESSOR\` token is configured as a \`multi: true\` provider.`)}(dir),valueAccessors.forEach((v=>{v.constructor===DefaultValueAccessor?defaultAccessor=v:!function isBuiltInAccessor(valueAccessor){return Object.getPrototypeOf(valueAccessor.constructor)===BuiltInControlValueAccessor}(v)?(customAccessor&&("undefined"==typeof ngDevMode||ngDevMode)&&_throwError(dir,"More than one custom value accessor matches form control with"),customAccessor=v):(builtinAccessor&&("undefined"==typeof ngDevMode||ngDevMode)&&_throwError(dir,"More than one built-in value accessor matches form control with"),builtinAccessor=v)})),customAccessor||(builtinAccessor||(defaultAccessor||(("undefined"==typeof ngDevMode||ngDevMode)&&_throwError(dir,"No valid value accessor for form control with"),null)))}function _ngModelWarning(name,type,instance,warningConfig){"never"!==warningConfig&&((null!==warningConfig&&"once"!==warningConfig||type._ngModelWarningSentOnce)&&("always"!==warningConfig||instance._ngModelWarningSent)||(console.warn(function ngModelWarning(directiveName){return`\n  It looks like you're using ngModel on the same form field as ${directiveName}.\n  Support for using the ngModel input property and ngModelChange event with\n  reactive form directives has been deprecated in Angular v6 and will be removed\n  in a future version of Angular.\n\n  For more information on this, see our API docs here:\n  https://angular.io/api/forms/${"formControl"===directiveName?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n  `}(name)),type._ngModelWarningSentOnce=!0,instance._ngModelWarningSent=!0))}const formDirectiveProvider$1={provide:ControlContainer,useExisting:(0,core.forwardRef)((()=>NgForm))},resolvedPromise$1=Promise.resolve();class NgForm extends ControlContainer{constructor(validators,asyncValidators,callSetDisabledState){super(),this.callSetDisabledState=callSetDisabledState,this.submitted=!1,this._directives=new Set,this.ngSubmit=new core.EventEmitter,this.form=new FormGroup({},composeValidators(validators),composeAsyncValidators(asyncValidators))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(dir){resolvedPromise$1.then((()=>{const container=this._findContainer(dir.path);dir.control=container.registerControl(dir.name,dir.control),setUpControl(dir.control,dir,this.callSetDisabledState),dir.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(dir)}))}getControl(dir){return this.form.get(dir.path)}removeControl(dir){resolvedPromise$1.then((()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name),this._directives.delete(dir)}))}addFormGroup(dir){resolvedPromise$1.then((()=>{const container=this._findContainer(dir.path),group=new FormGroup({});setUpFormContainer(group,dir),container.registerControl(dir.name,group),group.updateValueAndValidity({emitEvent:!1})}))}removeFormGroup(dir){resolvedPromise$1.then((()=>{const container=this._findContainer(dir.path);container&&container.removeControl(dir.name)}))}getFormGroup(dir){return this.form.get(dir.path)}updateModel(dir,value){resolvedPromise$1.then((()=>{this.form.get(dir.path).setValue(value)}))}setValue(value){this.control.setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this._directives),this.ngSubmit.emit($event),"dialog"===$event?.target?.method}onReset(){this.resetForm()}resetForm(value=void 0){this.form.reset(value),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(path){return path.pop(),path.length?this.form.get(path):this.form}static#_=this.ɵfac=function NgForm_Factory(t){return new(t||NgForm)(core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10),core["ɵɵdirectiveInject"](CALL_SET_DISABLED_STATE,8))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgForm,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function NgForm_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("submit",(function NgForm_submit_HostBindingHandler($event){return ctx.onSubmit($event)}))("reset",(function NgForm_reset_HostBindingHandler(){return ctx.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[core["ɵɵProvidersFeature"]([formDirectiveProvider$1]),core["ɵɵInheritDefinitionFeature"]]})}function removeListItem(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}function isFormControlState(formState){return"object"==typeof formState&&null!==formState&&2===Object.keys(formState).length&&"value"in formState&&"disabled"in formState}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgForm,[{type:core.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]",providers:[formDirectiveProvider$1],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],(function(){return[{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[CALL_SET_DISABLED_STATE]}]}]}),{options:[{type:core.Input,args:["ngFormOptions"]}]});const FormControl=class FormControl extends AbstractControl{constructor(formState=null,validatorOrOpts,asyncValidator){super(pickValidators(validatorOrOpts),pickAsyncValidators(asyncValidator,validatorOrOpts)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(formState),this._setUpdateStrategy(validatorOrOpts),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),isOptionsObj(validatorOrOpts)&&(validatorOrOpts.nonNullable||validatorOrOpts.initialValueIsDefault)&&(isFormControlState(formState)?this.defaultValue=formState.value:this.defaultValue=formState)}setValue(value,options={}){this.value=this._pendingValue=value,this._onChange.length&&!1!==options.emitModelToViewChange&&this._onChange.forEach((changeFn=>changeFn(this.value,!1!==options.emitViewToModelChange))),this.updateValueAndValidity(options)}patchValue(value,options={}){this.setValue(value,options)}reset(formState=this.defaultValue,options={}){this._applyFormState(formState),this.markAsPristine(options),this.markAsUntouched(options),this.setValue(this.value,options),this._pendingChange=!1}_updateValue(){}_anyControls(condition){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fn){this._onChange.push(fn)}_unregisterOnChange(fn){removeListItem(this._onChange,fn)}registerOnDisabledChange(fn){this._onDisabledChange.push(fn)}_unregisterOnDisabledChange(fn){removeListItem(this._onDisabledChange,fn)}_forEachChild(cb){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(formState){isFormControlState(formState)?(this.value=this._pendingValue=formState.value,formState.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=formState}};class AbstractFormGroupDirective extends ControlContainer{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#_=this.ɵfac=function(){let ɵAbstractFormGroupDirective_BaseFactory;return function AbstractFormGroupDirective_Factory(t){return(ɵAbstractFormGroupDirective_BaseFactory||(ɵAbstractFormGroupDirective_BaseFactory=core["ɵɵgetInheritedFactory"](AbstractFormGroupDirective)))(t||AbstractFormGroupDirective)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:AbstractFormGroupDirective,features:[core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AbstractFormGroupDirective,[{type:core.Directive}],null,null);const modelGroupProvider={provide:ControlContainer,useExisting:(0,core.forwardRef)((()=>NgModelGroup))};class NgModelGroup extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this.name="",this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators)}_checkParentType(){if(!(this._parent instanceof NgModelGroup)&&!(this._parent instanceof NgForm)&&("undefined"==typeof ngDevMode||ngDevMode))throw function modelGroupParentException(){return new core["ɵRuntimeError"](1353,`\n    ngModelGroup cannot be used with a parent formGroup directive.\n\n    Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n    ${formGroupNameExample}\n\n    Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n    ${ngModelGroupExample}`)}()}static#_=this.ɵfac=function NgModelGroup_Factory(t){return new(t||NgModelGroup)(core["ɵɵdirectiveInject"](ControlContainer,5),core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgModelGroup,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[core["ɵɵProvidersFeature"]([modelGroupProvider]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgModelGroup,[{type:core.Directive,args:[{selector:"[ngModelGroup]",providers:[modelGroupProvider],exportAs:"ngModelGroup"}]}],(function(){return[{type:ControlContainer,decorators:[{type:core.Host},{type:core.SkipSelf}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]}]}),{name:[{type:core.Input,args:["ngModelGroup"]}]});const formControlBinding$1={provide:NgControl,useExisting:(0,core.forwardRef)((()=>NgModel))},resolvedPromise=Promise.resolve();class NgModel extends NgControl{constructor(parent,validators,asyncValidators,valueAccessors,_changeDetectorRef,callSetDisabledState){super(),this._changeDetectorRef=_changeDetectorRef,this.callSetDisabledState=callSetDisabledState,this.control=new FormControl,this._registered=!1,this.name="",this.update=new core.EventEmitter,this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators),this.valueAccessor=selectValueAccessor(this,valueAccessors)}ngOnChanges(changes){if(this._checkForErrors(),!this._registered||"name"in changes){if(this._registered&&(this._checkName(),this.formDirective)){const oldName=changes.name.previousValue;this.formDirective.removeControl({name:oldName,path:this._getPath(oldName)})}this._setUpControl()}"isDisabled"in changes&&this._updateDisabled(changes),isPropertyUpdated(changes,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){setUpControl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){if("undefined"==typeof ngDevMode||ngDevMode){if(!(this._parent instanceof NgModelGroup)&&this._parent instanceof AbstractFormGroupDirective)throw function formGroupNameException(){return new core["ɵRuntimeError"](1351,`\n    ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n    Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n    ${formGroupNameExample}\n\n    Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n    ${ngModelGroupExample}`)}();if(!(this._parent instanceof NgModelGroup||this._parent instanceof NgForm))throw function modelParentException(){return new core["ɵRuntimeError"](1350,`\n    ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n    formGroup's partner directive "formControlName" instead.  Example:\n\n    ${formControlNameExample}\n\n    Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n    Example:\n\n    \n  <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n      <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n  </div>\n`)}()}}_checkName(){if(this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&!this.name&&("undefined"==typeof ngDevMode||ngDevMode))throw function missingNameException(){return new core["ɵRuntimeError"](1352,'If ngModel is used within a form tag, either the name attribute must be set or the form\n    control must be defined as \'standalone\' in ngModelOptions.\n\n    Example 1: <input [(ngModel)]="person.firstName" name="first">\n    Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}()}_updateValue(value){resolvedPromise.then((()=>{this.control.setValue(value,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()}))}_updateDisabled(changes){const disabledValue=changes.isDisabled.currentValue,isDisabled=0!==disabledValue&&(0,core.booleanAttribute)(disabledValue);resolvedPromise.then((()=>{isDisabled&&!this.control.disabled?this.control.disable():!isDisabled&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()}))}_getPath(controlName){return this._parent?controlPath(controlName,this._parent):[controlName]}static#_=this.ɵfac=function NgModel_Factory(t){return new(t||NgModel)(core["ɵɵdirectiveInject"](ControlContainer,9),core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_VALUE_ACCESSOR,10),core["ɵɵdirectiveInject"](core.ChangeDetectorRef,8),core["ɵɵdirectiveInject"](CALL_SET_DISABLED_STATE,8))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgModel,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[core["ɵɵProvidersFeature"]([formControlBinding$1]),core["ɵɵInheritDefinitionFeature"],core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgModel,[{type:core.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[formControlBinding$1],exportAs:"ngModel"}]}],(function(){return[{type:ControlContainer,decorators:[{type:core.Optional},{type:core.Host}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALUE_ACCESSOR]}]},{type:core.ChangeDetectorRef,decorators:[{type:core.Optional},{type:core.Inject,args:[core.ChangeDetectorRef]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[CALL_SET_DISABLED_STATE]}]}]}),{name:[{type:core.Input}],isDisabled:[{type:core.Input,args:["disabled"]}],model:[{type:core.Input,args:["ngModel"]}],options:[{type:core.Input,args:["ngModelOptions"]}],update:[{type:core.Output,args:["ngModelChange"]}]});class ɵNgNoValidate{static#_=this.ɵfac=function ɵNgNoValidate_Factory(t){return new(t||ɵNgNoValidate)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:ɵNgNoValidate,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ɵNgNoValidate,[{type:core.Directive,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],null,null);const NUMBER_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>NumberValueAccessor)),multi:!0};class NumberValueAccessor extends BuiltInControlValueAccessor{writeValue(value){const normalizedValue=null==value?"":value;this.setProperty("value",normalizedValue)}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}static#_=this.ɵfac=function(){let ɵNumberValueAccessor_BaseFactory;return function NumberValueAccessor_Factory(t){return(ɵNumberValueAccessor_BaseFactory||(ɵNumberValueAccessor_BaseFactory=core["ɵɵgetInheritedFactory"](NumberValueAccessor)))(t||NumberValueAccessor)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NumberValueAccessor,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function NumberValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("input",(function NumberValueAccessor_input_HostBindingHandler($event){return ctx.onChange($event.target.value)}))("blur",(function NumberValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))},features:[core["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NumberValueAccessor,[{type:core.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[NUMBER_VALUE_ACCESSOR]}]}],null,null);const RADIO_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>RadioControlValueAccessor)),multi:!0};class RadioControlRegistryModule{static#_=this.ɵfac=function RadioControlRegistryModule_Factory(t){return new(t||RadioControlRegistryModule)};static#_2=this.ɵmod=core["ɵɵdefineNgModule"]({type:RadioControlRegistryModule});static#_3=this.ɵinj=core["ɵɵdefineInjector"]({})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](RadioControlRegistryModule,[{type:core.NgModule}],null,null);class RadioControlRegistry{constructor(){this._accessors=[]}add(control,accessor){this._accessors.push([control,accessor])}remove(accessor){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===accessor)return void this._accessors.splice(i,1)}select(accessor){this._accessors.forEach((c=>{this._isSameGroup(c,accessor)&&c[1]!==accessor&&c[1].fireUncheck(accessor.value)}))}_isSameGroup(controlPair,accessor){return!!controlPair[0].control&&(controlPair[0]._parent===accessor._control._parent&&controlPair[1].name===accessor.name)}static#_=this.ɵfac=function RadioControlRegistry_Factory(t){return new(t||RadioControlRegistry)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:RadioControlRegistry,factory:RadioControlRegistry.ɵfac,providedIn:RadioControlRegistryModule})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](RadioControlRegistry,[{type:core.Injectable,args:[{providedIn:RadioControlRegistryModule}]}],null,null);class RadioControlValueAccessor extends BuiltInControlValueAccessor{constructor(renderer,elementRef,_registry,_injector){super(renderer,elementRef),this._registry=_registry,this._injector=_injector,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,core.inject)(CALL_SET_DISABLED_STATE,{optional:!0})??setDisabledStateDefault}ngOnInit(){this._control=this._injector.get(NgControl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(value){this._state=value===this.value,this.setProperty("checked",this._state)}registerOnChange(fn){this._fn=fn,this.onChange=()=>{fn(this.value),this._registry.select(this)}}setDisabledState(isDisabled){(this.setDisabledStateFired||isDisabled||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",isDisabled),this.setDisabledStateFired=!0}fireUncheck(value){this.writeValue(value)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&("undefined"==typeof ngDevMode||ngDevMode)&&function throwNameError(){throw new core["ɵRuntimeError"](1202,'\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}(),!this.name&&this.formControlName&&(this.name=this.formControlName)}static#_=this.ɵfac=function RadioControlValueAccessor_Factory(t){return new(t||RadioControlValueAccessor)(core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](RadioControlRegistry),core["ɵɵdirectiveInject"](core.Injector))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:RadioControlValueAccessor,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function RadioControlValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("change",(function RadioControlValueAccessor_change_HostBindingHandler(){return ctx.onChange()}))("blur",(function RadioControlValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[core["ɵɵProvidersFeature"]([RADIO_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](RadioControlValueAccessor,[{type:core.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[RADIO_VALUE_ACCESSOR]}]}],(function(){return[{type:core.Renderer2},{type:core.ElementRef},{type:RadioControlRegistry},{type:core.Injector}]}),{name:[{type:core.Input}],formControlName:[{type:core.Input}],value:[{type:core.Input}]});const RANGE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>RangeValueAccessor)),multi:!0};class RangeValueAccessor extends BuiltInControlValueAccessor{writeValue(value){this.setProperty("value",parseFloat(value))}registerOnChange(fn){this.onChange=value=>{fn(""==value?null:parseFloat(value))}}static#_=this.ɵfac=function(){let ɵRangeValueAccessor_BaseFactory;return function RangeValueAccessor_Factory(t){return(ɵRangeValueAccessor_BaseFactory||(ɵRangeValueAccessor_BaseFactory=core["ɵɵgetInheritedFactory"](RangeValueAccessor)))(t||RangeValueAccessor)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:RangeValueAccessor,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function RangeValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("change",(function RangeValueAccessor_change_HostBindingHandler($event){return ctx.onChange($event.target.value)}))("input",(function RangeValueAccessor_input_HostBindingHandler($event){return ctx.onChange($event.target.value)}))("blur",(function RangeValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))},features:[core["ɵɵProvidersFeature"]([RANGE_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](RangeValueAccessor,[{type:core.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[RANGE_VALUE_ACCESSOR]}]}],null,null);const NG_MODEL_WITH_FORM_CONTROL_WARNING=new core.InjectionToken("NgModelWithFormControlWarning"),formControlBinding={provide:NgControl,useExisting:(0,core.forwardRef)((()=>FormControlDirective))};class FormControlDirective extends NgControl{set isDisabled(isDisabled){("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(disabledAttrWarning)}static#_=this._ngModelWarningSentOnce=!1;constructor(validators,asyncValidators,valueAccessors,_ngModelWarningConfig,callSetDisabledState){super(),this._ngModelWarningConfig=_ngModelWarningConfig,this.callSetDisabledState=callSetDisabledState,this.update=new core.EventEmitter,this._ngModelWarningSent=!1,this._setValidators(validators),this._setAsyncValidators(asyncValidators),this.valueAccessor=selectValueAccessor(this,valueAccessors)}ngOnChanges(changes){if(this._isControlChanged(changes)){const previousForm=changes.form.previousValue;previousForm&&cleanUpControl(previousForm,this,!1),setUpControl(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}isPropertyUpdated(changes,this.viewModel)&&(("undefined"==typeof ngDevMode||ngDevMode)&&_ngModelWarning("formControl",FormControlDirective,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&cleanUpControl(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}_isControlChanged(changes){return changes.hasOwnProperty("form")}static#_2=this.ɵfac=function FormControlDirective_Factory(t){return new(t||FormControlDirective)(core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_VALUE_ACCESSOR,10),core["ɵɵdirectiveInject"](NG_MODEL_WITH_FORM_CONTROL_WARNING,8),core["ɵɵdirectiveInject"](CALL_SET_DISABLED_STATE,8))};static#_3=this.ɵdir=core["ɵɵdefineDirective"]({type:FormControlDirective,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[core["ɵɵProvidersFeature"]([formControlBinding]),core["ɵɵInheritDefinitionFeature"],core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormControlDirective,[{type:core.Directive,args:[{selector:"[formControl]",providers:[formControlBinding],exportAs:"ngForm"}]}],(function(){return[{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALUE_ACCESSOR]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[NG_MODEL_WITH_FORM_CONTROL_WARNING]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[CALL_SET_DISABLED_STATE]}]}]}),{form:[{type:core.Input,args:["formControl"]}],isDisabled:[{type:core.Input,args:["disabled"]}],model:[{type:core.Input,args:["ngModel"]}],update:[{type:core.Output,args:["ngModelChange"]}]});const formDirectiveProvider={provide:ControlContainer,useExisting:(0,core.forwardRef)((()=>FormGroupDirective))};class FormGroupDirective extends ControlContainer{constructor(validators,asyncValidators,callSetDisabledState){super(),this.callSetDisabledState=callSetDisabledState,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new core.EventEmitter,this._setValidators(validators),this._setAsyncValidators(asyncValidators)}ngOnChanges(changes){this._checkFormPresent(),changes.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cleanUpValidators(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange((()=>{})))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(dir){const ctrl=this.form.get(dir.path);return setUpControl(ctrl,dir,this.callSetDisabledState),ctrl.updateValueAndValidity({emitEvent:!1}),this.directives.push(dir),ctrl}getControl(dir){return this.form.get(dir.path)}removeControl(dir){cleanUpControl(dir.control||null,dir,!1),function removeListItem$1(list,el){const index=list.indexOf(el);index>-1&&list.splice(index,1)}(this.directives,dir)}addFormGroup(dir){this._setUpFormContainer(dir)}removeFormGroup(dir){this._cleanUpFormContainer(dir)}getFormGroup(dir){return this.form.get(dir.path)}addFormArray(dir){this._setUpFormContainer(dir)}removeFormArray(dir){this._cleanUpFormContainer(dir)}getFormArray(dir){return this.form.get(dir.path)}updateModel(dir,value){this.form.get(dir.path).setValue(value)}onSubmit($event){return this.submitted=!0,syncPendingControls(this.form,this.directives),this.ngSubmit.emit($event),"dialog"===$event?.target?.method}onReset(){this.resetForm()}resetForm(value=void 0){this.form.reset(value),this.submitted=!1}_updateDomValue(){this.directives.forEach((dir=>{const oldCtrl=dir.control,newCtrl=this.form.get(dir.path);oldCtrl!==newCtrl&&(cleanUpControl(oldCtrl||null,dir),newCtrl instanceof FormControl&&(setUpControl(newCtrl,dir,this.callSetDisabledState),dir.control=newCtrl))})),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(dir){const ctrl=this.form.get(dir.path);setUpFormContainer(ctrl,dir),ctrl.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(dir){if(this.form){const ctrl=this.form.get(dir.path);if(ctrl){const isControlUpdated=function cleanUpFormContainer(control,dir){return cleanUpValidators(control,dir)}(ctrl,dir);isControlUpdated&&ctrl.updateValueAndValidity({emitEvent:!1})}}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange((()=>{}))}_updateValidators(){setUpValidators(this.form,this),this._oldForm&&cleanUpValidators(this._oldForm,this)}_checkFormPresent(){if(!this.form&&("undefined"==typeof ngDevMode||ngDevMode))throw function missingFormException(){return new core["ɵRuntimeError"](1052,`formGroup expects a FormGroup instance. Please pass one in.\n\n      Example:\n\n      ${formControlNameExample}`)}()}static#_=this.ɵfac=function FormGroupDirective_Factory(t){return new(t||FormGroupDirective)(core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10),core["ɵɵdirectiveInject"](CALL_SET_DISABLED_STATE,8))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:FormGroupDirective,selectors:[["","formGroup",""]],hostBindings:function FormGroupDirective_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("submit",(function FormGroupDirective_submit_HostBindingHandler($event){return ctx.onSubmit($event)}))("reset",(function FormGroupDirective_reset_HostBindingHandler(){return ctx.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[core["ɵɵProvidersFeature"]([formDirectiveProvider]),core["ɵɵInheritDefinitionFeature"],core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormGroupDirective,[{type:core.Directive,args:[{selector:"[formGroup]",providers:[formDirectiveProvider],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],(function(){return[{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[CALL_SET_DISABLED_STATE]}]}]}),{form:[{type:core.Input,args:["formGroup"]}],ngSubmit:[{type:core.Output}]});const formGroupNameProvider={provide:ControlContainer,useExisting:(0,core.forwardRef)((()=>FormGroupName))};class FormGroupName extends AbstractFormGroupDirective{constructor(parent,validators,asyncValidators){super(),this.name=null,this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators)}_checkParentType(){if(_hasInvalidParent(this._parent)&&("undefined"==typeof ngDevMode||ngDevMode))throw function groupParentException(){return new core["ɵRuntimeError"](1053,`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n    directive and pass it an existing FormGroup instance (you can create one in your class).\n\n    Example:\n\n    ${formGroupNameExample}`)}()}static#_=this.ɵfac=function FormGroupName_Factory(t){return new(t||FormGroupName)(core["ɵɵdirectiveInject"](ControlContainer,13),core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:FormGroupName,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[core["ɵɵProvidersFeature"]([formGroupNameProvider]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormGroupName,[{type:core.Directive,args:[{selector:"[formGroupName]",providers:[formGroupNameProvider]}]}],(function(){return[{type:ControlContainer,decorators:[{type:core.Optional},{type:core.Host},{type:core.SkipSelf}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]}]}),{name:[{type:core.Input,args:["formGroupName"]}]});const formArrayNameProvider={provide:ControlContainer,useExisting:(0,core.forwardRef)((()=>FormArrayName))};class FormArrayName extends ControlContainer{constructor(parent,validators,asyncValidators){super(),this.name=null,this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){if(_hasInvalidParent(this._parent)&&("undefined"==typeof ngDevMode||ngDevMode))throw function arrayParentException(){return new core["ɵRuntimeError"](1054,'formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      \n  <div [formGroup]="myGroup">\n    <div formArrayName="cities">\n      <div *ngFor="let city of cityArray.controls; index as i">\n        <input [formControlName]="i">\n      </div>\n    </div>\n  </div>\n\n  In your class:\n\n  this.cityArray = new FormArray([new FormControl(\'SF\')]);\n  this.myGroup = new FormGroup({\n    cities: this.cityArray\n  });')}()}static#_=this.ɵfac=function FormArrayName_Factory(t){return new(t||FormArrayName)(core["ɵɵdirectiveInject"](ControlContainer,13),core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:FormArrayName,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[core["ɵɵProvidersFeature"]([formArrayNameProvider]),core["ɵɵInheritDefinitionFeature"]]})}function _hasInvalidParent(parent){return!(parent instanceof FormGroupName||parent instanceof FormGroupDirective||parent instanceof FormArrayName)}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormArrayName,[{type:core.Directive,args:[{selector:"[formArrayName]",providers:[formArrayNameProvider]}]}],(function(){return[{type:ControlContainer,decorators:[{type:core.Optional},{type:core.Host},{type:core.SkipSelf}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]}]}),{name:[{type:core.Input,args:["formArrayName"]}]});const controlNameBinding={provide:NgControl,useExisting:(0,core.forwardRef)((()=>FormControlName))};class FormControlName extends NgControl{set isDisabled(isDisabled){("undefined"==typeof ngDevMode||ngDevMode)&&console.warn(disabledAttrWarning)}static#_=this._ngModelWarningSentOnce=!1;constructor(parent,validators,asyncValidators,valueAccessors,_ngModelWarningConfig){super(),this._ngModelWarningConfig=_ngModelWarningConfig,this._added=!1,this.name=null,this.update=new core.EventEmitter,this._ngModelWarningSent=!1,this._parent=parent,this._setValidators(validators),this._setAsyncValidators(asyncValidators),this.valueAccessor=selectValueAccessor(this,valueAccessors)}ngOnChanges(changes){this._added||this._setUpControl(),isPropertyUpdated(changes,this.viewModel)&&(("undefined"==typeof ngDevMode||ngDevMode)&&_ngModelWarning("formControlName",FormControlName,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(newValue){this.viewModel=newValue,this.update.emit(newValue)}get path(){return controlPath(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){if("undefined"==typeof ngDevMode||ngDevMode){if(!(this._parent instanceof FormGroupName)&&this._parent instanceof AbstractFormGroupDirective)throw function ngModelGroupException(){return new core["ɵRuntimeError"](1051,`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n      that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n      Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n      ${formGroupNameExample}\n\n      Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n      ${ngModelGroupExample}`)}();if(!(this._parent instanceof FormGroupName||this._parent instanceof FormGroupDirective||this._parent instanceof FormArrayName))throw function controlParentException(){return new core["ɵRuntimeError"](1050,`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n    Example:\n\n    ${formControlNameExample}`)}()}}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#_2=this.ɵfac=function FormControlName_Factory(t){return new(t||FormControlName)(core["ɵɵdirectiveInject"](ControlContainer,13),core["ɵɵdirectiveInject"](NG_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_ASYNC_VALIDATORS,10),core["ɵɵdirectiveInject"](NG_VALUE_ACCESSOR,10),core["ɵɵdirectiveInject"](NG_MODEL_WITH_FORM_CONTROL_WARNING,8))};static#_3=this.ɵdir=core["ɵɵdefineDirective"]({type:FormControlName,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[core["ɵɵProvidersFeature"]([controlNameBinding]),core["ɵɵInheritDefinitionFeature"],core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormControlName,[{type:core.Directive,args:[{selector:"[formControlName]",providers:[controlNameBinding]}]}],(function(){return[{type:ControlContainer,decorators:[{type:core.Optional},{type:core.Host},{type:core.SkipSelf}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Self},{type:core.Inject,args:[NG_VALUE_ACCESSOR]}]},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[NG_MODEL_WITH_FORM_CONTROL_WARNING]}]}]}),{name:[{type:core.Input,args:["formControlName"]}],isDisabled:[{type:core.Input,args:["disabled"]}],model:[{type:core.Input,args:["ngModel"]}],update:[{type:core.Output,args:["ngModelChange"]}]});const SELECT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>SelectControlValueAccessor)),multi:!0};function _buildValueString$1(id,value){return null==id?`${value}`:(value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}class SelectControlValueAccessor extends BuiltInControlValueAccessor{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(fn){if("function"!=typeof fn&&("undefined"==typeof ngDevMode||ngDevMode))throw new core["ɵRuntimeError"](1201,`compareWith must be a function, but received ${JSON.stringify(fn)}`);this._compareWith=fn}writeValue(value){this.value=value;const valueString=_buildValueString$1(this._getOptionId(value),value);this.setProperty("value",valueString)}registerOnChange(fn){this.onChange=valueString=>{this.value=this._getOptionValue(valueString),fn(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(value){for(const id of this._optionMap.keys())if(this._compareWith(this._optionMap.get(id),value))return id;return null}_getOptionValue(valueString){const id=function _extractId$1(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id):valueString}static#_=this.ɵfac=function(){let ɵSelectControlValueAccessor_BaseFactory;return function SelectControlValueAccessor_Factory(t){return(ɵSelectControlValueAccessor_BaseFactory||(ɵSelectControlValueAccessor_BaseFactory=core["ɵɵgetInheritedFactory"](SelectControlValueAccessor)))(t||SelectControlValueAccessor)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:SelectControlValueAccessor,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function SelectControlValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("change",(function SelectControlValueAccessor_change_HostBindingHandler($event){return ctx.onChange($event.target.value)}))("blur",(function SelectControlValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))},inputs:{compareWith:"compareWith"},features:[core["ɵɵProvidersFeature"]([SELECT_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectControlValueAccessor,[{type:core.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[SELECT_VALUE_ACCESSOR]}]}],null,{compareWith:[{type:core.Input}]});class NgSelectOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption())}set ngValue(value){null!=this._select&&(this._select._optionMap.set(this.id,value),this._setElementValue(_buildValueString$1(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._setElementValue(value),this._select&&this._select.writeValue(this._select.value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#_=this.ɵfac=function NgSelectOption_Factory(t){return new(t||NgSelectOption)(core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](SelectControlValueAccessor,9))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgSelectOption,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgSelectOption,[{type:core.Directive,args:[{selector:"option"}]}],(function(){return[{type:core.ElementRef},{type:core.Renderer2},{type:SelectControlValueAccessor,decorators:[{type:core.Optional},{type:core.Host}]}]}),{ngValue:[{type:core.Input,args:["ngValue"]}],value:[{type:core.Input,args:["value"]}]});const SELECT_MULTIPLE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>SelectMultipleControlValueAccessor)),multi:!0};function _buildValueString(id,value){return null==id?`${value}`:("string"==typeof value&&(value=`'${value}'`),value&&"object"==typeof value&&(value="Object"),`${id}: ${value}`.slice(0,50))}class SelectMultipleControlValueAccessor extends BuiltInControlValueAccessor{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(fn){if("function"!=typeof fn&&("undefined"==typeof ngDevMode||ngDevMode))throw new core["ɵRuntimeError"](1201,`compareWith must be a function, but received ${JSON.stringify(fn)}`);this._compareWith=fn}writeValue(value){let optionSelectedStateSetter;if(this.value=value,Array.isArray(value)){const ids=value.map((v=>this._getOptionId(v)));optionSelectedStateSetter=(opt,o)=>{opt._setSelected(ids.indexOf(o.toString())>-1)}}else optionSelectedStateSetter=(opt,o)=>{opt._setSelected(!1)};this._optionMap.forEach(optionSelectedStateSetter)}registerOnChange(fn){this.onChange=element=>{const selected=[],selectedOptions=element.selectedOptions;if(void 0!==selectedOptions){const options=selectedOptions;for(let i=0;i<options.length;i++){const opt=options[i],val=this._getOptionValue(opt.value);selected.push(val)}}else{const options=element.options;for(let i=0;i<options.length;i++){const opt=options[i];if(opt.selected){const val=this._getOptionValue(opt.value);selected.push(val)}}}this.value=selected,fn(selected)}}_registerOption(value){const id=(this._idCounter++).toString();return this._optionMap.set(id,value),id}_getOptionId(value){for(const id of this._optionMap.keys())if(this._compareWith(this._optionMap.get(id)._value,value))return id;return null}_getOptionValue(valueString){const id=function _extractId(valueString){return valueString.split(":")[0]}(valueString);return this._optionMap.has(id)?this._optionMap.get(id)._value:valueString}static#_=this.ɵfac=function(){let ɵSelectMultipleControlValueAccessor_BaseFactory;return function SelectMultipleControlValueAccessor_Factory(t){return(ɵSelectMultipleControlValueAccessor_BaseFactory||(ɵSelectMultipleControlValueAccessor_BaseFactory=core["ɵɵgetInheritedFactory"](SelectMultipleControlValueAccessor)))(t||SelectMultipleControlValueAccessor)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:SelectMultipleControlValueAccessor,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function SelectMultipleControlValueAccessor_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("change",(function SelectMultipleControlValueAccessor_change_HostBindingHandler($event){return ctx.onChange($event.target)}))("blur",(function SelectMultipleControlValueAccessor_blur_HostBindingHandler(){return ctx.onTouched()}))},inputs:{compareWith:"compareWith"},features:[core["ɵɵProvidersFeature"]([SELECT_MULTIPLE_VALUE_ACCESSOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectMultipleControlValueAccessor,[{type:core.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[SELECT_MULTIPLE_VALUE_ACCESSOR]}]}],null,{compareWith:[{type:core.Input}]});class ɵNgSelectMultipleOption{constructor(_element,_renderer,_select){this._element=_element,this._renderer=_renderer,this._select=_select,this._select&&(this.id=this._select._registerOption(this))}set ngValue(value){null!=this._select&&(this._value=value,this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value))}set value(value){this._select?(this._value=value,this._setElementValue(_buildValueString(this.id,value)),this._select.writeValue(this._select.value)):this._setElementValue(value)}_setElementValue(value){this._renderer.setProperty(this._element.nativeElement,"value",value)}_setSelected(selected){this._renderer.setProperty(this._element.nativeElement,"selected",selected)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#_=this.ɵfac=function ɵNgSelectMultipleOption_Factory(t){return new(t||ɵNgSelectMultipleOption)(core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](SelectMultipleControlValueAccessor,9))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:ɵNgSelectMultipleOption,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}function toInteger(value){return"number"==typeof value?value:parseInt(value,10)}function toFloat(value){return"number"==typeof value?value:parseFloat(value)}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ɵNgSelectMultipleOption,[{type:core.Directive,args:[{selector:"option"}]}],(function(){return[{type:core.ElementRef},{type:core.Renderer2},{type:SelectMultipleControlValueAccessor,decorators:[{type:core.Optional},{type:core.Host}]}]}),{ngValue:[{type:core.Input,args:["ngValue"]}],value:[{type:core.Input,args:["value"]}]});class AbstractValidatorDirective{constructor(){this._validator=nullValidator}ngOnChanges(changes){if(this.inputName in changes){const input=this.normalizeInput(changes[this.inputName].currentValue);this._enabled=this.enabled(input),this._validator=this._enabled?this.createValidator(input):nullValidator,this._onChange&&this._onChange()}}validate(control){return this._validator(control)}registerOnValidatorChange(fn){this._onChange=fn}enabled(input){return null!=input}static#_=this.ɵfac=function AbstractValidatorDirective_Factory(t){return new(t||AbstractValidatorDirective)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:AbstractValidatorDirective,features:[core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AbstractValidatorDirective,[{type:core.Directive}],null,null);const MAX_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MaxValidator)),multi:!0};class MaxValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=input=>toFloat(input),this.createValidator=max=>maxValidator(max)}static#_=this.ɵfac=function(){let ɵMaxValidator_BaseFactory;return function MaxValidator_Factory(t){return(ɵMaxValidator_BaseFactory||(ɵMaxValidator_BaseFactory=core["ɵɵgetInheritedFactory"](MaxValidator)))(t||MaxValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:MaxValidator,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function MaxValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("max",ctx._enabled?ctx.max:null)},inputs:{max:"max"},features:[core["ɵɵProvidersFeature"]([MAX_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MaxValidator,[{type:core.Directive,args:[{selector:"input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]",providers:[MAX_VALIDATOR],host:{"[attr.max]":"_enabled ? max : null"}}]}],null,{max:[{type:core.Input}]});const MIN_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MinValidator)),multi:!0};class MinValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=input=>toFloat(input),this.createValidator=min=>minValidator(min)}static#_=this.ɵfac=function(){let ɵMinValidator_BaseFactory;return function MinValidator_Factory(t){return(ɵMinValidator_BaseFactory||(ɵMinValidator_BaseFactory=core["ɵɵgetInheritedFactory"](MinValidator)))(t||MinValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:MinValidator,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function MinValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("min",ctx._enabled?ctx.min:null)},inputs:{min:"min"},features:[core["ɵɵProvidersFeature"]([MIN_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MinValidator,[{type:core.Directive,args:[{selector:"input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]",providers:[MIN_VALIDATOR],host:{"[attr.min]":"_enabled ? min : null"}}]}],null,{min:[{type:core.Input}]});const REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>RequiredValidator)),multi:!0},CHECKBOX_REQUIRED_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>CheckboxRequiredValidator)),multi:!0};class RequiredValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=core.booleanAttribute,this.createValidator=input=>requiredValidator}enabled(input){return input}static#_=this.ɵfac=function(){let ɵRequiredValidator_BaseFactory;return function RequiredValidator_Factory(t){return(ɵRequiredValidator_BaseFactory||(ɵRequiredValidator_BaseFactory=core["ɵɵgetInheritedFactory"](RequiredValidator)))(t||RequiredValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:RequiredValidator,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function RequiredValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("required",ctx._enabled?"":null)},inputs:{required:"required"},features:[core["ɵɵProvidersFeature"]([REQUIRED_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](RequiredValidator,[{type:core.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[REQUIRED_VALIDATOR],host:{"[attr.required]":'_enabled ? "" : null'}}]}],null,{required:[{type:core.Input}]});class CheckboxRequiredValidator extends RequiredValidator{constructor(){super(...arguments),this.createValidator=input=>requiredTrueValidator}static#_=this.ɵfac=function(){let ɵCheckboxRequiredValidator_BaseFactory;return function CheckboxRequiredValidator_Factory(t){return(ɵCheckboxRequiredValidator_BaseFactory||(ɵCheckboxRequiredValidator_BaseFactory=core["ɵɵgetInheritedFactory"](CheckboxRequiredValidator)))(t||CheckboxRequiredValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:CheckboxRequiredValidator,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function CheckboxRequiredValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("required",ctx._enabled?"":null)},features:[core["ɵɵProvidersFeature"]([CHECKBOX_REQUIRED_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CheckboxRequiredValidator,[{type:core.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[CHECKBOX_REQUIRED_VALIDATOR],host:{"[attr.required]":'_enabled ? "" : null'}}]}],null,null);const EMAIL_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>EmailValidator)),multi:!0};class EmailValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=core.booleanAttribute,this.createValidator=input=>emailValidator}enabled(input){return input}static#_=this.ɵfac=function(){let ɵEmailValidator_BaseFactory;return function EmailValidator_Factory(t){return(ɵEmailValidator_BaseFactory||(ɵEmailValidator_BaseFactory=core["ɵɵgetInheritedFactory"](EmailValidator)))(t||EmailValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:EmailValidator,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[core["ɵɵProvidersFeature"]([EMAIL_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](EmailValidator,[{type:core.Directive,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[EMAIL_VALIDATOR]}]}],null,{email:[{type:core.Input}]});const MIN_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MinLengthValidator)),multi:!0};class MinLengthValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=input=>toInteger(input),this.createValidator=minlength=>minLengthValidator(minlength)}static#_=this.ɵfac=function(){let ɵMinLengthValidator_BaseFactory;return function MinLengthValidator_Factory(t){return(ɵMinLengthValidator_BaseFactory||(ɵMinLengthValidator_BaseFactory=core["ɵɵgetInheritedFactory"](MinLengthValidator)))(t||MinLengthValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:MinLengthValidator,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function MinLengthValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("minlength",ctx._enabled?ctx.minlength:null)},inputs:{minlength:"minlength"},features:[core["ɵɵProvidersFeature"]([MIN_LENGTH_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MinLengthValidator,[{type:core.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[MIN_LENGTH_VALIDATOR],host:{"[attr.minlength]":"_enabled ? minlength : null"}}]}],null,{minlength:[{type:core.Input}]});const MAX_LENGTH_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MaxLengthValidator)),multi:!0};class MaxLengthValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=input=>toInteger(input),this.createValidator=maxlength=>maxLengthValidator(maxlength)}static#_=this.ɵfac=function(){let ɵMaxLengthValidator_BaseFactory;return function MaxLengthValidator_Factory(t){return(ɵMaxLengthValidator_BaseFactory||(ɵMaxLengthValidator_BaseFactory=core["ɵɵgetInheritedFactory"](MaxLengthValidator)))(t||MaxLengthValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:MaxLengthValidator,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function MaxLengthValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("maxlength",ctx._enabled?ctx.maxlength:null)},inputs:{maxlength:"maxlength"},features:[core["ɵɵProvidersFeature"]([MAX_LENGTH_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MaxLengthValidator,[{type:core.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[MAX_LENGTH_VALIDATOR],host:{"[attr.maxlength]":"_enabled ? maxlength : null"}}]}],null,{maxlength:[{type:core.Input}]});const PATTERN_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>PatternValidator)),multi:!0};class PatternValidator extends AbstractValidatorDirective{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=input=>input,this.createValidator=input=>patternValidator(input)}static#_=this.ɵfac=function(){let ɵPatternValidator_BaseFactory;return function PatternValidator_Factory(t){return(ɵPatternValidator_BaseFactory||(ɵPatternValidator_BaseFactory=core["ɵɵgetInheritedFactory"](PatternValidator)))(t||PatternValidator)}}();static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:PatternValidator,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function PatternValidator_HostBindings(rf,ctx){2&rf&&core["ɵɵattribute"]("pattern",ctx._enabled?ctx.pattern:null)},inputs:{pattern:"pattern"},features:[core["ɵɵProvidersFeature"]([PATTERN_VALIDATOR]),core["ɵɵInheritDefinitionFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](PatternValidator,[{type:core.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[PATTERN_VALIDATOR],host:{"[attr.pattern]":"_enabled ? pattern : null"}}]}],null,{pattern:[{type:core.Input}]});const SHARED_FORM_DIRECTIVES=[ɵNgNoValidate,NgSelectOption,ɵNgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator,EmailValidator,MinValidator,MaxValidator],TEMPLATE_DRIVEN_DIRECTIVES=[NgModel,NgModelGroup,NgForm],REACTIVE_DRIVEN_DIRECTIVES=[FormControlDirective,FormGroupDirective,FormControlName,FormGroupName,FormArrayName];class ɵInternalFormsSharedModule{static#_=this.ɵfac=function ɵInternalFormsSharedModule_Factory(t){return new(t||ɵInternalFormsSharedModule)};static#_2=this.ɵmod=core["ɵɵdefineNgModule"]({type:ɵInternalFormsSharedModule,declarations:[ɵNgNoValidate,NgSelectOption,ɵNgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator,EmailValidator,MinValidator,MaxValidator],imports:[RadioControlRegistryModule],exports:[ɵNgNoValidate,NgSelectOption,ɵNgSelectMultipleOption,DefaultValueAccessor,NumberValueAccessor,RangeValueAccessor,CheckboxControlValueAccessor,SelectControlValueAccessor,SelectMultipleControlValueAccessor,RadioControlValueAccessor,NgControlStatus,NgControlStatusGroup,RequiredValidator,MinLengthValidator,MaxLengthValidator,PatternValidator,CheckboxRequiredValidator,EmailValidator,MinValidator,MaxValidator]});static#_3=this.ɵinj=core["ɵɵdefineInjector"]({imports:[RadioControlRegistryModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ɵInternalFormsSharedModule,[{type:core.NgModule,args:[{declarations:SHARED_FORM_DIRECTIVES,imports:[RadioControlRegistryModule],exports:SHARED_FORM_DIRECTIVES}]}],null,null);class FormArray extends AbstractControl{constructor(controls,validatorOrOpts,asyncValidator){super(pickValidators(validatorOrOpts),pickAsyncValidators(asyncValidator,validatorOrOpts)),this.controls=controls,this._initObservables(),this._setUpdateStrategy(validatorOrOpts),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(index){return this.controls[this._adjustIndex(index)]}push(control,options={}){this.controls.push(control),this._registerControl(control),this.updateValueAndValidity({emitEvent:options.emitEvent}),this._onCollectionChange()}insert(index,control,options={}){this.controls.splice(index,0,control),this._registerControl(control),this.updateValueAndValidity({emitEvent:options.emitEvent})}removeAt(index,options={}){let adjustedIndex=this._adjustIndex(index);adjustedIndex<0&&(adjustedIndex=0),this.controls[adjustedIndex]&&this.controls[adjustedIndex]._registerOnCollectionChange((()=>{})),this.controls.splice(adjustedIndex,1),this.updateValueAndValidity({emitEvent:options.emitEvent})}setControl(index,control,options={}){let adjustedIndex=this._adjustIndex(index);adjustedIndex<0&&(adjustedIndex=0),this.controls[adjustedIndex]&&this.controls[adjustedIndex]._registerOnCollectionChange((()=>{})),this.controls.splice(adjustedIndex,1),control&&(this.controls.splice(adjustedIndex,0,control),this._registerControl(control)),this.updateValueAndValidity({emitEvent:options.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(value,options={}){assertAllValuesPresent(this,!1,value),value.forEach(((newValue,index)=>{assertControlPresent(this,!1,index),this.at(index).setValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})})),this.updateValueAndValidity(options)}patchValue(value,options={}){null!=value&&(value.forEach(((newValue,index)=>{this.at(index)&&this.at(index).patchValue(newValue,{onlySelf:!0,emitEvent:options.emitEvent})})),this.updateValueAndValidity(options))}reset(value=[],options={}){this._forEachChild(((control,index)=>{control.reset(value[index],{onlySelf:!0,emitEvent:options.emitEvent})})),this._updatePristine(options),this._updateTouched(options),this.updateValueAndValidity(options)}getRawValue(){return this.controls.map((control=>control.getRawValue()))}clear(options={}){this.controls.length<1||(this._forEachChild((control=>control._registerOnCollectionChange((()=>{})))),this.controls.splice(0),this.updateValueAndValidity({emitEvent:options.emitEvent}))}_adjustIndex(index){return index<0?index+this.length:index}_syncPendingControls(){let subtreeUpdated=this.controls.reduce(((updated,child)=>!!child._syncPendingControls()||updated),!1);return subtreeUpdated&&this.updateValueAndValidity({onlySelf:!0}),subtreeUpdated}_forEachChild(cb){this.controls.forEach(((control,index)=>{cb(control,index)}))}_updateValue(){this.value=this.controls.filter((control=>control.enabled||this.disabled)).map((control=>control.value))}_anyControls(condition){return this.controls.some((control=>control.enabled&&condition(control)))}_setUpControls(){this._forEachChild((control=>this._registerControl(control)))}_allControlsDisabled(){for(const control of this.controls)if(control.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(control){control.setParent(this),control._registerOnCollectionChange(this._onCollectionChange)}_find(name){return this.at(name)??null}}function isAbstractControlOptions(options){return!!options&&(void 0!==options.asyncValidators||void 0!==options.validators||void 0!==options.updateOn)}class FormBuilder{constructor(){this.useNonNullable=!1}get nonNullable(){const nnfb=new FormBuilder;return nnfb.useNonNullable=!0,nnfb}group(controls,options=null){const reducedControls=this._reduceControls(controls);let newOptions={};return isAbstractControlOptions(options)?newOptions=options:null!==options&&(newOptions.validators=options.validator,newOptions.asyncValidators=options.asyncValidator),new FormGroup(reducedControls,newOptions)}record(controls,options=null){const reducedControls=this._reduceControls(controls);return new FormRecord(reducedControls,options)}control(formState,validatorOrOpts,asyncValidator){let newOptions={};return this.useNonNullable?(isAbstractControlOptions(validatorOrOpts)?newOptions=validatorOrOpts:(newOptions.validators=validatorOrOpts,newOptions.asyncValidators=asyncValidator),new FormControl(formState,{...newOptions,nonNullable:!0})):new FormControl(formState,validatorOrOpts,asyncValidator)}array(controls,validatorOrOpts,asyncValidator){const createdControls=controls.map((c=>this._createControl(c)));return new FormArray(createdControls,validatorOrOpts,asyncValidator)}_reduceControls(controls){const createdControls={};return Object.keys(controls).forEach((controlName=>{createdControls[controlName]=this._createControl(controls[controlName])})),createdControls}_createControl(controls){if(controls instanceof FormControl)return controls;if(controls instanceof AbstractControl)return controls;if(Array.isArray(controls)){const value=controls[0],validator=controls.length>1?controls[1]:null,asyncValidator=controls.length>2?controls[2]:null;return this.control(value,validator,asyncValidator)}return this.control(controls)}static#_=this.ɵfac=function FormBuilder_Factory(t){return new(t||FormBuilder)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:FormBuilder,factory:FormBuilder.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormBuilder,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);class NonNullableFormBuilder{static#_=this.ɵfac=function NonNullableFormBuilder_Factory(t){return new(t||NonNullableFormBuilder)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:NonNullableFormBuilder,factory:function(){return(0,core.inject)(FormBuilder).nonNullable},providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NonNullableFormBuilder,[{type:core.Injectable,args:[{providedIn:"root",useFactory:()=>(0,core.inject)(FormBuilder).nonNullable}]}],null,null);class UntypedFormBuilder extends FormBuilder{group(controlsConfig,options=null){return super.group(controlsConfig,options)}control(formState,validatorOrOpts,asyncValidator){return super.control(formState,validatorOrOpts,asyncValidator)}array(controlsConfig,validatorOrOpts,asyncValidator){return super.array(controlsConfig,validatorOrOpts,asyncValidator)}static#_=this.ɵfac=function(){let ɵUntypedFormBuilder_BaseFactory;return function UntypedFormBuilder_Factory(t){return(ɵUntypedFormBuilder_BaseFactory||(ɵUntypedFormBuilder_BaseFactory=core["ɵɵgetInheritedFactory"](UntypedFormBuilder)))(t||UntypedFormBuilder)}}();static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:UntypedFormBuilder,factory:UntypedFormBuilder.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](UntypedFormBuilder,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);new core.Version("16.2.12");class FormsModule{static withConfig(opts){return{ngModule:FormsModule,providers:[{provide:CALL_SET_DISABLED_STATE,useValue:opts.callSetDisabledState??setDisabledStateDefault}]}}static#_=this.ɵfac=function FormsModule_Factory(t){return new(t||FormsModule)};static#_2=this.ɵmod=core["ɵɵdefineNgModule"]({type:FormsModule,declarations:[NgModel,NgModelGroup,NgForm],exports:[ɵInternalFormsSharedModule,NgModel,NgModelGroup,NgForm]});static#_3=this.ɵinj=core["ɵɵdefineInjector"]({imports:[ɵInternalFormsSharedModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](FormsModule,[{type:core.NgModule,args:[{declarations:TEMPLATE_DRIVEN_DIRECTIVES,exports:[ɵInternalFormsSharedModule,TEMPLATE_DRIVEN_DIRECTIVES]}]}],null,null);class ReactiveFormsModule{static withConfig(opts){return{ngModule:ReactiveFormsModule,providers:[{provide:NG_MODEL_WITH_FORM_CONTROL_WARNING,useValue:opts.warnOnNgModelWithFormControl??"always"},{provide:CALL_SET_DISABLED_STATE,useValue:opts.callSetDisabledState??setDisabledStateDefault}]}}static#_=this.ɵfac=function ReactiveFormsModule_Factory(t){return new(t||ReactiveFormsModule)};static#_2=this.ɵmod=core["ɵɵdefineNgModule"]({type:ReactiveFormsModule,declarations:[FormControlDirective,FormGroupDirective,FormControlName,FormGroupName,FormArrayName],exports:[ɵInternalFormsSharedModule,FormControlDirective,FormGroupDirective,FormControlName,FormGroupName,FormArrayName]});static#_3=this.ɵinj=core["ɵɵdefineInjector"]({imports:[ɵInternalFormsSharedModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ReactiveFormsModule,[{type:core.NgModule,args:[{declarations:[REACTIVE_DRIVEN_DIRECTIVES],exports:[ɵInternalFormsSharedModule,REACTIVE_DRIVEN_DIRECTIVES]}]}],null,null);var AwfEvent,Subscription=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),less_details_column_ascending=__webpack_require__("./node_modules/@agilent/web-icons/core/less-details-column-ascending.js"),drop_down_more_details_column_descending=__webpack_require__("./node_modules/@agilent/web-icons/core/drop-down-more-details-column-descending.js"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),awf_custom_element=__webpack_require__("./node_modules/@agilent/awf-wc/src/common/decorators/awf-custom-element.js");function createCustomEvent(eventType,detail){return new CustomEvent(eventType,{bubbles:!0,composed:!0,detail})}function dispatchCustomEvent(eventType,detail){const event=createCustomEvent(eventType,detail);return this.dispatchEvent(event)}function moveElementsIntoSlot(slot,selector,value){slot.assignedElements().filter((e=>e.matches(selector))).forEach((e=>e.setAttribute("slot",value)))}function isInEventPath(event,selector){const path=event.composedPath().filter((e=>e instanceof HTMLElement));return!!path.find((e=>e.matches(selector)))}!function(AwfEvent){AwfEvent.ADD_VALUE="addvalue",AwfEvent.CLOSE="close",AwfEvent.DELETE="delete",AwfEvent.OPEN="open",AwfEvent.SLIDE_ACTIVE_CHANGE="activeSlideChange",AwfEvent.VALUE_CHANGE="valuechange",AwfEvent.VALUE_NOT_AN_INTEGER="valuenotaninteger",AwfEvent.VALUE_OUT_OF_BOUNDS_MAX="valueoutofboundmax",AwfEvent.VALUE_OUT_OF_BOUNDS_MIN="valueoutofboundmin"}(AwfEvent||(AwfEvent={}));const BOOLEAN_ATTRIBUTES=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];function reflectAttributes(origin,target,attributeFilter){const mutationUpdate=()=>function setProperties(input){attributeFilter.forEach((attr=>{BOOLEAN_ATTRIBUTES.includes(attr)?origin.hasAttribute(attr)?target.setAttribute(attr,""):target.removeAttribute(attr):input.getAttribute(attr)?target.setAttribute(attr,input.getAttribute(attr)):target.removeAttribute(attr)}))}(origin),mutationObserver=new MutationObserver(mutationUpdate);return mutationUpdate(),mutationObserver.observe(origin,{attributeFilter,attributes:!0}),mutationObserver}function toLeadingZeros(value,trailingZeros=2){return String(value).padStart(trailingZeros,"0")}__webpack_require__("./node_modules/@agilent/awf-wc/src/atoms/icon/icon.js");const ACCORDION_PANEL_STYLES=lit.iv`
    :host {
        box-shadow: 0 0 2px var(--at-gray-soft);
    }

    .header {
        border: none;
        padding: 8px 16px;
        margin: 0;
        text-align: left;
        min-height: var(--awf-accordion-panel-header-height-inner);
        height: var(--awf-accordion-panel-header-height-inner);
        width: 100%;
        display: flex;
        align-items: center;
        background-color: var(--at-white);
        border-top: var(--awf-accordion-panel-item-separator-border-inner);
        color: var(--at-dark-navy);
        font-family: "Noto Sans Display", sans-serif;
    }
    
    .body {
        padding: 8px 0px 8px 16px;
        color: var(--at-dark-navy);
    }

    awf-icon {
        padding-left: 16px;
        flex: 0 0 auto;
    }
    
    .label {
        padding-right: 16px;
        overflow: hidden;
        color: var(--awf-state-rest-foreground);
        font-size: var(--awf-accordion-panel-header-font-size-inner);
        font-weight: var(--awf-accordion-panel-header-font-weight-inner);
        white-space: nowrap;
        text-overflow: ellipsis;
        flex: 0 1 35%;
    }

    ::slotted([slot="prefix"]) {
        margin-right: 10px;
    }

    slot[name='header'] {
        display: flex;
        min-width: 0;
        flex: 1 1 0%;
        padding-right: 16px;
        justify-content: left;
    }

    ::slotted([slot="header"]) {
        min-width: 0;
    }

    button:enabled:hover {
        background-color: var(--awf-state-hover-background);
        cursor: pointer;
    }

    button:enabled:active {
        background-color: var(--awf-state-selected-background);
    }

    button[disabled] > .label {
        color: var(--awf-state-disabled-foreground);
    }

    button[disabled] > awf-icon {
        display: none;
    }
`,ACCORDION_PANEL_CSS_VARIABLES=lit.iv`
    :host {
        --awf-accordion-panel-item-separator-border-inner: var(--accordion-item-separator-border, 1px solid var(--at-gray));
        --awf-accordion-panel-header-font-size-inner: var(--awf-accordion-panel-header-font-size, 18px);
        --awf-accordion-panel-header-font-weight-inner: var(--awf-accordion-panel-header-font-weight, 600);
        --awf-accordion-panel-header-height-inner: var(--awf-accordion-panel-header-height, 40px);
    }
`,typography_styles=lit.iv`
/*
 * © Agilent Technologies, Inc. 2023.
 *
 * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,
 * is prohibited and will be prosecuted to the maximum extent under the law.
 *
 */
html {
    font-size: 16px;
    color: var(--at-dark-navy);
}

h1 {
    font-family: 'Noto Sans Display', sans-serif;
    font-size: 1.5rem;
    font-weight: 400;
    margin: 0;
}

h2 {
    font-family: 'Noto Sans Display', sans-serif;
    font-size: 1.375rem;
    font-weight: 400;
    margin: 0;
}

h3 {
    font-family: 'Noto Sans Display', sans-serif;
    font-size: 1.125rem;
    font-weight: 400;
    margin: 0;
}

h4 {
    font-family: 'Noto Sans Display', sans-serif;
    font-size: 1rem;
    font-weight: 400;
    margin: 0;
}

h5 {
    font-family: 'Noto Sans Display', sans-serif;
    font-size: 0.875rem;
    font-weight: 500;
    margin: 0;
}

body,
:host {
    font-family: 'Noto Sans Display', sans-serif;
    font-size: 0.875rem;
    font-weight: 400;
}

.awf-medium {
    font-weight: 500;
}

.awf-semibold {
    font-weight: 600;
}

.awf-bold {
    font-weight: 700;
}

.awf-italic {
    font-style: italic;
}

.awf-underlined {
    text-decoration: underline;
}

.awf-body-small {
    font-size: 0.75rem
}

.awf-body-extra-small {
    font-size: 0.625rem;
    font-weight: 700;
}

`,colors_styles=lit.iv`
/*!
* © Agilent Technologies, Inc. 2022-2023.
*
* Warning: Unauthorized reproduction or distribution of this program, or any portion of it,
* is prohibited and will be prosecuted to the maximum extent under the law.
*
*/

/*
 * This code has been automatically generated from colors defined by https://brand.agilent.com/api/color/library/61,
 * using the command: node ./scripts/generate-agilent-colors.js
 */
:root,
:host {
    --at-black: #000000;
    --at-blue-dark-tint: #1171ad;
    --at-blue-dark: #225d85;
    --at-blue-fog: #e8eef1;
    --at-blue-luminous: #e2eef5;
    --at-blue-medium: #99ceee;
    --at-blue-midtone: #88c4e8;
    --at-blue-pale-luminous: #f1f7fa;
    --at-blue-pale: #e5f3fb;
    --at-blue-shade: #037cc2;
    --at-blue-soft: #cce7f7;
    --at-blue: #0085d5;
    --at-cobalt-dark: #382f76;
    --at-cobalt-light: #bfb8e8;
    --at-cobalt: #5f4ac9;
    --at-dark-gray: #6c747d;
    --at-dark-midnight: #252a30;
    --at-dark-navy: #384350;
    --at-dark-pale: #d4dded;
    --at-dark-shadow: #2e446b;
    --at-dark: #4d72b3;
    --at-gray-3q-dark: #848e99;
    --at-gray-dark: #6c747d;
    --at-gray-extra-pale: #f5f5f5;
    --at-gray-light: #e1e3e5;
    --at-gray-medium-shadow: #252a30;
    --at-gray-medium: #a1a7af;
    --at-gray-pale: #eaebed;
    --at-gray-soft: #e1e3e5;
    --at-gray: #c1c6c8;
    --at-green-dark: #4a8030;
    --at-green-extra-light: #e3f2d6;
    --at-green-light: #c8e7ae;
    --at-green-pale: #dff2cf;
    --at-green-shadow: #487821;
    --at-green: #75c335;
    --at-light-blue-pale: #c2e8ff;
    --at-light-blue-shadow: #005e99;
    --at-light-blue: #009dff;
    --at-magenta-pale: #f2d0e5;
    --at-magenta-shadow: #772256;
    --at-magenta: #c63990;
    --at-navy-extra-light: #fafafa;
    --at-navy-soft: #c1cad2;
    --at-navy-tint: #4c5662;
    --at-olive-shadow: #666614;
    --at-olive: #9eaf20;
    --at-orange-dark: #a15819;
    --at-orange-light: #ffce99;
    --at-orange-pale: #ffe2c2;
    --at-orange-shadow: #994f00;
    --at-orange: #ff8400;
    --at-periwinkle-dark: #36507e;
    --at-periwinkle-extra-light: #d9e5fa;
    --at-periwinkle-light: #b5ccf7;
    --at-periwinkle: #4780ea;
    --at-purple-dark: #533e71;
    --at-purple-light: #d3bdf5;
    --at-purple-pale: #e1cef4;
    --at-purple-shadow: #4e1d7c;
    --at-purple: #925be5;
    --at-red-dark-tint: #bf1f02;
    --at-red-dark: #961802;
    --at-red-extra-light: #fedcd6;
    --at-red-light: #febaaf;
    --at-red-pale: #fecbc3;
    --at-red-shadow: #971602;
    --at-red: #e72503;
    --at-teal-dark: #148082;
    --at-teal-light: #ace4e5;
    --at-teal-pale: #cef2f3;
    --at-teal-shadow: #1f797a;
    --at-teal: #2ec0c2;
    --at-violet-pale: #f5ccff;
    --at-violet-shadow: #832999;
    --at-violet: #cc43ff;
    --at-white: #ffffff;
    --at-yellow-dark: #a57b1b;
    --at-yellow-extra-light: #fff0cb;
    --at-yellow-light: #ffe399;
    --at-yellow-pale: #ffefc2;
    --at-yellow-shadow: #997000;
    --at-yellow: #ffba00;
    --blank: #cdd3ea;
    --calibration-standard: #478ecc;
    --dark-navy: #384350;
    --double-blank: #f57e2b;
    --olive-pale: #eef2b6;
    --qc-check: #79287d;
    --sample: #83c441;
    --spike: #b83685;
    --system-suitability: #a57c2c;
}

`,selection_states_styles=lit.iv`
:root,
:host {
    /* Selection states */
    --awf-state-rest-background: var(--at-white);
    --awf-state-rest-background-transparency: transparent;
    --awf-state-rest-border: var(--at-gray);
    --awf-state-rest-foreground: var(--at-dark-navy);

    --awf-state-hover-background: var(--at-blue-soft);
    --awf-state-hover-border: var(--at-blue-medium);
    --awf-state-hover-color: var(--at-blue-shade);

    --awf-state-selected-background: var(--at-blue-medium);
    --awf-state-selected-border: var(--at-blue-shade);
    --awf-state-selected-foreground: var(--at-dark-navy);

    --awf-state-disabled-background: var(--at-white);
    --awf-state-disabled-border: var(--at-gray);
    --awf-state-disabled-foreground: var(--at-gray);

    --awf-state-focused-border: var(--at-blue-shade);
    --awf-state-focused-foreground: var(--at-blue-shade);
}
`,validation_states_styles=lit.iv`
:root,
:host {
    /* Validation Colors */
    --awf-validation-error-background-color: var(--at-red-extra-light);
    --awf-validation-error-focus-background-color: var(--at-red-light);
    --awf-validation-error-border-color: var(--at-red);
    --awf-validation-error-font-color: var(--at-dark-navy);
    --awf-validation-error-message-font-color: var(--at-red);
    --awf-validation-label-error-font-color: var(--at-red);

    --awf-validation-warning-background-color: var(--at-yellow-extra-light);
    --awf-validation-warning-focus-background-color: var(--at-yellow-light);
    --awf-validation-warning-border-color: var(--at-yellow);
    --awf-validation-warning-font-color: var(--at-yellow);
}

`,PLACEHOLDER_STYLE="\n    input.slotted-input::placeholder {\n        color: var(--awf-input-placeholder-color-inner);\n        font-size: var(--awf-input-font-size-inner);\n        font-style: italic;\n        padding-left: 1px;\n        text-align: left;\n        text-shadow: none;\n    }\n\n    *:not([labelPosition='left']) > input.slotted-input-hidden::placeholder {\n        visibility: hidden;\n    }\n\n    *:not([labelPosition='left']):not(:focus-within) > input.slotted-input.slotted-label::placeholder {\n        visibility: hidden;\n    }\n",NUMBER_SPINNER_STYLE="\n    input[type='number']::-webkit-inner-spin-button,\n    input[type='number']::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin-left: 2px;\n    }\n",COMMON_STYLES=[colors_styles,lit.iv`
    :host {
        --awf-elevation-z1: 1;
        --awf-elevation-z2: 10;
        --awf-elevation-z3: 100;
        --awf-elevation-z4: 1000;
        --awf-elevation-z5: 10000;
        --awf-elevation-z6: 100000;
        --awf-elevation-z7: 1000000;
    }
`,selection_states_styles,validation_states_styles,typography_styles,lit.iv`
        :host {
            --disabled-opacity: 0.4;
            --transition-duration: 0.15s;
            --transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
            --awf-line-height-inner: var(--awf-line-height, 20px);
        }
    `];let AwfAccordionPanel=class AwfAccordionPanel extends lit.oi{constructor(){super(...arguments),this.disabled=!1,this.expanded=!1,this.label=null,this.hasNoContent=!0,this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}toggle(){this.changeState(!this.expanded)}expand(){this.changeState(!0)}collapse(){this.changeState(!1)}render(){const expanded=this.expanded&&!this.disabled,icon=expanded?less_details_column_ascending.e:drop_down_more_details_column_descending.$,iconId=expanded?"collapse":"expand";return lit.dy`
            <button class="header" @click=${this.onButtonClick} ?disabled=${this.disabled||this.hasNoContent}>
                <slot name="prefix"></slot>
                ${this.renderLabel()}
                <slot name="header"></slot>
                <awf-icon id=${iconId} raw=${icon}></awf-icon>
            </button>

            <div ?hidden="${!this.expanded}" class="body">
                <slot name="body" @slotchange=${this.onBodySlotChange}></slot>
            </div>
        `}updated(_changedProperties){this.hasNoContent=0===this.slottedBody.length}changeState(expanded){if(this.disabled||this.hasNoContent)return;this.expanded=expanded;const eventType=this.expanded?AwfEvent.OPEN:AwfEvent.CLOSE;this.dispatchCustomEvent(eventType)}onButtonClick(event){this.isExpansionClick(event)&&this.changeState(!this.expanded)}isExpansionClick({target}){return target===this.header||Array.from(this.header.children).includes(target)}renderLabel(){return this.label?lit.dy`<span class="label">${this.label}</span>`:lit.dy``}onBodySlotChange(){this.hasNoContent=0===this.slottedBody.length}};AwfAccordionPanel.styles=[COMMON_STYLES,ACCORDION_PANEL_CSS_VARIABLES,ACCORDION_PANEL_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfAccordionPanel.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfAccordionPanel.prototype,"expanded",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfAccordionPanel.prototype,"label",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".header")],AwfAccordionPanel.prototype,"header",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"body",flatten:!0})],AwfAccordionPanel.prototype,"slottedBody",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfAccordionPanel.prototype,"hasNoContent",void 0),AwfAccordionPanel=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-accordion-panel",!0)],AwfAccordionPanel);class ElementStyleController{constructor(host,cssStyles){this.host=host,this.cssStyles=cssStyles,this.host.addController(this)}hostConnected(){this.cssStyles.map((cssStyle=>{const style=document.createElement("style");return style.innerText=cssStyle,style})).forEach((style=>this.host.appendChild(style)))}}const BREADCRUMBS_STYLES=lit.iv`
    :host,
    ::slotted(a) {
        position: relative;
        display: flex;
        align-items: center;
    }

    ::slotted(a:last-of-type) {
        pointer-events: none;
    }

    ::slotted(a:not(:last-of-type)) {
        cursor: pointer;
    }

    ::slotted(a:last-of-type:not(:only-of-type)) {
        font-family: 'Noto Sans Display Semibold', sans-serif;
    }

    ::slotted(a:not(:last-of-type):hover) {
        --awf-icon-color: var(--at-blue-shade);
        color: var(--at-blue-shade);
        text-decoration: underline;
    }
`;let AwfBreadcrumbs=class AwfBreadcrumbs extends lit.oi{constructor(){super(),new ElementStyleController(this,["\n            a awf-icon {\n                width: 16px;\n                height: 16px;\n                padding-right: 4px;\n            }\n            a:not(:last-of-type)::after {\n                content: '';\n                display: block;\n                position: relative;\n                width: 16px;\n                height: 16px;\n                padding: 0 4px;\n                background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='none' stroke='%23384350' stroke-miterlimit='10' d='M10 6l6 6-6 6' style='stroke: %23384350;'/%3E%3C/svg%3E%0A\");\n                background-repeat: no-repeat, repeat;\n                background-position: center;\n                background-size: 16px 16px;\n                pointer-events: none;\n            }\n        "])}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.stopEventPropagation)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.stopEventPropagation)}render(){return lit.dy`<slot></slot>`}stopEventPropagation(event){const{target}=event;target instanceof HTMLAnchorElement||event.stopPropagation()}};AwfBreadcrumbs.styles=[COMMON_STYLES,BREADCRUMBS_STYLES],AwfBreadcrumbs=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-breadcrumbs",!0)],AwfBreadcrumbs);var lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js");const l=l=>null!=l?l:lit_html.Ld;const eventsService=new class EventsService{manageFocus(element){element.addEventListener("click",(event=>{element.disabled?event.stopImmediatePropagation():element.classList.contains("activated")||element.blur()})),element.addEventListener("keydown",(event=>{element.disabled||"Enter"!==event.key&&"Space"!==event.code||(event.preventDefault(),element.classList.add("activated"),element.click())})),element.addEventListener("keyup",(event=>{element.disabled||"Enter"!==event.key&&"Space"!==event.code||element.classList.remove("activated")}))}},BUTTON_CSS_VARIABLES=[lit.iv`
    :host {
        --awf-button-primary-rest-background-inner: var(--awf-button-primary-rest-background, var(--at-blue-pale));
        --awf-button-primary-rest-border-inner: var(--awf-button-primary-rest-border, solid 1px var(--at-blue-shade));
        --awf-button-primary-rest-font-color-inner: var(--awf-button-primary-rest-font-color, var(--at-dark-navy));

        --awf-button-primary-hover-background-inner: var(--awf-button-primary-hover-background, var(--at-blue-soft));
        --awf-button-primary-hover-border-inner: var(--awf-button-primary-hover-border, solid 1px var(--at-blue-shade));
        --awf-button-primary-hover-font-color-inner: var(--awf-button-primary-hover-font-color, var(--at-dark-navy));

        --awf-button-primary-active-background-inner: var(--awf-button-primary-active-background, var(--at-blue-shade));
        --awf-button-primary-active-border-inner: var(--awf-button-primary-active-border, solid 1px var(--at-dark-navy));
        --awf-button-primary-active-font-color-inner: var(--awf-button-primary-active-font-color, var(--at-white));

        --awf-button-primary-disabled-background-inner: var(--awf-button-primary-disabled-background, var(--at-white));
        --awf-button-primary-disabled-border-inner: var(--awf-button-primary-disabled-border, solid 1px var(--at-gray-soft));
        --awf-button-primary-disabled-font-color-inner: var(--awf-button-primary-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
    :host {
        --awf-button-secondary-rest-background-inner: var(--awf-button-secondary-rest-background, var(--at-navy-extra-light));
        --awf-button-secondary-rest-border-inner: var(--awf-button-secondary-rest-border, solid 1px var(--at-gray-soft));
        --awf-button-secondary-rest-font-color-inner: var(--awf-button-secondary-rest-font-color, var(--at-dark-navy));

        --awf-button-secondary-hover-background-inner: var(--awf-button-secondary-hover-background, var(--at-gray-extra-pale));
        --awf-button-secondary-hover-border-inner: var(--awf-button-secondary-hover-border, solid 1px var(--at-gray-soft));
        --awf-button-secondary-hover-font-color-inner: var(--awf-button-secondary-hover-font-color, var(--at-dark-navy));

        --awf-button-secondary-active-background-inner: var(--awf-button-secondary-active-background, var(--at-gray-soft));
        --awf-button-secondary-active-border-inner: var(--awf-button-secondary-active-border, solid 1px var(--at-gray-soft));
        --awf-button-secondary-active-font-color-inner: var(--awf-button-secondary-active-font-color, var(--at-dark-navy));

        --awf-button-secondary-disabled-background-inner: var(--awf-button-secondary-disabled-background, var(--at-white));
        --awf-button-secondary-disabled-border-inner: var(--awf-button-secondary-disabled-border, solid 1px var(--at-gray-soft));
        --awf-button-secondary-disabled-font-color-inner: var(--awf-button-secondary-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
    :host {
        --awf-button-special-rest-background-inner: var(--awf-button-special-rest-background, var(--at-green-pale));
        --awf-button-special-rest-border-inner: var(--awf-button-special-rest-border, solid 1px var(--at-green));
        --awf-button-special-rest-font-color-inner: var(--awf-button-special-rest-font-color, var(--at-dark-navy));

        --awf-button-special-hover-background-inner: var(--awf-button-special-hover-background, var(--at-green-light));
        --awf-button-special-hover-border-inner: var(--awf-button-special-hover-border, solid 1px var(--at-green));
        --awf-button-special-hover-font-color-inner: var(--awf-button-special-hover-font-color, var(--at-dark-navy));

        --awf-button-special-active-background-inner: var(--awf-button-special-active-background, var(--at-green));
        --awf-button-special-active-border-inner: var(--awf-button-special-active-border, solid 1px var(--at-green));
        --awf-button-special-active-font-color-inner: var(--awf-button-special-active-font-color, var(--at-dark-navy));

        --awf-button-special-disabled-background-inner: var(--awf-button-special-disabled-background, var(--at-white));
        --awf-button-special-disabled-border-inner: var(--awf-button-special-disabled-border, solid 1px var(--at-gray-soft));
        --awf-button-special-disabled-font-color-inner: var(--awf-button-special-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
    :host {
        --awf-button-critical-rest-background-inner: var(--awf-button-critical-rest-background, var(--at-red));
        --awf-button-critical-rest-border-inner: var(--awf-button-critical-rest-border, solid 1px var(--at-red));
        --awf-button-critical-rest-font-color-inner: var(--awf-button-critical-rest-font-color, var(--at-white));

        --awf-button-critical-hover-background-inner: var(--awf-button-critical-hover-background, var(--at-red-dark-tint));
        --awf-button-critical-hover-border-inner: var(--awf-button-critical-hover-border, solid 1px var(--at-red-dark-tint));
        --awf-button-critical-hover-font-color-inner: var(--awf-button-critical-hover-font-color, var(--at-white));

        --awf-button-critical-active-background-inner: var(--awf-button-critical-active-background, var(--at-red-dark));
        --awf-button-critical-active-border-inner: var(--awf-button-critical-active-border, solid 1px var(--at-red-dark));
        --awf-button-critical-active-font-color-inner: var(--awf-button-critical-active-font-color, var(--at-white));

        --awf-button-critical-disabled-background-inner: var(--awf-button-critical-disabled-background, var(--at-white));
        --awf-button-critical-disabled-border-inner: var(--awf-button-critical-disabled-border, solid 1px var(--at-gray-soft));
        --awf-button-critical-disabled-font-color-inner: var(--awf-button-critical-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
    :host {
        --awf-button-dark-primary-rest-background-inner: var(--awf-button-dark-primary-rest-background, var(--at-dark-navy));
        --awf-button-dark-primary-rest-border-inner: var(--awf-button-dark-primary-rest-border, solid 1px var(--at-dark-navy));
        --awf-button-dark-primary-rest-font-color-inner: var(--awf-button-dark-primary-rest-font-color, var(--at-white));

        --awf-button-dark-primary-hover-background-inner: var(--awf-button-dark-primary-hover-background, var(--at-blue-dark));
        --awf-button-dark-primary-hover-border-inner: var(--awf-button-dark-primary-hover-border, solid 1px var(--at-dark-navy));
        --awf-button-dark-primary-hover-font-color-inner: var(--awf-button-dark-primary-hover-font-color, var(--at-white));

        --awf-button-dark-primary-active-background-inner: var(--awf-button-dark-primary-active-background, var(--at-blue-shade));
        --awf-button-dark-primary-active-border-inner: var(--awf-button-dark-primary-active-border, solid 1px var(--at-dark-navy));
        --awf-button-dark-primary-active-font-color-inner: var(--awf-button-dark-primary-active-font-color, var(--at-white));

        --awf-button-dark-primary-disabled-background-inner: var(--awf-button-dark-primary-disabled-background, var(--at-blue-pale-luminous));
        --awf-button-dark-primary-disabled-border-inner: var(--awf-button-dark-primary-disabled-border, solid 1px var(--at-blue-pale-luminous));
        --awf-button-dark-primary-disabled-font-color-inner: var(--awf-button-dark-primary-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
    :host{
        --awf-button-dark-secondary-rest-background-inner: var(--awf-button-dark-secondary-rest-background, var(--at-blue-pale));
        --awf-button-dark-secondary-rest-border-inner: var(--awf-button-dark-secondary-rest-border, solid 1px var(--at-blue-shade));
        --awf-button-dark-secondary-rest-font-color-inner: var(--awf-button-dark-secondary-rest-font-color, var(--at-dark-navy));

        --awf-button-dark-secondary-hover-background-inner: var(--awf-button-dark-secondary-hover-background, var(--at-blue-soft));
        --awf-button-dark-secondary-hover-border-inner: var(--awf-button-dark-secondary-hover-border, solid 1px var(--at-blue-shade));
        --awf-button-dark-secondary-hover-font-color-inner: var(--awf-button-dark-secondary-hover-font-color, var(--at-dark-navy));

        --awf-button-dark-secondary-active-background-inner: var(--awf-button-dark-secondary-active-background, var(--at-blue-shade));
        --awf-button-dark-secondary-active-border-inner: var(--awf-button-dark-secondary-active-border, solid 1px var(--at-dark-navy));
        --awf-button-dark-secondary-active-font-color-inner: var(--awf-button-dark-secondary-active-font-color, var(--at-white));

        --awf-button-dark-secondary-disabled-background-inner: var(--awf-button-dark-secondary-disabled-background, var(--at-blue-pale-luminous));
        --awf-button-dark-secondary-disabled-border-inner: var(--awf-button-dark-secondary-disabled-border, solid 1px var(--at-blue-pale-luminous));
        --awf-button-dark-secondary-disabled-font-color-inner: var(--awf-button-dark-secondary-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
    :host {
        --awf-button-dark-special-rest-background-inner: var(--awf-button-dark-special-rest-background, var(--at-green-pale));
        --awf-button-dark-special-rest-border-inner: var(--awf-button-dark-special-rest-border, solid 1px var(--at-green));
        --awf-button-dark-special-rest-font-color-inner: var(--awf-button-dark-special-rest-font-color, var(--at-dark-navy));

        --awf-button-dark-special-hover-background-inner: var(--awf-button-dark-special-hover-background, var(--at-green-light));
        --awf-button-dark-special-hover-border-inner: var(--awf-button-dark-special-hover-border, solid 1px var(--at-green));
        --awf-button-dark-special-hover-font-color-inner: var(--awf-button-dark-special-hover-font-color, var(--at-dark-navy));

        --awf-button-dark-special-active-background-inner: var(--awf-button-dark-special-active-background, var(--at-green));
        --awf-button-dark-special-active-border-inner: var(--awf-button-dark-special-active-border, solid 1px var(--at-green));
        --awf-button-dark-special-active-font-color-inner: var(--awf-button-dark-special-active-font-color, var(--at-dark-navy));

        --awf-button-dark-special-disabled-background-inner: var(--awf-button-dark-special-disabled-background, var(--at-white));
        --awf-button-dark-special-disabled-border-inner: var(--awf-button-dark-special-disabled-border, solid 1px var(--at-gray-soft));
        --awf-button-dark-special-disabled-font-color-inner: var(--awf-button-dark-special-disabled-font-color, var(--at-gray));
    }
`,lit.iv`
        :host {
            --awf-button-content-alignment-inner: var(--awf-button-content-alignment, center);
            --awf-button-font-size-inner: var(--awf-button-font-size, 0.875rem);
            --awf-button-height-inner: var(--awf-button-height, 32px);
            --awf-button-icon-margin-inner: var(--awf-button-icon-margin, 4px);
            --awf-button-icon-size-inner: var(--awf-button-icon-size, 24px);
            --awf-button-label-display-inner: var(--awf-button-label-display, inline);
            --awf-button-label-margin-inner: var(--awf-button-label-margin, 0);
            --awf-button-padding-left-inner: var(--awf-button-padding-left, 12px);
            --awf-button-padding-right-inner: var(--awf-button-padding-right, 12px);
            --awf-button-width-inner: var(--awf-button-width, unset);

            /* Rest */
            --awf-button-border-inner: var(--awf-button-border, var(--awf-button-primary-rest-border-inner));
            --awf-button-background-inner: var(--awf-button-background, var(--awf-button-primary-rest-background-inner));
            --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-primary-rest-font-color-inner));

            /* Hover */
            --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-primary-hover-background-inner));
            --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-primary-hover-border-inner));
            --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-primary-hover-font-color-inner));
            
            /* Active */
            --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-primary-active-background-inner));
            --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-primary-active-border-inner));
            --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-primary-active-font-color-inner));

            /* Disabled */
            --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-primary-disabled-background-inner));
            --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-primary-disabled-border-inner));
            --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-primary-disabled-font-color-inner));

            /* Icon buttons */
            --awf-button-icon-only-background-inner: var(--awf-button-icon-only-background, var(--awf-state-rest-background-transparency));
            --awf-button-icon-only-hover-background-inner: var(--awf-button-icon-only-hover-background, var(--awf-state-hover-background));
            --awf-button-icon-only-active-background-inner: var(--awf-button-icon-only-active-background, var(--awf-state-selected-background));
            --awf-button-icon-only-active-foreground-inner: var(--awf-button-icon-only-active-foreground, var(--at-dark-navy));
        }
    `],BUTTON_STYLES=lit.iv`
    :host {
        display: inline-block;
        height: var(--awf-button-height-inner);
        width: var(--awf-button-width-inner);
        --awf-icon-color: var(--awf-button-font-color-inner);
        --awf-icon-size: var(--awf-button-icon-size-inner);
    }

    button {
        align-items: center;
        background-color: var(--awf-button-background-inner);
        border: var(--awf-button-border-inner);
        color: var(--awf-button-font-color-inner);
        display: inline-flex;
        font-family: inherit; /*Required to override User Agent settings*/
        font-size: var(--awf-button-font-size-inner);
        height: 100%;
        justify-content: var(--awf-button-content-alignment-inner);
        padding-left: var(--awf-button-padding-left-inner);
        padding-right: var(--awf-button-padding-right-inner);
        transition: var(--transition-duration) var(--transition-timing-function);
        transition-property: color, background-color, border-color;
        width: 100%;
        --awf-icon-color: var(--awf-button-font-color-inner);
    }

    #label {
        display: var(--awf-button-label-display-inner);
        margin: var(--awf-button-label-margin-inner);
    }

    ::slotted(awf-icon),
    ::slotted(ag-icon),
    ::slotted(awf-icon-ng),
    ::slotted(ag-icon-wc),
    ::slotted(awf-notification-bubble) {
        margin: var(--awf-button-icon-margin-inner);
    }

    slot:not([name]) {
        display: none;
    }

    button:focus {
        outline: var(--at-blue-shade) solid 1px;
        outline-offset: 1px;
    }

    @media (hover: hover) {
        button:hover {
            background: var(--awf-button-hover-background-inner);
            border: var(--awf-button-hover-border-inner);
            color: var(--awf-button-hover-font-color-inner);
            cursor: pointer;
            --awf-icon-color: var(--awf-button-hover-font-color-inner);
            --awf-notification-bubble-stroke-color: var(--awf-button-hover-background-inner);
        }

        :host(:not([disabled]):hover) button.awf-icon-button {
            background-color: var(--awf-button-icon-only-hover-background-inner);
        }
    }

    :host(.activated) button,
    button:active {
        background: var(--awf-button-active-background-inner);
        border: var(--awf-button-active-border-inner);
        color: var(--awf-button-active-font-color-inner);
        --awf-icon-color: var(--awf-button-active-font-color-inner);
    }

    button:active {
        outline: none;
    }

    :host([disabled]) button,
    :host([disabled]) button:hover {
        background: var(--awf-button-disabled-background-inner);
        border: var(--awf-button-disabled-border-inner);
        color: var(--awf-button-disabled-font-color-inner);
        cursor: not-allowed;
        --awf-icon-color: var(--awf-button-disabled-font-color-inner);
    }

    /* Primary dark */
    :host([dark]) {
        --awf-button-background-inner: var(--awf-button-background, var(--awf-button-dark-primary-rest-background-inner));
        --awf-button-border-inner: var(--awf-button-border, var(--awf-button-dark-primary-rest-border-inner));
        --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-dark-primary-rest-font-color-inner));
        --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-dark-primary-hover-background-inner));
        --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-dark-primary-hover-border-inner));
        --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-dark-primary-hover-font-color-inner));
        --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-dark-primary-active-background-inner));
        --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-dark-primary-active-border-inner));
        --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-dark-primary-active-font-color-inner));
        --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-dark-primary-disabled-background-inner));
        --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-dark-primary-disabled-border-inner));
        --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-dark-primary-disabled-font-color-inner));
    }

    /* Secondary */
    :host([type='secondary']) {
        --awf-button-border-inner: var(--awf-button-border, var(--awf-button-secondary-rest-border-inner));
        --awf-button-background-inner: var(--awf-button-background, var(--awf-button-secondary-rest-background-inner));
        --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-secondary-rest-font-color-inner));
        --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-secondary-hover-border-inner));
        --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-secondary-hover-background-inner));
        --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-secondary-hover-font-color-inner));
        --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-secondary-active-background-inner));
        --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-secondary-active-border-inner));
        --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-secondary-active-font-color-inner));
        --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-secondary-disabled-background-inner));
        --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-secondary-disabled-border-inner));
        --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-secondary-disabled-font-color-inner));
    }

    /* Secondary dark */
    :host([type='secondary'][dark]) {
        --awf-button-border-inner: var(--awf-button-border, var(--awf-button-dark-secondary-rest-border-inner));
        --awf-button-background-inner: var(--awf-button-background, var(--awf-button-dark-secondary-rest-background-inner));
        --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-dark-secondary-rest-font-color-inner));
        --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-dark-secondary-hover-border-inner));
        --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-dark-secondary-hover-background-inner));
        --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-dark-secondary-hover-font-color-inner));
        --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-dark-secondary-active-background-inner));
        --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-dark-secondary-active-border-inner));
        --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-dark-secondary-active-font-color-inner));
        --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-dark-secondary-disabled-background-inner));
        --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-dark-secondary-disabled-border-inner));
        --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-dark-secondary-disabled-font-color-inner));
    }

    /* Special */
    :host([type='special']) {
        --awf-button-border-inner: var(--awf-button-border, var(--awf-button-special-rest-border-inner));
        --awf-button-background-inner: var(--awf-button-background, var(--awf-button-special-rest-background-inner));
        --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-special-rest-font-color-inner));
        --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-special-hover-border-inner));
        --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-special-hover-background-inner));
        --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-special-hover-font-color-inner));
        --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-special-active-background-inner));
        --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-special-active-border-inner));
        --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-special-active-font-color-inner));
        --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-special-disabled-background-inner));
        --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-special-disabled-border-inner));
        --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-special-disabled-font-color-inner));
    }

    :host([type='critical']) {
        --awf-button-border-inner: var(--awf-button-border, var(--awf-button-critical-rest-border-inner));
        --awf-button-background-inner: var(--awf-button-background, var(--awf-button-critical-rest-background-inner));
        --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-critical-rest-font-color-inner));
        --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-critical-hover-border-inner));
        --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-critical-hover-background-inner));
        --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-critical-hover-font-color-inner));
        --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-critical-active-background-inner));
        --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-critical-active-border-inner));
        --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-critical-active-font-color-inner));
        --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-critical-disabled-background-inner));
        --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-critical-disabled-border-inner));
        --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-critical-disabled-font-color-inner));
    }

    /* Special dark */
    :host([type='special'][dark]) {
        --awf-button-border-inner: var(--awf-button-border, var(--awf-button-dark-special-rest-border-inner));
        --awf-button-background-inner: var(--awf-button-background, var(--awf-button-dark-special-rest-background-inner));
        --awf-button-font-color-inner: var(--awf-button-font-color, var(--awf-button-dark-special-rest-font-color-inner));
        --awf-button-hover-border-inner: var(--awf-button-hover-border, var(--awf-button-dark-special-hover-border-inner));
        --awf-button-hover-background-inner: var(--awf-button-hover-background, var(--awf-button-dark-special-hover-background-inner));
        --awf-button-hover-font-color-inner: var(--awf-button-hover-font-color, var(--awf-button-dark-special-hover-font-color-inner));
        --awf-button-active-background-inner: var(--awf-button-active-background, var(--awf-button-dark-special-active-background-inner));
        --awf-button-active-border-inner: var(--awf-button-active-border, var(--awf-button-dark-special-active-border-inner));
        --awf-button-active-font-color-inner: var(--awf-button-active-font-color, var(--awf-button-dark-special-active-font-color-inner));
        --awf-button-disabled-background-inner: var(--awf-button-disabled-background, var(--awf-button-dark-special-disabled-background-inner));
        --awf-button-disabled-border-inner: var(--awf-button-disabled-border, var(--awf-button-dark-special-disabled-border-inner));
        --awf-button-disabled-font-color-inner: var(--awf-button-disabled-font-color, var(--awf-button-dark-special-disabled-font-color-inner));
    }

    /* Icon buttons */
    button.awf-icon-button {
        align-items: center;
        border-radius: inherit;
        display: inline-flex;
        justify-content: center;
        outline: none;
        width: var(--awf-button-width-inner, var(--awf-button-height-inner));
        padding: 0;
        border: 1px solid transparent;
        background-color: var(--awf-button-icon-only-background-inner);
        --awf-button-icon-margin-inner: 0;
        --awf-button-active-font-color-inner: var(--awf-button-icon-only-active-foreground-inner);
    }

    :host(.activated) button.awf-icon-button,
    :host(:not([disabled]):active) button.awf-icon-button {
        background-color: var(--awf-button-icon-only-active-background-inner);
        border-color: transparent;
        --awf-notification-bubble-stroke-color: var(--awf-button-icon-only-active-background-inner);
    }

    :host(:not([disabled]):not(:active):focus) button.awf-icon-button,
    :host(:not([disabled]):not(:active):focus-visible) button.awf-icon-button {
        border-color: var(--awf-state-focused-border);
    }

    :host([disabled]) button.awf-icon-button {
        --awf-icon-color: var(--awf-state-disabled-foreground);
        background-color: var(--awf-button-icon-only-background-inner);
        border-color: transparent;
    }
`;var ButtonType;!function(ButtonType){ButtonType.Primary="primary",ButtonType.Secondary="secondary",ButtonType.Special="special",ButtonType.Critical="critical"}(ButtonType||(ButtonType={}));let AwfButton=class AwfButton extends lit.oi{constructor(){super(),this.type=ButtonType.Primary,this.label=null,this.dark=!1,this.disabled=!1,eventsService.manageFocus(this)}requestFocus(){this.buttonElement.focus()}render(){const ariaLabel=this.getAttribute("aria-label")||void 0,commonTemplate=lit.dy`
            <button ?disabled=${this.disabled} aria-label=${l(ariaLabel)}>
                <slot name="icon" @slotchange=${this.handleIconSlotChange}></slot>
            </button>
            <slot @slotchange=${this.handleSlotChange}></slot>
        `;return lit.dy` ${commonTemplate} `}updated(_changedProperties){_changedProperties.has("label")&&this.replaceLabel(this.label??"")}handleSlotChange(){if(this.shadowRoot){const defaultSlot=this.shadowRoot.querySelector("slot:not([name])");defaultSlot&&moveElementsIntoSlot(defaultSlot,"awf-icon","icon")}const text=this.label??this.slottedContent.map((n=>n?.textContent)).join("").trim();text&&this.replaceLabel(text)}handleIconSlotChange(){const[icon]=this.slottedIcon;if(icon){const label=this.shadowRoot?.getElementById("label");label?.textContent?(this.style.setProperty("--awf-button-padding-left","0px"),this.buttonElement.classList.remove("awf-icon-button")):this.buttonElement.classList.add("awf-icon-button")}else this.buttonElement.classList.remove("awf-icon-button")}replaceLabel(text){const label=this.shadowRoot?.getElementById("label");if(label&&this.buttonElement.removeChild(label),text){const labelElement=this.createLabel(text);this.buttonElement.appendChild(labelElement)}this.handleIconSlotChange()}createLabel(text){const labelElement=document.createElement("span");return labelElement.id="label",labelElement.innerText=text,labelElement}};AwfButton.styles=[COMMON_STYLES,BUTTON_CSS_VARIABLES,BUTTON_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfButton.prototype,"type",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfButton.prototype,"label",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfButton.prototype,"dark",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfButton.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.vZ)({flatten:!0})],AwfButton.prototype,"slottedContent",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"icon"})],AwfButton.prototype,"slottedIcon",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("button")],AwfButton.prototype,"buttonElement",void 0),AwfButton=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-button",!0)],AwfButton);let AwfCarouselPage=class AwfCarouselPage extends lit.oi{render(){return lit.dy`<slot></slot>`}};AwfCarouselPage.styles=[COMMON_STYLES,lit.iv`
        :host {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    `],AwfCarouselPage=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-carousel-page",!0)],AwfCarouselPage);var delete_cross=__webpack_require__("./node_modules/@agilent/web-icons/core/delete-cross.js");const CHIP_ACTIVE=lit.iv`
    :host {
        --awf-chip-active-background-inner: var(--awf-chip-active-background, var(--at-blue-shade));
        --awf-chip-active-border-inner: var(--awf-chip-active-border, 1px solid var(--at-blue-shade));
        --awf-chip-active-font-color-inner: var(--awf-chip-active-font-color, var(--at-white));

        --awf-chip-active-disabled-background-inner: var(--awf-chip-active-disabled-background, var(--at-blue-soft));
        --awf-chip-active-disabled-border-inner: var(--awf-chip-active-disabled-border, 1px solid var(--at-blue-soft));
        --awf-chip-active-disabled-font-color-inner: var(--awf-chip-active-disabled-font-color, var(--at-gray-medium));

        --awf-chip-active-light-background-inner: var(--awf-chip-active-light-background, var(--at-blue-medium));
        --awf-chip-active-light-border-inner: var(--awf-chip-active-light-border, 1px solid var(--at-blue-medium));
        --awf-chip-active-light-font-color-inner: var(--awf-chip-active-light-font-color, var(--at-dark-navy));
    }
`,CHIP_CSS_VARIABLES=[lit.iv`
    :host {
        --awf-chip-rest-background-inner: var(--awf-chip-rest-background, none);
        --awf-chip-rest-border-inner: var(--awf-chip-rest-border, 1px solid var(--at-gray));
        --awf-chip-rest-font-color-inner: var(--awf-chip-rest-font-color, var(--at-dark-navy));

        --awf-chip-rest-disabled-background-inner: var(--awf-chip-rest-disabled-background, none);
        --awf-chip-rest-disabled-border-inner: var(--awf-chip-rest-disabled-border, 1px solid var(--at-gray));
        --awf-chip-rest-disabled-font-color-inner: var(--awf-chip-rest-disabled-font-color, var(--at-gray-medium));

        --awf-chip-rest-light-hover-background-inner: var(--awf-chip-rest-light-background, var(--at-blue-soft));
        --awf-chip-rest-light-hover-border-inner: var(--awf-chip-rest-light-border, 1px solid var(--at-blue-soft));
        --awf-chip-rest-light-hover-font-color-inner: var(--awf-chip-rest-light-font-color, var(--at-dark-navy));

        --awf-chip-rest-hover-background-inner: var(--awf-chip-rest-hover-background, var(--at-blue-medium));
        --awf-chip-rest-hover-border-inner: var(--awf-chip-rest-hover-border, 1px solid var(--at-blue-medium));
        --awf-chip-rest-hover-font-color-inner: var(--awf-chip-rest-hover-font-color, var(--at-dark-navy));
    }
`,CHIP_ACTIVE,lit.iv`
        :host {
            --awf-chip-height-inner: var(--awf-chip-height, 32px);
            --awf-chip-padding-left-right-inner: var(--awf-chip-padding-left-right, 16px);
            --awf-chip-padding-top-bottom-inner: var(--awf-chip-padding-top-bottom, 3px);
            --awf-chip-wrapper-padding-inner: var(--awf-chip-wrapper-padding, 3px);
            
            /* Remove button */
            --awf-chip-remove-button-hover-background-inner: var(--awf-chip-remove-button-hover-background, var(--at-blue-medium));
            --awf-chip-remove-button-size-inner: var(--awf-chip-remove-button-size, 16px);
            --awf-chip-remove-button-wrapper-margin-inner: var(--awf-chip-remove-button-wrapper-margin, 5px);
            --awf-chip-remove-button-wrapper-size-inner: var(--awf-chip-remove-button-wrapper-size, 24px);
        }
    `],CHIP_TRANSITIONS=lit.iv`
    transition: var(--transition-duration) var(--transition-timing-function);
    transition-property: color, background-color, border-color, opacity, box-shadow;
`,CHIP_STYLES=lit.iv`
    .chip-wrapper {
        display: flex;
        border-radius: 16px;
        width: fit-content;
        align-items: center;
        justify-content: center;
        padding: var(--awf-chip-padding-top-bottom-inner) var(--awf-chip-padding-left-right-inner);
        height: var(--awf-chip-height-inner);

        background-color: var(--awf-chip-rest-background-inner);
        border: var(--awf-chip-rest-border-inner);
        color: var(--awf-chip-rest-font-color-inner);
        cursor: pointer;
        --awf-icon-color: var(--awf-chip-rest-font-color-inner);
    }

    .chip-wrapper,
    .chip-wrapper > * {
        opacity: 1;

        ${CHIP_TRANSITIONS};
    }

    :host {
        display: inline-block;
    }

    :host([active][light]) .chip-wrapper {
        background-color: var(--awf-chip-active-light-background-inner);
        border: var(--awf-chip-active-light-border-inner);
        color: var(--awf-chip-active-light-font-color-inner);
    }

    :host([disabled]) .chip-wrapper {
        background-color: var(--awf-chip-rest-disabled-background-inner);
        border: var(--awf-chip-rest-disabled-border-inner);
        color: var(--awf-chip-rest-disabled-font-color-inner);
    }

    :host([active][disabled]) .chip-wrapper {
        background-color: var(--awf-chip-active-disabled-background-inner);
        border: var(--awf-chip-active-disabled-border-inner);
        color: var(--awf-chip-active-disabled-font-color-inner);
        --awf-icon-color: var(--awf-chip-active-disabled-font-color-inner);
    }

    :host([active]) .chip-wrapper {
        background-color: var(--awf-chip-active-background-inner);
        border: var(--awf-chip-active-border-inner);
        color: var(--awf-chip-active-font-color-inner);
        --awf-icon-color: var(--awf-chip-active-font-color-inner);
    }

    :host([disabled]) .chip-wrapper {
        cursor: not-allowed;
    }

    :host([disabled]) .chip-wrapper > img {
        opacity: var(--disabled-opacity);
    }

    :host([light]:not([active]):not([disabled])) .chip-wrapper:hover {
        background-color: var(--awf-chip-rest-light-hover-background-inner);
        border: var(--awf-chip-rest-light-hover-border-inner);
        color: var(--awf-chip-rest-light-hover-font-color-inner);
    }

    :host(:not([disabled]):not([active])) .chip-wrapper:hover {
        background-color: var(--awf-chip-rest-hover-background-inner);
        border: var(--awf-chip-rest-hover-border-inner);
        color: var(--awf-chip-rest-hover-font-color-inner);
    }

    :host(:not([disabled])) .remove-button:hover {
        cursor: pointer;
        background-color: var(--awf-chip-remove-button-hover-background-inner);
    }

    :host(:not([disabled])[light]) .remove-button:hover {
        background-color: var(--at-blue-soft);
    }

    :host([removeable]) .chip-wrapper {
        padding-right: var(--awf-chip-wrapper-padding-inner);
    }

    img,
    .icon {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        margin-right: 5px;
        margin-left: -13px;
        object-fit: cover;
    }

    .icon awf-icon {
        margin: 1px 1px 1px 2px;
    }

    .remove-button {
        border-radius: 50%;
        border-width: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        background-color: transparent;
        width: var(--awf-chip-remove-button-wrapper-size-inner);
        height: var(--awf-chip-remove-button-wrapper-size-inner);
        margin-left: var(--awf-chip-remove-button-wrapper-margin-inner);
    }

    .remove-button awf-icon {
        height: var(--awf-chip-remove-button-size-inner);
        width: var(--awf-chip-remove-button-size-inner);
    }

    .label {
        white-space: nowrap;
    }
`;let AwfChip=class AwfChip extends lit.oi{constructor(){super(...arguments),this.label="",this.light=!1,this.active=!1,this.disabled=!1,this.removeable=!1,this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}render(){return lit.dy`<button aria-label="chip" class="chip-wrapper" ?disabled=${this.disabled}>
            ${this.getPictureTemplate()}
            <span class="label">${this.label}</span>
            ${this.getRemoveButton()}
        </button>`}updated(changes){super.updated(changes),changes.has("disabled")&&(this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled"))}getPictureTemplate(){return this.image?lit.dy`<img alt="" src="${this.image}" />`:this.icon?lit.dy`<span class="icon"><awf-icon name=${this.icon}></awf-icon></span>`:lit.dy``}getRemoveButton(){return this.removeable?lit.dy` <button aria-label="remove-chip" class="remove-button" @click=${this.removeChip}>
                <awf-icon raw=${delete_cross.C}></awf-icon>
            </button>`:lit.dy``}removeChip(event){event.preventDefault(),event.stopPropagation(),this.disabled||this.dispatchCustomEvent(AwfEvent.DELETE)}};AwfChip.styles=[COMMON_STYLES,CHIP_CSS_VARIABLES,CHIP_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfChip.prototype,"label",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfChip.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfChip.prototype,"icon",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfChip.prototype,"image",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfChip.prototype,"light",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfChip.prototype,"active",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfChip.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfChip.prototype,"removeable",void 0),AwfChip=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-chip",!0)],AwfChip);var page_previous=__webpack_require__("./node_modules/@agilent/web-icons/core/page-previous.js"),page_next=__webpack_require__("./node_modules/@agilent/web-icons/core/page-next.js");const str=(strings,...values)=>({strTag:!0,strings,values}),joinStringsAndValues=(strings,values,valueOrder)=>{let concat=strings[0];for(let i=1;i<strings.length;i++)concat+=values[valueOrder?valueOrder[i-1]:i-1],concat+=strings[i];return concat},default_msg_defaultMsg=template=>{return"string"!=typeof(val=template)&&"strTag"in val?joinStringsAndValues(template.strings,template.values):template;var val};class LocalizeController{constructor(host){this.__litLocalizeEventHandler=event=>{"ready"===event.detail.status&&this.host.requestUpdate()},this.host=host}hostConnected(){window.addEventListener("lit-localize-status",this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener("lit-localize-status",this.__litLocalizeEventHandler)}}const updateWhenLocaleChanges=host=>host.addController(new LocalizeController(host)),localized=()=>classOrDescriptor=>"function"==typeof classOrDescriptor?legacyLocalized(classOrDescriptor):standardLocalized(classOrDescriptor),standardLocalized=({kind,elements})=>({kind,elements,finisher(clazz){clazz.addInitializer(updateWhenLocaleChanges)}}),legacyLocalized=clazz=>(clazz.addInitializer(updateWhenLocaleChanges),clazz);class Deferred{constructor(){this.settled=!1,this.promise=new Promise(((resolve,reject)=>{this._resolve=resolve,this._reject=reject}))}resolve(value){this.settled=!0,this._resolve(value)}reject(error){this.settled=!0,this._reject(error)}}const hl=[];for(let i=0;i<256;i++)hl[i]=(i>>4&15).toString(16)+(15&i).toString(16);const HASH_DELIMITER="",HTML_PREFIX="h",STRING_PREFIX="s";function generateMsgId(strings,isHtmlTagged){return(isHtmlTagged?HTML_PREFIX:STRING_PREFIX)+function fnv1a64(str){let t0=0,v0=8997,t1=0,v1=33826,t2=0,v2=40164,t3=0,v3=52210;for(let i=0;i<str.length;i++)v0^=str.charCodeAt(i),t0=435*v0,t1=435*v1,t2=435*v2,t3=435*v3,t2+=v0<<8,t3+=v1<<8,t1+=t0>>>16,v0=65535&t0,t2+=t1>>>16,v1=65535&t1,v3=t3+(t2>>>16)&65535,v2=65535&t2;return hl[v3>>8]+hl[255&v3]+hl[v2>>8]+hl[255&v2]+hl[v1>>8]+hl[255&v1]+hl[v0>>8]+hl[255&v0]}("string"==typeof strings?strings:strings.join(HASH_DELIMITER))}const expressionOrders=new WeakMap,hashCache=new Map;function runtimeMsg(templates,template,options){var _a;if(templates){const id=null!==(_a=null==options?void 0:options.id)&&void 0!==_a?_a:function generateId(template){const strings="string"==typeof template?template:template.strings;let id=hashCache.get(strings);void 0===id&&(id=generateMsgId(strings,"string"!=typeof template&&!("strTag"in template)),hashCache.set(strings,id));return id}(template),localized=templates[id];if(localized){if("string"==typeof localized)return localized;if("strTag"in localized)return joinStringsAndValues(localized.strings,template.values,localized.values);{let order=expressionOrders.get(localized);return void 0===order&&(order=localized.values,expressionOrders.set(localized,order)),{...localized,values:order.map((i=>template.values[i]))}}}}return default_msg_defaultMsg(template)}function dispatchStatusEvent(detail){window.dispatchEvent(new CustomEvent("lit-localize-status",{detail}))}let loadingLocale,sourceLocale,validLocales,loadLocale,templates,activeLocale="",loading=new Deferred;loading.resolve();let requestId=0;const configureLocalization=config=>(function lit_localize_installMsgImplementation(impl){if(installed)throw new Error("lit-localize can only be configured once");msg=impl,installed=!0}(((template,options)=>runtimeMsg(templates,template,options))),activeLocale=sourceLocale=config.sourceLocale,validLocales=new Set(config.targetLocales),validLocales.add(config.sourceLocale),loadLocale=config.loadLocale,{getLocale,setLocale}),getLocale=()=>activeLocale,setLocale=newLocale=>{if(newLocale===(null!=loadingLocale?loadingLocale:activeLocale))return loading.promise;if(!validLocales||!loadLocale)throw new Error("Internal error");if(!validLocales.has(newLocale))throw new Error("Invalid locale code");requestId++;const thisRequestId=requestId;loadingLocale=newLocale,loading.settled&&(loading=new Deferred),dispatchStatusEvent({status:"loading",loadingLocale:newLocale});return(newLocale===sourceLocale?Promise.resolve({templates:void 0}):loadLocale(newLocale)).then((mod=>{requestId===thisRequestId&&(activeLocale=newLocale,loadingLocale=void 0,templates=mod.templates,dispatchStatusEvent({status:"ready",readyLocale:newLocale}),loading.resolve())}),(err=>{requestId===thisRequestId&&(dispatchStatusEvent({status:"error",errorLocale:newLocale,errorMessage:err.toString()}),loading.reject(err))})),loading.promise};let msg=default_msg_defaultMsg,installed=!1;var directive=__webpack_require__("./node_modules/lit-html/directive.js");const{I:directive_helpers_l}=lit_html._$LH,r=()=>document.createComment(""),directive_helpers_c=(o,i,n)=>{var t;const v=o._$AA.parentNode,d=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=v.insertBefore(r(),d),t=v.insertBefore(r(),d);n=new directive_helpers_l(i,t,o,o.options)}else{const l=n._$AB.nextSibling,i=n._$AM,u=i!==o;if(u){let l;null===(t=n._$AQ)||void 0===t||t.call(n,o),n._$AM=o,void 0!==n._$AP&&(l=o._$AU)!==i._$AU&&n._$AP(l)}if(l!==d||u){let o=n._$AA;for(;o!==l;){const l=o.nextSibling;v.insertBefore(o,d),o=l}}}return n},f=(o,l,i=o)=>(o._$AI(l,i),o),s={},directive_helpers_a=(o,l=s)=>o._$AH=l,directive_helpers_p=o=>{var l;null===(l=o._$AP)||void 0===l||l.call(o,!1,!0);let i=o._$AA;const n=o._$AB.nextSibling;for(;i!==n;){const o=i.nextSibling;i.remove(),i=o}},repeat_u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=(0,directive.XM)(class extends directive.Xe{constructor(e){if(super(e),e.type!==directive.pX.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return{values:o,keys:l}}render(e,s,t){return this.ct(e,s,t).values}update(s,[t,r,c]){var d;const a=(o=>o._$AH)(s),{values:p,keys:v}=this.ct(t,r,c);if(!Array.isArray(a))return this.ut=v,p;const h=null!==(d=this.ut)&&void 0!==d?d:this.ut=[],m=[];let y,x,j=0,k=a.length-1,w=0,A=p.length-1;for(;j<=k&&w<=A;)if(null===a[j])j++;else if(null===a[k])k--;else if(h[j]===v[w])m[w]=f(a[j],p[w]),j++,w++;else if(h[k]===v[A])m[A]=f(a[k],p[A]),k--,A--;else if(h[j]===v[A])m[A]=f(a[j],p[A]),directive_helpers_c(s,m[A+1],a[j]),j++,A--;else if(h[k]===v[w])m[w]=f(a[k],p[w]),directive_helpers_c(s,a[j],a[k]),k--,w++;else if(void 0===y&&(y=repeat_u(v,w,A),x=repeat_u(h,j,k)),y.has(h[j]))if(y.has(h[k])){const e=x.get(v[w]),t=void 0!==e?a[e]:null;if(null===t){const e=directive_helpers_c(s,a[j]);f(e,p[w]),m[w]=e}else m[w]=f(t,p[w]),directive_helpers_c(s,a[j],t),a[e]=null;w++}else directive_helpers_p(a[k]),k--;else directive_helpers_p(a[j]),j++;for(;w<=A;){const e=directive_helpers_c(s,m[A+1]);f(e,p[w]),m[w++]=e}for(;j<=k;){const e=a[j++];null!==e&&directive_helpers_p(e)}return this.ut=v,directive_helpers_a(s,m),lit_html.Jb}}),o=(0,directive.XM)(class extends directive.Xe{constructor(t){var i;if(super(t),t.type!==directive.pX.ATTRIBUTE||"class"!==t.name||(null===(i=t.strings)||void 0===i?void 0:i.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((i=>t[i])).join(" ")+" "}update(i,[s]){var r,o;if(void 0===this.it){this.it=new Set,void 0!==i.strings&&(this.nt=new Set(i.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in s)s[t]&&!(null===(r=this.nt)||void 0===r?void 0:r.has(t))&&this.it.add(t);return this.render(s)}const e=i.element.classList;this.it.forEach((t=>{t in s||(e.remove(t),this.it.delete(t))}));for(const t in s){const i=!!s[t];i===this.it.has(t)||(null===(o=this.nt)||void 0===o?void 0:o.has(t))||(i?(e.add(t),this.it.add(t)):(e.remove(t),this.it.delete(t)))}return lit_html.Jb}});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");const targetLocales=["en-US","es-ES","fr-FR","ja-JP","pt-BR","ru-RU","zh-HANS"],allLocales=["en-US","en-US","es-ES","fr-FR","ja-JP","pt-BR","ru-RU","zh-HANS"],en_US_templates={"date-format":"^([0-9]{4})-([0-9]{2})-([0-9]{2})$","displayed-date":str`${0}-${1}-${2}`,s09054e07b59e9271:"Fr",s09165907b5ad1855:"Mo",s09353807b5c790d1:"Th",s09353907b5c79284:"To",s09354307b5c7a382:"Su",s09385307b5c9f489:"We",s09462f07b5d5f4b9:"Sa",s09464307b5d616b5:"Su",s47319a3cf96f6c33:str`The value must be less than or equal to ${0}.`,s8793b9cfd66015ff:"This input is not a whole number.",s9f0004e449fc0e1b:"true",sa55d612602b943e5:"yyyy-mm-dd",sa6ab5184d6315895:"From",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb4f1dffbb6be6302:"Clear",sc29f0fc2ea7235f9:str`The value must be higher than or equal to ${0}.`,sc57b150b53a3b9e6:"This field is required.",sd47de5e6aac88782:"Invalid date format (yyyy-mm-dd)",sd5be895f328fdb8d:str`The value must be higher than or equal to ${0}`,sf9ce70dc72fea861:"Please Select",sff4529d78884abaf:str`The value must be less than or equal to ${0}`,"date-time-format":"^(.*) (.*) (.*)$",s62931b2a50168976:"Previous month",s46d6587089bd0356:"Next month",sc92905d14a9421f3:"Idle",s9c13a2548d254014:"Ready",sc71b3854a2f58e3e:"Pre-Run",sb11b62fb6b2c22d3:"Tune",sb7313be9db9b8cb4:"Acquiring",s85994a70cd39166c:"Running",s3626b7b894dd4bc4:"Injecting",sb37aaf430e2b29dd:"Not Ready",s34be76c6b1eadbef:"Warning",s5f343a43e7ea9f91:"Error",s302552ff507cf49e:"Standby",scde3342a428aaee8:"Offline",s45a3285dc4ef2177:"Post-Run",sa6ab28c69299397d:"12 hours",s36409bb50f9177a0:"24 hours",sfa0c0738d0d2a5a9:"No item found",s31763966e49b8aac:"Invalid date time format (yyyy-mm-dd hh:mm AM|PM)",sbeb80a553c5afbc0:"yyyy-mm-dd hh:mm AM|PM",key:"Hello"},es_ES_templates={"date-format":"^([0-9]{4})-([0-9]{2})-([0-9]{2})$","date-time-format":"^(.*) (.*) (.*)$","displayed-date":str`${0}-${1}-${2}`,key:"Hello",s09054e07b59e9271:"VI",s09165907b5ad1855:"LU",s09353807b5c790d1:"JU",s09353907b5c79284:"A",s09354307b5c7a382:"MA",s09385307b5c9f489:"MI",s09462f07b5d5f4b9:"SA",s09464307b5d616b5:"DO",s302552ff507cf49e:"En espera",s31763966e49b8aac:"Invalid date time format (yyyy-mm-dd hh:mm AM|PM)",s34be76c6b1eadbef:"Advertencia",s3626b7b894dd4bc4:"Inyectando",s36409bb50f9177a0:"24 hours",s45a3285dc4ef2177:"Post-Run",s46d6587089bd0356:"Mes siguiente",s47319a3cf96f6c33:str`El valor debe ser menor o igual que ${0}.`,s5f343a43e7ea9f91:"Error",s62931b2a50168976:"Mes anterior",s85994a70cd39166c:"Funcionamiento",s8793b9cfd66015ff:"No ha introducido un número entero.",s9c13a2548d254014:"Preparado",s9f0004e449fc0e1b:"false",sa55d612602b943e5:"aaaa-mm-dd",sa6ab28c69299397d:"12 hours",sa6ab5184d6315895:"De",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb11b62fb6b2c22d3:"Ajuste",sb37aaf430e2b29dd:"No preparado",sb4f1dffbb6be6302:"Borrar",sb7313be9db9b8cb4:"Acquiring",sbeb80a553c5afbc0:"yyyy-mm-dd hh:mm AM|PM",sc29f0fc2ea7235f9:str`El valor debe ser mayor o igual a ${0}.`,sc57b150b53a3b9e6:"Este campo es obligatorio.",sc71b3854a2f58e3e:"Prefuncionamiento",sc92905d14a9421f3:"Inactivo",scde3342a428aaee8:"Desconectado",sd47de5e6aac88782:"Formato de fecha no válido (aaaa-mm-dd)",sd5be895f328fdb8d:str`El valor debe ser mayor o igual a ${0}`,sf9ce70dc72fea861:"Por favor seleccione",sfa0c0738d0d2a5a9:"No item found",sff4529d78884abaf:str`El valor debe ser menor o igual que ${0}`},fr_FR_templates={"date-format":"^(\\d{2})-(\\d{2})-(\\d{4})$","date-time-format":"^(.*) (.*) (.*)$","displayed-date":str`${2}-${1}-${0}`,key:"Monde",s09054e07b59e9271:"ve",s09165907b5ad1855:"lu",s09353807b5c790d1:"je",s09353907b5c79284:"A",s09354307b5c7a382:"ma",s09385307b5c9f489:"me",s09462f07b5d5f4b9:"sa",s09464307b5d616b5:"di",s302552ff507cf49e:"En attente",s31763966e49b8aac:"Mauvais format de date et heure (jj-mm-aaaa hh:mm)",s34be76c6b1eadbef:"Attention",s3626b7b894dd4bc4:"Injection en cours",s36409bb50f9177a0:"24 hours",s45a3285dc4ef2177:"Post-Run",s46d6587089bd0356:"Mois suivant",s47319a3cf96f6c33:str`La valeur doit être inférieure ou égale à ${0}.`,s5f343a43e7ea9f91:"Erreur",s62931b2a50168976:"Mois précédent",s85994a70cd39166c:"En cours",s8793b9cfd66015ff:"Cette entrée n'est pas un entier.",s9c13a2548d254014:"Prêt",s9f0004e449fc0e1b:"false",sa55d612602b943e5:"jj-mm-aaaa",sa6ab28c69299397d:"12 hours",sa6ab5184d6315895:"De",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb11b62fb6b2c22d3:"Tune",sb37aaf430e2b29dd:"Pas prêt",sb4f1dffbb6be6302:"Effacer",sb7313be9db9b8cb4:"Acquisition en cours",sbeb80a553c5afbc0:"jj-mm-aaaa hh:mm",sc29f0fc2ea7235f9:str`La valeur doit être supérieure ou égale à ${0}.`,sc57b150b53a3b9e6:"Ce champs est obligatoire.",sc71b3854a2f58e3e:"Pre-Run",sc92905d14a9421f3:"En attente",scde3342a428aaee8:"Déconnecté",sd47de5e6aac88782:"Format de date invalide (jj-mm-aaaa)",sd5be895f328fdb8d:str`La valeur doit être supérieure ou égale à ${0}`,sf9ce70dc72fea861:"Veuillez sélectionner",sfa0c0738d0d2a5a9:"Aucun élément trouvé",sff4529d78884abaf:str`La valeur doit être inférieure ou égale à ${0}`},ja_JP_templates={"date-format":"^([0-9]{4}年)([0-9]{2}月)([0-9]{2}日)$","date-time-format":"^(.*) (.*) (.*)$","displayed-date":str`${0}年${1}月${2}日`,key:"Hello",s09054e07b59e9271:"金",s09165907b5ad1855:"月",s09353807b5c790d1:"木",s09353907b5c79284:"終了",s09354307b5c7a382:"火",s09385307b5c9f489:"水",s09462f07b5d5f4b9:"土",s09464307b5d616b5:"日",s302552ff507cf49e:"Standby",s31763966e49b8aac:"Invalid date time format (yyyy-mm-dd hh:mm AM|PM)",s34be76c6b1eadbef:"警告",s3626b7b894dd4bc4:"注入中",s36409bb50f9177a0:"24 hours",s45a3285dc4ef2177:"ポストラン",s46d6587089bd0356:"来月",s47319a3cf96f6c33:str`値を ${0} 以下にしてください。`,s5f343a43e7ea9f91:"エラー",s62931b2a50168976:"先月",s85994a70cd39166c:"実行中",s8793b9cfd66015ff:"整数を入力してください。",s9c13a2548d254014:"レディ",s9f0004e449fc0e1b:"false",sa55d612602b943e5:"yyyy年mm月dd日",sa6ab28c69299397d:"12 hours",sa6ab5184d6315895:"開始",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb11b62fb6b2c22d3:"チューニング",sb37aaf430e2b29dd:"ノットレディ",sb4f1dffbb6be6302:"クリア",sb7313be9db9b8cb4:"Acquiring",sbeb80a553c5afbc0:"yyyy-mm-dd hh:mm AM|PM",sc29f0fc2ea7235f9:str`値を ${0} 以上にしてください。`,sc57b150b53a3b9e6:"このフィールドは必須です。",sc71b3854a2f58e3e:"プレラン",sc92905d14a9421f3:"待機",scde3342a428aaee8:"スタンバイ",sd47de5e6aac88782:"日付の形式が無効です (yyyy-mm-dd)",sd5be895f328fdb8d:str`値を ${0} 以上にしてください。`,sf9ce70dc72fea861:"選んでください",sfa0c0738d0d2a5a9:"No item found",sff4529d78884abaf:str`値を ${0} 以下にしてください。`},pt_BR_templates={"date-format":"^([0-9]{2})-([0-9]{2})-([0-9]{4})$","date-time-format":"^(.*) (.*) (.*)$","displayed-date":str`${2}-${1}-${0}`,key:"Hello",s09054e07b59e9271:"sex.",s09165907b5ad1855:"seg.",s09353807b5c790d1:"qui.",s09353907b5c79284:"Até",s09354307b5c7a382:"ter.",s09385307b5c9f489:"qua.",s09462f07b5d5f4b9:"sáb.",s09464307b5d616b5:"dom.",s302552ff507cf49e:"Em espera",s31763966e49b8aac:"Invalid date time format (yyyy-mm-dd hh:mm AM|PM)",s34be76c6b1eadbef:"Aviso",s3626b7b894dd4bc4:"Injetando",s36409bb50f9177a0:"24 hours",s45a3285dc4ef2177:"Pós-corrida",s46d6587089bd0356:"Próximo mês",s47319a3cf96f6c33:str`O valor deve ser menor ou igual a ${0}.`,s5f343a43e7ea9f91:"Erro",s62931b2a50168976:"Mês anterior",s85994a70cd39166c:"Correndo",s8793b9cfd66015ff:"Esta entrada não é um número inteiro.",s9c13a2548d254014:"Pronto",s9f0004e449fc0e1b:"false",sa55d612602b943e5:"dd-mm-aaaa",sa6ab28c69299397d:"12 hours",sa6ab5184d6315895:"De",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb11b62fb6b2c22d3:"Tune",sb37aaf430e2b29dd:"Não pronto",sb4f1dffbb6be6302:"Limpar",sb7313be9db9b8cb4:"Acquiring",sbeb80a553c5afbc0:"yyyy-mm-dd hh:mm AM|PM",sc29f0fc2ea7235f9:str`O valor deve ser maior ou igual a ${0}.`,sc57b150b53a3b9e6:"Este campo é obrigatório.",sc71b3854a2f58e3e:"Pré-corrida",sc92905d14a9421f3:"Ocioso",scde3342a428aaee8:"Offline",sd47de5e6aac88782:"Formato de data inválido (dd-mm-aaaa)",sd5be895f328fdb8d:str`O valor deve ser maior ou igual a ${0}`,sf9ce70dc72fea861:"Por favor selecione",sfa0c0738d0d2a5a9:"No item found",sff4529d78884abaf:str`O valor deve ser menor ou igual a ${0}`},ru_RU_templates={"date-format":"^([0-9]{2})\\.([0-9]{2})\\.([0-9]{4})$","date-time-format":"^(.*) (.*) (.*)$","displayed-date":str`${2}.${1}.${0}`,key:"Hello",s09054e07b59e9271:"пт",s09165907b5ad1855:"пн",s09353807b5c790d1:"чт",s09353907b5c79284:"До",s09354307b5c7a382:"вт",s09385307b5c9f489:"ср",s09462f07b5d5f4b9:"сб",s09464307b5d616b5:"вс",s302552ff507cf49e:"Ожидание",s31763966e49b8aac:"Invalid date time format (yyyy-mm-dd hh:mm AM|PM)",s34be76c6b1eadbef:"Warning",s3626b7b894dd4bc4:"Ввод пробы",s36409bb50f9177a0:"24 hours",s45a3285dc4ef2177:"Post-Run",s46d6587089bd0356:"Следующий месяц",s47319a3cf96f6c33:str`Значение должно быть меньше или равно ${0}.`,s5f343a43e7ea9f91:"Ошибка",s62931b2a50168976:"Предыдущий месяц",s85994a70cd39166c:"Выполняется",s8793b9cfd66015ff:"Значение не полное число.",s9c13a2548d254014:"Ready",s9f0004e449fc0e1b:"false",sa55d612602b943e5:"дд.мм.гггг",sa6ab28c69299397d:"12 hours",sa6ab5184d6315895:"От",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb11b62fb6b2c22d3:"Настройка",sb37aaf430e2b29dd:"Не готов",sb4f1dffbb6be6302:"Очистить",sb7313be9db9b8cb4:"Acquiring",sbeb80a553c5afbc0:"yyyy-mm-dd hh:mm AM|PM",sc29f0fc2ea7235f9:str`Значение должно быть больше или равно ${0}.`,sc57b150b53a3b9e6:"Требуется это поле.",sc71b3854a2f58e3e:"Предв. цикл",sc92905d14a9421f3:"Бездействие",scde3342a428aaee8:"Автономно",sd47de5e6aac88782:"Неверный формат даты (дд.мм.гггг)",sd5be895f328fdb8d:str`Значение должно быть больше или равно ${0}`,sf9ce70dc72fea861:"Пожалуйста выберите",sfa0c0738d0d2a5a9:"No item found",sff4529d78884abaf:str`Значение должно быть меньше или равно ${0}`},zh_HANS_templates={"date-format":"^([0-9]{4}年)([0-9]{2}月)([0-9]{2}日)$","date-time-format":"^(.*) (.*) (.*)$","displayed-date":str`${0}年${1}月${2}日`,key:"Hello",s09054e07b59e9271:"周五",s09165907b5ad1855:"周一",s09353807b5c790d1:"周四",s09353907b5c79284:"到",s09354307b5c7a382:"周二",s09385307b5c9f489:"周三",s09462f07b5d5f4b9:"周六",s09464307b5d616b5:"周日",s302552ff507cf49e:"待机",s31763966e49b8aac:"Invalid date time format (yyyy-mm-dd hh:mm AM|PM)",s34be76c6b1eadbef:"警告",s3626b7b894dd4bc4:"正在进样",s36409bb50f9177a0:"24 hours",s45a3285dc4ef2177:"后运行",s46d6587089bd0356:"下个月",s47319a3cf96f6c33:str`值必须小于或等于 ${0}。`,s5f343a43e7ea9f91:"错误",s62931b2a50168976:"上个月",s85994a70cd39166c:"正在运行",s8793b9cfd66015ff:"此输入不是整数。",s9c13a2548d254014:"就绪",s9f0004e449fc0e1b:"false",sa55d612602b943e5:"yyyy年mm月dd日",sa6ab28c69299397d:"12 hours",sa6ab5184d6315895:"从",sa82bbe4f3a4d328d:str`Add item "${0}"`,sb11b62fb6b2c22d3:"调谐",sb37aaf430e2b29dd:"未就绪",sb4f1dffbb6be6302:"清除",sb7313be9db9b8cb4:"Acquiring",sbeb80a553c5afbc0:"yyyy-mm-dd hh:mm AM|PM",sc29f0fc2ea7235f9:str`值必须大于或等于 ${0}。`,sc57b150b53a3b9e6:"此字段是必填项。",sc71b3854a2f58e3e:"预运行",sc92905d14a9421f3:"空闲",scde3342a428aaee8:"离线",sd47de5e6aac88782:"无效日期格式 (yyyy年mm月dd日)",sd5be895f328fdb8d:str`值必须大于或等于 ${0}。`,sf9ce70dc72fea861:"请选择",sfa0c0738d0d2a5a9:"No item found",sff4529d78884abaf:str`值必须小于或等于 ${0}。`};class AWFTranslateService{constructor(){this.localizedTemplates=new Map([["en-US",en_US_namespaceObject],["es-ES",es_ES_namespaceObject],["fr-FR",fr_FR_namespaceObject],["ja-JP",ja_JP_namespaceObject],["pt-BR",pt_BR_namespaceObject],["ru-RU",ru_RU_namespaceObject],["zh-HANS",zh_HANS_namespaceObject]]),this.getLocale=()=>"en-US",this.setLocale=function(){var _ref=(0,asyncToGenerator.Z)((function*(locale){throw new Error("AWFTranslateService is not initialized. call awfTranslateService.init method first.")}));return function(_x){return _ref.apply(this,arguments)}}(),this.customTranslations=new Map,this.locale$=new Subject.x}init(translations){var _this=this;return(0,asyncToGenerator.Z)((function*(){if(!AWFTranslateService.INITIALIZED){AWFTranslateService.INITIALIZED=!0;const extendedTargetLocales=[...targetLocales];translations?.forEach((t=>{_this.customTranslations.set(t.locale,t.localeModule),extendedTargetLocales.push(t.locale)}));const{getLocale,setLocale}=configureLocalization({sourceLocale:"en-US",targetLocales:extendedTargetLocales,loadLocale:locale=>_this.customTranslations?.has(locale)?Promise.resolve(_this.customTranslations.get(locale)):Promise.resolve(_this.localizedTemplates.get(locale))});_this.getLocale=getLocale,_this.setLocale=setLocale,_this.listenForLitLocalizeChange(),_this.syncWithBrowserLang()}}))()}onLangChange(){return this.locale$.asObservable()}listenForLitLocalizeChange(){window.addEventListener("lit-localize-status",(event=>{"ready"===event.detail.status&&this.locale$.next(event.detail.readyLocale)}))}syncWithBrowserLang(){const browserLangCode=window?.navigator?.language;allLocales.includes(browserLangCode)?this.setLocale(browserLangCode):this.setLocale(this.findLightMatch(browserLangCode))}findLightMatch(browserLangCode){const simplified=browserLangCode.split("-")[0];return allLocales.find((locale=>locale.startsWith(simplified)))||"en-US"}}AWFTranslateService.INITIALIZED=!1,window.awfTranslateService||(window.awfTranslateService=new AWFTranslateService);const translate_service_awfTranslateService=window.awfTranslateService,TIME_REGEX="\\b(1[0-2]|0?[1-9]):([0-5][0-9]) ([AaPp][Mm])";const dateUtil=new class DateUtil{compareDates(date1,date2,compareTime=!1){let d1=date1,d2=date2;return compareTime||(d1=new Date(date1.getFullYear(),date1.getMonth(),date1.getDate()),d2=new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())),d1.getTime()<d2.getTime()?-1:d1.getTime()>d2.getTime()?1:0}datesAreEqual(date1,date2,compareTime=!1){return!date1&&!date2||!(!date1&&date2||date1&&!date2)&&0===this.compareDates(date1,date2,compareTime)}formatDate(date,includeTime=!1){let displayedDate="";if(date){const month=`${date.getMonth()+1}`.padStart(2,"0"),day=`${date.getDate()}`.padStart(2,"0");if(displayedDate=msg(str`${date.getFullYear()}-${month}-${day}`,{id:"displayed-date"}),includeTime){const formatOptions={hour:"2-digit",minute:"2-digit",hourCycle:"h12"};displayedDate+=` ${date.toLocaleString(["en"],formatOptions)}`}}return displayedDate}parseDate(dateStr){if(dateStr&&this.validateDateFormat(dateStr))return this.toDate(dateStr)}parseDateTime(dateTimeStr){let date=null;if(this.validateDateTimeFormat(dateTimeStr)){const split=dateTimeStr.split(" ");date=this.toDate(split[0]);const time=this.timeToDate(`${split[1]} ${split[2]}`);date.setHours(time.getHours(),time.getMinutes())}else this.validateDateFormat(dateTimeStr)?date=this.toDate(dateTimeStr):this.validateTimeFormat(dateTimeStr)&&(date=this.timeToDate(dateTimeStr));return date}validateDateFormat(dateStr){const dateFormat=new RegExp(msg("^(\\d{4})-(\\d{2})-(\\d{2})$",{id:"date-format"}),"g"),m=dateStr.matchAll(dateFormat).next();let pass=!m.done;if(pass&&(pass=4===m.value.length),pass){const date=this.extractDate(m.value);pass&&(pass=date.year>=1970),pass&&(pass=date.month<=12),pass&&(pass=date.monthDay<=new Date(date.year,date.month,0).getDate())}return pass}validateDateTimeFormat(dateTimeStr){const dateTimeFormat=new RegExp(msg("^(.*) (.*) (.*)$",{id:"date-time-format"}),"g"),m=dateTimeStr.matchAll(dateTimeFormat).next();let pass=!m.done;return pass&&(pass=4===m.value.length),pass&&(pass&&(pass=this.validateDateFormat(m.value[1])),pass&&(pass=this.validateTimeFormat(`${m.value[2]} ${m.value[3]}`))),pass}validateTimeFormat(timeStr){const timeFormat=new RegExp(TIME_REGEX,"g"),m=timeStr.matchAll(timeFormat).next();let pass=!m.done;if(pass&&(pass=4===m.value.length),pass){const time=this.extractTime(m.value);pass&&(pass=time.hours<24),pass&&(pass="AM"===time.ampm&&time.hours<13||"PM"===time.ampm&&time.hours>=12),pass&&(pass=time.minutes<60)}return pass}toDate(dateStr){const dateFormat=new RegExp(msg("^(\\d{4})-(\\d{2})-(\\d{2})$",{id:"date-format"}),"g"),date=this.extractDate(dateStr.matchAll(dateFormat).next().value);return new Date(Number(date.year),Number(date.month)-1,Number(date.monthDay))}timeToDate(timeStr){const timeFormat=new RegExp(TIME_REGEX,"g"),m=timeStr.matchAll(timeFormat).next(),time=this.extractTime(m.value),date=new Date;return date.setHours(time.hours,time.minutes,0,0),date}extractDate(value){const date={year:value[1].split(/[年月日]/)[0],month:value[2].split(/[年月日]/)[0],monthDay:value[3].split(/[年月日]/)[0]};return"ru-RU"!==translate_service_awfTranslateService.getLocale()&&"pt-BR"!==translate_service_awfTranslateService.getLocale()&&"fr-FR"!==translate_service_awfTranslateService.getLocale()||(date.year=value[3],date.month=value[2],date.monthDay=value[1]),date}extractTime(value){let hours=Number(value[1]);const minutes=Number(value[2]),ampm=value[3];return"AM"===ampm&&12===hours?hours=0:"PM"===ampm&&12!==hours&&(hours+=12),{hours,minutes,ampm}}};const localizationUtil=new class LocalizationUtil{computeMonthName(displayedMonth){const locale=awfTranslateService.getLocale().replace("_","-"),monthName=new Intl.DateTimeFormat(locale,{month:"long"}).format(displayedMonth);return monthName.charAt(0).toLocaleUpperCase(locale)+monthName.substring(1)}},DATE_PICKER_CSS_VARIABLES=lit.iv`
    :host {
        --awf-datepicker-day-height-inner: var(--awf-datepicker-day-height, 32px);
        --awf-datepicker-day-width-inner: var(--awf-datepicker-day-width, 32px);

        --awf-date-time-picker-width-inner: var(--awf-date-time-picker-width, 370px);
    }
`,DATEPICKER_STYLES=lit.iv`
    .datepicker {
        background-color: white;
        cursor: default;
        width: calc(7 * var(--awf-datepicker-day-width-inner));
    }

    .header {
        display: grid;
        grid-template-columns: auto 1fr auto;
        color: var(--awf-state-rest-foreground);
    }

    .month {
        background-color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(7, var(--awf-datepicker-day-width-inner));
        grid-template-rows: repeat(7, var(--awf-datepicker-day-height-inner));
    }

    .grid:focus-visible {
        outline: none;
    }

    .weekday {
        color: var(--awf-state-disabled-foreground);
        border-bottom: solid 1px var(--at-gray);
        line-height: 2;
        text-align: center;
        font-style: italic;
        font-size: smaller;
    }

    .day-of-month {
        background-color: white;
        border: none;
        box-sizing: border-box;
        color: var(--awf-state-rest-foreground);
        cursor: pointer;
        font-family: inherit; /*Required to override User Agent settings*/
        font-size: var(--awf-button-font-size-inner);
        height: var(--awf-datepicker-day-height-inner);
        width: var(--awf-datepicker-day-width-inner);
    }

    .day-of-month.disabled {
        color: var(--awf-state-disabled-foreground);
        cursor: not-allowed;
    }

    .day-of-month.focused {
        border: solid 1px var(--awf-state-selected-border);
    }

    .day-of-month:focus-visible {
        outline: none;
    }

    .day-of-month:hover:not(.disabled),
    .day-of-month.selected:hover:not(.disabled),
    .day-of-month.highlighted:not(.disabled) {
        background-color: var(--awf-state-hover-background);
    }

    .day-of-month.selected:not(.disabled),
    .day-of-month:active:not(.disabled) {
        background-color: var(--awf-state-selected-background);
        color: var(--awf-state-selected-foreground);
    }

    .day-of-month.selected {
        outline: none;
    }
`;let AwfDatePicker=class AwfDatePicker extends lit.oi{constructor(){super(...arguments),this.dateRange=!1,this.monthLabel="",this.displayedDates=[],this._onKeydown=this.onKeydown.bind(this),this._onKeypress=this.onKeypress.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("keydown",this._onKeydown),this.addEventListener("keypress",this._onKeypress)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("keypress",this._onKeypress)}requestFocus(){this.focusedDayBtn?.focus()}render(){return lit.dy`
            <div class="datepicker">
                <div class="header">
                    <awf-button id="previousMonthBtn" @click=${this.gotoPreviousMonth} aria-label="previous month">
                        <awf-icon raw=${page_previous.g}></awf-icon>
                    </awf-button>
                    <awf-tooltip trigger="previousMonthBtn" message=${msg("Previous month")} tip></awf-tooltip>
                    <div class="month">${this.monthLabel} ${this.displayedMonth.getFullYear()}</div>
                    <awf-button id="nextMonthBtn" @click=${this.gotoNextMonth} aria-label="next month">
                        <awf-icon raw=${page_next._}></awf-icon>
                    </awf-button>
                    <awf-tooltip trigger="nextMonthBtn" message=${msg("Next month")} tip></awf-tooltip>
                </div>
                <div class="grid" @mouseleave=${this.onMouseLeaveGrid}>
                    ${c([msg("Su"),msg("Mo"),msg("Tu"),msg("We"),msg("Th"),msg("Fr"),msg("Sa")],this.renderWeekday)}
                    ${c(this.displayedDates,this.renderDates.bind(this))}
                </div>
            </div>
        `}willUpdate(_changedProperties){const valueChanged=_changedProperties.has("value"),minChanged=_changedProperties.has("min"),maxChanged=_changedProperties.has("max");(!this.focusedDate||valueChanged||minChanged||maxChanged)&&this.initFocusedDate(this.value||new Date),(!this.displayedMonth||valueChanged||minChanged||maxChanged)&&(this.displayedMonth=new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1)),this.monthLabel=localizationUtil.computeMonthName(this.displayedMonth),this.displayedDates=this.computeDisplayedDates(this.displayedMonth)}updated(_changedProperties){this.requestFocus()}renderDates(date){const classes=o({"day-of-month":!0,disabled:this.isDateDisabled(date),selected:this.isDateSelected(date),highlighted:this.isDateHighlighted(date),focused:this.isDateFocused(date)});return lit.dy`<button class=${classes} @click=${()=>this.selectDate(date)} @mouseenter=${()=>this.onMouseEnter(date)}>
            ${date.getDate()}
        </button>`}renderWeekday(weekday){return lit.dy`<div class="weekday">${weekday}</div>`}initFocusedDate(date){let dateToSet=date.getTime();dateToSet=this.min&&dateToSet<this.min.getTime()?this.min.getTime():dateToSet,dateToSet=this.max&&dateToSet>this.max.getTime()?this.max.getTime():dateToSet,this.focusedDate=new Date(dateToSet)}computeDisplayedDates(displayedMonth){const dates=new Array(42),firstDisplayedDate=new Date(displayedMonth.getFullYear(),displayedMonth.getMonth(),1-displayedMonth.getDay());for(let i=0;i<42;i++){const date=new Date(firstDisplayedDate);date.setDate(firstDisplayedDate.getDate()+i),dates[i]=date}return dates}isDateDisabled(date){let disabled=date.getMonth()!==this.displayedMonth.getMonth();return this.min&&(disabled||(disabled=dateUtil.compareDates(date,this.min)<0)),this.max&&(disabled||(disabled=dateUtil.compareDates(date,this.max)>0)),this.dateRange&&this.value&&(disabled||(disabled=-1===dateUtil.compareDates(date,this.value))),disabled}isDateSelected(date){return[this.value,this.endValue].some((d=>d?.toDateString()===date.toDateString()))}isDateFocused(date){return!this.isDateDisabled(date)&&date.toDateString()===this.focusedDate.toDateString()}isDateHighlighted(date){if(this.dateRange&&this.value){const targetDate=this.endValue||this.hoveredDay;if(targetDate)return date.getTime()>=this.value.getTime()&&date.getTime()<=targetDate.getTime()}return!1}gotoPreviousMonth(){this.displayedMonth=new Date(this.displayedMonth.getFullYear(),this.displayedMonth.getMonth()-1)}gotoNextMonth(){this.displayedMonth=new Date(this.displayedMonth.getFullYear(),this.displayedMonth.getMonth()+1)}selectDate(date){this.isDateDisabled(date)||(this.focusedDate=date,this.value&&this.dateRange?(this.endValue=date,this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{startDate:this.value,endDate:this.endValue}))):(this.value=date,this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,this.value))))}onMouseEnter(date){this.dateRange&&this.value&&date.getTime()>this.value.getTime()?this.hoveredDay=date:this.hoveredDay=void 0}onMouseLeaveGrid(){this.hoveredDay=void 0}onKeypress(event){["Enter","Space"].some((key=>key===event.code))&&this.selectDate(this.focusedDate)}onKeydown(event){let dayShift=0;switch(event.code){case"ArrowRight":dayShift=1;break;case"ArrowLeft":dayShift=-1;break;case"ArrowDown":dayShift=7;break;case"ArrowUp":dayShift=-7;break;case"Tab":dayShift=event.shiftKey?-1:1}0!==dayShift&&event.preventDefault(),this.focusedDate=new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),this.focusedDate.getDate()+dayShift),this.displayedMonth=new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1)}};AwfDatePicker.styles=[COMMON_STYLES,BUTTON_CSS_VARIABLES,DATE_PICKER_CSS_VARIABLES,DATEPICKER_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({attribute:!1})],AwfDatePicker.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({attribute:!1})],AwfDatePicker.prototype,"endValue",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({attribute:!1})],AwfDatePicker.prototype,"min",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({attribute:!1})],AwfDatePicker.prototype,"max",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfDatePicker.prototype,"dateRange",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("button.day-of-month.focused")],AwfDatePicker.prototype,"focusedDayBtn",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDatePicker.prototype,"displayedMonth",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDatePicker.prototype,"focusedDate",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDatePicker.prototype,"hoveredDay",void 0),AwfDatePicker=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-datepicker",!0)],AwfDatePicker);let AwfForm=class AwfForm extends lit.oi{render(){return lit.dy`<slot @slotchange=${this.onSlotChange}></slot>`}onSlotChange(){this.slottedForms?.forEach((form=>form.setAttribute("novalidate","")))}};(0,tslib_es6.gn)([(0,decorators.NH)({selector:"form"})],AwfForm.prototype,"slottedForms",void 0),AwfForm=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-form",!0)],AwfForm);const async_directive_s=(i,t)=>{var e,o;const r=i._$AN;if(void 0===r)return!1;for(const i of r)null===(o=(e=i)._$AO)||void 0===o||o.call(e,t,!1),async_directive_s(i,t);return!0},async_directive_o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===(null==e?void 0:e.size))},async_directive_r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),async_directive_l(t)}};function async_directive_n(i){void 0!==this._$AN?(async_directive_o(this),this._$AM=i,async_directive_r(this)):this._$AM=i}function async_directive_h(i,t=!1,e=0){const r=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)async_directive_s(r[i],!1),async_directive_o(r[i]);else null!=r&&(async_directive_s(r,!1),async_directive_o(r));else async_directive_s(this,i)}const async_directive_l=i=>{var t,s,o,r;i.type==directive.pX.CHILD&&(null!==(t=(o=i)._$AP)&&void 0!==t||(o._$AP=async_directive_h),null!==(s=(r=i)._$AQ)&&void 0!==s||(r._$AQ=async_directive_n))};class async_directive_c extends directive.Xe{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),async_directive_r(this),this.isConnected=i._$AU}_$AO(i,t=!0){var e,r;i!==this.isConnected&&(this.isConnected=i,i?null===(e=this.reconnected)||void 0===e||e.call(this):null===(r=this.disconnected)||void 0===r||r.call(this)),t&&(async_directive_s(this,i),async_directive_o(this))}setValue(t){if((o=>void 0===o.strings)(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}const ref_e=()=>new ref_o;class ref_o{}const ref_h=new WeakMap,ref_n=(0,directive.XM)(class extends async_directive_c{render(t){return lit_html.Ld}update(t,[s]){var e;const o=s!==this.G;return o&&void 0!==this.G&&this.ot(void 0),(o||this.rt!==this.lt)&&(this.G=s,this.dt=null===(e=t.options)||void 0===e?void 0:e.host,this.ot(this.lt=t.element)),lit_html.Ld}ot(i){var t;if("function"==typeof this.G){const s=null!==(t=this.dt)&&void 0!==t?t:globalThis;let e=ref_h.get(s);void 0===e&&(e=new WeakMap,ref_h.set(s,e)),void 0!==e.get(this.G)&&this.G.call(this.dt,void 0),e.set(this.G,i),void 0!==i&&this.G.call(this.dt,i)}else this.G.value=i}get rt(){var i,t,s;return"function"==typeof this.G?null===(t=ref_h.get(null!==(i=this.dt)&&void 0!==i?i:globalThis))||void 0===t?void 0:t.get(this.G):null===(s=this.G)||void 0===s?void 0:s.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});var LabelPosition;__webpack_require__("./node_modules/element-internals-polyfill/dist/index.js");class FormValidationController{constructor(host){this.host=host,this.firstUpdate=!0,this.dirty=!1,this._onBlur=this.onBlur.bind(this),this._onInput=this.onInput.bind(this),this.host.addController(this),this.host.internals=host.attachInternals()}hostDisconnected(){this.host.field?.removeEventListener("input",this._onInput),this.host.field?.removeEventListener("blur",this._onBlur),this.host.field?.removeEventListener("change",this._onBlur)}hostUpdated(){this.firstUpdate&&!this.host.hasAttribute("novalidate")&&(this.host.field.addEventListener("input",this._onInput),this.host.field.addEventListener("blur",this._onBlur),this.host.field.addEventListener("change",this._onBlur)),this.firstUpdate=!1}formAssociatedCallback(form){this.host.hasForm=!!form,form&&form.addEventListener("submit",(event=>{this.host.validateValue()||event.preventDefault()}),!0)}markAsDirty(){this.dirty=!0}onInput(){this.dirty=!0,this.host.clearInternalErrorMessage()}onBlur(){let shouldBeCleared=this.host.hasForm&&this.dirty;shouldBeCleared||(shouldBeCleared=!this.host.hasForm&&this.dirty&&this.host.validateValue()),shouldBeCleared&&this.host.clearInternalErrorMessage()}}!function(LabelPosition){LabelPosition.Top="top",LabelPosition.Left="left",LabelPosition.Right="right"}(LabelPosition||(LabelPosition={}));const LABEL_CSS_VARIABLES=lit.iv`
    :host {
        /* Common font colors */
        --awf-label-disabled-font-color-inner: var(--awf-label-disabled-font-color, var(--at-gray));
        --awf-label-error-font-color-inner: var(--awf-label-error-font-color, var(--awf-validation-label-error-font-color));
        --awf-label-focus-font-color-inner: var(--awf-label-focus-font-color, var(--at-blue-shade));
        --awf-label-hover-font-color-inner: var(--awf-label-hover-font-color, var(--at-blue-shade));
        --awf-label-warning-font-color-inner: var(--awf-label-warning-font-color, var(--awf-validation-warning-font-color));

        /* Label inside field */
        --awf-label-inside-position-font-color-inner: var(--awf-label-inside-position-font-color, var(--at-gray-medium));
        --awf-label-inside-position-font-size-inner: var(--awf-label-inside-position-font-size, 14px);
        --awf-label-inside-position-font-style-inner: var(--awf-label-inside-position-font-style, italic);
        --awf-label-inside-position-height-inner: var(--awf-label-inside-position-height, 19px);
        --awf-label-inside-position-padding-left-inner: var(--awf-label-inside-position-padding-left, 9px);
        --awf-label-inside-position-padding-right-inner: var(--awf-label-inside-position-padding-right, 8px);
        --awf-label-inside-position-top-inner: var(--awf-label-inside-position-top, 24px);

        /* Label on top of the field */
        --awf-label-top-position-font-color-inner: var(--awf-label-top-position-font-color, var(--at-dark-navy));
        --awf-label-top-position-font-size-inner: var(--awf-label-top-position-font-size, 11px);
        --awf-label-top-position-font-style-inner: var(--awf-label-top-position-font-style, normal);
        --awf-label-top-position-padding-left-inner: var(--awf-label-top-position-padding-left, 0);
        --awf-label-top-position-padding-right-inner: var(--awf-label-top-position-padding-right, 0);
        --awf-label-top-position-top-inner: var(--awf-label-top-position-top, 0);

        /* Label on left of the field */
        --awf-label-left-position-font-color-inner: var(--awf-label-left-position-font-color, var(--at-dark-navy));
        --awf-label-left-position-font-size-inner: var(--awf-label-left-position-font-size, 14px);
        --awf-label-left-position-font-style-inner: var(--awf-label-left-position-font-style, normal);
        --awf-label-left-position-margin-bottom-inner: var(--awf-label-left-position-margin-bottom, 7px);
        --awf-label-left-position-margin-top-inner: var(--awf-label-left-position-margin-top, 5px);
    }
`,FLOATING_ATTR=lit.iv`floating`,FLOATING_FORCED_ATTR=lit.iv`floating-forced`,LABEL_STYLE=[LABEL_CSS_VARIABLES,lit.iv`
        :host([warning]) {
            --awf-label-font-color: var(--awf-label-warning-font-color-inner);
        }

        :host([error]) {
            --awf-label-font-color: var(--awf-label-error-font-color-inner);
        }

        :host(:not([labelPosition='left']).has-label) {
            padding-top: 19px;
            position: relative;
        }

        /* Label top-inside: transition */
        :host(:not([labelPosition='left'])) ::slotted(label) {
            transition: all var(--transition-duration) var(--transition-timing-function);
            pointer-events: none;
            z-index: var(--awf-elevation-z2);

            display: block;
            height: var(--awf-label-inside-position-height-inner);
            overflow: hidden;
            position: absolute;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* Label inside */
        :host(:not([labelPosition='left'])):host(:not(:focus-within)) ::slotted(label:not([${FLOATING_ATTR}]):not([${FLOATING_FORCED_ATTR}])) {
            --awf-label-internal-font-color: var(--awf-label-inside-position-font-color-inner);
            --awf-label-font-size: var(--awf-label-inside-position-font-size-inner);
            --awf-label-font-style: var(--awf-label-inside-position-font-style-inner);
            --awf-label-padding-left: var(--awf-label-inside-position-padding-left-inner);
            --awf-label-padding-right: var(--awf-label-inside-position-padding-right-inner);
            --awf-label-top: var(--awf-label-inside-position-top-inner);
        }

        :host(:not([labelPosition='left'])):host(:not(:focus-within)):host(:hover)
                                                                    ::slotted(label:not([${FLOATING_ATTR}]):not([${FLOATING_FORCED_ATTR}])) {
            --awf-label-internal-font-color: var(--awf-label-hover-font-color-inner);
        }

        :host(:not([labelPosition='left'])):host(:not(:focus-within)):host([disabled])
                                                                    ::slotted(label:not([${FLOATING_ATTR}]):not([${FLOATING_FORCED_ATTR}])) {
            --awf-label-internal-font-color: var(--awf-label-disabled-font-color-inner);
        }

        /* label left */
        :host([labelPosition='left']) ::slotted(label) {
            --awf-label-internal-font-color: var(--awf-label-left-position-font-color-inner);
            --awf-label-font-size: var(--awf-label-left-position-font-size-inner);
            --awf-label-font-style: var(--awf-label-left-position-font-style-inner);
            --awf-label-top: 0;
            --awf-label-margin-top: var(--awf-label-left-position-margin-top-inner);
            --awf-label-margin-bottom: var(--awf-label-left-position-margin-bottom-inner);

            padding-right: 1rem;
        }

        :host([labelPosition='left']):host(:focus-within) ::slotted(label),
        :host([labelPosition='left']) ::slotted(label[${FLOATING_FORCED_ATTR}]) {
            --awf-label-internal-font-color: var(--awf-label-focus-font-color-inner);
        }

        :host([labelPosition='left']):host(:hover) ::slotted(label) {
            --awf-label-internal-font-color: var(--awf-label-hover-font-color-inner);
        }

        :host([labelPosition='left']):host([disabled]) ::slotted(label) {
            --awf-label-internal-font-color: var(--awf-label-disabled-font-color-inner);
        }

        /* label top */
        :host(:not([labelPosition='left'])) ::slotted(label[${FLOATING_ATTR}]),
        :host(:not([labelPosition='left'])) ::slotted(label[${FLOATING_FORCED_ATTR}]),
        :host(:not([labelPosition='left'])):host(:focus-within) ::slotted(label) {
            --awf-label-internal-font-color: var(--awf-label-top-position-font-color-inner);
            --awf-label-font-size: var(--awf-label-top-position-font-size-inner);
            --awf-label-font-style: var(--awf-label-top-position-font-style-inner);
            --awf-label-padding-left: var(--awf-label-top-position-padding-left-inner);
            --awf-label-padding-right: var(--awf-label-top-position-padding-right);
            --awf-label-top: var(--awf-label-top-position-top-inner);
        }

        :host(:not([labelPosition='left'])):host(:focus-within) ::slotted(label),
        :host(:not([labelPosition='left'])) ::slotted(label[${FLOATING_FORCED_ATTR}]) {
            --awf-label-internal-font-color: var(--awf-label-focus-font-color-inner);
        }

        :host(:not([labelPosition='left'])):host(:hover) ::slotted(label[${FLOATING_ATTR}]),
        :host(:not([labelPosition='left'])):host(:hover) ::slotted(label[${FLOATING_FORCED_ATTR}]) {
            --awf-label-internal-font-color: var(--awf-label-hover-font-color-inner);
        }

        :host(:not([labelPosition='left'])):host([disabled]) ::slotted(label[${FLOATING_ATTR}]),
        :host(:not([labelPosition='left'])):host([disabled]) ::slotted(label[${FLOATING_FORCED_ATTR}]) {
            --awf-label-internal-font-color: var(--awf-label-disabled-font-color-inner);
        }

        ::slotted(label) {
            box-sizing: border-box;
            color: var(--awf-label-font-color, var(--awf-label-internal-font-color));
            font-size: var(--awf-label-font-size);
            font-style: var(--awf-label-font-style);
            line-height: var(--awf-line-height-inner);
            margin-left: var(--awf-label-margin-left);
            margin-top: var(--awf-label-margin-top);
            margin-bottom: var(--awf-label-margin-bottom);
            padding-left: var(--awf-label-padding-left);
            padding-right: var(--awf-label-padding-right);
            position: relative;
            top: var(--awf-label-top);
            white-space: nowrap;
            width: var(--awf-label-width);
            user-select: none;
        }

        :host([required]) ::slotted(label)::after {
            content: ' *';
            color: var(--awf-label-font-color, var(--awf-label-internal-font-color));
        }
    `];class LabelController{get label(){return this.host.slottedLabel[0]}constructor(host){this.host=host,this._updateLabelPosition=()=>{},this._onFocusIn=()=>{},this._onFocusOut=()=>{},this._onLabelSlotChange=()=>{},this.host.addController(this)}hostConnected(){var _this=this;return(0,asyncToGenerator.Z)((function*(){yield _this.host.updateComplete,_this.updateLabelFloatingAttribute(),_this.updateLabelWidth(),_this._updateLabelPosition=()=>_this.updateLabelFloatingAttribute(),_this._onFocusIn=()=>_this.updateLabelWidthOnTop(),_this._onFocusOut=()=>_this.updateLabelWidth(),_this._onLabelSlotChange=()=>_this.updateLabelFloatingAttribute(),_this.host.field.addEventListener("change",_this._updateLabelPosition),_this.host.addEventListener("focusin",_this._onFocusIn),_this.host.addEventListener("focusout",_this._onFocusOut);const slotLabel=_this.host.shadowRoot?.querySelector("slot[name=label]");slotLabel?.addEventListener("slotchange",_this._onLabelSlotChange)}))()}hostDisconnected(){this.host.field?.removeEventListener("change",this._updateLabelPosition),this.host.removeEventListener("focusin",this._onFocusIn),this.host.removeEventListener("focusout",this._onFocusOut);const slotLabel=this.host.shadowRoot?.querySelector("slot[name=label]");slotLabel?.removeEventListener("slotchange",this._onLabelSlotChange)}hostUpdated(){this.updateLabelWidth()}updateLabelFloatingAttribute(){if(this.host.labelPosition===LabelPosition.Top&&this.label){this.host.value.length>0?this.label?.setAttribute(`${FLOATING_ATTR}`,""):this.label?.removeAttribute(`${FLOATING_ATTR}`)}this.label?this.host.classList.add("has-label"):this.host.classList.remove("has-label")}updateLabelWidth(){this.host.labelPosition===LabelPosition.Top?this.isLabelFloating()?this.updateLabelWidthOnTop():this.updateLabelWidthInside():(this.label?.style.removeProperty("--awf-label-padding-left"),this.label?.style.removeProperty("--awf-label-width"))}isLabelFloating(){return!!this.label&&(this.label.hasAttribute(`${FLOATING_ATTR}`)||this.label.hasAttribute(`${FLOATING_FORCED_ATTR}`))}updateLabelWidthInside(){setTimeout((()=>{if(this.host.labelPosition===LabelPosition.Top){const fieldWidth=this.host.field.getBoundingClientRect().width,fieldPaddingRight=(getComputedStyle(this.host.field).paddingRight.match(/([0-9]+)/g)??["0"])[0],fieldPaddingLeft=(getComputedStyle(this.host.field).paddingLeft.match(/([0-9]+)/g)??["0"])[0],labelMarginLeft=this.host.field.getBoundingClientRect().left-this.host.getBoundingClientRect().left;this.label?.style.setProperty("--awf-label-padding-left",`${fieldPaddingLeft}px`),this.label?.style.setProperty("--awf-label-padding-right",`${fieldPaddingRight}px`),this.label?.style.setProperty("--awf-label-margin-left",`${labelMarginLeft}px`),this.label?.style.setProperty("--awf-label-width",`${fieldWidth}px`)}}))}updateLabelWidthOnTop(){setTimeout((()=>{this.host.labelPosition===LabelPosition.Top&&(this.label?.style.removeProperty("--awf-label-padding-left"),this.label?.style.removeProperty("--awf-label-padding-right"),this.label?.style.removeProperty("--awf-label-margin-left"),this.label?.style.setProperty("--awf-label-width",`${this.host.labelTopWidth}px`))}))}}function listenPropertyChangeWithCallback(element,callbackFn,property="value"){const actual=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(element),property);actual&&Object.defineProperty(element,property,{get:actual.get,set(value){actual.set&&actual.set.call(element,value),callbackFn()}})}function listenPropertyChange(element,property="value",event=new Event("change",{bubbles:!0})){const actual=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(element),property);actual&&Object.defineProperty(element,property,{get:actual.get,set(value){actual.set&&actual.set.call(element,value),element.dispatchEvent(event)}})}var MessageLevel;function when_n(n,o,r){return n?o():null==r?void 0:r()}!function(MessageLevel){MessageLevel.ERROR="error",MessageLevel.WARNING="warning"}(MessageLevel||(MessageLevel={}));const floating_ui_utils_min=Math.min,floating_ui_utils_max=Math.max,round=Math.round,floor=Math.floor,createCoords=v=>({x:v,y:v}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(start,value,end){return floating_ui_utils_max(start,floating_ui_utils_min(value,end))}function floating_ui_utils_evaluate(value,param){return"function"==typeof value?value(param):value}function floating_ui_utils_getSide(placement){return placement.split("-")[0]}function floating_ui_utils_getAlignment(placement){return placement.split("-")[1]}function floating_ui_utils_getOppositeAxis(axis){return"x"===axis?"y":"x"}function getAxisLength(axis){return"y"===axis?"height":"width"}function floating_ui_utils_getSideAxis(placement){return["top","bottom"].includes(floating_ui_utils_getSide(placement))?"y":"x"}function getAlignmentAxis(placement){return floating_ui_utils_getOppositeAxis(floating_ui_utils_getSideAxis(placement))}function floating_ui_utils_getOppositeAlignmentPlacement(placement){return placement.replace(/start|end/g,(alignment=>oppositeAlignmentMap[alignment]))}function getOppositePlacement(placement){return placement.replace(/left|right|bottom|top/g,(side=>oppositeSideMap[side]))}function floating_ui_utils_getPaddingObject(padding){return"number"!=typeof padding?function expandPaddingObject(padding){return{top:0,right:0,bottom:0,left:0,...padding}}(padding):{top:padding,right:padding,bottom:padding,left:padding}}function floating_ui_utils_rectToClientRect(rect){return{...rect,top:rect.y,left:rect.x,right:rect.x+rect.width,bottom:rect.y+rect.height}}function computeCoordsFromPlacement(_ref,placement,rtl){let{reference,floating}=_ref;const sideAxis=floating_ui_utils_getSideAxis(placement),alignmentAxis=getAlignmentAxis(placement),alignLength=getAxisLength(alignmentAxis),side=floating_ui_utils_getSide(placement),isVertical="y"===sideAxis,commonX=reference.x+reference.width/2-floating.width/2,commonY=reference.y+reference.height/2-floating.height/2,commonAlign=reference[alignLength]/2-floating[alignLength]/2;let coords;switch(side){case"top":coords={x:commonX,y:reference.y-floating.height};break;case"bottom":coords={x:commonX,y:reference.y+reference.height};break;case"right":coords={x:reference.x+reference.width,y:commonY};break;case"left":coords={x:reference.x-floating.width,y:commonY};break;default:coords={x:reference.x,y:reference.y}}switch(floating_ui_utils_getAlignment(placement)){case"start":coords[alignmentAxis]-=commonAlign*(rtl&&isVertical?-1:1);break;case"end":coords[alignmentAxis]+=commonAlign*(rtl&&isVertical?-1:1)}return coords}const computePosition=function(){var _ref2=(0,asyncToGenerator.Z)((function*(reference,floating,config){const{placement="bottom",strategy="absolute",middleware=[],platform}=config,validMiddleware=middleware.filter(Boolean),rtl=yield null==platform.isRTL?void 0:platform.isRTL(floating);let rects=yield platform.getElementRects({reference,floating,strategy}),{x,y}=computeCoordsFromPlacement(rects,placement,rtl),statefulPlacement=placement,middlewareData={},resetCount=0;for(let i=0;i<validMiddleware.length;i++){const{name,fn}=validMiddleware[i],{x:nextX,y:nextY,data,reset}=yield fn({x,y,initialPlacement:placement,placement:statefulPlacement,strategy,middlewareData,rects,platform,elements:{reference,floating}});x=null!=nextX?nextX:x,y=null!=nextY?nextY:y,middlewareData={...middlewareData,[name]:{...middlewareData[name],...data}},reset&&resetCount<=50&&(resetCount++,"object"==typeof reset&&(reset.placement&&(statefulPlacement=reset.placement),reset.rects&&(rects=!0===reset.rects?yield platform.getElementRects({reference,floating,strategy}):reset.rects),({x,y}=computeCoordsFromPlacement(rects,statefulPlacement,rtl))),i=-1)}return{x,y,placement:statefulPlacement,strategy,middlewareData}}));return function computePosition(_x,_x2,_x3){return _ref2.apply(this,arguments)}}();function detectOverflow(_x4,_x5){return _detectOverflow.apply(this,arguments)}function _detectOverflow(){return _detectOverflow=(0,asyncToGenerator.Z)((function*(state,options){var _await$platform$isEle;void 0===options&&(options={});const{x,y,platform,rects,elements,strategy}=state,{boundary="clippingAncestors",rootBoundary="viewport",elementContext="floating",altBoundary=!1,padding=0}=floating_ui_utils_evaluate(options,state),paddingObject=floating_ui_utils_getPaddingObject(padding),element=elements[altBoundary?"floating"===elementContext?"reference":"floating":elementContext],clippingClientRect=floating_ui_utils_rectToClientRect(yield platform.getClippingRect({element:null==(_await$platform$isEle=yield null==platform.isElement?void 0:platform.isElement(element))||_await$platform$isEle?element:element.contextElement||(yield null==platform.getDocumentElement?void 0:platform.getDocumentElement(elements.floating)),boundary,rootBoundary,strategy})),rect="floating"===elementContext?{...rects.floating,x,y}:rects.reference,offsetParent=yield null==platform.getOffsetParent?void 0:platform.getOffsetParent(elements.floating),offsetScale=(yield null==platform.isElement?void 0:platform.isElement(offsetParent))&&(yield null==platform.getScale?void 0:platform.getScale(offsetParent))||{x:1,y:1},elementClientRect=floating_ui_utils_rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect?yield platform.convertOffsetParentRelativeRectToViewportRelativeRect({elements,rect,offsetParent,strategy}):rect);return{top:(clippingClientRect.top-elementClientRect.top+paddingObject.top)/offsetScale.y,bottom:(elementClientRect.bottom-clippingClientRect.bottom+paddingObject.bottom)/offsetScale.y,left:(clippingClientRect.left-elementClientRect.left+paddingObject.left)/offsetScale.x,right:(elementClientRect.right-clippingClientRect.right+paddingObject.right)/offsetScale.x}})),_detectOverflow.apply(this,arguments)}function _convertValueToCoords(){return _convertValueToCoords=(0,asyncToGenerator.Z)((function*(state,options){const{placement,platform,elements}=state,rtl=yield null==platform.isRTL?void 0:platform.isRTL(elements.floating),side=floating_ui_utils_getSide(placement),alignment=floating_ui_utils_getAlignment(placement),isVertical="y"===floating_ui_utils_getSideAxis(placement),mainAxisMulti=["left","top"].includes(side)?-1:1,crossAxisMulti=rtl&&isVertical?-1:1,rawValue=floating_ui_utils_evaluate(options,state);let{mainAxis,crossAxis,alignmentAxis}="number"==typeof rawValue?{mainAxis:rawValue,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...rawValue};return alignment&&"number"==typeof alignmentAxis&&(crossAxis="end"===alignment?-1*alignmentAxis:alignmentAxis),isVertical?{x:crossAxis*crossAxisMulti,y:mainAxis*mainAxisMulti}:{x:mainAxis*mainAxisMulti,y:crossAxis*crossAxisMulti}})),_convertValueToCoords.apply(this,arguments)}const offset=function(options){return void 0===options&&(options=0),{name:"offset",options,fn:state=>(0,asyncToGenerator.Z)((function*(){var _middlewareData$offse,_middlewareData$arrow;const{x,y,placement,middlewareData}=state,diffCoords=yield function convertValueToCoords(_x6,_x7){return _convertValueToCoords.apply(this,arguments)}(state,options);return placement===(null==(_middlewareData$offse=middlewareData.offset)?void 0:_middlewareData$offse.placement)&&null!=(_middlewareData$arrow=middlewareData.arrow)&&_middlewareData$arrow.alignmentOffset?{}:{x:x+diffCoords.x,y:y+diffCoords.y,data:{...diffCoords,placement}}}))()}};function getNodeName(node){return isNode(node)?(node.nodeName||"").toLowerCase():"#document"}function getWindow(node){var _node$ownerDocument;return(null==node||null==(_node$ownerDocument=node.ownerDocument)?void 0:_node$ownerDocument.defaultView)||window}function getDocumentElement(node){var _ref;return null==(_ref=(isNode(node)?node.ownerDocument:node.document)||window.document)?void 0:_ref.documentElement}function isNode(value){return value instanceof Node||value instanceof getWindow(value).Node}function isElement(value){return value instanceof Element||value instanceof getWindow(value).Element}function isHTMLElement(value){return value instanceof HTMLElement||value instanceof getWindow(value).HTMLElement}function isShadowRoot(value){return"undefined"!=typeof ShadowRoot&&(value instanceof ShadowRoot||value instanceof getWindow(value).ShadowRoot)}function isOverflowElement(element){const{overflow,overflowX,overflowY,display}=floating_ui_utils_dom_getComputedStyle(element);return/auto|scroll|overlay|hidden|clip/.test(overflow+overflowY+overflowX)&&!["inline","contents"].includes(display)}function isTableElement(element){return["table","td","th"].includes(getNodeName(element))}function isContainingBlock(element){const webkit=isWebKit(),css=floating_ui_utils_dom_getComputedStyle(element);return"none"!==css.transform||"none"!==css.perspective||!!css.containerType&&"normal"!==css.containerType||!webkit&&!!css.backdropFilter&&"none"!==css.backdropFilter||!webkit&&!!css.filter&&"none"!==css.filter||["transform","perspective","filter"].some((value=>(css.willChange||"").includes(value)))||["paint","layout","strict","content"].some((value=>(css.contain||"").includes(value)))}function isWebKit(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(node){return["html","body","#document"].includes(getNodeName(node))}function floating_ui_utils_dom_getComputedStyle(element){return getWindow(element).getComputedStyle(element)}function getNodeScroll(element){return isElement(element)?{scrollLeft:element.scrollLeft,scrollTop:element.scrollTop}:{scrollLeft:element.pageXOffset,scrollTop:element.pageYOffset}}function getParentNode(node){if("html"===getNodeName(node))return node;const result=node.assignedSlot||node.parentNode||isShadowRoot(node)&&node.host||getDocumentElement(node);return isShadowRoot(result)?result.host:result}function getNearestOverflowAncestor(node){const parentNode=getParentNode(node);return isLastTraversableNode(parentNode)?node.ownerDocument?node.ownerDocument.body:node.body:isHTMLElement(parentNode)&&isOverflowElement(parentNode)?parentNode:getNearestOverflowAncestor(parentNode)}function getOverflowAncestors(node,list,traverseIframes){var _node$ownerDocument2;void 0===list&&(list=[]),void 0===traverseIframes&&(traverseIframes=!0);const scrollableAncestor=getNearestOverflowAncestor(node),isBody=scrollableAncestor===(null==(_node$ownerDocument2=node.ownerDocument)?void 0:_node$ownerDocument2.body),win=getWindow(scrollableAncestor);return isBody?list.concat(win,win.visualViewport||[],isOverflowElement(scrollableAncestor)?scrollableAncestor:[],win.frameElement&&traverseIframes?getOverflowAncestors(win.frameElement):[]):list.concat(scrollableAncestor,getOverflowAncestors(scrollableAncestor,[],traverseIframes))}function getCssDimensions(element){const css=floating_ui_utils_dom_getComputedStyle(element);let width=parseFloat(css.width)||0,height=parseFloat(css.height)||0;const hasOffset=isHTMLElement(element),offsetWidth=hasOffset?element.offsetWidth:width,offsetHeight=hasOffset?element.offsetHeight:height,shouldFallback=round(width)!==offsetWidth||round(height)!==offsetHeight;return shouldFallback&&(width=offsetWidth,height=offsetHeight),{width,height,$:shouldFallback}}function unwrapElement(element){return isElement(element)?element:element.contextElement}function getScale(element){const domElement=unwrapElement(element);if(!isHTMLElement(domElement))return createCoords(1);const rect=domElement.getBoundingClientRect(),{width,height,$}=getCssDimensions(domElement);let x=($?round(rect.width):rect.width)/width,y=($?round(rect.height):rect.height)/height;return x&&Number.isFinite(x)||(x=1),y&&Number.isFinite(y)||(y=1),{x,y}}const noOffsets=createCoords(0);function getVisualOffsets(element){const win=getWindow(element);return isWebKit()&&win.visualViewport?{x:win.visualViewport.offsetLeft,y:win.visualViewport.offsetTop}:noOffsets}function getBoundingClientRect(element,includeScale,isFixedStrategy,offsetParent){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);const clientRect=element.getBoundingClientRect(),domElement=unwrapElement(element);let scale=createCoords(1);includeScale&&(offsetParent?isElement(offsetParent)&&(scale=getScale(offsetParent)):scale=getScale(element));const visualOffsets=function shouldAddVisualOffsets(element,isFixed,floatingOffsetParent){return void 0===isFixed&&(isFixed=!1),!(!floatingOffsetParent||isFixed&&floatingOffsetParent!==getWindow(element))&&isFixed}(domElement,isFixedStrategy,offsetParent)?getVisualOffsets(domElement):createCoords(0);let x=(clientRect.left+visualOffsets.x)/scale.x,y=(clientRect.top+visualOffsets.y)/scale.y,width=clientRect.width/scale.x,height=clientRect.height/scale.y;if(domElement){const win=getWindow(domElement),offsetWin=offsetParent&&isElement(offsetParent)?getWindow(offsetParent):offsetParent;let currentWin=win,currentIFrame=currentWin.frameElement;for(;currentIFrame&&offsetParent&&offsetWin!==currentWin;){const iframeScale=getScale(currentIFrame),iframeRect=currentIFrame.getBoundingClientRect(),css=floating_ui_utils_dom_getComputedStyle(currentIFrame),left=iframeRect.left+(currentIFrame.clientLeft+parseFloat(css.paddingLeft))*iframeScale.x,top=iframeRect.top+(currentIFrame.clientTop+parseFloat(css.paddingTop))*iframeScale.y;x*=iframeScale.x,y*=iframeScale.y,width*=iframeScale.x,height*=iframeScale.y,x+=left,y+=top,currentWin=getWindow(currentIFrame),currentIFrame=currentWin.frameElement}}return floating_ui_utils_rectToClientRect({width,height,x,y})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(floating){return topLayerSelectors.some((selector=>{try{return floating.matches(selector)}catch(e){return!1}}))}function getWindowScrollBarX(element){return getBoundingClientRect(getDocumentElement(element)).left+getNodeScroll(element).scrollLeft}function getClientRectFromClippingAncestor(element,clippingAncestor,strategy){let rect;if("viewport"===clippingAncestor)rect=function getViewportRect(element,strategy){const win=getWindow(element),html=getDocumentElement(element),visualViewport=win.visualViewport;let width=html.clientWidth,height=html.clientHeight,x=0,y=0;if(visualViewport){width=visualViewport.width,height=visualViewport.height;const visualViewportBased=isWebKit();(!visualViewportBased||visualViewportBased&&"fixed"===strategy)&&(x=visualViewport.offsetLeft,y=visualViewport.offsetTop)}return{width,height,x,y}}(element,strategy);else if("document"===clippingAncestor)rect=function getDocumentRect(element){const html=getDocumentElement(element),scroll=getNodeScroll(element),body=element.ownerDocument.body,width=floating_ui_utils_max(html.scrollWidth,html.clientWidth,body.scrollWidth,body.clientWidth),height=floating_ui_utils_max(html.scrollHeight,html.clientHeight,body.scrollHeight,body.clientHeight);let x=-scroll.scrollLeft+getWindowScrollBarX(element);const y=-scroll.scrollTop;return"rtl"===floating_ui_utils_dom_getComputedStyle(body).direction&&(x+=floating_ui_utils_max(html.clientWidth,body.clientWidth)-width),{width,height,x,y}}(getDocumentElement(element));else if(isElement(clippingAncestor))rect=function getInnerBoundingClientRect(element,strategy){const clientRect=getBoundingClientRect(element,!0,"fixed"===strategy),top=clientRect.top+element.clientTop,left=clientRect.left+element.clientLeft,scale=isHTMLElement(element)?getScale(element):createCoords(1);return{width:element.clientWidth*scale.x,height:element.clientHeight*scale.y,x:left*scale.x,y:top*scale.y}}(clippingAncestor,strategy);else{const visualOffsets=getVisualOffsets(element);rect={...clippingAncestor,x:clippingAncestor.x-visualOffsets.x,y:clippingAncestor.y-visualOffsets.y}}return floating_ui_utils_rectToClientRect(rect)}function hasFixedPositionAncestor(element,stopNode){const parentNode=getParentNode(element);return!(parentNode===stopNode||!isElement(parentNode)||isLastTraversableNode(parentNode))&&("fixed"===floating_ui_utils_dom_getComputedStyle(parentNode).position||hasFixedPositionAncestor(parentNode,stopNode))}function getRectRelativeToOffsetParent(element,offsetParent,strategy){const isOffsetParentAnElement=isHTMLElement(offsetParent),documentElement=getDocumentElement(offsetParent),isFixed="fixed"===strategy,rect=getBoundingClientRect(element,!0,isFixed,offsetParent);let scroll={scrollLeft:0,scrollTop:0};const offsets=createCoords(0);if(isOffsetParentAnElement||!isOffsetParentAnElement&&!isFixed)if(("body"!==getNodeName(offsetParent)||isOverflowElement(documentElement))&&(scroll=getNodeScroll(offsetParent)),isOffsetParentAnElement){const offsetRect=getBoundingClientRect(offsetParent,!0,isFixed,offsetParent);offsets.x=offsetRect.x+offsetParent.clientLeft,offsets.y=offsetRect.y+offsetParent.clientTop}else documentElement&&(offsets.x=getWindowScrollBarX(documentElement));return{x:rect.left+scroll.scrollLeft-offsets.x,y:rect.top+scroll.scrollTop-offsets.y,width:rect.width,height:rect.height}}function getTrueOffsetParent(element,polyfill){return isHTMLElement(element)&&"fixed"!==floating_ui_utils_dom_getComputedStyle(element).position?polyfill?polyfill(element):element.offsetParent:null}function getOffsetParent(element,polyfill){const window=getWindow(element);if(!isHTMLElement(element)||isTopLayer(element))return window;let offsetParent=getTrueOffsetParent(element,polyfill);for(;offsetParent&&isTableElement(offsetParent)&&"static"===floating_ui_utils_dom_getComputedStyle(offsetParent).position;)offsetParent=getTrueOffsetParent(offsetParent,polyfill);return offsetParent&&("html"===getNodeName(offsetParent)||"body"===getNodeName(offsetParent)&&"static"===floating_ui_utils_dom_getComputedStyle(offsetParent).position&&!isContainingBlock(offsetParent))?window:offsetParent||function getContainingBlock(element){let currentNode=getParentNode(element);for(;isHTMLElement(currentNode)&&!isLastTraversableNode(currentNode);){if(isContainingBlock(currentNode))return currentNode;currentNode=getParentNode(currentNode)}return null}(element)||window}const getElementRects=function(){var _ref2=(0,asyncToGenerator.Z)((function*(data){const getOffsetParentFn=this.getOffsetParent||getOffsetParent,getDimensionsFn=this.getDimensions;return{reference:getRectRelativeToOffsetParent(data.reference,yield getOffsetParentFn(data.floating),data.strategy),floating:{x:0,y:0,...yield getDimensionsFn(data.floating)}}}));return function getElementRects(_x){return _ref2.apply(this,arguments)}}();const platform={convertOffsetParentRelativeRectToViewportRelativeRect:function convertOffsetParentRelativeRectToViewportRelativeRect(_ref){let{elements,rect,offsetParent,strategy}=_ref;const isFixed="fixed"===strategy,documentElement=getDocumentElement(offsetParent),topLayer=!!elements&&isTopLayer(elements.floating);if(offsetParent===documentElement||topLayer&&isFixed)return rect;let scroll={scrollLeft:0,scrollTop:0},scale=createCoords(1);const offsets=createCoords(0),isOffsetParentAnElement=isHTMLElement(offsetParent);if((isOffsetParentAnElement||!isOffsetParentAnElement&&!isFixed)&&(("body"!==getNodeName(offsetParent)||isOverflowElement(documentElement))&&(scroll=getNodeScroll(offsetParent)),isHTMLElement(offsetParent))){const offsetRect=getBoundingClientRect(offsetParent);scale=getScale(offsetParent),offsets.x=offsetRect.x+offsetParent.clientLeft,offsets.y=offsetRect.y+offsetParent.clientTop}return{width:rect.width*scale.x,height:rect.height*scale.y,x:rect.x*scale.x-scroll.scrollLeft*scale.x+offsets.x,y:rect.y*scale.y-scroll.scrollTop*scale.y+offsets.y}},getDocumentElement,getClippingRect:function getClippingRect(_ref){let{element,boundary,rootBoundary,strategy}=_ref;const clippingAncestors=[..."clippingAncestors"===boundary?function getClippingElementAncestors(element,cache){const cachedResult=cache.get(element);if(cachedResult)return cachedResult;let result=getOverflowAncestors(element,[],!1).filter((el=>isElement(el)&&"body"!==getNodeName(el))),currentContainingBlockComputedStyle=null;const elementIsFixed="fixed"===floating_ui_utils_dom_getComputedStyle(element).position;let currentNode=elementIsFixed?getParentNode(element):element;for(;isElement(currentNode)&&!isLastTraversableNode(currentNode);){const computedStyle=floating_ui_utils_dom_getComputedStyle(currentNode),currentNodeIsContaining=isContainingBlock(currentNode);currentNodeIsContaining||"fixed"!==computedStyle.position||(currentContainingBlockComputedStyle=null),(elementIsFixed?!currentNodeIsContaining&&!currentContainingBlockComputedStyle:!currentNodeIsContaining&&"static"===computedStyle.position&&currentContainingBlockComputedStyle&&["absolute","fixed"].includes(currentContainingBlockComputedStyle.position)||isOverflowElement(currentNode)&&!currentNodeIsContaining&&hasFixedPositionAncestor(element,currentNode))?result=result.filter((ancestor=>ancestor!==currentNode)):currentContainingBlockComputedStyle=computedStyle,currentNode=getParentNode(currentNode)}return cache.set(element,result),result}(element,this._c):[].concat(boundary),rootBoundary],firstClippingAncestor=clippingAncestors[0],clippingRect=clippingAncestors.reduce(((accRect,clippingAncestor)=>{const rect=getClientRectFromClippingAncestor(element,clippingAncestor,strategy);return accRect.top=floating_ui_utils_max(rect.top,accRect.top),accRect.right=floating_ui_utils_min(rect.right,accRect.right),accRect.bottom=floating_ui_utils_min(rect.bottom,accRect.bottom),accRect.left=floating_ui_utils_max(rect.left,accRect.left),accRect}),getClientRectFromClippingAncestor(element,firstClippingAncestor,strategy));return{width:clippingRect.right-clippingRect.left,height:clippingRect.bottom-clippingRect.top,x:clippingRect.left,y:clippingRect.top}},getOffsetParent,getElementRects,getClientRects:function getClientRects(element){return Array.from(element.getClientRects())},getDimensions:function getDimensions(element){const{width,height}=getCssDimensions(element);return{width,height}},getScale,isElement,isRTL:function isRTL(element){return"rtl"===floating_ui_utils_dom_getComputedStyle(element).direction}};function autoUpdate(reference,floating,update,options){void 0===options&&(options={});const{ancestorScroll=!0,ancestorResize=!0,elementResize="function"==typeof ResizeObserver,layoutShift="function"==typeof IntersectionObserver,animationFrame=!1}=options,referenceEl=unwrapElement(reference),ancestors=ancestorScroll||ancestorResize?[...referenceEl?getOverflowAncestors(referenceEl):[],...getOverflowAncestors(floating)]:[];ancestors.forEach((ancestor=>{ancestorScroll&&ancestor.addEventListener("scroll",update,{passive:!0}),ancestorResize&&ancestor.addEventListener("resize",update)}));const cleanupIo=referenceEl&&layoutShift?function observeMove(element,onMove){let timeoutId,io=null;const root=getDocumentElement(element);function cleanup(){var _io;clearTimeout(timeoutId),null==(_io=io)||_io.disconnect(),io=null}return function refresh(skip,threshold){void 0===skip&&(skip=!1),void 0===threshold&&(threshold=1),cleanup();const{left,top,width,height}=element.getBoundingClientRect();if(skip||onMove(),!width||!height)return;const options={rootMargin:-floor(top)+"px "+-floor(root.clientWidth-(left+width))+"px "+-floor(root.clientHeight-(top+height))+"px "+-floor(left)+"px",threshold:floating_ui_utils_max(0,floating_ui_utils_min(1,threshold))||1};let isFirstUpdate=!0;function handleObserve(entries){const ratio=entries[0].intersectionRatio;if(ratio!==threshold){if(!isFirstUpdate)return refresh();ratio?refresh(!1,ratio):timeoutId=setTimeout((()=>{refresh(!1,1e-7)}),100)}isFirstUpdate=!1}try{io=new IntersectionObserver(handleObserve,{...options,root:root.ownerDocument})}catch(e){io=new IntersectionObserver(handleObserve,options)}io.observe(element)}(!0),cleanup}(referenceEl,update):null;let frameId,reobserveFrame=-1,resizeObserver=null;elementResize&&(resizeObserver=new ResizeObserver((_ref=>{let[firstEntry]=_ref;firstEntry&&firstEntry.target===referenceEl&&resizeObserver&&(resizeObserver.unobserve(floating),cancelAnimationFrame(reobserveFrame),reobserveFrame=requestAnimationFrame((()=>{var _resizeObserver;null==(_resizeObserver=resizeObserver)||_resizeObserver.observe(floating)}))),update()})),referenceEl&&!animationFrame&&resizeObserver.observe(referenceEl),resizeObserver.observe(floating));let prevRefRect=animationFrame?getBoundingClientRect(reference):null;return animationFrame&&function frameLoop(){const nextRefRect=getBoundingClientRect(reference);!prevRefRect||nextRefRect.x===prevRefRect.x&&nextRefRect.y===prevRefRect.y&&nextRefRect.width===prevRefRect.width&&nextRefRect.height===prevRefRect.height||update();prevRefRect=nextRefRect,frameId=requestAnimationFrame(frameLoop)}(),update(),()=>{var _resizeObserver2;ancestors.forEach((ancestor=>{ancestorScroll&&ancestor.removeEventListener("scroll",update),ancestorResize&&ancestor.removeEventListener("resize",update)})),null==cleanupIo||cleanupIo(),null==(_resizeObserver2=resizeObserver)||_resizeObserver2.disconnect(),resizeObserver=null,animationFrame&&cancelAnimationFrame(frameId)}}const floating_ui_dom_shift=function(options){return void 0===options&&(options={}),{name:"shift",options,fn:state=>(0,asyncToGenerator.Z)((function*(){const{x,y,placement}=state,{mainAxis:checkMainAxis=!0,crossAxis:checkCrossAxis=!1,limiter={fn:_ref=>{let{x,y}=_ref;return{x,y}}},...detectOverflowOptions}=floating_ui_utils_evaluate(options,state),coords={x,y},overflow=yield detectOverflow(state,detectOverflowOptions),crossAxis=floating_ui_utils_getSideAxis(floating_ui_utils_getSide(placement)),mainAxis=floating_ui_utils_getOppositeAxis(crossAxis);let mainAxisCoord=coords[mainAxis],crossAxisCoord=coords[crossAxis];if(checkMainAxis){const maxSide="y"===mainAxis?"bottom":"right";mainAxisCoord=clamp(mainAxisCoord+overflow["y"===mainAxis?"top":"left"],mainAxisCoord,mainAxisCoord-overflow[maxSide])}if(checkCrossAxis){const maxSide="y"===crossAxis?"bottom":"right";crossAxisCoord=clamp(crossAxisCoord+overflow["y"===crossAxis?"top":"left"],crossAxisCoord,crossAxisCoord-overflow[maxSide])}const limitedCoords=limiter.fn({...state,[mainAxis]:mainAxisCoord,[crossAxis]:crossAxisCoord});return{...limitedCoords,data:{x:limitedCoords.x-x,y:limitedCoords.y-y}}}))()}},floating_ui_dom_flip=function(options){return void 0===options&&(options={}),{name:"flip",options,fn:state=>(0,asyncToGenerator.Z)((function*(){var _middlewareData$arrow,_middlewareData$flip;const{placement,middlewareData,rects,initialPlacement,platform,elements}=state,{mainAxis:checkMainAxis=!0,crossAxis:checkCrossAxis=!0,fallbackPlacements:specifiedFallbackPlacements,fallbackStrategy="bestFit",fallbackAxisSideDirection="none",flipAlignment=!0,...detectOverflowOptions}=floating_ui_utils_evaluate(options,state);if(null!=(_middlewareData$arrow=middlewareData.arrow)&&_middlewareData$arrow.alignmentOffset)return{};const side=floating_ui_utils_getSide(placement),isBasePlacement=floating_ui_utils_getSide(initialPlacement)===initialPlacement,rtl=yield null==platform.isRTL?void 0:platform.isRTL(elements.floating),fallbackPlacements=specifiedFallbackPlacements||(isBasePlacement||!flipAlignment?[getOppositePlacement(initialPlacement)]:function getExpandedPlacements(placement){const oppositePlacement=getOppositePlacement(placement);return[floating_ui_utils_getOppositeAlignmentPlacement(placement),oppositePlacement,floating_ui_utils_getOppositeAlignmentPlacement(oppositePlacement)]}(initialPlacement));specifiedFallbackPlacements||"none"===fallbackAxisSideDirection||fallbackPlacements.push(...function getOppositeAxisPlacements(placement,flipAlignment,direction,rtl){const alignment=floating_ui_utils_getAlignment(placement);let list=function getSideList(side,isStart,rtl){const lr=["left","right"],rl=["right","left"],tb=["top","bottom"],bt=["bottom","top"];switch(side){case"top":case"bottom":return rtl?isStart?rl:lr:isStart?lr:rl;case"left":case"right":return isStart?tb:bt;default:return[]}}(floating_ui_utils_getSide(placement),"start"===direction,rtl);return alignment&&(list=list.map((side=>side+"-"+alignment)),flipAlignment&&(list=list.concat(list.map(floating_ui_utils_getOppositeAlignmentPlacement)))),list}(initialPlacement,flipAlignment,fallbackAxisSideDirection,rtl));const placements=[initialPlacement,...fallbackPlacements],overflow=yield detectOverflow(state,detectOverflowOptions),overflows=[];let overflowsData=(null==(_middlewareData$flip=middlewareData.flip)?void 0:_middlewareData$flip.overflows)||[];if(checkMainAxis&&overflows.push(overflow[side]),checkCrossAxis){const sides=function floating_ui_utils_getAlignmentSides(placement,rects,rtl){void 0===rtl&&(rtl=!1);const alignment=floating_ui_utils_getAlignment(placement),alignmentAxis=getAlignmentAxis(placement),length=getAxisLength(alignmentAxis);let mainAlignmentSide="x"===alignmentAxis?alignment===(rtl?"end":"start")?"right":"left":"start"===alignment?"bottom":"top";return rects.reference[length]>rects.floating[length]&&(mainAlignmentSide=getOppositePlacement(mainAlignmentSide)),[mainAlignmentSide,getOppositePlacement(mainAlignmentSide)]}(placement,rects,rtl);overflows.push(overflow[sides[0]],overflow[sides[1]])}if(overflowsData=[...overflowsData,{placement,overflows}],!overflows.every((side=>side<=0))){var _middlewareData$flip2,_overflowsData$filter;const nextIndex=((null==(_middlewareData$flip2=middlewareData.flip)?void 0:_middlewareData$flip2.index)||0)+1,nextPlacement=placements[nextIndex];if(nextPlacement)return{data:{index:nextIndex,overflows:overflowsData},reset:{placement:nextPlacement}};let resetPlacement=null==(_overflowsData$filter=overflowsData.filter((d=>d.overflows[0]<=0)).sort(((a,b)=>a.overflows[1]-b.overflows[1]))[0])?void 0:_overflowsData$filter.placement;if(!resetPlacement)switch(fallbackStrategy){case"bestFit":{var _overflowsData$map$so;const placement=null==(_overflowsData$map$so=overflowsData.map((d=>[d.placement,d.overflows.filter((overflow=>overflow>0)).reduce(((acc,overflow)=>acc+overflow),0)])).sort(((a,b)=>a[1]-b[1]))[0])?void 0:_overflowsData$map$so[0];placement&&(resetPlacement=placement);break}case"initialPlacement":resetPlacement=initialPlacement}if(placement!==resetPlacement)return{reset:{placement:resetPlacement}}}return{}}))()}},floating_ui_dom_size=function(options){return void 0===options&&(options={}),{name:"size",options,fn:state=>(0,asyncToGenerator.Z)((function*(){const{placement,rects,platform,elements}=state,{apply=()=>{},...detectOverflowOptions}=floating_ui_utils_evaluate(options,state),overflow=yield detectOverflow(state,detectOverflowOptions),side=floating_ui_utils_getSide(placement),alignment=floating_ui_utils_getAlignment(placement),isYAxis="y"===floating_ui_utils_getSideAxis(placement),{width,height}=rects.floating;let heightSide,widthSide;"top"===side||"bottom"===side?(heightSide=side,widthSide=alignment===((yield null==platform.isRTL?void 0:platform.isRTL(elements.floating))?"start":"end")?"left":"right"):(widthSide=side,heightSide="end"===alignment?"top":"bottom");const overflowAvailableHeight=height-overflow[heightSide],overflowAvailableWidth=width-overflow[widthSide],noShift=!state.middlewareData.shift;let availableHeight=overflowAvailableHeight,availableWidth=overflowAvailableWidth;if(isYAxis){const maximumClippingWidth=width-overflow.left-overflow.right;availableWidth=alignment||noShift?floating_ui_utils_min(overflowAvailableWidth,maximumClippingWidth):maximumClippingWidth}else{const maximumClippingHeight=height-overflow.top-overflow.bottom;availableHeight=alignment||noShift?floating_ui_utils_min(overflowAvailableHeight,maximumClippingHeight):maximumClippingHeight}if(noShift&&!alignment){const xMin=floating_ui_utils_max(overflow.left,0),xMax=floating_ui_utils_max(overflow.right,0),yMin=floating_ui_utils_max(overflow.top,0),yMax=floating_ui_utils_max(overflow.bottom,0);isYAxis?availableWidth=width-2*(0!==xMin||0!==xMax?xMin+xMax:floating_ui_utils_max(overflow.left,overflow.right)):availableHeight=height-2*(0!==yMin||0!==yMax?yMin+yMax:floating_ui_utils_max(overflow.top,overflow.bottom))}yield apply({...state,availableWidth,availableHeight});const nextDimensions=yield platform.getDimensions(elements.floating);return width!==nextDimensions.width||height!==nextDimensions.height?{reset:{rects:!0}}:{}}))()}},floating_ui_dom_arrow=options=>({name:"arrow",options,fn:state=>(0,asyncToGenerator.Z)((function*(){const{x,y,placement,rects,platform,elements,middlewareData}=state,{element,padding=0}=floating_ui_utils_evaluate(options,state)||{};if(null==element)return{};const paddingObject=floating_ui_utils_getPaddingObject(padding),coords={x,y},axis=getAlignmentAxis(placement),length=getAxisLength(axis),arrowDimensions=yield platform.getDimensions(element),isYAxis="y"===axis,minProp=isYAxis?"top":"left",maxProp=isYAxis?"bottom":"right",clientProp=isYAxis?"clientHeight":"clientWidth",endDiff=rects.reference[length]+rects.reference[axis]-coords[axis]-rects.floating[length],startDiff=coords[axis]-rects.reference[axis],arrowOffsetParent=yield null==platform.getOffsetParent?void 0:platform.getOffsetParent(element);let clientSize=arrowOffsetParent?arrowOffsetParent[clientProp]:0;clientSize&&(yield null==platform.isElement?void 0:platform.isElement(arrowOffsetParent))||(clientSize=elements.floating[clientProp]||rects.floating[length]);const centerToReference=endDiff/2-startDiff/2,largestPossiblePadding=clientSize/2-arrowDimensions[length]/2-1,minPadding=floating_ui_utils_min(paddingObject[minProp],largestPossiblePadding),maxPadding=floating_ui_utils_min(paddingObject[maxProp],largestPossiblePadding),min$1=minPadding,max=clientSize-arrowDimensions[length]-maxPadding,center=clientSize/2-arrowDimensions[length]/2+centerToReference,offset=clamp(min$1,center,max),shouldAddOffset=!middlewareData.arrow&&null!=floating_ui_utils_getAlignment(placement)&&center!==offset&&rects.reference[length]/2-(center<min$1?minPadding:maxPadding)-arrowDimensions[length]/2<0,alignmentOffset=shouldAddOffset?center<min$1?center-min$1:center-max:0;return{[axis]:coords[axis]+alignmentOffset,data:{[axis]:offset,centerOffset:center-offset-alignmentOffset,...shouldAddOffset&&{alignmentOffset}},reset:shouldAddOffset}}))()});class FloatingElementController{constructor(host){this.host=host}autoUpdatePosition(){return this.host.refElement?autoUpdate(this.host.refElement,this.host.floatingElement,this.updatePosition.bind(this)):()=>{}}updatePosition(){var _this=this;return(0,asyncToGenerator.Z)((function*(){if(!_this.host.refElement)return;const host=_this.host;let middlewareConfig=[offset(_this.host.offset),floating_ui_dom_shift({padding:_this.host.floatingElementPadding}),floating_ui_dom_size({apply({availableHeight}){host.floatingElement.style.setProperty("--awf-checklist-max-height",`${Math.max(100,availableHeight-2)}px`)}})];if(["","auto"].includes(_this.host.placement)&&middlewareConfig.push(floating_ui_dom_flip()),_this.host.tipElement&&(middlewareConfig=[...middlewareConfig,floating_ui_dom_arrow({element:_this.host.tipElement,padding:1})]),_this.host.refElement){const{x,y,placement,middlewareData}=yield((reference,floating,options)=>{const cache=new Map,mergedOptions={platform,...options},platformWithCache={...mergedOptions.platform,_c:cache};return computePosition(reference,floating,{...mergedOptions,platform:platformWithCache})})(_this.host.refElement,_this.host.floatingElement,{placement:"auto"!==_this.host.placement?_this.host.placement:_this.host.defaultPlacement,middleware:middlewareConfig});_this.position(_this.host.floatingElement,x,y),_this.host.tipElement&&_this.positionTip(_this.host.tipElement,placement,middlewareData.arrow?.x,middlewareData.arrow?.y)}}))()}position(element,x,y){Object.assign(element.style,{left:`${x}px`,top:`${y}px`})}positionTip(tip,placement,x,y){const arrowPlacementSide={top:"bottom",right:"left",bottom:"top",left:"right"}[placement.split("-")[0]];if(!arrowPlacementSide)return;const arrowOffset=tip.offsetWidth/2*-1;Object.assign(tip.style,{left:null!=x?`${x}px`:"",top:null!=y?`${y}px`:"",right:"",bottom:"",[arrowPlacementSide]:`${arrowOffset}px`}),tip.className=`awf-tip-shadow-${arrowPlacementSide}`}}const TOOLTIP_STYLES=lit.iv`
    
    :host {
        background-color: var(--awf-tooltip-background-color-inner);
        will-change: filter;
        filter: drop-shadow(0 0 1px var(--at-dark-gray));
        color: var(--awf-tooltip-text-color-inner);
        display: block;
        font-size: 12px;
        height: 20px;
        line-height: 20px;
        opacity: 0;
        padding: 0 8px;
        position: absolute;
        text-align: left;
        visibility: hidden;
        width: max-content;
        white-space: nowrap;
        z-index: var(--awf-elevation-z5);

        --awf-tooltip-rotation-inner: 45deg;
    }

    :host([warning]) {
        filter: none;
        --awf-tooltip-background-color-inner: var(--at-yellow);
        --awf-tooltip-border-color-inner: var(--at-yellow);
        --awf-tooltip-text-color-inner: var(--at-dark-navy);
    }

    :host([error]) {
        filter: none;
        --awf-tooltip-background-color-inner: var(--at-red);
        --awf-tooltip-border-color-inner: var(--at-red);
        --awf-tooltip-text-color-inner: var(--at-white);
    }

    :host([open]) {
        opacity: 1;
        transition: opacity 0.5s ease-in-out;
        visibility: visible;
    }

    .awf-tooltip-message {
        margin: 0;
        z-index: 100;
        position: relative;
    }

    .awf-tip-shadow-top {
        --awf-tooltip-rotation-inner: 45deg;
    }

    .awf-tip-shadow-bottom {
        --awf-tooltip-rotation-inner: 225deg;
    }

    .awf-tip-shadow-left {
        --awf-tooltip-rotation-inner: 315deg;
    }

    .awf-tip-shadow-right {
        --awf-tooltip-rotation-inner: 135deg;
    }

    #tip {
        background-color: var(--awf-tooltip-background-color-inner);
        height: 8px;
        position: absolute;
        transform: rotate(var(--awf-tooltip-rotation-inner));
        width: 8px;
        z-index: var(--awf-elevation-z1);
    }
`,TOOLTIP_CSS_VARIABLES=lit.iv`
    :host {
        --awf-tooltip-border-color-inner: var(--awf-tooltip-border-color, var(--at-gray));
        --awf-tooltip-background-color-inner: var(--awf-tooltip-background-color, var(--at-white));
        --awf-tooltip-text-color-inner: var(--awf-tooltip-text-color, var(--at-dark-gray));
    }
`;let AwfTooltip=class AwfTooltip extends lit.oi{constructor(){super(...arguments),this.open=!1,this.tip=!1,this.disabled=!1,this.error=!1,this.warning=!1,this.appendToBody=!1,this.message="",this.offset=8,this.manualToggle=!1,this.defaultPlacement="top",this.floatingElementPadding=5,this.controller=new FloatingElementController(this),this._detectTouch=this.detectedAsTouchDevice.bind(this),this._showTooltip=this.showTooltip.bind(this),this._hideTooltip=this.hideTooltip.bind(this),this.touchDevice=!1}get floatingElement(){return this}connectedCallback(){super.connectedCallback(),this.formerParent||(this.formerParent=this.parentNode)}disconnectedCallback(){super.disconnectedCallback(),this.appendToBody&&this.remove()}detectedAsTouchDevice(){this.touchDevice=!0}showTooltip(){!this.textContent&&!this.message||this.disabled||this.touchDevice||(this.cleanUp=this.controller.autoUpdatePosition(),this.open=!0)}hideTooltip(){this.open=!1,this.cleanUp&&this.cleanUp()}render(){return lit.dy`<p class='awf-tooltip-message'>${this.message}</p><slot></slot>${when_n(this.tip,this.createTip)}`}updated(_changedProperties){var _this=this;return(0,asyncToGenerator.Z)((function*(){_changedProperties.has("trigger")&&_this.triggerUpdated(_changedProperties.get("trigger")),_changedProperties.has("open")&&_this.openUpdated(),_changedProperties.has("appendToBody")&&_this.moveTooltip()}))()}triggerUpdated(oldTrigger){if(this.trigger&&(this.refElement=this.formerParent?.querySelector(`#${this.trigger}`),this.refElement&&!this.manualToggle&&(this.refElement.addEventListener("touchstart",this._detectTouch),this.refElement.addEventListener("mouseenter",this._showTooltip),this.refElement.addEventListener("mouseleave",this._hideTooltip))),oldTrigger){const oldRefElement=this.formerParent?.querySelector(`#${oldTrigger}`);oldRefElement&&(oldRefElement.removeEventListener("touchstart",this._detectTouch),oldRefElement.removeEventListener("mouseenter",this._showTooltip),oldRefElement.removeEventListener("mouseleave",this._hideTooltip))}}openUpdated(){this.open?this.showTooltip():this.hideTooltip()}createTip(){return lit.dy`<div id="tip"></div>`}moveTooltip(){this.remove(),this.appendToBody?document.body.appendChild(this):this.formerParent&&this.formerParent.appendChild(this)}};AwfTooltip.styles=[COMMON_STYLES,TOOLTIP_CSS_VARIABLES,TOOLTIP_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTooltip.prototype,"open",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfTooltip.prototype,"tip",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfTooltip.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTooltip.prototype,"error",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTooltip.prototype,"warning",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfTooltip.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfTooltip.prototype,"placement",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfTooltip.prototype,"message",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfTooltip.prototype,"trigger",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfTooltip.prototype,"offset",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfTooltip.prototype,"manualToggle",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("#tip")],AwfTooltip.prototype,"tipElement",void 0),AwfTooltip=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-tooltip",!0)],AwfTooltip);const INPUT_CSS_VARIABLES=lit.iv`
    :host {
        --awf-input-border-color-inner: var(--awf-input-border-color, var(--awf-input-rest-border-color-inner));
        --awf-input-font-color-inner: var(--awf-input-font-color, var(--awf-input-rest-font-color-inner));
        --awf-input-font-size-inner: var(--awf-input-font-size, 14px);
        --awf-input-height-inner: var(--awf-input-height, 32px);
        --awf-input-icon-size-inner: var(--awf-input-icon-size, 24px);
        --awf-input-padding-inner: var(--awf-input-padding, 6px 8px 8px 8px);
        --awf-input-placeholder-color-inner: var(--awf-input-placeholder-color, var(--awf-input-rest-placeholder-font-color-inner));
        --awf-input-prefix-text-padding-inner: var(--awf-input-prefix-text-padding, 5px 0 6px 4px);
        --awf-input-suffix-text-padding-inner: var(--awf-input-suffix-text-padding, 3px 4px 6px 0);
        --awf-input-vertical-align-inner: var(--awf-input-vertical-align, -4px);
        --awf-input-width-inner: var(--awf-input-width, 120px);

        /* Input Common Colors */
        --awf-input-background-color-inner: var(--awf-input-background-color, var(--awf-state-rest-background));
        /* --awf-input-label-font-color-inner: var(--awf-input-label-font-color, var(--at-dark-navy)); */
        --awf-input-icon-disabled-color-inner: var(--awf-input-icon-disabled-color, var(--at-gray));
        --awf-input-prefix-suffix-text-color-inner: var(--awf-input-prefix-suffix-text-color, var(--at-gray));

        /* State-Related Input Colors */
        --awf-input-disabled-border-color-inner: var(--awf-input-disabled-border-color, var(--at-gray-soft));
        --awf-input-disabled-font-color-inner: var(--awf-input-disabled-font-color, var(--awf-state-disabled-foreground));
        --awf-input-disabled-placeholder-font-color-inner: var(--awf-input-disabled-placeholder-font-color, var(--awf-state-disabled-foreground));

        --awf-input-focus-border-color-inner: var(--awf-input-focus-border-color, var(--awf-state-focused-border));
        --awf-input-focus-font-color-inner: var(--awf-input-focus-font-color, var(--at-dark-navy));
        --awf-input-focus-placeholder-font-color-inner: var(--awf-input-focus-placeholder-font-color, var(--at-gray));

        --awf-input-hover-border-color-inner: var(--awf-input-hover-border-color, var(--at-blue-shade));
        --awf-input-hover-font-color-inner: var(--awf-input-hover-font-color, var(--at-dark-navy));
        --awf-input-hover-placeholder-font-color-inner: var(--awf-input-hover-placeholder-font-color, var(--at-gray));

        --awf-input-rest-border-color-inner: var(--awf-input-rest-border-color, var(--awf-state-rest-border));
        --awf-input-rest-font-color-inner: var(--awf-input-rest-font-color, var(--awf-state-rest-foreground));
        --awf-input-rest-placeholder-font-color-inner: var(--awf-input-rest-placeholder-font-color, var(--at-gray));


        /* Validation */
        --awf-input-error-background-color-inner: var(--awf-input-error-background-color, var(--awf-validation-error-background-color));
        --awf-input-error-focus-background-color-inner: var(--awf-input-error-focus-background-color, var(--awf-validation-error-focus-background-color));
        --awf-input-error-border-color-inner: var(--awf-input-error-border-color, var(--awf-validation-error-border-color));
        --awf-input-error-font-color-inner: var(--awf-input-error-font-color, var(--awf-validation-error-font-color));
        --awf-input-error-message-font-color-inner: var(--awf-input-error-message-font-color, var(--awf-validation-error-message-font-color));
        --awf-input-error-placeholder-font-color-inner: var(--awf-input-error-placeholder-font-color, var(--at-gray-3q-dark));
        --awf-input-errors-height-inner: var(--awf-input-errors-height, 16px);

        --awf-input-warning-background-color-inner: var(--awf-input-warning-background-color, var(--awf-validation-warning-background-color));
        --awf-input-warning-focus-background-color-inner: var(--awf-input-warning-focus-background-color, var(--awf-validation-warning-focus-background-color));
        --awf-input-warning-border-color-inner: var(--awf-input-warning-border-color, var(--awf-validation-warning-border-color));
        --awf-input-warning-font-color-inner: var(--awf-input-warning-font-color, var(--at-dark-navy));
        --awf-input-warning-placeholder-font-color-inner: var(--awf-input-warning-placeholder-font-color, var(--at-gray-3q-dark));
    }
`,INPUT_STYLES=lit.iv`
    :host {
        --awf-icon-size: var(--awf-input-icon-size-inner);

        display: inline-flex;
        min-width: var(--awf-input-width-inner);
        box-sizing: border-box;
        font-size: var(--awf-input-font-size-inner);
    }

    :host(:not([disabled]):not([warning]):not([error]):not([readonly]):hover) {
        --awf-input-border-color-inner: var(--awf-input-hover-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-hover-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-hover-placeholder-font-color-inner);
    }

    :host(:not([readonly])[focused]) {
        --awf-input-border-color-inner: var(--awf-input-focus-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-focus-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-focus-placeholder-font-color-inner);
    }

    :host(:not([readonly])[error]:focus-within) {
        --awf-input-border-color-inner: var(--awf-input-error-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-error-font-color-inner);
        --awf-input-background-color: var(--awf-input-error-focus-background-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-error-placeholder-font-color-inner);
    }

    :host(:not([readonly])[warning]:focus-within) {
        --awf-input-border-color-inner: var(--awf-input-warning-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-warning-font-color-inner);
        --awf-input-background-color: var(--awf-input-warning-focus-background-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-warning-placeholder-font-color-inner);
    }

    :host([disabled]) {
        --awf-icon-color: var(--awf-input-icon-disabled-color-inner);
        --awf-input-border-color-inner: var(--awf-input-disabled-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-disabled-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-disabled-placeholder-font-color-inner);

        cursor: not-allowed;
    }

    :host([warning]) {
        --awf-input-prefix-suffix-text-color: var(--at-dark-navy);
        --awf-input-background-color: var(--awf-input-warning-background-color-inner);
        --awf-input-border-color-inner: var(--awf-input-warning-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-warning-font-color-inner);
        --awf-input-placeholder-font-color: var(--at-gray-3q-dark);
        --awf-input-placeholder-color-inner: var(--awf-input-warning-placeholder-font-color-inner);
    }

    :host([warning][disabled]) {
        --awf-input-font-color-inner: var(--awf-input-disabled-font-color-inner);
    }

    :host([error]) {
        --awf-input-prefix-suffix-text-color: var(--at-dark-navy);
        --awf-input-background-color: var(--awf-input-error-background-color-inner);
        --awf-input-border-color-inner: var(--awf-input-error-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-error-font-color-inner);
        --awf-input-placeholder-font-color: var(--at-gray-3q-dark);
        --awf-input-placeholder-color-inner: var(--awf-input-error-placeholder-font-color-inner);
    }

    :host([error][disabled]) {
        --awf-input-font-color-inner: var(--awf-input-disabled-font-color-inner);
    }

    div#tooltipTrigger {
        width:100%;
        display: inline-flex;
    }

    :host(:not([labelPosition=left])) div#tooltipTrigger {
        flex-direction: column;
        display: inline-block;
    }

    :host(:not([labelPosition=left]).has-icon-prefix),
    :host([labelPosition=left]:not(.has-label).has-icon-prefix) {
        vertical-align: var(--awf-input-vertical-align-inner);
    }

    .alignment {
        display: flex;
        flex-direction: column;
        flex-grow: 1;
    }

    .colored-box {
        align-items: flex-start;
        background-color: var(--awf-input-background-color-inner);
        border: 1px solid var(--awf-input-border-color-inner);
        box-sizing: border-box;
        display: grid;
        grid-template-columns: auto 1fr auto;
        grid-template-areas: "prefix input suffix";
        height: var(--awf-input-height-inner);
        position: relative;
    }

    .colored-box ::slotted([slot='prefix']) {
        /* order has to be the first parameter to be taken into account correctly */
        order: 1;
        color: var(--awf-input-prefix-suffix-text-color-inner);
        white-space: nowrap;
        grid-area: prefix;
    }

    .colored-box ::slotted([slot='suffix']) {
        /* order has to be the first parameter to be taken into account correctly */
        order: 3;
        color: var(--awf-input-prefix-suffix-text-color-inner);
        white-space: nowrap;
        grid-area: suffix;
    }

    .colored-box ::slotted(awf-icon[slot='prefix']) {
        padding: 3px 0 3px 4px;
    }

    .colored-box ::slotted(awf-icon[slot='suffix']) {
        padding: 3px 4px 3px 0;
    }

    .colored-box ::slotted(span[slot='suffix']),
    .colored-box ::slotted(div[slot='suffix']) {
        min-height: var(--awf-line-height-inner);
        padding:  var(--awf-input-suffix-text-padding-inner);
    }

    .colored-box ::slotted(span[slot='prefix']),
    .colored-box ::slotted(div[slot='prefix']) {
        min-height: var(--awf-line-height-inner);
        padding:  var(--awf-input-prefix-text-padding-inner);
    }

    /* Actual Input */
    .colored-box ::slotted(input) {
        order: 2; // Requires to be the first parameter to be taken into account correctly
        font-family: inherit; // Required to override User Agent settings
    }

    ::slotted(input) {
        background-color: transparent;
        border: none;
        box-sizing: border-box;
        color: var(--awf-input-font-color-inner);
        font-size: var(--awf-input-font-size-inner);
        height: var(--awf-input-height-inner);
        outline: none;
        padding: var(--awf-input-padding-inner);
        position: relative;
        text-overflow: ellipsis;
        width: var(--awf-input-width-inner);
    }

    ::slotted(input[disabled]) {
        cursor: not-allowed;
    }

    /* Placeholder */
    ::slotted(input)::placeholder {
        color: var(--awf-input-placeholder-color-inner);
        font-size: var(--awf-input-font-size-inner);
        font-style: italic;
        padding-left: 1px;
        text-align: left;
        text-shadow: none;
    }

    :host([labelPosition='top']):not(:focus-within) ::slotted(input)::placeholder {
        visibility: hidden;
    }

    /* Errors Slot */
    .errors {
        height: var(--awf-input-errors-height-inner);
        overflow: hidden;
        padding: 0 5px 0 2px;
    }

    ::slotted([error]) {
        color: var(--awf-input-error-message-font-color-inner);
        display: none;
    }

    ::slotted([slot='error']),
    .internalError {
        color: var(--awf-input-error-message-font-color-inner);
        line-height: 16px;
    }

    /* first-child not working? */
    ::slotted([error]:last-child) {
        display: unset;
    }

    /* Start: Fix for Safari incompatibility on placeholder management. */
    :host > input.slotted-input::placeholder {
        --awf-icon-size: var(--awf-input-icon-size-inner);
        --awf-input-border-color-inner: var(--awf-input-rest-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-rest-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-rest-placeholder-font-color-inner);
    }

    :host(:not([disabled]):not([warning]):not([error]):not([readonly]):hover) > input.slotted-input::placeholder {
        --awf-input-border-color-inner: var(--awf-input-hover-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-hover-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-hover-placeholder-font-color-inner);
    }

    :host(:not([readonly]):focus-within) > input.slotted-input::placeholder {
        --awf-input-border-color-inner: var(--awf-input-focus-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-focus-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-focus-placeholder-font-color-inner);
    }

    :host(:not([readonly])[error]:focus-within) > input.slotted-input::placeholder {
        --awf-input-border-color-inner: var(--awf-input-error-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-error-font-color-inner);
        --awf-input-background-color: var(--awf-input-error-focus-background-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-error-placeholder-font-color-inner);
    }

    :host(:not([readonly])[warning]:focus-within) > input.slotted-input::placeholder {
        --awf-input-border-color-inner: var(--awf-input-warning-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-warning-font-color-inner);
        --awf-input-background-color: var(--awf-input-warning-focus-background-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-warning-placeholder-font-color-inner);
    }

    :host([disabled]) > input.slotted-input::placeholder {
        --awf-input-border-color-inner: var(--awf-input-disabled-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-disabled-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-disabled-placeholder-font-color-inner);
    }

    :host([warning]) > input.slotted-input::placeholder {
        --awf-input-background-color: var(--awf-input-warning-background-color-inner);
        --awf-input-border-color-inner: var(--awf-input-warning-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-warning-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-warning-placeholder-font-color-inner);
    }

    :host([error]) > input.slotted-input::placeholder {
        --awf-input-background-color: var(--awf-input-error-background-color-inner);
        --awf-input-border-color-inner: var(--awf-input-error-border-color-inner);
        --awf-input-font-color-inner: var(--awf-input-error-font-color-inner);
        --awf-input-placeholder-color-inner: var(--awf-input-error-placeholder-font-color-inner);
    }
    /* End: Fix for Safari incompatibility */
`;var InputType;!function(InputType){InputType.Text="text",InputType.Number="number"}(InputType||(InputType={}));let AwfInput=class AwfInput extends lit.oi{get field(){return this.slottedInput[0]}get value(){return this.field.value}get labelTopWidth(){return this.coloredBoxElement.getBoundingClientRect().width}constructor(){super(),this.labelPosition=LabelPosition.Top,this.messageBelow=!1,this.forceFocus=!1,this.hasForm=!1,this.isFocus=!1,this.slotRefs={error:ref_e(),warning:ref_e()},this.errorMessageMutationObserver=new MutationObserver((()=>this.buildErrorWarningMessage())),this.warningMessageMutationObserver=new MutationObserver((()=>this.buildErrorWarningMessage())),new LabelController(this),this.formValidationController=new FormValidationController(this),new ElementStyleController(this,[PLACEHOLDER_STYLE])}render(){return lit.dy`
            <div id="tooltipTrigger">
                <slot name="label" @slotchange=${this.slotChange}></slot>
                <span class="alignment" trigger>
                    <span class="colored-box">
                        <slot name="prefix" @slotchange=${this.onPrefixSuffixSlotChange}></slot>
                        <slot @slotchange=${this.slotChange}></slot>
                        <slot name="suffix" @slotchange=${this.onPrefixSuffixSlotChange}></slot>
                    </span>
                    ${this.renderErrorSlot()}
                </span>
            </div>
            <awf-tooltip offset="5" placement="bottom" tip trigger="tooltipTrigger" manualToggle></awf-tooltip>
        `}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}connectedCallback(){super.connectedCallback(),this.subscription=awfTranslateService.onLangChange().subscribe((()=>this.field.dispatchEvent(new FocusEvent("blur"))))}disconnectedCallback(){super.disconnectedCallback(),this.field?.removeEventListener("input",this.onInput),this.subscription?.unsubscribe()}validateValue(){if(this.field){const validationFailed=this.field.validity.valueMissing;return validationFailed&&this.setInternalMessage(MessageLevel.ERROR,msg("This field is required.")),!validationFailed}return!0}clearInternalErrorMessage(){this.internalErrorMessage&&(this.internalErrorMessage.innerText=""),this.tooltip.message&&(this.tooltip.message="",this.tooltip.hideTooltip()),this.buildErrorWarningMessage()}setInternalMessage(level,message){this.setAttribute(level,""),this.tooltip.setAttribute(level,""),this.messageBelow?(this.slotRefs[level].value.style.display="block",this.internalErrorMessage&&(this.internalErrorMessage.innerText=message)):(this.tooltip.disabled=!1,this.tooltip.message=message)}firstUpdated(){const[input]=this.slottedInput;if(!input)throw new Error("Input not found!");input.addEventListener("focusin",(()=>this.setAttribute("focused",""))),input.addEventListener("focusout",(()=>this.removeAttribute("focused"))),listenPropertyChange(this.field),this.manuallyHandleTooltip(input),this.forceFocus&&this.updateComplete.then((()=>this.field.focus()))}updated(_changedProperties){_changedProperties.has("messageBelow")&&(this.tooltip.disabled=this.messageBelow)}renderErrorSlot(){const style=this.messageBelow?void 0:"display: none;",errorSlot=lit.dy`
            <slot
                name="error"
                style=${l(style)}
                @slotchange=${this.onErrorMessageSlotChange}
                ${ref_n(this.slotRefs.error)}>
            </slot>
        `,warningSlot=lit.dy`
            <slot
                name="warning"
                style=${l(style)}
                @slotchange=${this.onWarningMessageSlotChange}
                ${ref_n(this.slotRefs.warning)}>
            </slot>
        `;return this.messageBelow?lit.dy`
                <div class="errors">
                    <div class="internalError"></div>
                    ${errorSlot}${warningSlot}
                </div>
            `:lit.dy`${errorSlot}${warningSlot}`}slotChange(){this.field.title="",this.field.classList.add("slotted-input"),this.slottedLabel.length>0?this.field.classList.add("slotted-label"):this.field.classList.remove("slotted-label"),this.updateMutationObserver(),this.requestUpdate()}getTooltipMessage(errors){return errors.map((e=>e.innerText))[errors.length-1]}onErrorMessageSlotChange(){this.errorMessageMutationObserver.disconnect(),this.observeMessageChanges(this.slottedError,this.errorMessageMutationObserver)}onWarningMessageSlotChange(){this.warningMessageMutationObserver.disconnect(),this.observeMessageChanges(this.slottedWarning,this.warningMessageMutationObserver)}observeMessageChanges(slottedMessages,observer){if(slottedMessages.length>0){const options={characterData:!0,subtree:!0};observer.observe(slottedMessages[slottedMessages.length-1],options)}this.buildErrorWarningMessage()}buildErrorWarningMessage(){if(null===this.tooltip)return;const levels=["error","warning"];levels.forEach((currentLevel=>{this.tooltip.removeAttribute(currentLevel),this.removeAttribute(currentLevel),this.slotRefs[currentLevel].value.style.display="none"}));const messageElements={};messageElements.error=this.slottedError,messageElements.warning=this.slottedWarning,this.tooltip.disabled=!0;const level=levels.find((lvl=>messageElements[lvl]?.length));if(level)if(this.setAttribute(level,""),this.tooltip.setAttribute(level,""),this.messageBelow){this.slotRefs[level].value.style.display="block";const messages=this.slotRefs[level].value.assignedElements({flatten:!0});messages.forEach(((message,index)=>{index<messages.length-1&&(message.style.display="none")}))}else this.tooltip.disabled=!1,this.tooltip.message=this.getTooltipMessage(messageElements[level])}updateMutationObserver(){this.inputMutationObserver?.disconnect(),this.inputMutationObserver=reflectAttributes(this.field,this,["type","disabled","required","readonly"])}onPrefixSuffixSlotChange(){"awf-icon"===this.slottedPrefix[0]?.tagName.toLowerCase()?this.classList.add("has-icon-prefix"):this.classList.remove("has-icon-prefix"),this.requestUpdate()}manuallyHandleTooltip(input){input.addEventListener("input",this.onInput.bind(this)),input.addEventListener("focus",this.onInputFocus.bind(this)),input.addEventListener("blur",this.onInputBlur.bind(this)),input.addEventListener("mouseenter",this.onInputMouseEnter.bind(this)),input.addEventListener("mouseleave",this.onInputMouseLeave.bind(this))}onInput(){this.tooltip.showTooltip()}onInputFocus(){this.isFocus=!0,this.tooltip.showTooltip()}onInputBlur(){this.isFocus=!1,this.tooltip.hideTooltip()}onInputMouseEnter(){this.tooltip.showTooltip()}onInputMouseLeave(){this.isFocus||this.tooltip.hideTooltip()}};var Status;AwfInput.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,INPUT_STYLES,LABEL_STYLE],AwfInput.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfInput.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInput.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInput.prototype,"forceFocus",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"label",selector:"label",flatten:!0})],AwfInput.prototype,"slottedLabel",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".colored-box")],AwfInput.prototype,"coloredBoxElement",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-tooltip")],AwfInput.prototype,"tooltip",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input",flatten:!0})],AwfInput.prototype,"slottedInput",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"error",flatten:!0,selector:"div,span"})],AwfInput.prototype,"slottedError",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"warning",flatten:!0,selector:"div,span"})],AwfInput.prototype,"slottedWarning",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"prefix",flatten:!0})],AwfInput.prototype,"slottedPrefix",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".internalError")],AwfInput.prototype,"internalErrorMessage",void 0),AwfInput=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-input",!0)],AwfInput),function(Status){Status.IDLE="Idle",Status.READY="Ready",Status.PRERUN="Prerun",Status.TUNE="Tune",Status.ACQUIRING="Acquiring",Status.RUNNING="Running",Status.INJECTING="Injecting",Status.NOT_READY="Not Ready",Status.WARNING="Warning",Status.ERROR="Error",Status.STANDBY="Standby",Status.OFFLINE="Offline",Status.POST_RUN="Post-Run"}(Status||(Status={}));const STATUS_COLOR_MAPPING=new Map([[Status.IDLE,"var(--at-green)"],[Status.READY,"var(--at-green)"],[Status.PRERUN,"var(--at-cobalt)"],[Status.TUNE,"var(--at-orange)"],[Status.ACQUIRING,"var(--at-periwinkle)"],[Status.RUNNING,"var(--at-periwinkle)"],[Status.INJECTING,"var(--at-purple)"],[Status.NOT_READY,"var(--at-yellow)"],[Status.WARNING,"var(--at-yellow)"],[Status.ERROR,"var(--at-red)"],[Status.STANDBY,"var(--at-teal"],[Status.OFFLINE,"var(--at-gray)"],[Status.POST_RUN,"var(--at-periwinkle)"]]),INSTRUMENT_STATUS_STYLES=lit.iv`

    :host {
        background-color: var(--awf-instrument-status-color);
        position: fixed;
        left: 0;
        top: 0;
        display: flex;
        justify-content: center;
        height: 100%;
        width: 48px;
        z-index: var(--awf-elevation-z4);
    }

    :host([collapsed]) {
        width: 16px;
    }

    :host([collapsed]) span {
        display: none;
    }

    span {
        writing-mode: vertical-lr;
        transform: rotate(180deg);
        font-size: 0.875rem;
        color: var(--awf-instrument-status-label-color);
        font-family: 'Noto Sans Display Semibold', sans-serif;
        cursor: default;
        padding-inline-start: 16px;
    }

    @media only screen and (max-width: 1279.99px) {
        :host {
            width: 100%;
            height: 24px;
            justify-content: flex-start;
            align-items: center;
        }

        span {
            writing-mode: inherit;
            transform: none;
        }

        :host([collapsed]) {
            width: 100%;
        }

        :host([collapsed]) span {
            display: inline;
        }
    }
`;let AwfInstrumentStatus=class AwfInstrumentStatus extends lit.oi{constructor(){super(...arguments),this.status=Status.OFFLINE,this.collapsed=!1}render(){return this.determineColors(),lit.dy`<span>${this.getLocalizedLabel()}</span> `}determineColors(){const statusColor=STATUS_COLOR_MAPPING.get(this.status)??"var(--at-violet)";let labelColor;switch(this.status){case Status.NOT_READY:case Status.WARNING:case Status.OFFLINE:case Status.STANDBY:case Status.READY:case Status.IDLE:labelColor="var(--at-dark-navy)";break;default:labelColor="var(--at-white)"}this.style.setProperty("--awf-instrument-status-color",statusColor),this.style.setProperty("--awf-instrument-status-label-color",labelColor)}getLocalizedLabel(){let label;switch(this.status){case Status.IDLE:label=msg("Idle");break;case Status.READY:label=msg("Ready");break;case Status.PRERUN:label=msg("Pre-Run");break;case Status.TUNE:label=msg("Tune");break;case Status.ACQUIRING:label=msg("Acquiring");break;case Status.RUNNING:label=msg("Running");break;case Status.INJECTING:label=msg("Injecting");break;case Status.NOT_READY:label=msg("Not Ready");break;case Status.WARNING:label=msg("Warning");break;case Status.ERROR:label=msg("Error");break;case Status.STANDBY:label=msg("Standby");break;case Status.OFFLINE:label=msg("Offline");break;case Status.POST_RUN:label=msg("Post-Run");break;default:label=""}return label}};AwfInstrumentStatus.styles=[COMMON_STYLES,INSTRUMENT_STATUS_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInstrumentStatus.prototype,"status",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInstrumentStatus.prototype,"collapsed",void 0),AwfInstrumentStatus=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-instrument-status",!0)],AwfInstrumentStatus);const LIST_OPTION_STYLES=lit.iv`
    :host {
        align-items: center;
        border-bottom: 1px solid var(--at-gray-soft);
        border-top: 1px solid var(--at-gray-soft);
        display: inline-flex;
        font-size: var(--awf-list-option-font-size-inner);
        height: var(--awf-list-option-height-inner);
        outline: none;
        padding: 0 30px 0 15px;
        position: relative;
        cursor: pointer;
    }

    :host([selected]) {
        background-color: var(--awf-state-selected-background);
    }

    :host([focused]) {
        background-color: var(--awf-state-hover-background);
    }

    :host([hidden]) {
        display: none;
    }

    :host([disabled]) {
        cursor: not-allowed;
        color: var(--awf-label-disabled-font-color-inner);
    }

    ::slotted([suffix]) {
        margin-left: auto;
        position: relative;
    }

    ::slotted([suffix]:first-child):before {
        content: '';
        border-left: 2px solid var(--at-gray-soft);
        width: 2px;
        height: 16px;
        position: absolute;
        right: 115%;
    }

    :host([selected]) ::slotted([suffix]:first-child):before,
    :host(:hover) ::slotted([suffix]:first-child):before,
    :host(:focus) ::slotted([suffix]:first-child):before,
    :host(:focus-within) ::slotted([suffix]:first-child):before {
        border-left-color: var(--at-white);
    }

    :host([noCheckbox]) [type='checkbox'] {
        position: absolute;
    }

    :host([noCheckbox]) [type='checkbox']::after {
        position: absolute;
        visibility: hidden;
        width: 0;
        height: 0;
    }

    [type='checkbox']:checked::after {
        background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='none' stroke='%230085d5' stroke-miterlimit='10' stroke-width='3' d='M2.5 12.5l6 6 13-13' style='stroke: %230085d5;'/%3E%3C/svg%3E%0A");
    }

    awf-checkbox{
        margin-right: 10px;
    }
`,LIST_OPTION_CSS_VARIABLES=lit.iv`
    :host {
        /* List Option Density Related */
        --awf-list-option-font-size-inner: var(--awf-list-option-font-size, 14px);
        --awf-list-option-height-inner: var(--awf-list-option-height, 21px);
    }
`;let AwfListOption=class AwfListOption extends lit.oi{constructor(){super(...arguments),this.selected=!1,this.focused=!1,this.noCheckbox=!1,this.hidden=!1,this.disabled=!1,this._onMouseEnter=()=>this.dispatchEvent(createCustomEvent("listOptionMouseEnter")),this._onClick=event=>{this.disabled?(event.stopPropagation(),event.preventDefault()):this.dispatchEvent(createCustomEvent("listOptionClick"))}}static get styles(){return[COMMON_STYLES,LABEL_CSS_VARIABLES,LIST_OPTION_CSS_VARIABLES,LIST_OPTION_STYLES]}connectedCallback(){super.connectedCallback(),this.disabled?this.tabIndex=-1:this.tabIndex=0,this.addEventListener("mouseenter",this._onMouseEnter),this.addEventListener("click",this._onClick)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("mouseenter",this._onMouseEnter),this.removeEventListener("click",this._onClick)}render(){const checkbox=lit.dy`<awf-checkbox><input tabindex="-1" type="checkbox" ?checked=${this.selected} /></awf-checkbox>`;return lit.dy`
            ${when_n(!this.noCheckbox,(()=>checkbox))}
            <slot></slot>
            <slot name="suffix"></slot>
        `}};(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfListOption.prototype,"selected",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfListOption.prototype,"focused",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfListOption.prototype,"noCheckbox",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfListOption.prototype,"hidden",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfListOption.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfListOption.prototype,"value",void 0),AwfListOption=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-list-option",!0)],AwfListOption);const NOTIFICATION_BUBBLES_CSS_VARIABLES=lit.iv`
    :host {
        --awf-notification-bubble-background-color-inner: var(--awf-notification-bubble-background-color, var(--at-red));
        --awf-notification-bubble-stroke-color-inner: var(--awf-notification-bubble-stroke-color, var(--at-white));
    }
`,NOTIFICATION_BUBBLE_STYLES=lit.iv`
    :host {
        position: relative;
        display: inline-block;
        height: 24px;
    }

    .notification-bubble {
        height: 16px;
        width: 16px;
        position: absolute;
        top: 10px;
        left: 12px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background-color: var(--awf-notification-bubble-background-color-inner);
        border: 1px solid var(--awf-notification-bubble-stroke-color-inner);
        border-radius: 16px;
        box-sizing: border-box;
    }

    .notification-bubble.extended {
        width: 24px;
    }

    .value {
        font-size: 10px;
        height: 10px;
        line-height: 10px;
        color: var(--at-white);
    }
`;let AwfNotificationBubble=class AwfNotificationBubble extends lit.oi{render(){const extended=!!this.value&&this.value>9;return lit.dy`
            <slot></slot>
            <div class="notification-bubble ${o({extended})}">
                <span class="value">${this.determineDisplayValue()}</span>
            </div>
        `}firstUpdated(){this.moveIconIntoElement()}determineDisplayValue(){let displayValue="";return void 0!==this.value&&(displayValue=`${this.value}`,this.value>99&&(displayValue="99+")),displayValue}moveIconIntoElement(){if(this.for){const icon=document.querySelector(`#${this.for}`);if(!icon)throw new Error("Icon not found!");this.append(icon)}}};AwfNotificationBubble.styles=[COMMON_STYLES,NOTIFICATION_BUBBLES_CSS_VARIABLES,NOTIFICATION_BUBBLE_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfNotificationBubble.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfNotificationBubble.prototype,"for",void 0),AwfNotificationBubble=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-notification-bubble",!0)],AwfNotificationBubble);let AwfOverlay=class AwfOverlay extends lit.oi{constructor(){super(...arguments),this.disabled=!1,this.open=!1,this.tip=!1,this.appendToBody=!1,this.offset=16,this.manualToggle=!1,this.floatingElementPadding=0,this.defaultPlacement="bottom",this.controller=new FloatingElementController(this),this.closeOverlay=event=>{this.isInEventPath(event)||this.hide()},this._toggle=this.toggle.bind(this),this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}get floatingElement(){return this}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this.closeOverlay),this.formerParent||(this.formerParent=this.parentNode)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.closeOverlay),this.appendToBody&&this.remove()}toggle(){this.open?this.hide():this.show()}show(){this.disabled||this.open||(this.cleanUp=this.controller.autoUpdatePosition(),this.open=!0,Array.from(this.children).forEach((child=>child.setAttribute("awf-overlay-open",""))),this.dispatchCustomEvent(AwfEvent.OPEN))}hide(){this.open&&(this.open=!1,Array.from(this.children).forEach((child=>child.removeAttribute("awf-overlay-open"))),this.dispatchCustomEvent(AwfEvent.CLOSE),this.cleanUp&&this.cleanUp())}render(){return lit.dy`<slot></slot>${when_n(this.tip,this.createTip)}`}updated(_changedProperties){if(_changedProperties.has("appendToBody")&&this.moveOverlay(),_changedProperties.has("trigger")&&(this.trigger&&(this.refElement=this.formerParent?.querySelector(`#${this.trigger}`),this.refElement&&!this.manualToggle&&this.refElement.addEventListener("click",this._toggle)),_changedProperties.get("trigger"))){const oldRefElement=this.formerParent?.querySelector(`#${_changedProperties.get("trigger")}`);oldRefElement&&oldRefElement.removeEventListener("click",this._toggle)}}createTip(){return lit.dy`<div id="tip"></div>`}isInEventPath(event){const path=event.composedPath().filter((e=>e instanceof HTMLElement));return!!path.find((e=>e===this||e===this.refElement))}moveOverlay(){this.remove(),this.appendToBody?document.body.appendChild(this):this.formerParent&&this.formerParent.appendChild(this)}};AwfOverlay.styles=[COMMON_STYLES,lit.iv`
            :host {
                background-color: var(--at-white);
                box-shadow: 0 0 4px 0.1px var(--at-gray);
                display: block;
                opacity: 0;
                padding: 10px;
                position: absolute;
                visibility: hidden;
                z-index: var(--awf-elevation-z5);
            }

            :host([open]) {
                opacity: 1;
                transition: opacity 0.1s ease-in-out;
                visibility: visible;
            }

            #tip {
                background-color: var(--at-white);
                height: 16px;
                position: absolute;
                transform: rotate(45deg);
                width: 16px;
                z-index: var( --awf-elevation-z1);
            }
        `],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfOverlay.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfOverlay.prototype,"open",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfOverlay.prototype,"tip",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfOverlay.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfOverlay.prototype,"offset",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfOverlay.prototype,"placement",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfOverlay.prototype,"trigger",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfOverlay.prototype,"manualToggle",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("#tip")],AwfOverlay.prototype,"tipElement",void 0),AwfOverlay=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-overlay",!0)],AwfOverlay);const PROGRESS_BAR_STYLES=lit.iv`
    :host {
        display: inline-flex;
        height: 16px;
        width: 100%;
        position: relative;
    }

    ::slotted(progress) {
        appearance: none;
        height: 100%;
        width: 100%;
    }

    label {
        position: absolute;
        height: 16px;
        line-height: 16px;
        text-align: center;
        color: var(--at-white);
        transition: left 0.6s ease;
    }
`;let AwfProgressBar=class AwfProgressBar extends lit.oi{constructor(){super(),this.withLabel=!1,new ElementStyleController(this,["\n            progress::-webkit-progress-bar {\n                background-color: var(--at-gray-extra-pale);\n            }\n            progress::-webkit-progress-value {\n                background-color: var(--at-periwinkle);\n                transition: width 0.6s ease;\n            }\n            progress::-moz-progress-bar {\n                background-color: var(--at-periwinkle);\n            }\n        "])}render(){return lit.dy`
            ${this.showLabel()}
            <slot @change="${this.handleLabel}"></slot>
        `}firstUpdated(){const[progress]=this.slottedProgress;this.setProgress(progress),listenPropertyChange(this.progress)}updated(changedProperties){changedProperties.has("withLabel")&&this.handleLabel()}showLabel(){return this.withLabel?lit.dy`<label></label>`:lit.dy``}handleLabel(){if(this.withLabel){const share=this.progress.value/this.progress.max;this.setLabelText(share),this.positionLabel(share)}}setLabelText(share){const label=`${Math.round(100*share)} %`;this.label.innerHTML=label}positionLabel(share){let position=this.progress.offsetWidth*share*.5-this.label.offsetWidth/2,color="var(--at-white)";position<0&&(position=this.progress.offsetWidth/2-this.label.offsetWidth/2,color="var(--at-black)"),this.label.style.left=`${position}px`,this.label.style.color=color}setProgress(progress){if(!progress)throw new Error("Progress not found!");this.progress=progress}};AwfProgressBar.styles=[COMMON_STYLES,PROGRESS_BAR_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfProgressBar.prototype,"withLabel",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"progress"})],AwfProgressBar.prototype,"slottedProgress",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("label")],AwfProgressBar.prototype,"label",void 0),AwfProgressBar=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-progress-bar",!0)],AwfProgressBar);const SIDEPANEL_CSS_VARIABLES=lit.iv`
    :host {
        /* Sidepanel Measurements */
        --awf-sidepanel-width-inner: var(--awf-sidepanel-width, 25vw);

        /* Sidepanel Colors */
        --awf-sidepanel-font-color-inner: var(--awf-sidepanel-font-color, var(--at-dark-navy));
        --awf-sidepanel-icon-color-inner: var(--awf-sidepanel-icon-color, var(--at-dark-navy));
        --awf-sidepanel-header-border-bottom-color-inner: var(--awf-sidepanel-header-border-bottom-color, var(--at-gray-light));
        --awf-sidepanel-header-background-color-inner: var(--awf-sidepanel-header-background-color, var(--at-white));
        --awf-sidepanel-footer-border-top-color-inner: var(--awf-sidepanel-footer-border-top-color, var(--at-gray-light));
        --awf-sidepanel-footer-background-color-inner: var(--awf-sidepanel-footer-background-color, var(--at-white));
        --awf-sidepanel-button-background-inner: var(--awf-sidepanel-button-background, var(--awf-button-icon-only-background));
        --awf-sidepanel-button-font-color-inner: var(--awf-sidepanel-button-font-color, var(--awf-button-font-color));
        --awf-sidepanel-button-hover-background-inner: var(--awf-sidepanel-button-hover-background, var(--awf-button-icon-only-hover-background));
        --awf-sidepanel-button-hover-font-color-inner: var(--awf-sidepanel-button-hover-font-color, var(--awf-button-hover-font-color));
        --awf-sidepanel-button-active-background-inner: var(--awf-sidepanel-button-active-background, var(--awf-button-icon-only-active-background));
        --awf-sidepanel-button-active-font-color-inner: var(--awf-sidepanel-button-active-font-color, var(--at-dark-navy));
    }
`,SIDEPANEL_STYLES=lit.iv`
    :host {
        --box-shadow-blur-radius: 10px;

        position: fixed;
        top: 0;
        width: var(--awf-sidepanel-width-inner);
        min-width: 18rem;
        height: 100vh;
        display: flex;
        flex-direction: column;
        box-sizing: border-box;
        overflow: hidden;
        background-color: var(--at-white);
        color: var(--awf-sidepanel-font-color-inner);
        box-shadow: 0 4px var(--box-shadow-blur-radius) #00000040;
        border: 0;
        visibility: hidden;
        transition: transform var(--transition-duration) var(--transition-timing-function);
        z-index: var(--awf-elevation-z3);
    }

    :host([opened]) {
        border: 1px solid var(--at-gray-light);
        visibility: visible;
    }

    :host([opened][alignment='left']) {
        transform: translateX(calc(var(--awf-sidepanel-width-inner) + var(--box-shadow-blur-radius)));
    }

    :host([opened][alignment='right']) {
        transform: translateX(calc(-1 * (var(--awf-sidepanel-width-inner) + var(--box-shadow-blur-radius))));
    }

    :host([alignment='left']) {
        left: calc(-1 * (var(--awf-sidepanel-width-inner) + var(--box-shadow-blur-radius)));
    }

    :host([alignment='right']) {
        right: calc(-1 * (var(--awf-sidepanel-width-inner) + var(--box-shadow-blur-radius)));
    }

    .header {
        flex-grow: 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
        min-height: 40px;
        box-sizing: border-box;
        white-space: nowrap;
        border-bottom: 1px solid var(--awf-sidepanel-header-border-bottom-color-inner);
        background: var(--awf-sidepanel-header-background-color-inner);
    }

    slot[name='title'] {
        display: flex;
        min-width: 0;
        height: 100%;
        align-items: center;
        justify-content: left;
        flex: 1 1 0%;
    }

    slot[name='title'] > .simple-header {
        padding-left: 16px;
        font-size: 1.375rem;
        font-weight: 400;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        flex: 1;
    }

    .close-button {
        padding: 4px;
    }

    .awf-sidepanel-content {
        width: 100%;
        min-width: inherit;
        box-sizing: border-box;
        overflow: auto;
        flex-grow: 1;
    }

    ::slotted([slot='footer']) {
        border-top: 1px solid var(--awf-sidepanel-footer-border-top-color-inner);
        background: var(--awf-sidepanel-footer-background-color-inner);
        min-height: 40px;
        box-sizing: border-box;
    }

    ::slotted(awf-button) {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 4px;
    }

    ::slotted(awf-button),
    awf-button {
        --awf-button-icon-only-background: var(--awf-sidepanel-button-background-inner);
        --awf-button-icon-only-hover-background: var(--awf-sidepanel-button-hover-background-inner);
        --awf-button-icon-only-active-background: var(--awf-sidepanel-button-active-background-inner);
        --awf-button-icon-only-active-foreground: var(--awf-sidepanel-button-active-font-color-inner);
        --awf-button-background: var(--awf-sidepanel-button-background-inner);
        --awf-button-border: 1px solid var(--awf-sidepanel-button-background-inner);
        --awf-button-font-color: var(--awf-sidepanel-button-font-color-inner);
        --awf-button-hover-background: var(--awf-sidepanel-button-hover-background-inner);
        --awf-button-hover-border: 1px solid var(--awf-sidepanel-button-hover-background-inner);
        --awf-button-hover-font-color: var(--awf-sidepanel-button-hover-font-color-inner);
        --awf-button-active-background: var(--awf-sidepanel-button-active-background-inner);
        --awf-button-active-border: 1px solid var(--awf-sidepanel-button-active-background-inner);
        --awf-button-active-font-color: var(--awf-sidepanel-button-active-font-color-inner);
    }

    /* Scrollbar */
    /* Width */
    ::-webkit-scrollbar {
        background: transparent;
        width: 10px;
        height: 10px;
    }

    /* Track */
    ::-webkit-scrollbar-track {
        background: transparent;
        background-clip: padding-box;
        border: 2px solid transparent;
        border-radius: 19px;
    }

    /* Handle thumb */
    ::-webkit-scrollbar-thumb {
        background: #c1c6c899;
        background-clip: padding-box;
        border: 2px solid transparent;
        border-radius: 19px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
        background: #a1a7af99;
        background-clip: padding-box;
        border: 2px solid transparent;
        border-radius: 19px;
    }

    /* Handle on active state */
    ::-webkit-scrollbar-thumb:active {
        background: #848e9999;
        background-clip: padding-box;
        border: 2px solid transparent;
        border-radius: 19px;
    }

    /* Firefox scrollbar */
    * {
        scrollbar-color: #c1c6c899 transparent;
        scrollbar-width: thin;
    }
`;var PanelAlignment;!function(PanelAlignment){PanelAlignment.LEFT="left",PanelAlignment.RIGHT="right"}(PanelAlignment||(PanelAlignment={}));let AwfSidePanel=class AwfSidePanel extends lit.oi{constructor(){super(...arguments),this.opened=!1,this.alignment=PanelAlignment.LEFT,this.header="",this.identifier="side-panel",this.dispatchCustomEvent=dispatchCustomEvent.bind(this),this.handleClick=event=>{isInEventPath(event,this.tagName)||(isInEventPath(event,`[${this.identifier}-trigger]`)?this.open():isInEventPath(event,`[${this.identifier}-toggle]`)?this.toggle():this.close())}}toggle(){this.opened?this.close():this.open()}open(){this.opened=!0}close(){this.opened=!1}connectedCallback(){super.connectedCallback(),document.addEventListener("click",this.handleClick)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("click",this.handleClick)}render(){return lit.dy`
            <div class="header">
                <slot name="title">
                    <div class="simple-header">${this.header}</div>
                </slot>
                <slot name="context"></slot>
                <awf-button aria-label="close" class="close-button" @click=${this.close}>
                    <awf-icon raw=${delete_cross.C} slot="icon"></awf-icon>
                </awf-button>
            </div>
            <div class="awf-sidepanel-content">
                <slot name="content"></slot>
            </div>
            <slot name="footer"></slot>
        `}updated(changes){changes.has("opened")&&(this.opened?(this.disableTrigger(),this.dispatchCustomEvent(AwfEvent.OPEN)):(this.enableTrigger(),this.dispatchCustomEvent(AwfEvent.CLOSE)))}enableTrigger(){const trigger=document.querySelector(`[${this.identifier}-trigger]`);trigger instanceof AwfButton&&(trigger.disabled=!1)}disableTrigger(){const trigger=document.querySelector(`[${this.identifier}-trigger]`);trigger instanceof AwfButton&&(trigger.disabled=!0)}};AwfSidePanel.styles=[COMMON_STYLES,SIDEPANEL_CSS_VARIABLES,SIDEPANEL_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSidePanel.prototype,"opened",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfSidePanel.prototype,"alignment",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfSidePanel.prototype,"header",void 0),AwfSidePanel=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-sidepanel",!0)],AwfSidePanel);class ColorUtils{static isColorLight(color){let r,g,b,colorArray;if(colorArray=RegExp(ColorUtils.REGEX_RGB).exec(color),colorArray)r=parseInt(colorArray[2]),g=parseInt(colorArray[3]),b=parseInt(colorArray[4]);else if(colorArray=RegExp(ColorUtils.REGEX_HEX).exec(color),colorArray){let hex=color.substring(1);colorArray[1]?(r=parseInt(hex.substring(0,2),16),g=parseInt(hex.substring(2,4),16),b=parseInt(hex.substring(4,6),16)):(hex=hex.replace(/./g,"$&$&"),r=parseInt(hex.substring(0,2),16),g=parseInt(hex.substring(2,4),16),b=parseInt(hex.substring(4,6),16))}else{const rgb=ColorUtils.convertColorToRGB(color);r=rgb[0],g=rgb[1],b=rgb[2]}return.299*r+.587*g+.114*b>127.5}static convertColorToRGB(color){const cvs=document.createElement("canvas");cvs.height=1,cvs.width=1;const ctx=cvs.getContext("2d");ctx.fillStyle=color,ctx?.fillRect(0,0,1,1);const rgb=ctx?.getImageData(0,0,1,1).data,result=[rgb[0],rgb[1],rgb[2]];return cvs.remove(),result}}ColorUtils.WHITE_COLOR="#ffffff",ColorUtils.PALE_PINK_COLOR="#fcecf7",ColorUtils.AGILENT_SPECIAL_BUTTON_COLOR="#e1f2d4",ColorUtils.AGILENT_BLUE_SHADE_COLOR="#037cc2",ColorUtils.AGILENT_BLUE_MEDIUM_COLOR="#99ceee",ColorUtils.AGILENT_BLUE_SOFT_COLOR="#cce7f7",ColorUtils.AGILENT_BLUE_PALE_COLOR="#e5f3fb",ColorUtils.AGILENT_BLUE_LUMINIOUS_COLOR="#e2eef5",ColorUtils.AGILENT_BLUE_FOG_COLOR="#e8eef1",ColorUtils.AGILENT_BLUE_LUMINIOUS_PALE_COLOR="#f1f7fa",ColorUtils.AGILENT_BLUE_DARK_COLOR="#225d85",ColorUtils.AGILENT_BLUE_DARK_TINT_COLOR="#1171ad",ColorUtils.AGILENT_BLUE_COLOR="#0085d5",ColorUtils.AGILENT_BLUE_MIDTONE_COLOR="#88c4e8",ColorUtils.AGILENT_NAVY_DARK_COLOR="#384350",ColorUtils.AGILENT_NAVY_TINT_COLOR="#4c5662",ColorUtils.AGILENT_NAVY_SOFT_COLOR="#c1cad2",ColorUtils.AGILENT_GRAY_MIDNIGHT_COLOR="#252a30",ColorUtils.AGILENT_GRAY_DARK_COLOR="#6c747d",ColorUtils.AGILENT_GRAY_MEDIUM_COLOR="#a1a7af",ColorUtils.AGILENT_GRAY_COLOR="#c1c6c8",ColorUtils.AGILENT_GRAY_SOFT_COLOR="#e1e3e5",ColorUtils.AGILENT_GRAY_PALE_COLOR="#eaebed",ColorUtils.AGILENT_GRAY_EXTRA_PALE_COLOR="#f5f5f5",ColorUtils.AGILENT_NAVY_EXTRA_LIGHT_COLOR="#fafafa",ColorUtils.AGILENT_VIOLET_COLOR="#6d28ad",ColorUtils.AGILENT_PURPLE_COLOR="#925be5",ColorUtils.AGILENT_PURPLE_BRIGHT_COLOR="#aa53f3",ColorUtils.AGILENT_COBALT_COLOR="#5f4ac9",ColorUtils.AGILENT_PERIWINKLE_COLOR="#4780ea",ColorUtils.AGILENT_TEAL_COLOR="#2fbcbe",ColorUtils.AGILENT_TEAL_DARK_COLOR="#148082",ColorUtils.AGILENT_GREEN_COLOR="#75c335",ColorUtils.AGILENT_GREEN_PALE_COLOR="#dff2cf",ColorUtils.AGILENT_GREEN_LIGHT_COLOR="#c8e7ae",ColorUtils.AGILENT_GREEN_DARK_COLOR="#4a8030",ColorUtils.AGILENT_YELLOW_COLOR="#ffba00",ColorUtils.AGILENT_YELLOW_LIGHT_COLOR="#ffe399",ColorUtils.AGILENT_EXTRA_YELLOW_LIGHT_COLOR="#fff0cb",ColorUtils.AGILENT_ORANGE_COLOR="#ff8400",ColorUtils.AGILENT_ORANGE_DARK_COLOR="#a15819",ColorUtils.AGILENT_RED_COLOR="#e72503",ColorUtils.AGILENT_RED_LIGHT_COLOR="#febaaf",ColorUtils.AGILENT_RED_EXTRA_LIGHT_COLOR="#fedcd6",ColorUtils.AGILENT_RED_DARK_COLOR="#9d3521",ColorUtils.AGILENT_MAGENTA_COLOR="#b73585",ColorUtils.AGILENT_BLUE_LIGHT_COLOR="#f2f7fa",ColorUtils.AGILENT_SAMPLE_COLOR="#83C441",ColorUtils.AGILENT_BLANK_COLOR="#CDD3EA",ColorUtils.AGILENT_DOUBLE_BLANK_COLOR="#F57E2B",ColorUtils.AGILENT_CALIBRATION_STANDARD_COLOR="#478ECC",ColorUtils.AGILENT_QC_CHECK_COLOR="#79287D",ColorUtils.AGILENT_SPIKE_COLOR="#B83685",ColorUtils.AGILENT_SYSTEM_SUITABILITY_COLOR="#A57C2C",ColorUtils.REGEX_RGB=/^(rgb\((1?[0-9]?[0-9]?|2[0-4][0-9]|25[0-5]),(1?[0-9]?[0-9]?|2[0-4][0-9]|25[0-5]),(1?[0-9]?[0-9]?|2[0-4][0-9]|25[0-5])\))$/,ColorUtils.REGEX_HEX=/^#?([0-9A-Fa-f]{6})|([0-9A-Fa-f]{3})$/;class StyleItem{constructor(fillColor="#000000",strokeColor="#000000",selectedStrokeColor="#000000",strokeWidth,hoverFillColor="#000000",hoverStrokeColor="#000000"){this.fillColor=fillColor,this.strokeColor=strokeColor,this.selectedStrokeColor=selectedStrokeColor,this.strokeWidth=strokeWidth,this.hoverFillColor=hoverFillColor,this.hoverStrokeColor=hoverStrokeColor}}class ColorPalette{constructor(){this.colorPaletteMap=new Map([[ColorPalette.VIAL_FILL_COLOR,ColorUtils.AGILENT_GRAY_DARK_COLOR],[ColorPalette.VIAL_STROKE_COLOR,ColorUtils.AGILENT_GRAY_SOFT_COLOR],[ColorPalette.DECORATION_FILL_COLOR,ColorUtils.WHITE_COLOR],[ColorPalette.DECORATION_STROKE_COLOR,ColorUtils.AGILENT_GRAY_SOFT_COLOR],[ColorPalette.OUTLINE_FILL_COLOR,ColorUtils.WHITE_COLOR],[ColorPalette.OUTLINE_STROKE_COLOR,ColorUtils.AGILENT_GRAY_SOFT_COLOR],[ColorPalette.LABEL_COLOR,ColorUtils.AGILENT_GRAY_DARK_COLOR],[ColorPalette.SELECTED_VIAL_STROKE_COLOR,ColorUtils.AGILENT_BLUE_COLOR],[ColorPalette.ORDERING_ARROW_COLOR,ColorUtils.AGILENT_BLUE_MEDIUM_COLOR],[ColorPalette.HOVER_VIAL_FILL_COLOR,ColorUtils.AGILENT_BLUE_SOFT_COLOR],[ColorPalette.HOVER_VIAL_STROKE_COLOR,ColorUtils.AGILENT_BLUE_MEDIUM_COLOR]]),this.labelFont="Noto Sans Display"}get defaultVialStyle(){return new StyleItem(this.colorPaletteMap.get(ColorPalette.VIAL_FILL_COLOR),this.colorPaletteMap.get(ColorPalette.VIAL_STROKE_COLOR),this.colorPaletteMap.get(ColorPalette.SELECTED_VIAL_STROKE_COLOR),.2,this.colorPaletteMap.get(ColorPalette.HOVER_VIAL_FILL_COLOR),this.colorPaletteMap.get(ColorPalette.HOVER_VIAL_STROKE_COLOR))}get defaultDecorationStyle(){return new StyleItem(this.colorPaletteMap.get(ColorPalette.DECORATION_FILL_COLOR),this.colorPaletteMap.get(ColorPalette.DECORATION_STROKE_COLOR),this.colorPaletteMap.get(ColorPalette.SELECTED_VIAL_STROKE_COLOR),1)}get defaultOutlineStyle(){return new StyleItem(this.colorPaletteMap.get(ColorPalette.OUTLINE_FILL_COLOR),this.colorPaletteMap.get(ColorPalette.OUTLINE_STROKE_COLOR),this.colorPaletteMap.get(ColorPalette.SELECTED_VIAL_STROKE_COLOR),1)}get defaultOrderingArrowStyle(){return new StyleItem(this.colorPaletteMap.get(ColorPalette.ORDERING_ARROW_COLOR),this.colorPaletteMap.get(ColorPalette.ORDERING_ARROW_COLOR),this.colorPaletteMap.get(ColorPalette.ORDERING_ARROW_COLOR),1)}customVialStyle(fillColor,strokeColor,strokeWidth,hoverVialFillColor,hoverVialStrokeColor){const customStyle=this.defaultVialStyle;return fillColor&&(customStyle.fillColor=fillColor),strokeColor&&(customStyle.strokeColor=strokeColor),strokeWidth&&(customStyle.strokeWidth=strokeWidth),hoverVialFillColor&&(customStyle.hoverFillColor=hoverVialFillColor),hoverVialStrokeColor&&(customStyle.hoverStrokeColor=hoverVialStrokeColor),customStyle}customDecorationStyle(fillColor,strokeColor,strokeWidth){const customStyle=this.defaultDecorationStyle;return fillColor&&(customStyle.fillColor=fillColor),strokeColor&&(customStyle.strokeColor=strokeColor),strokeWidth&&(customStyle.strokeWidth=strokeWidth),customStyle}customOutlineStyle(fillColor,strokeColor,strokeWidth){const customStyle=this.defaultOutlineStyle;return fillColor&&(customStyle.fillColor=fillColor),strokeColor&&(customStyle.strokeColor=strokeColor),strokeWidth&&(customStyle.strokeWidth=strokeWidth),customStyle}}function isColor(color){return ColorUtils.REGEX_HEX.test(color)||ColorUtils.REGEX_RGB.test(color)||(()=>{let temp;try{temp=(new Option).style}catch(error){return!0}return temp.color=color,temp.color===color})()}ColorPalette.VIAL_FILL_COLOR="vialFillColor",ColorPalette.VIAL_STROKE_COLOR="vialStrokeColor",ColorPalette.DECORATION_FILL_COLOR="decorationFillColor",ColorPalette.DECORATION_STROKE_COLOR="decorationStrokeColor",ColorPalette.OUTLINE_FILL_COLOR="outlineFillColor",ColorPalette.OUTLINE_STROKE_COLOR="outlineStrokeColor",ColorPalette.LABEL_COLOR="labelColor",ColorPalette.SELECTED_VIAL_STROKE_COLOR="selectedVialStrokeColor",ColorPalette.ORDERING_ARROW_COLOR="orderingArrowColor",ColorPalette.CONTAINER_NAME_COLOR="containerNameColor",ColorPalette.HOVER_VIAL_FILL_COLOR="hoverVialFillColor",ColorPalette.HOVER_VIAL_STROKE_COLOR="hoverVialStrokeColor";class SampleTypes{constructor(){this._sampleTypes=new Array,this.InitChromatographySampleTypes()}updateSampleTypes(typeName,colorValue){if(isColor(colorValue)){const existingSampleType=this.findSampleType(typeName);existingSampleType?existingSampleType.color=colorValue:this._sampleTypes.push({name:typeName,color:colorValue})}}getSampleTypes(){return this._sampleTypes}findSampleType(name){return this._sampleTypes.find((element=>element.name===name))}InitChromatographySampleTypes(){this._sampleTypes.push({name:"Default",color:null}),this._sampleTypes.push({name:"Sample",color:ColorUtils.AGILENT_SAMPLE_COLOR}),this._sampleTypes.push({name:"Blank",color:ColorUtils.AGILENT_BLANK_COLOR}),this._sampleTypes.push({name:"Double Blank",color:ColorUtils.AGILENT_DOUBLE_BLANK_COLOR}),this._sampleTypes.push({name:"Calibration Standard",color:ColorUtils.AGILENT_CALIBRATION_STANDARD_COLOR}),this._sampleTypes.push({name:"QC Check",color:ColorUtils.AGILENT_QC_CHECK_COLOR}),this._sampleTypes.push({name:"Spike",color:ColorUtils.AGILENT_SPIKE_COLOR}),this._sampleTypes.push({name:"System Suitability",color:ColorUtils.AGILENT_SYSTEM_SUITABILITY_COLOR})}}class Point{constructor(x,y){this.x=x,this.y=y}}class DrawableItem{constructor(style){this.style=style,this.ratio=1}transformContextAndDrawIcon(context,image,iconCoordinates,ratio,iconSize,rotation){context.save(),180===rotation?context.translate(iconCoordinates.x*ratio+iconSize/2,iconCoordinates.y*ratio+iconSize/2):90===rotation?context.translate(iconCoordinates.x*ratio-iconSize/2,iconCoordinates.y*ratio+iconSize/2):270===rotation&&context.translate(iconCoordinates.x*ratio+iconSize/2,iconCoordinates.y*ratio-iconSize/2),context.rotate(-rotation*Math.PI/180),context.drawImage(image,0,0,iconSize,iconSize),context.restore()}}class EllipseItem extends DrawableItem{get cX(){return this._cX}get cY(){return this._cY}get rX(){return this._rX}get rY(){return this._rY}get height(){return 2*this.rY}get width(){return 2*this.rX}constructor(style,cX,cY,rX,rY){if(super(style),null==cX||null==cY||null==rX||null==rY)throw new Error("Ellipse data is missing");this._cX=cX,this._cY=cY,this._rX=rX,this._rY=rY}draw(context,ratio,isWidthRelative=!0,isSelected=!1,isHovered=!1,fillColor){this.ratio=ratio,context.beginPath(),context.fillStyle=fillColor||this.style.fillColor,context.strokeStyle=this.style.strokeColor,this.style.strokeWidth>0&&(context.lineWidth=isWidthRelative?this.style.strokeWidth*this.ratio:this.style.strokeWidth),isWidthRelative?context.ellipse(this.cX*this.ratio,this.cY*this.ratio,(this.rX-this.style.strokeWidth)*this.ratio,(this.rY-this.style.strokeWidth)*this.ratio,0,0,360):context.ellipse(this.cX*this.ratio+context.lineWidth,this.cY*this.ratio+context.lineWidth,this.rX*this.ratio+context.lineWidth,this.rY*this.ratio+context.lineWidth,0,0,360),isSelected&&(context.strokeStyle=this.style.selectedStrokeColor,context.lineWidth+=2),isHovered&&(context.fillStyle=this.style.hoverFillColor,context.strokeStyle=this.style.hoverStrokeColor,context.lineWidth+=2),context.fill(),context.stroke(),context.closePath()}drawIcon(context,ratio,sampleStatus,containerRotation){if(sampleStatus.svg){const size=2*this.rX*ratio/2.5,sizeMin=size>20?size:20,iconAngle=containerRotation?45-containerRotation:45,coordinates=this.coordinatesFromAngle(iconAngle);containerRotation&&0!==containerRotation?this.transformContextAndDrawIcon(context,sampleStatus.svg,coordinates,ratio,sizeMin,containerRotation):context.drawImage(sampleStatus.svg,coordinates.x*ratio-sizeMin/2,coordinates.y*ratio-sizeMin/2,sizeMin,sizeMin)}}canDrawIcon(ratio){const size=2*this.rX*ratio/2.5;return(size>20?size:20)<2*this.rX*ratio}setSize(sampleContainer){sampleContainer.width=2*this.rX+1,sampleContainer.height=2*this.rY+1}contains(x,y,offsetX,offsetY){return Math.sqrt((x-offsetX-this.cX*this.ratio)*(x-offsetX-this.cX*this.ratio)+(y-offsetY-this.cY*this.ratio)*(y-offsetY-this.cY*this.ratio))<this.rX*this.ratio}coordinatesFromAngle(angleDegrees){const angleRadians=angleDegrees*Math.PI/180;return new Point(this._cX+(this._rX-this.style.strokeWidth)*Math.cos(angleRadians),this._cY+(this._rY-this.style.strokeWidth)*Math.sin(angleRadians))}center(){return new Point(this.cX*this.ratio,this.cY*this.ratio)}translate(deltaX,deltaY){const item=new EllipseItem(this.style,this.cX+deltaX,this.cY+deltaY,this.rX,this.rY);return item.ratio=this.ratio,item}}class RectangleItem extends DrawableItem{get initX(){return this._initX}get initY(){return this._initY}get width(){return this._width}get height(){return this._height}constructor(style,initX,initY,width,height){if(super(style),this.maximumRatioIconItem=.6,null==initX||null==initY||null==width||null==height)throw new Error("Rectangle data is missing");this._initX=initX,this._initY=initY,this._width=width,this._height=height}draw(context,ratio,isWidthRelative=!0,isSelected=!1,isHovered=!1,fillColor){if(this.ratio=ratio,context.beginPath(),context.fillStyle=fillColor||this.style.fillColor,context.strokeStyle=this.style.strokeColor||"black",this.style.strokeWidth>0&&(context.lineWidth=isWidthRelative?this.style.strokeWidth*this.ratio:this.style.strokeWidth),isWidthRelative){context.lineWidth=this.style.strokeWidth*this.ratio;const fullStrokeWidth=2*this.style.strokeWidth;context.rect((this.initX+this.style.strokeWidth)*this.ratio,(this.initY+this.style.strokeWidth)*this.ratio,(this.width-fullStrokeWidth)*this.ratio,(this.height-fullStrokeWidth)*this.ratio)}else context.rect(this.initX*this.ratio+context.lineWidth,this.initY*this.ratio+context.lineWidth,this.width*this.ratio-2*context.lineWidth,this.height*this.ratio-2*context.lineWidth);isSelected&&(context.strokeStyle=this.style.selectedStrokeColor,context.lineWidth+=2),isHovered&&(context.fillStyle=this.style.hoverFillColor,context.strokeStyle=this.style.hoverStrokeColor,context.lineWidth+=2),context.closePath(),context.stroke(),context.fill()}drawIcon(context,ratio,sampleStatus,containerRotation){if(sampleStatus.svg){const size=this.width*ratio/2.5,sizeMin=size>20?size:20;let coordinates;containerRotation&&0!==containerRotation?(coordinates=this.calculateIconCoordinates(containerRotation),this.transformContextAndDrawIcon(context,sampleStatus.svg,coordinates,ratio,sizeMin,containerRotation)):(coordinates=new Point(this._initX+this.width-this.style.strokeWidth,this._initY+this.height-this.style.strokeWidth),context.drawImage(sampleStatus.svg,coordinates.x*ratio-sizeMin*this.getSpacing(),coordinates.y*ratio-sizeMin*this.getSpacing(),sizeMin,sizeMin))}}canDrawIcon(ratio){const size=2*this.width*ratio/2.5,sizeMin=size>20?size:20;return Math.PI*sizeMin/2*sizeMin/2/(this.width*ratio*this.height*ratio)<this.maximumRatioIconItem}setSize(sampleContainer){sampleContainer.width=this.width+1,sampleContainer.height=this.height+1,sampleContainer.initX=this.initX,sampleContainer.initY=this.initY}contains(x,y,offsetX,offsetY){return this.initX*this.ratio<=x-offsetX&&x-offsetX<=this.initX*this.ratio+this.width*this.ratio&&this.initY*this.ratio<=y-offsetY&&y-offsetY<=this.initY*this.ratio+this.height*this.ratio}translate(deltaX,deltaY){const item=new RectangleItem(this.style,this.initX+deltaX,this.initY+deltaY,this.width,this.height);return item.ratio=this.ratio,item}center(){return new Point((this.initX+this.width/2)*this.ratio,(this.initY+this.height/2)*this.ratio)}getSpacing(){return this.isIconLargerThanSpacing(this.columnSpacing)||this.isIconLargerThanSpacing(this.rowSpacing)?.7:.5}isIconLargerThanSpacing(spacing){const size=2*this.width/2.5;return spacing&&spacing<=(size>20?size:20)}calculateIconCoordinates(rotation){switch(rotation){case 90:return new Point(this._initX+this.width-this.style.strokeWidth,this._initY);case 180:return new Point(this._initX,this._initY);default:return new Point(this._initX,this._initY+this.height-this.style.strokeWidth)}}}class VialSelector{constructor(startVial,endVial,isSerpentine){this.startVial=startVial,this.endVial=endVial,this.isSerpentine=isSerpentine}}class ColumnVialSelector extends VialSelector{constructor(starVial,endVial,isSerpentine){super(starVial,endVial,isSerpentine)}next(vialsList,selectedVial){let nextVial;const colIterator=this.endVial.containerColPosition-this.startVial.containerColPosition>=0?1:-1,isSerpentineCol=this.isSerpentine&&(selectedVial.containerColPosition-this.startVial.containerColPosition)%2!=0,isNextRowSerpentineCol=this.isSerpentine&&!isSerpentineCol,rowIterator=this.endVial.containerRowPosition-this.startVial.containerRowPosition>=0?1:-1,selectionIterator=this.endVial.containerColPosition-this.startVial.containerColPosition==0?rowIterator:colIterator,iterator=isSerpentineCol?-1*selectionIterator:selectionIterator;return nextVial=vialsList.find((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*iterator&&vial.containerColPosition===selectedVial.containerColPosition)),void 0===nextVial&&(nextVial=vialsList.find((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*colIterator&&vial.containerRowPosition===this.getNextColFirstPosition(vialsList,selectedVial,colIterator,isNextRowSerpentineCol)))),nextVial}getNextColFirstPosition(vialsList,selectedVial,colIterator,isNextRowSerpentineCol){const vialList=vialsList.filter((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*colIterator));return colIterator>0?isNextRowSerpentineCol?Math.max(...vialList.map((vial=>vial.containerRowPosition))):Math.min(...vialList.map((vial=>vial.containerRowPosition))):isNextRowSerpentineCol?Math.min(...vialList.map((vial=>vial.containerRowPosition))):Math.max(...vialList.map((vial=>vial.containerRowPosition)))}}class RectangleHorizontalVialSelector extends VialSelector{constructor(starVial,endVial,isSerpentine){super(starVial,endVial,isSerpentine)}next(vialsList,selectedVial){let nextVial;const rowIterator=this.endVial.containerRowPosition-this.startVial.containerRowPosition>0?1:-1,colIterator=this.endVial.containerColPosition-this.startVial.containerColPosition>=0?1:-1,isSerpentineRow=this.isSerpentine&&(selectedVial.containerRowPosition-this.startVial.containerRowPosition)%2!=0,isNextColSerpentineRow=this.isSerpentine&&!isSerpentineRow;if(this.isColNext(selectedVial,colIterator,isSerpentineRow)){const iterator=isSerpentineRow?-1*colIterator:colIterator;nextVial=vialsList.find((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*iterator&&vial.containerRowPosition===selectedVial.containerRowPosition))}return void 0===nextVial&&this.isRowNext(selectedVial,rowIterator)&&(nextVial=vialsList.find((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*rowIterator&&vial.containerColPosition===this.getFirstVialPositionFromNextRow(vialsList,selectedVial,colIterator,rowIterator,isNextColSerpentineRow)))),nextVial}isColNext(selectedVial,colIterator,isSerpentineRow){return isSerpentineRow?colIterator>0?selectedVial.containerColPosition>this.startVial.containerColPosition:selectedVial.containerColPosition<this.startVial.containerColPosition:colIterator>0?selectedVial.containerColPosition<this.endVial.containerColPosition:selectedVial.containerColPosition>this.endVial.containerColPosition}isRowNext(selectedVial,rowIterator){return rowIterator>0?selectedVial.containerRowPosition<this.endVial.containerRowPosition:selectedVial.containerRowPosition>this.endVial.containerRowPosition}getFirstVialPositionFromNextRow(vialsList,selectedVial,colIterator,rowIterator,isNextColSerpentineRow){let vialList;return colIterator>0?(vialList=vialsList.filter((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*rowIterator&&vial.containerColPosition>=this.startVial.containerColPosition&&vial.containerColPosition<=this.endVial.containerColPosition)),isNextColSerpentineRow?Math.max(...vialList.map((vial=>vial.containerColPosition))):Math.min(...vialList.map((vial=>vial.containerColPosition)))):(vialList=vialsList.filter((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*rowIterator&&vial.containerColPosition<=this.startVial.containerColPosition&&vial.containerColPosition>=this.endVial.containerColPosition)),isNextColSerpentineRow?Math.min(...vialList.map((vial=>vial.containerColPosition))):Math.max(...vialList.map((vial=>vial.containerColPosition))))}}class RectangleVerticalVialSelector extends VialSelector{constructor(starVial,endVial,isSerpentine){super(starVial,endVial,isSerpentine)}next(vialsList,selectedVial){let nextVial;const colIterator=this.endVial.containerColPosition-this.startVial.containerColPosition>0?1:-1,rowIterator=this.endVial.containerRowPosition-this.startVial.containerRowPosition>0?1:-1,isSerpentineCol=this.isSerpentine&&(selectedVial.containerColPosition-this.startVial.containerColPosition)%2!=0,isNextRowSerpentineCol=this.isSerpentine&&!isSerpentineCol;if(this.isRowNext(selectedVial,rowIterator,isSerpentineCol)){const iterator=isSerpentineCol?-1*rowIterator:rowIterator;nextVial=vialsList.find((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*iterator&&vial.containerColPosition===selectedVial.containerColPosition))}return void 0===nextVial&&this.isColNext(selectedVial,colIterator)&&(nextVial=vialsList.find((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*colIterator&&vial.containerRowPosition===this.getFirstVialPositionFromNextCol(vialsList,selectedVial,colIterator,rowIterator,isNextRowSerpentineCol)))),nextVial}isColNext(selectedVial,colIterator){return colIterator>0?selectedVial.containerColPosition<this.endVial.containerColPosition:selectedVial.containerColPosition>this.endVial.containerColPosition}isRowNext(selectedVial,rowIterator,isSerpentineCol){return isSerpentineCol?rowIterator>0?selectedVial.containerRowPosition>this.startVial.containerRowPosition:selectedVial.containerRowPosition<this.startVial.containerRowPosition:rowIterator>0?selectedVial.containerRowPosition<this.endVial.containerRowPosition:selectedVial.containerRowPosition>this.endVial.containerRowPosition}getFirstVialPositionFromNextCol(vialsList,selectedVial,colIterator,rowIterator,isNextRowSerpentineCol){let vialList;return rowIterator>0?(vialList=vialsList.filter((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*colIterator&&vial.containerRowPosition>=this.startVial.containerRowPosition&&vial.containerRowPosition<=this.endVial.containerRowPosition)),isNextRowSerpentineCol?Math.max(...vialList.map((vial=>vial.containerRowPosition))):Math.min(...vialList.map((vial=>vial.containerRowPosition)))):(vialList=vialsList.filter((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*colIterator&&vial.containerRowPosition<=this.startVial.containerRowPosition&&vial.containerRowPosition>=this.endVial.containerRowPosition)),isNextRowSerpentineCol?Math.min(...vialList.map((vial=>vial.containerRowPosition))):Math.max(...vialList.map((vial=>vial.containerRowPosition))))}}class RowVialSelector extends VialSelector{constructor(starVial,endVial,isSerpentine){super(starVial,endVial,isSerpentine)}next(vialsList,selectedVial){let nextVial;const rowIterator=this.endVial.containerRowPosition-this.startVial.containerRowPosition>0?1:-1,isSerpentineRow=this.isSerpentine&&(selectedVial.containerRowPosition-this.startVial.containerRowPosition)%2!=0,isNextColSerpentineRow=this.isSerpentine&&!isSerpentineRow,colIterator=this.endVial.containerColPosition-this.startVial.containerColPosition>=0?1:-1,selectionIterator=this.endVial.containerRowPosition-this.startVial.containerRowPosition==0?colIterator:rowIterator,iterator=isSerpentineRow?-1*selectionIterator:selectionIterator;return nextVial=vialsList.find((vial=>vial.containerColPosition===selectedVial.containerColPosition+1*iterator&&vial.containerRowPosition===selectedVial.containerRowPosition)),void 0===nextVial&&(nextVial=vialsList.find((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*rowIterator&&vial.containerColPosition===this.getNextRowFirstPosition(vialsList,selectedVial,rowIterator,isNextColSerpentineRow)))),nextVial}getNextRowFirstPosition(vialsList,selectedVial,rowIterator,isNextColSerpentineRow){const vialList=vialsList.filter((vial=>vial.containerRowPosition===selectedVial.containerRowPosition+1*rowIterator));return rowIterator>0?isNextColSerpentineRow?Math.max(...vialList.map((vial=>vial.containerColPosition))):Math.min(...vialList.map((vial=>vial.containerColPosition))):isNextColSerpentineRow?Math.min(...vialList.map((vial=>vial.containerColPosition))):Math.max(...vialList.map((vial=>vial.containerColPosition)))}}class SampleInfo{constructor(sampleType="Default",text="",sampleStatus="None",textSize=0){this.sampleType=sampleType,this.text=text,this.sampleStatus=sampleStatus,this.textSize=textSize}isEmpty(){return"Default"===this.sampleType&&""===this.text&&"None"===this.sampleStatus&&0===this.textSize}}var MultipleSelectionType,SelectionMode,SelectionOrder,ArrowPart;!function(MultipleSelectionType){MultipleSelectionType.None="none",MultipleSelectionType.Multiple="multiple",MultipleSelectionType.MultipleContinuous="multipleContinuous"}(MultipleSelectionType||(MultipleSelectionType={}));class SourceDestinationVialMapping{constructor(sourceVialInfo,destinationVial){this.sourceVialInfo=sourceVialInfo,this.destinationVial=destinationVial}}!function(SelectionMode){SelectionMode.Single="Single",SelectionMode.Row="Row",SelectionMode.Column="Column",SelectionMode.RectangleHorizontal="RectangleHorizontal",SelectionMode.RectangleVertical="RectangleVertical"}(SelectionMode||(SelectionMode={})),function(SelectionOrder){SelectionOrder.Linear="Linear",SelectionOrder.Serpentine="Serpentine"}(SelectionOrder||(SelectionOrder={})),function(ArrowPart){ArrowPart.Body="Body",ArrowPart.Head1="Head1",ArrowPart.Head2="Head2"}(ArrowPart||(ArrowPart={}));class SelectionController{constructor(){this.selectionMode=SelectionMode.Row,this.selectionOrder=SelectionOrder.Linear,this.sourceToDestinationVialMap=[],this.lastCanDropValue=!1,this._selectedVials=[],this._sourceVials=[],this.isMovingToSamePosition=!1}get selectedVials(){return this._selectedVials}get destinationVials(){return this.sourceToDestinationVialMap.map((item=>item.destinationVial))}clearSelection(vialsList){this._selectedVials=[],this._topRightSelectedVial=void 0,vialsList.forEach((vial=>{vial.selected=!1}))}selectSingleVial(selectedVial,isManualSelection=!0,selected=!0){selectedVial.selected=isManualSelection?!selectedVial.selected:selected,selectedVial.selected?this._selectedVials.push(selectedVial):this.removeVial(selectedVial),this.lastSelectedVial=selectedVial}selectVialRange(vialsList,selectedVial){const isSerpentine=this.selectionOrder===SelectionOrder.Serpentine;this.lastSelectedVial&&this.getVialsAccordingToSelectionMode(vialsList,this.lastSelectedVial,selectedVial,isSerpentine)}selectAllVials(vialsList){const vialList=this.sortVialsList(vialsList),currentSelectedVial=vialList[vialList.length-1];this.lastSelectedVial=vialList[0],this.getVialsAccordingToSelectionMode(vialsList,this.lastSelectedVial,currentSelectedVial,!1)}removeVial(selectedVial){const index=this._selectedVials.indexOf(selectedVial);index>-1&&this._selectedVials.splice(index,1)}sortVialsList(vialsList){const vialList=[...vialsList];return this.selectionMode===SelectionMode.Row||this.selectionMode===SelectionMode.RectangleHorizontal?vialList.sort(((a,b)=>a.containerRowPosition-b.containerRowPosition||a.containerColPosition-b.containerColPosition)):vialList.sort(((a,b)=>a.containerColPosition-b.containerColPosition||a.containerRowPosition-b.containerRowPosition))}getVialsAccordingToSelectionMode(vialsList,startVial,endVial,isSerpentine){let nextVial=startVial,calculatedEndVial=endVial;if(isSerpentine&&(calculatedEndVial=this.getSerpentineEndVial(vialsList,startVial,endVial)),this.selector=this.getNextSelector(startVial,endVial,isSerpentine),this.selector&&nextVial)for(this._selectedVials.includes(nextVial)||(this._selectedVials.push(startVial),startVial.selected=!0);nextVial&&(nextVial.containerColPosition!==calculatedEndVial.containerColPosition||nextVial.containerRowPosition!==calculatedEndVial.containerRowPosition);)nextVial=this.selector.next(vialsList,nextVial),nextVial&&this.addSelectedVial(nextVial)}addSelectedVial(vial){this._selectedVials.includes(vial)&&this.removeVial(vial),vial.selected=!0,this._selectedVials.push(vial)}getSerpentineEndVial(vialsList,startVial,endVial){let calculatedEndVial;return this.selectionMode===SelectionMode.RectangleHorizontal&&(endVial.containerRowPosition-startVial.containerRowPosition)%2!=0&&(calculatedEndVial=vialsList.find((vial=>vial.containerColPosition===startVial.containerColPosition&&vial.containerRowPosition===endVial.containerRowPosition))),this.selectionMode===SelectionMode.RectangleVertical&&(endVial.containerColPosition-startVial.containerColPosition)%2!=0&&(calculatedEndVial=vialsList.find((vial=>vial.containerRowPosition===startVial.containerRowPosition&&vial.containerColPosition===endVial.containerColPosition))),calculatedEndVial??endVial}getNextSelector(startVial,endVial,isSerpentine){if(this.lastSelectedVial)switch(this.selectionMode){case SelectionMode.Column:return new ColumnVialSelector(startVial,endVial,isSerpentine);case SelectionMode.RectangleHorizontal:return new RectangleHorizontalVialSelector(startVial,endVial,isSerpentine);case SelectionMode.RectangleVertical:return new RectangleVerticalVialSelector(startVial,endVial,isSerpentine);case SelectionMode.Row:default:return new RowVialSelector(startVial,endVial,isSerpentine)}}selectVial(sampleContainer,event,offset,multiSelection,keepPreviousSelection){const selectedVial=this.getVialFromCoordinates(sampleContainer,event,offset);selectedVial&&(multiSelection!==MultipleSelectionType.None&&this.selectionMode!==SelectionMode.Single||this.clearSelection(sampleContainer.vialsList),multiSelection===MultipleSelectionType.MultipleContinuous&&this.selectionMode!==SelectionMode.Single&&this.lastSelectedVial?(keepPreviousSelection?this.updateContinuousSelection():this.clearSelection(sampleContainer.vialsList),this.selectVialRange(sampleContainer.vialsList,selectedVial)):this.selectSingleVial(selectedVial))}updateContinuousSelection(){const lastSelectedIndex=this._selectedVials.indexOf(this.lastSelectedVial);if(-1!==lastSelectedIndex&&lastSelectedIndex!==this._selectedVials.length-1)for(let i=this._selectedVials.length-1;i>=lastSelectedIndex;i--){const vialToRemove=this._selectedVials[i];this.selectSingleVial(vialToRemove,!1,!1)}}getVialFromCoordinates(sampleContainer,event,offset){if(0===sampleContainer.rotation)return sampleContainer.vialsList.find((v=>v.drawableItem?.contains(event.x,event.y,offset.x,offset.y)));const eventPoint=new DOMPoint(event.x,event.y),transformedOffset=new DOMPoint(offset.x,offset.y),transformedPoint=eventPoint.matrixTransform(sampleContainer.transformMatrix.inverse());return 90===sampleContainer.rotation?(transformedOffset.x=offset.y,transformedOffset.y=-offset.x):180===sampleContainer.rotation?(transformedOffset.x=-offset.x,transformedOffset.y=-offset.y):270===sampleContainer.rotation&&(transformedOffset.x=-offset.y,transformedOffset.y=offset.x),sampleContainer.vialsList.find((v=>v.drawableItem?.contains(transformedPoint.x,transformedPoint.y,transformedOffset.x,transformedOffset.y)))}getTopRightSelectedVial(){let topRightVial;return this._selectedVials.forEach((vial=>{(!topRightVial||vial.xCoordinate>topRightVial.xCoordinate||vial.xCoordinate===topRightVial.xCoordinate&&vial.yCoordinate<topRightVial.yCoordinate)&&(topRightVial=vial)})),this._topRightSelectedVial=topRightVial,topRightVial}getVialAtCurrentPositionWhenMoving(sampleContainer,eventPosition,moveStartPosition){let vialAtCurrentPosition,deltaX=0,deltaY=0;return this._topRightSelectedVial&&(this._topRightSelectedVial.drawableItem instanceof EllipseItem?(deltaX=moveStartPosition.x/sampleContainer.globalRatio-this._topRightSelectedVial.xCoordinate,deltaY=this._topRightSelectedVial.yCoordinate-moveStartPosition.y/sampleContainer.globalRatio):this._topRightSelectedVial.drawableItem instanceof RectangleItem&&(deltaX=(moveStartPosition.x-this._topRightSelectedVial.drawableItem.center().x)/sampleContainer.globalRatio,deltaY=(this._topRightSelectedVial.drawableItem.center().y-moveStartPosition.y)/sampleContainer.globalRatio),vialAtCurrentPosition=this.getVialFromCoordinates(sampleContainer,new Point(eventPosition.x-deltaX*sampleContainer.globalRatio,eventPosition.y+deltaY*sampleContainer.globalRatio),new Point(0,0))),vialAtCurrentPosition}buildSourceDestinationVialsMap(destTopRightVial,vialList){if(this.isMovingToSamePosition=!1,this.sourceToDestinationVialMap=[],this._sourceVials=[],this._topRightSelectedVial){const rowDelta=destTopRightVial.containerRowPosition-this._topRightSelectedVial.containerRowPosition,colDelta=destTopRightVial.containerColPosition-this._topRightSelectedVial.containerColPosition;for(const sourceVial of this._selectedVials){const destinationVial=vialList.find((vial=>vial.containerRowPosition===sourceVial.containerRowPosition+rowDelta&&vial.containerColPosition===sourceVial.containerColPosition+colDelta));if(void 0===destinationVial)return this.sourceToDestinationVialMap=[],this._sourceVials=[],this.lastCanDropValue=!1,!1;destinationVial.identifier===sourceVial.identifier&&(this.isMovingToSamePosition=!0),this.sourceToDestinationVialMap.push(new SourceDestinationVialMapping(sourceVial.sampleInfo,destinationVial)),this._sourceVials.push(sourceVial)}}return this.lastCanDropValue=this.sourceToDestinationVialMap.length>0,this.sourceToDestinationVialMap.length>0}selectDestinationVials(){this._selectedVials=[],this._sourceVials.forEach((vial=>{vial.selected=!1,vial.sampleInfo=new SampleInfo})),this.sourceToDestinationVialMap.forEach((pair=>{pair.destinationVial.sampleInfo=pair.sourceVialInfo,pair.destinationVial.selected=!0,this._selectedVials.push(pair.destinationVial)})),this.sourceToDestinationVialMap=[]}checkDestinationVialsAreEmpty(){return this.destinationVials.every((v=>v.sampleInfo.isEmpty()))}clearSelectionIfOutsideVials(sampleContainer,mousePosition,offset){return!this.getVialFromCoordinates(sampleContainer,mousePosition,offset)&&(this.clearSelection(sampleContainer.vialsList),!0)}}let AwfColorSlydini=class AwfColorSlydini extends lit.oi{updated(_changedProperties){(_changedProperties.has("value")||_changedProperties.has("name"))&&this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{name:this.name,value:this.value}))}render(){return lit.dy``}};(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfColorSlydini.prototype,"name",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfColorSlydini.prototype,"value",void 0),AwfColorSlydini=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-color",!0)],AwfColorSlydini);let AwfColorPaletteSlydini=class AwfColorPaletteSlydini extends lit.oi{render(){return lit.dy``}};AwfColorPaletteSlydini=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-color-palette",!0)],AwfColorPaletteSlydini);var EmptyError=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/EmptyError.js"),Subscriber=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscriber.js");const MODAL_DIALOG_CSS_VARIABLES=lit.iv`
    :host {
        /* Modal Dialog Colors */
        --awf-modal-dialog-screen-blurring-color-inner: var(--awf-modal-dialog-screen-blurring-color, rgb(56, 67, 80, 0.6));

        /* Modal Dialog Measurements */
        --awf-modal-dialog-base-padding-inner: var(--awf-modal-dialog-base-padding, 16px);
        --awf-modal-dialog-header-padding-inner: var(--awf-modal-dialog-header-padding, calc(0.5 * var(--awf-modal-dialog-base-padding-inner)) calc(0.25 * var(--awf-modal-dialog-base-padding-inner)) calc(0.5 * var(--awf-modal-dialog-base-padding-inner)) var(--awf-modal-dialog-base-padding-inner));
        --awf-modal-dialog-actions-padding-inner: var(--awf-modal-dialog-actions-padding, calc(0.5 * var(--awf-modal-dialog-base-padding-inner)));
        --awf-modal-dialog-content-padding-inner: var(--awf-modal-dialog-content-padding, calc(0.5 * var(--awf-modal-dialog-base-padding-inner)) var(--awf-modal-dialog-base-padding-inner));
        --awf-modal-dialog-height-inner: var(--awf-modal-dialog-height, auto);
        --awf-modal-dialog-width-inner: var(--awf-modal-dialog-width, auto);
        --awf-modal-dialog-header-gap-inner: var(--awf-modal-dialog-header-gap, 8px);
    }
`;function slotChange(){const target=this.shadowRoot.querySelector("slot:not([name])");target&&moveElementsIntoSlot(target,"[actions]","actions")}function handleActionButtonClick(event){if(event.target instanceof AwfButton){const text=function getButtonText(button){const[textNode]=Array.from(button.childNodes).filter((node=>node.nodeType===Node.TEXT_NODE));return textNode.textContent}(event.target);if(text){const type=function getEventType(text){return text.replace(" ","").toLowerCase()}(text),customEvent=new CustomEvent(type,{bubbles:!0,composed:!0});this.dispatchEvent(customEvent)}}}const MODAL_DIALOG_STYLES=lit.iv`

    :host {
        z-index: var(--awf-elevation-z6);
        display: inherit;
    }

    .dialog {
        position:absolute;
        z-index: var(--awf-elevation-z6);
        background-color: var(--at-white);
        border: 1px solid var(--at-gray-soft);
        box-shadow: 2px 2px 16px 0px rgba(56, 67, 80, 0.32);
        height: var(--awf-modal-dialog-height-inner);
        width: var(--awf-modal-dialog-width-inner);
        box-sizing: border-box;
        max-height: 98%;
        max-width: 98%;
        display: grid;
        grid-template-rows: auto 1fr auto;
        grid-template-areas: 'header' 'content' 'actions';
    }

    .actions {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        padding: var(--awf-modal-dialog-actions-padding-inner);
        border-top: 1px solid var(--at-gray);
        max-height: 50px;
        box-sizing: border-box;
        grid-area: actions;
    }

    .actions ::slotted(awf-button) {
        margin-left: 8px;
    }

    .title {
        flex: 1 1 0;
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .header {
        font-size: 1.375rem;
        padding: var(--awf-modal-dialog-header-padding-inner);
        border-bottom: 1px solid var(--at-gray);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
        height: var(--awf-button-height-inner);
        grid-area: header;
        gap: var(--awf-modal-dialog-header-gap-inner);
        overflow: hidden;
    }

    .header-options {
        display: flex;
        gap: var(--awf-modal-dialog-header-gap-inner);
    }


    .header-options ::slotted([slot="custom-header-options"]) {
        display: flex;
        gap: var(--awf-modal-dialog-header-gap-inner);
    }

    .content {
        padding: var(--awf-modal-dialog-content-padding-inner);
        box-sizing: border-box;
        grid-area: content;
        overflow: auto;
    }

    .close-button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        padding: 0;
        border: none;
        background-color: transparent;
        cursor: pointer;
    }

    .close-button-hidden {
        display: none;
    }
`;let AwfModalDialog=class AwfModalDialog extends lit.oi{constructor(){super(...arguments),this.header="",this.showCloseButton=!1}render(){return lit.dy`
            <div class="dialog">
                <div class="header">
                    <div class="title">${this.header}</div>
                    <div class="header-options">
                        <slot name="custom-header-options"></slot>
                        <awf-button
                            aria-label="close"
                            class="${this.showCloseButton?"close-button":"close-button-hidden"}"
                            @click=${this.handleClose}
                        >
                            <awf-icon raw=${delete_cross.C} slot="icon"></awf-icon>
                        </awf-button>
                    </div>
                </div>
                <div class="content"><slot @slotchange=${this.slotChange}></slot></div>
                <div class="actions"><slot name="actions" @click=${handleActionButtonClick}></slot></div>
            </div>
        `}handleClose(){this.dispatchEvent(new CustomEvent(AwfEvent.CLOSE,{composed:!0,bubbles:!0,cancelable:!0}))}slotChange(){const target=this.shadowRoot.querySelector("slot:not([name])");target&&(this.setActionsSlot(),moveElementsIntoSlot(target,"[actions]","actions"))}setActionsSlot(){const actionsElement=this.shadowRoot.querySelector(".actions"),slottedElements=this.shadowRoot.querySelector("slot[name=actions]")?.assignedNodes(),displayValue=0===slottedElements.length?"none":"flex";actionsElement?.style.setProperty("display",displayValue)}};AwfModalDialog.styles=[COMMON_STYLES,BUTTON_CSS_VARIABLES,MODAL_DIALOG_CSS_VARIABLES,MODAL_DIALOG_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfModalDialog.prototype,"header",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfModalDialog.prototype,"showCloseButton",void 0),AwfModalDialog=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-modal-dialog",!0)],AwfModalDialog);const MODAL_STYLES=lit.iv`

    :host {
        --awf-modal-dialog-height-inner: var(--awf-modal-dialog-height, auto);
        --awf-modal-dialog-width-inner: var(--awf-modal-dialog-width, auto);
    }

    :host {
        position:fixed;
        top:0;
        left:0;
        z-index: var(--awf-elevation-z6);
    }

    .wrapper{
        opacity:0;
        visibility: hidden;
        pointer-events:none;
        transition: opacity var(--transition-duration) var(--transition-timing-function);
        z-index: var(--awf-elevation-z6);
        position: fixed;
        left:0;
        left:0;
        width:100%;
        height:100%;
    }

    :host([open]) .wrapper {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
    }

    .background{
        position:relative;
        display:flex;
        justify-content:center;
        align-items:center;
        width:100%;
        height:100%;
        background-color: var(--awf-modal-dialog-screen-blurring-color-inner);
        z-index: var(--awf-elevation-z5);
    }

    .modal-content{
        position:absolute;
        z-index: var(--awf-elevation-z6);
        background-color: var(--at-white);
        box-shadow: 2px 2px 16px 0px rgba(56, 67, 80, 0.32);
        box-sizing: border-box;
        width: var(--modal-dialog-width);
        height: var(--modal-dialog-height);
        border: 1px solid var(--at-gray-soft);
        max-height: 98%;
        max-width: 98%;
    }

    .actions ::slotted(awf-button) {
        margin-left: 8px;
    }

`,focusableElementsSelector=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'*[tabindex]:not([tabindex="-1"])',"*[contenteditable]"].join(",");let AwfModal=class AwfModal extends lit.oi{constructor(){super(...arguments),this.open=!1,this._trapFocusHandler=this.trapFocusHandler.bind(this),this._handleEscape=this.handleEscape.bind(this)}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this._trapFocusHandler),document.addEventListener("keydown",this._handleEscape)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this._trapFocusHandler),document.removeEventListener("keydown",this._handleEscape)}render(){return lit.dy`
            <div class="wrapper">
                <div class="background">
                    <slot name="content"></slot>
                </div>
            </div>
        `}openModal(){return this.open=!0,this.open}closeModal(){return this.open=!1,!this.open}filterAndSortElementArray(elements){const closeButton=document.querySelector("* awf-modal")?.shadowRoot?.querySelector("* awf-modal-dialog")?.shadowRoot?.querySelector("div.header > awf-button.close-button")?.shadowRoot?.querySelector("button"),hiddenCloseButton=document.querySelector("* awf-modal")?.shadowRoot?.querySelector("* awf-modal-dialog")?.shadowRoot?.querySelector("div.header > awf-button.close-button-hidden")?.shadowRoot?.querySelector("button"),filteredElements=elements.filter((e=>e.matches(focusableElementsSelector))),sortedElements=[...filteredElements.filter((ele=>{const style=window.getComputedStyle(ele);return"none"!==style.display&&"hidden"!==style.visibility&&ele!==closeButton}))].sort(((a,b)=>{const tabIndexA=a.getAttribute("tabindex"),sortA=Number.isNaN(tabIndexA)||0===Number(tabIndexA)?Number.MAX_VALUE:Number(tabIndexA),tabIndexB=b.getAttribute("tabindex");return sortA-(Number.isNaN(tabIndexB)||0===Number(tabIndexB)?Number.MAX_VALUE:Number(tabIndexB))}));if(closeButton)return[closeButton,...sortedElements];if(hiddenCloseButton){const index=sortedElements.indexOf(hiddenCloseButton);index>-1&&sortedElements.splice(index,1)}return sortedElements}getChildElements(element){const allElements=Array.from(element.shadowRoot?.children??[]).concat(Array.from(element.children));if(0===allElements.length)return[element];return[element,...allElements.reduce(((prev,curr)=>[...prev,...this.getChildElements(curr)]),[])]}getSortedFocusableElements(container){const containerChildren=this.getChildElements(container);return this.filterAndSortElementArray(containerChildren)}focusFirstElement(){this.getSortedFocusableElements(this)[0]?.focus()}focusLastElement(){this.getSortedFocusableElements(this).slice(-1)[0]?.focus()}trapFocusHandler(event){if("Tab"!==event.key)return;const shift=event.shiftKey;setTimeout((()=>{this.contains(document.activeElement)||(shift?this.focusLastElement():this.focusFirstElement())}),0)}handleEscape(event){"Escape"===event.key&&this.dispatchEvent(new CustomEvent(AwfEvent.CLOSE,{composed:!0,bubbles:!0,cancelable:!0}))}};AwfModal.styles=[COMMON_STYLES,MODAL_STYLES,MODAL_DIALOG_CSS_VARIABLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfModal.prototype,"open",void 0),AwfModal=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-modal",!0)],AwfModal);class Angle{constructor(startAngle,sweepAngle){this.startAngle=startAngle,this.sweepAngle=sweepAngle}}var zoomMode;!function(zoomMode){zoomMode.MouseWheel="MouseWheel",zoomMode.Keyboard="Keyboard",zoomMode.None="None"}(zoomMode||(zoomMode={}));class ZoomController{constructor(){this.zoomRatio=0,this.zoomSensitivity=50,this.zoomOffset=new Point(0,0),this.origin=new Point(0,0),this.mouseLeave=!0,this.mouseOffset=new Point(0,0),this.startOffset=new Point(0,0),this.zoomMode=zoomMode.None}setMouseOffset(offsetX,offsetY){this.mouseOffset.x=offsetX,this.mouseOffset.y=offsetY}setMouseOffsetFromTouch(eventCache){if(2===eventCache.length){const currentDiffX=Math.abs(eventCache[0].offsetX-eventCache[1].offsetX),currentDiffY=Math.abs(eventCache[0].offsetY-eventCache[1].offsetY);this.setMouseOffset(Math.min(eventCache[0].offsetX,eventCache[1].offsetX)+currentDiffX,Math.min(eventCache[0].offsetY,eventCache[1].offsetY)+currentDiffY),this.mouseLeave=!1}}executeZoom(delta,canvas,ratio){const oldZoom=this.zoomRatio,newZoom=this.zoomRatio+-1*delta/this.zoomSensitivity;this.zoomRatio=newZoom>0?newZoom:0,this.setOffset(canvas,ratio,oldZoom)}setStartOffset(){this.zoomRatio>0&&(this.startOffset.x=this.zoomOffset.x,this.startOffset.y=this.zoomOffset.y)}canScrollInZoom(drag,isInMultiselectTouchMode,eventCache){return drag&&this.zoomRatio>0&&!isInMultiselectTouchMode&&eventCache.length<2}translateBeforeDraw(ctx){ctx.translate(-this.zoomOffset.x,-this.zoomOffset.y)}translateAfterDraw(ctx){ctx.translate(this.zoomOffset.x,this.zoomOffset.y)}setOffset(canvas,containerRatio,oldZoom){if(this.mouseLeave)this.zoomOffset.x=(canvas.width/containerRatio*(containerRatio+this.zoomRatio)-canvas.width)/2,this.zoomOffset.y=(canvas.height/containerRatio*(containerRatio+this.zoomRatio)-canvas.height)/2;else{const leftOffsetX=(this.mouseOffset.x+this.zoomOffset.x)/(containerRatio+oldZoom)*(containerRatio+this.zoomRatio)-this.mouseOffset.x,leftOffsetY=(this.mouseOffset.y+this.zoomOffset.y)/(containerRatio+oldZoom)*(containerRatio+this.zoomRatio)-this.mouseOffset.y,rightOffsetX=canvas.width/containerRatio*(containerRatio+this.zoomRatio)-leftOffsetX-canvas.width,rightOffsetY=canvas.height/containerRatio*(containerRatio+this.zoomRatio)-leftOffsetY-canvas.height;this.zoomOffset.x=leftOffsetX>=0&&rightOffsetX>=0?leftOffsetX:0,this.zoomOffset.y=leftOffsetY>=0&&rightOffsetY>=0?leftOffsetY:0}}}class ArcItem extends EllipseItem{get startAngle(){return this._startAngle}get endAngle(){return this._endAngle}constructor(style,angle,cX,cY,rX,rY){if(super(style,cX,cY,rX,rY),null==angle)throw new Error("Arc data is missing");this._startAngle=Math.PI*angle.startAngle/180,this._endAngle=Math.PI*(angle.sweepAngle+angle.startAngle)/180}draw(context,ratio,isWidthRelative=!0){this.ratio=ratio,context.beginPath(),this.style.strokeWidth>0&&(context.lineWidth=isWidthRelative?this.style.strokeWidth*this.ratio:this.style.strokeWidth),context.arc(this.cX*this.ratio+context.lineWidth,this.cY*this.ratio+context.lineWidth,this.rX*this.ratio-context.lineWidth,this.startAngle,this.endAngle),context.fillStyle=this.style.fillColor,context.strokeStyle=this.style.strokeColor,context.fill(),context.stroke()}drawIcon(context,ratio,sampleStatus){if(sampleStatus.svg){const center=this.center();context.drawImage(sampleStatus.svg,center.x,center.y,16*ratio,16*ratio)}}canDrawIcon(ratio){const size=2*this.rX*ratio/2.5;return(size>20?size:20)<2*this.rX*ratio}setSize(sampleContainer){sampleContainer.width=2*this.rX+1,sampleContainer.height=2*this.rX+1}contains(x,y,offsetX,offsetY){return!1}center(){return new Point(this.cX*this.ratio,this.cY*this.ratio)}}class PolygonItem extends DrawableItem{get pointsList(){return this._pointsList}get height(){return this.maxPolygonSize().y-this.minPolygonSize().y}get width(){return this.maxPolygonSize().x-this.minPolygonSize().x}constructor(style,points){if(super(style),this._pointsList=[],""===points||null==points)throw new Error("Polygon data is missing");this._pointsList=function convertPolygonPoints(pointsRaw){const pointsListConverted=[],pointsRawSplit=pointsRaw.split(" ");if(pointsRawSplit.length<2)return[];for(const point of pointsRawSplit){const pointsListSplitCoordinates=point.split(",");if(pointsListSplitCoordinates.length<2)return[];const pointsCoordinates=new Point(parseFloat(pointsListSplitCoordinates[0]),parseFloat(pointsListSplitCoordinates[1]));pointsListConverted.push(pointsCoordinates)}return pointsListConverted}(points)}draw(context,ratio,isWidthRelative=!0){this.ratio=ratio,context.beginPath(),context.fillStyle=this.style.fillColor,context.strokeStyle=this.style.strokeColor,this.style.strokeWidth>0&&(context.lineWidth=isWidthRelative?this.style.strokeWidth*this.ratio:this.style.strokeWidth),this._pointsList.forEach((point=>{context.lineTo(point.x*this.ratio+context.lineWidth,point.y*this.ratio+context.lineWidth)})),context.closePath(),context.fill(),context.stroke()}drawIcon(context,ratio,sampleStatus){if(sampleStatus.svg){const center=this.center();context.drawImage(sampleStatus.svg,center.x,center.y,16*ratio,16*ratio)}}canDrawIcon(ratio){return!0}setSize(sampleContainer){const maxPoints=this.maxPolygonSize(),minPoints=this.minPolygonSize();sampleContainer.width=maxPoints.x,sampleContainer.height=maxPoints.y,sampleContainer.initX=minPoints.x,sampleContainer.initY=minPoints.y}contains(x,y,offsetX,offsetY){return!1}center(){const minimumPoint=this.minPolygonSize(),maximumPoint=this.maxPolygonSize();return new Point((minimumPoint.x+(maximumPoint.x-minimumPoint.x)/2)*this.ratio,(minimumPoint.y+(maximumPoint.y-minimumPoint.y)/2)*this.ratio)}maxPolygonSize(){return{x:Math.max(...this.pointsList.map((value=>value.x))),y:Math.max(...this.pointsList.map((value=>value.y)))}}minPolygonSize(){return{x:Math.min(...this.pointsList.map((value=>value.x))),y:Math.min(...this.pointsList.map((value=>value.y)))}}}function AsyncFromSyncIterator(s){function AsyncFromSyncIteratorContinuation(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var done=r.done;return Promise.resolve(r.value).then((function(value){return{value,done}}))}return AsyncFromSyncIterator=function AsyncFromSyncIterator(s){this.s=s,this.n=s.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},return:function _return(value){var ret=this.s.return;return void 0===ret?Promise.resolve({value,done:!0}):AsyncFromSyncIteratorContinuation(ret.apply(this.s,arguments))},throw:function _throw(value){var thr=this.s.return;return void 0===thr?Promise.reject(value):AsyncFromSyncIteratorContinuation(thr.apply(this.s,arguments))}},new AsyncFromSyncIterator(s)}var FirstVialPosition,VialType,NumberingType,VialDirection,ConsecutiveNumbering,VialGridInterleaveType,VialShape,NumberingDirection,NumberingMode,FirstVialRingPosition,VialRingInterleaveType,agSampleStatusIndicatorErrorFilledRedSolid='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-error-filled-red-solid">\n<circle fill="#E72503" cx="8" cy="8" r="6.5"></circle>\n<polygon fill="#FFFFFF" points="10.5,4.4 8,6.9 5.6,4.4 4.5,5.5 7,8 4.5,10.4 5.6,11.5 8,9 10.5,11.5 11.6,10.4 9.1,8 11.6,5.5 "></polygon>\n</svg>',agSampleStatusIndicatorWarningFilledYellowSolid='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-warning-filled-yellow-solid">\n<circle fill="#FFFFFF" cx="8" cy="8" r="7"></circle>\n<path fill="#FFBA00" d="M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M9,12H7v-2h2V12z M9,9H7V4h2V9z"></path>\n</svg>',agSampleStatusIndicatorSkippedSolid='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-skipped-solid">\n<circle fill="#FFFFFF" cx="8" cy="8" r="7"></circle>\n<path fill="#A1A7AF" d="M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M8,2c1.3,0,2.5,0.4,3.5,1.1l-8.4,8.4\n\tC2.4,10.5,2,9.3,2,8C2,4.7,4.7,2,8,2z M8,14c-1.3,0-2.5-0.4-3.5-1.1l8.4-8.4C13.6,5.5,14,6.7,14,8C14,11.3,11.3,14,8,14z"></path>\n</svg>';!function(FirstVialPosition){FirstVialPosition.TopLeft="topLeft",FirstVialPosition.TopRight="topRight",FirstVialPosition.BottomLeft="bottomLeft",FirstVialPosition.BottomRight="bottomRight"}(FirstVialPosition||(FirstVialPosition={})),function(VialType){VialType.VialGrid="vialGrid",VialType.VialRing="vialRing",VialType.Vial="vial"}(VialType||(VialType={})),function(NumberingType){NumberingType.Letters="letters",NumberingType.Numbers="numbers"}(NumberingType||(NumberingType={})),function(VialDirection){VialDirection.Horizontal="horizontal",VialDirection.Vertical="vertical"}(VialDirection||(VialDirection={})),function(ConsecutiveNumbering){ConsecutiveNumbering.Linear="linear",ConsecutiveNumbering.Serpentine="serpentine"}(ConsecutiveNumbering||(ConsecutiveNumbering={})),function(VialGridInterleaveType){VialGridInterleaveType.None="none",VialGridInterleaveType.Up="up",VialGridInterleaveType.Down="down"}(VialGridInterleaveType||(VialGridInterleaveType={})),function(VialShape){VialShape.Ellipse="ellipse",VialShape.Rectangle="rectangle"}(VialShape||(VialShape={})),function(NumberingDirection){NumberingDirection.Clockwise="clockwise",NumberingDirection.CounterClockwise="counterClockwise"}(NumberingDirection||(NumberingDirection={})),function(NumberingMode){NumberingMode.Ring="ring",NumberingMode.Ray="ray"}(NumberingMode||(NumberingMode={})),function(FirstVialRingPosition){FirstVialRingPosition.InnerRing="innerRing",FirstVialRingPosition.OuterRing="outerRing"}(FirstVialRingPosition||(FirstVialRingPosition={})),function(VialRingInterleaveType){VialRingInterleaveType.None="none",VialRingInterleaveType.Clockwise="clockwise",VialRingInterleaveType.CounterClockwise="counterClockwise"}(VialRingInterleaveType||(VialRingInterleaveType={}));const convertTool=new class ConvertTool{constructor(){this.iconSvgDictionary=new Map([["Pending",'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-pending-solid">\n<circle fill="#FFFFFF" cx="8" cy="8" r="7"></circle>\n<path fill="#384350" d="M8,15c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S11.9,15,8,15z M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6\n\tS11.3,2,8,2z"></path>\n</svg>'],["Submitted",small_namespaceObject.agSampleStatusIndicatorSubmittedSolid],["InProgress",small_namespaceObject.agSampleStatusIndicatorAcquiringInProgressDarknavySolid],["Completed",'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-success-filled-darknavy-solid">\n<circle fill="#384350" cx="8" cy="8" r="7"></circle>\n<polygon fill="#FFFFFF" points="6.5,9.5 5,8 3.9,9.1 6.5,11.6 12.1,6.1 11,5 "></polygon>\n</svg>'],["Paused",small_namespaceObject.agSampleStatusIndicatorPauseSolid],["Error",agSampleStatusIndicatorErrorFilledRedSolid],["Warning",agSampleStatusIndicatorWarningFilledYellowSolid],["Unknown",'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-help-solid">\n<circle fill="#FFFFFF" cx="8" cy="8" r="7"></circle>\n<g>\n\t<path fill="#384350" d="M8,3.6c-1.6,0-2.9,1.3-2.9,2.9h1.8l0,0c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1c0,0.5-0.3,0.8-0.9,1.2\n\t\ts-1.1,1-1.1,1.8l0,0V10h1.8V9.5C9,9.4,9.2,9.2,9.3,9.1c0.9-0.6,1.5-1.5,1.5-2.6C10.9,4.9,9.6,3.6,8,3.6z M7.1,11h1.7v1.7H7.1V11z"></path>\n\t<path fill="#384350" d="M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M8,14c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6\n\t\tS11.3,14,8,14z"></path>\n</g>\n</svg>'],["Skipped",agSampleStatusIndicatorSkippedSolid]])}getInterleaveOffset(interleave,rowSpacing){switch(interleave){case VialGridInterleaveType.Down:return rowSpacing/2;case VialGridInterleaveType.Up:return-rowSpacing/2;default:return 0}}getLetterFromIndex(index){let dividend=index+1,name="",modulo=0;for(;dividend>=1;)modulo=(dividend-1)%26,name=String.fromCharCode(65+modulo)+name,dividend=(dividend-modulo)/26;return name}indexToLabel(index,numbering){switch(numbering){case NumberingType.Numbers:return`${index+1}`;case NumberingType.Letters:return this.getLetterFromIndex(index);default:return null}}loadIcons(){var _this=this;return(0,asyncToGenerator.Z)((function*(){const sampleStatusList=[];var _iteratorError,_iteratorAbruptCompletion=!1,_didIteratorError=!1;try{for(var _step,_iterator=function _asyncIterator(iterable){var method,async,sync,retry=2;for("undefined"!=typeof Symbol&&(async=Symbol.asyncIterator,sync=Symbol.iterator);retry--;){if(async&&null!=(method=iterable[async]))return method.call(iterable);if(sync&&null!=(method=iterable[sync]))return new AsyncFromSyncIterator(method.call(iterable));async="@@asyncIterator",sync="@@iterator"}throw new TypeError("Object is not async iterable")}(_this.iconSvgDictionary);_iteratorAbruptCompletion=!(_step=yield _iterator.next()).done;_iteratorAbruptCompletion=!1){const[key,value]=_step.value;{const image=yield _this.statusToSVG(key,value);sampleStatusList.push({name:key,svg:image})}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorAbruptCompletion&&null!=_iterator.return&&(yield _iterator.return())}finally{if(_didIteratorError)throw _iteratorError}}return sampleStatusList}))()}statusToSVG(key,value){return(0,asyncToGenerator.Z)((function*(){const document=(new DOMParser).parseFromString(value,"image/svg+xml");"Warning"!==key&&"Error"!==key&&(document.documentElement.style.fill=ColorUtils.AGILENT_NAVY_DARK_COLOR);const svgFormat="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(document.documentElement.outerHTML);return new Promise((resolve=>{const img=new Image;img.onload=()=>resolve(img),img.src=svgFormat}))}))()}};class SampleStatusList{constructor(){this._sampleStatusList=new Array}addSampleStatus(sampleStatus){if(this.findSampleStatus(sampleStatus.name))throw new Error("Sample Status already exists");this._sampleStatusList.push(sampleStatus)}removeSampleStatus(sampleStatus){this._sampleStatusList.splice(this._sampleStatusList.indexOf(sampleStatus),1)}getSampleStatus(){return this._sampleStatusList}findSampleStatus(name){return this._sampleStatusList.find((element=>element.name===name))}addAllSampleStatus(sampleStatusList){this._sampleStatusList=sampleStatusList}updateSampleStatus(name,svg){var _this=this;return(0,asyncToGenerator.Z)((function*(){if(name){const image=yield convertTool.statusToSVG(name,svg),existingSampleStatus=_this.findSampleStatus(name);existingSampleStatus?existingSampleStatus.svg=image:_this.addSampleStatus({name,svg:image})}}))()}}class SampleContainer{constructor(){this.colorPalette=new ColorPalette,this.labelsList=[],this.decorationsList=[],this.outline=[],this.ratioDefault=1,this.initX=0,this.initY=0,this.xmlStyle=!1,this.sampleTypes=new SampleTypes,this.sampleStatusList=new SampleStatusList,this.selectionController=new SelectionController,this.zoomController=new ZoomController,this.vialItems=[],this.startOffset=0,this.defaultSampleTextSize=100,this.rotation=0,this._width=0,this._height=0,this.transformMatrix=new DOMMatrix}get globalRatio(){return this.ratioDefault+this.zoomController.zoomRatio}get vialsList(){const list=[];return this.vialItems.forEach((vialItem=>list.push(...vialItem.vialsList))),list}get width(){return this._width}set width(_width){_width>0&&(this._width=_width)}get height(){return this._height}set height(_height){_height>0&&(this._height=_height)}init(dispatchXML,awfSlydini){this.dispatchXML=dispatchXML,this.xmlStyle=awfSlydini.xmlStyle,this.selectionController.selectionMode=awfSlydini.selectionMode,this.selectionController.selectionOrder=awfSlydini.selectionOrder,this.startOffset=awfSlydini.startOffset??0,this.rotation=awfSlydini.containerRotation??0;const outlineStyle=this.setOutlineStyle(dispatchXML);if(dispatchXML.sampleContainerShape)switch(dispatchXML.sampleContainerShape){case"RECTANGLE":this.outline.push(new RectangleItem(outlineStyle,dispatchXML.sampleContainerInitX,dispatchXML.sampleContainerInitY,dispatchXML.sampleContainerWidth,dispatchXML.sampleContainerHeight));break;case"ARC":null!=dispatchXML.sampleContainerStartAngle&&null!=dispatchXML.sampleContainerSweepAngle&&this.outline.push(new ArcItem(outlineStyle,new Angle(dispatchXML.sampleContainerStartAngle,dispatchXML.sampleContainerSweepAngle),dispatchXML.sampleContainerCX,dispatchXML.sampleContainerCY,dispatchXML.sampleContainerRX,dispatchXML.sampleContainerRY));break;case"POLYGON":this.outline.push(new PolygonItem(outlineStyle,dispatchXML.sampleContainerPoints));break;case"ELLIPSE":this.outline.push(new EllipseItem(outlineStyle,dispatchXML.sampleContainerCX,dispatchXML.sampleContainerCY,dispatchXML.sampleContainerRX,dispatchXML.sampleContainerRY));break;default:throw new Error("Outline form not recognized")}}setOutlineStyle(dispatchXML){let outlineStyle=this.colorPalette.defaultOutlineStyle;return this.xmlStyle&&(outlineStyle=this.colorPalette.customOutlineStyle(dispatchXML.sampleContainerFillColor||this.colorPalette.colorPaletteMap.get(ColorPalette.OUTLINE_FILL_COLOR),dispatchXML.sampleContainerStrokeColor||this.colorPalette.colorPaletteMap.get(ColorPalette.OUTLINE_STROKE_COLOR))),outlineStyle.strokeWidth=dispatchXML.sampleContainerStrokeWidth||this.colorPalette.defaultOutlineStyle.strokeWidth,outlineStyle}}var SlydiniEvent,ZoomAction;!function(SlydiniEvent){SlydiniEvent.STARTDRAGVIALS="slydini:startdragvials",SlydiniEvent.DRAGVIALS="slydini:dragvials",SlydiniEvent.DROPVIALS="slydini:dropvials",SlydiniEvent.RIGHTCLICKVIAL="slydini:rightclickvial",SlydiniEvent.RIGHTCLICKSELECTION="slydini:rightclickselection",SlydiniEvent.RIGHTCLICKCONTAINER="slydini:rightclickcontainer",SlydiniEvent.MOUSEENTERVIAL="slydini:mouseentervial",SlydiniEvent.MOUSELEAVEVIAL="slydini:mouseleavevial",SlydiniEvent.MOUSEOVERVIAL="slydini:mouseovervial",SlydiniEvent.EXTERNALDROPVIALS="slydini:externaldropvials",SlydiniEvent.SAMPLESTATUSVISBILITYCHANGED="slydini:samplestatusvisibilitychanged"}(SlydiniEvent||(SlydiniEvent={})),function(ZoomAction){ZoomAction.ZoomIn="ZoomIn",ZoomAction.ZoomOut="ZoomOut",ZoomAction.None="None"}(ZoomAction||(ZoomAction={}));class SlydiniEventController{constructor(){this.isMacOs=navigator.userAgent.includes("Mac"),this.dataFormat="text/vials",this.zoomAction=ZoomAction.None,this.isCtrlKeyDown=!1,this.isShiftKeyDown=!1,this.eventCache=[]}initEventListener(awfSlydini,canvasTag){awfSlydini.addEventListener("contextmenu",(event=>{event.preventDefault()})),this.initKeyEventListener(awfSlydini),this.initMoveIconEventListener(awfSlydini),this.initExitMultiselectChipEventListener(awfSlydini),this.initZoomEventListener(awfSlydini),this.initCanvasEventListener(awfSlydini,canvasTag)}initZoomEventListener(awfSlydini){awfSlydini.removeEventListener("DOMMouseScroll",awfSlydini.handleScroll),awfSlydini.removeEventListener("mousewheel",awfSlydini.handleScroll),awfSlydini.zoom&&(awfSlydini.addEventListener("DOMMouseScroll",awfSlydini.handleScroll),awfSlydini.addEventListener("mousewheel",awfSlydini.handleScroll))}isUserGrabbingOrMultiSelecting(){return"grabbing"===document.body.style.cursor||this.isCtrlKeyDown||this.isShiftKeyDown}removeEvent(event){const index=this.eventCache.findIndex((cachedEv=>cachedEv.pointerId===event.pointerId));this.eventCache.splice(index,1)}initCanvasEventListener(awfSlydini,canvasTag){canvasTag.addEventListener("dragleave",(event=>{event.dataTransfer?.types.includes(this.dataFormat)&&(awfSlydini.isExternalDrag?(awfSlydini.isExternalDrag=!1,awfSlydini.isDraggingVials=!1):awfSlydini.isDragLeavingCanvas=!0)})),canvasTag.addEventListener("dragenter",(event=>{event.dataTransfer?.types.includes(this.dataFormat)&&(awfSlydini.isDragLeavingCanvas?awfSlydini.isDragLeavingCanvas=!1:awfSlydini.isDraggingVials||(event.dataTransfer.dropEffect="move",awfSlydini.isExternalDrag=!0,awfSlydini.isDraggingVials=!0))})),canvasTag.addEventListener("dragover",(event=>{event.dataTransfer?.types.includes(this.dataFormat)&&(awfSlydini.handleMouseOver(event,!1),event.preventDefault(),event.dataTransfer.dropEffect="move",awfSlydini.isExternalDrag||awfSlydini.handleMoveSelectedVials(event))})),canvasTag.addEventListener("drop",(event=>{event.dataTransfer?.types.includes(this.dataFormat)&&(awfSlydini.removeEventListener("mousemove",awfSlydini.handleMouseMove),awfSlydini.isExternalDrag?(awfSlydini.isExternalDrag=!1,awfSlydini.isDraggingVials=!1,awfSlydini.handleDropExternalVials(event),document.body.style.cursor="default"):awfSlydini.handleDropSelection())})),canvasTag.addEventListener("mousemove",(event=>{awfSlydini.handleMouseOver(event,!0)}))}setZoomAction(event){let zoomAction=ZoomAction.None;return"+"===event.key||"="===event.key||"add"===event.code.toLowerCase()||"equal"===event.code.toLowerCase()?zoomAction=ZoomAction.ZoomIn:"-"!==event.key&&"subtract"!==event.code.toLowerCase()||(zoomAction=ZoomAction.ZoomOut),zoomAction}initExitMultiselectChipEventListener(awfSlydini){awfSlydini.exitMultiselectChip.addEventListener("touchstart",(()=>{awfSlydini.removeEventListener("pointerup",awfSlydini.handleMouseUp)})),awfSlydini.exitMultiselectChip.addEventListener("touchend",awfSlydini.handleExitMultiselect.bind(awfSlydini))}initKeyEventListener(awfSlydini){document.addEventListener("keyup",(event=>{("Control"===event.key||this.isMacOs&&"Meta"===event.key)&&(this.isCtrlKeyDown=!1),"Shift"===event.key&&(this.isShiftKeyDown=!1)})),document.addEventListener("keydown",(event=>{this.ctrlKeyPressed(event),this.selectAll(event,awfSlydini),this.shiftKeyPressed(event),this.zoomAction=this.setZoomAction(event),this.zoomAction!==ZoomAction.None&&this.isCtrlKeyDown&&awfSlydini.zoom&&awfSlydini.handleScroll(event)}))}selectAll(event,awfSlydini){("a"===event.key||"A"===event.key)&&this.isCtrlKeyDown&&awfSlydini.vialSelection&&awfSlydini.handleSelectAllViaControlA()}ctrlKeyPressed(event){("Control"===event.key||this.isMacOs&&event.metaKey)&&(this.isCtrlKeyDown=!0)}shiftKeyPressed(event){"Shift"===event.key&&(this.isShiftKeyDown=!0)}initMoveIconEventListener(awfSlydini){awfSlydini.moveIcon.addEventListener("mouseover",(()=>{document.body.style.cursor="grab"})),awfSlydini.moveIcon.addEventListener("mouseout",(()=>{document.body.style.cursor="default"})),awfSlydini.moveIcon.addEventListener("mousedown",(()=>{document.body.style.cursor="grabbing"})),awfSlydini.moveIcon.addEventListener("mouseup",(()=>{document.body.style.cursor="grab"})),awfSlydini.moveIcon.addEventListener("dragstart",awfSlydini.handleDragStart.bind(awfSlydini)),awfSlydini.moveIcon.addEventListener("dragend",awfSlydini.handleDragEnd.bind(awfSlydini))}}class SpecificXmlValidator{constructor(xmlParsed){this.xmlParsed=xmlParsed}isXmlWithNoRenderingValid(){const areAllBlockDefinedUniquely=this.areAllNodeOfTypeUniquelyDefined("AddressingBlockId",!1),areReferenceDefined=this.areAllReferencedNodeByTagDefined("SampleContainer Addressing Block","Id","AddressingBlockId");return areAllBlockDefinedUniquely&&areReferenceDefined}areAllReferencedNodeByTagDefined(referencingNode,tagName,defNodeTagName){const refNodes=this.selectAllForAllCase(referencingNode),hasUnReferencedElement=Array.from(refNodes).some((x=>!this.isNodeReferenceDefinedInTagContent(this.getElementByTagNameContentForAllCase(x,tagName),defNodeTagName)));return 0===refNodes.length||!hasUnReferencedElement}getElementByTagNameContentForAllCase(e,tagName){return 0!==e.getElementsByTagName(tagName).length?e.getElementsByTagName(tagName)[0].textContent:e.getElementsByTagName(tagName.toLowerCase())[0].textContent}isNodeReferenceDefinedInTagContent(nodeId,definitionTag){const defTagNodes=this.selectAllForAllCase(definitionTag);return Array.from(defTagNodes).some((defTagNode=>defTagNode?.textContent===nodeId||defTagNode?.textContent===nodeId?.toLowerCase()))}areAllReferencedNodeByAttributeDefined(referencingNode,attributeName,definitionNodeTag,attributeNameInDefinitionNode){const refNodes=this.selectAllForAllCase(referencingNode),hasUnReferencedElement=Array.from(refNodes).some((x=>!this.isNodeReferenceDefinedInAttribute(this.getAttributeForAllCase(x,attributeName),definitionNodeTag,attributeNameInDefinitionNode)));return 0===refNodes.length||!hasUnReferencedElement}isNodeReferenceDefinedInAttribute(nodeId,tagName,attributeName){const tagNodes=this.selectAllForAllCase(tagName);return Array.from(tagNodes).some((defTagNode=>this.getAttributeForAllCase(defTagNode,attributeName)===nodeId||this.getAttributeForAllCase(defTagNode,attributeName)===nodeId?.toLowerCase()))}isXmlValidRegardingShapeDefinition(){const areValidVialGrid=this.areAllReferencedNodeByAttributeDefined("Container Vials VialGrid","shape","VialShape","id"),areValidVialRing=this.areAllReferencedNodeByAttributeDefined("Container Vials VialRing","shape","VialShape","id"),areValidVials=this.areAllReferencedNodeByAttributeDefined("Container Vials Vial","shape","VialShape","id");return areValidVialGrid&&areValidVialRing&&areValidVials}isXmlValidRegardingDefinitionUnicity(){const areVialShapeUnique=this.areAllNodeOfTypeUniquelyDefined("Container Vials VialShape"),areVialUnique=this.areAllNodeOfTypeUniquelyDefined("Container Vials Vial"),areLabelUnique=this.areAllNodeOfTypeUniquelyDefined("Container Labels Label"),areDecorationUnique=this.areAllNodeOfTypeUniquelyDefined("Container Decorations Decoration"),areOutlineUnique=this.areAllNodeOfTypeUniquelyDefined("Container Outlines Outline");return areVialShapeUnique&&areVialUnique&&areLabelUnique&&areDecorationUnique&&areOutlineUnique}areAllNodeOfTypeUniquelyDefined(typeOfNode,byIdAttribute=!0){const nodesOfType=this.selectAllForAllCase(typeOfNode),uniqueNodeIds=[];let numberOfDefinedNodeId=0;return nodesOfType.forEach((node=>{const id=byIdAttribute?node.getAttribute("id"):node.textContent;null!==id&&(numberOfDefinedNodeId++,uniqueNodeIds.find((uId=>uId===id))||uniqueNodeIds.push(id))})),uniqueNodeIds.length===numberOfDefinedNodeId}selectAllForAllCase(typeOfNode){return 0!==this.xmlParsed.selectAll(typeOfNode).length?this.xmlParsed.selectAll(typeOfNode):this.xmlParsed.selectAll(typeOfNode.toLowerCase())}isXmlValidRegardingColorDefinition(){const allXmlColors=this.getInterestingAttributes(["Ellipse","Rectangle","Polygon","Label","Decoration"],["fillColor","strokeColor","outsideFillColor"]),hasInvalidColor=allXmlColors.some((x=>!isColor(x)));return 0===allXmlColors.length||!hasInvalidColor}getAttributeForAllCase(node,attributeName){return null!==node.getAttribute(attributeName)?node.getAttribute(attributeName):node.getAttribute(attributeName.toLowerCase())}isXmlValidRegardingGridRingOffsets(){const vialGridNodes=this.xmlParsed.selectAll("Container Vials VialGrid"),vialRingNodes=this.xmlParsed.selectAll("Container Vials VialRing");return Array.from(vialGridNodes).concat(Array.from(vialRingNodes)).filter((vialGridOrRing=>{const rowOffAtt=this.getAttributeForAllCase(vialGridOrRing,"rowOffset"),colOffAtt=this.getAttributeForAllCase(vialGridOrRing,"columnOffset");return!(null!==rowOffAtt&&"0"!==rowOffAtt||null!==colOffAtt&&"0"!==colOffAtt)})).length<=1}isXMLValidRegardingSpecifiedFont(){const allXmlFonts=this.getInterestingAttributes(["Label","Text"],["fontFamily"]),hasInvalidFont=allXmlFonts.some((x=>!this.isFontValid(x)));return 0===allXmlFonts.length||!hasInvalidFont}isFontValid(fontName){try{const temp=(new Option).style;return temp.fontFamily=fontName,temp.fontFamily===fontName}catch(error){return!0}}getInterestingAttributes(nodeOfInterest,attributeNames){let interestingAttributes=[];return nodeOfInterest.map((nodeType=>this.selectAllForAllCase(nodeType))).forEach((nodeList=>nodeList.forEach((node=>{interestingAttributes=interestingAttributes.concat(attributeNames.map((attribute=>this.getAttributeForAllCase(node,attribute))).filter((att=>null!==att)))})))),interestingAttributes}isXmlWithRenderingValid(){const areAllIdentifierUnique=this.isXmlValidRegardingDefinitionUnicity(),vialShapeDefinedValid=this.isXmlValidRegardingShapeDefinition(),vialGridOffsetsAreValid=this.isXmlValidRegardingGridRingOffsets(),areFontValid=this.isXMLValidRegardingSpecifiedFont();return this.isXmlValidRegardingColorDefinition()&&vialShapeDefinedValid&&areAllIdentifierUnique&&vialGridOffsetsAreValid&&areFontValid}}class DispatchXML{constructor(xmlParsed){this.displayName=xmlParsed?.displayName||null,this.identifier=xmlParsed?.identifier||null,this.sampleContainerInitX=xmlParsed.readNumberAttribut("Outlines Rectangle","x",0),this.sampleContainerInitY=xmlParsed.readNumberAttribut("Outlines Rectangle","y",0),this.sampleContainerWidth=xmlParsed.readNumberAttribut("Container Outlines Outline Rectangle","width",1),this.sampleContainerHeight=xmlParsed.readNumberAttribut("Container Outlines Outline Rectangle","height",1),this.sampleContainerCX=xmlParsed.readNumberAttribut("Outlines Arc","cx",xmlParsed.readNumberAttribut("Outlines ELLIPSE","cx")),this.sampleContainerCY=xmlParsed.readNumberAttribut("Outlines Arc","cy",xmlParsed.readNumberAttribut("Outlines ELLIPSE","cy")),this.sampleContainerRX=xmlParsed.readNumberAttribut("Outlines Arc","rx",xmlParsed.readNumberAttribut("Outlines ELLIPSE","rx")),this.sampleContainerRY=xmlParsed.readNumberAttribut("Outlines Arc","ry",xmlParsed.readNumberAttribut("Outlines ELLIPSE","ry")),this.sampleContainerStartAngle=xmlParsed.readNumberAttribut("Outlines Arc","startAngle",0),this.sampleContainerSweepAngle=xmlParsed.readNumberAttribut("Outlines Arc","sweepAngle",0),this.sampleContainerShape=xmlParsed.readTagName("Container Outlines Outline Rectangle",xmlParsed.readTagName("Container Outlines Outline Polygon",xmlParsed.readTagName("Container Outlines Outline Arc",xmlParsed.readTagName("Container Outlines Outline Ellipse",xmlParsed.readTagName("Container Outlines Outline Line"))))),this.sampleContainerFillColor=xmlParsed.readTextAttribut("Container Outlines Outline","fillColor"),this.sampleContainerStrokeColor=xmlParsed.readTextAttribut("Container Outlines Outline","strokeColor"),this.sampleContainerStrokeWidth=xmlParsed.readNumberAttribut("Container Outlines Outline","strokeWidth"),this.sampleContainerPoints=xmlParsed.readTextAttribut("Container Outlines Outline Polygon","points",""),this.sampleContainerDecorationsNode=xmlParsed.readNodeChildren("Decorations","Decoration"),this.vialShapeNodes=xmlParsed.selectAll("Container Vials VialShape"),this.freeVialNodes=xmlParsed.selectAll("Container Vials Vial"),this.vialGridNodes=xmlParsed.selectAll("Container Vials VialGrid"),this.vialRingNodes=xmlParsed.selectAll("Container Vials VialRings"),this.labelNodes=xmlParsed.selectAll("Container Labels Label")}}class XMLParsed{constructor(nodeXML){this.nodeXML=nodeXML,this.readNumberAttribut=(nodePath,attribut,fallBack)=>{const numberAttribut=Number(this.select(nodePath)?.getAttribute(attribut));return numberAttribut||fallBack},this.readTextAttribut=(nodePath,attribut,fallBack)=>{const textAttribut=this.select(nodePath)?.getAttribute(attribut);return textAttribut||fallBack},this.readTextContent=(nodePath,fallBack)=>{const textContent=this.select(nodePath)?.textContent;return textContent||fallBack},this.readTagName=(nodePath,fallBack)=>{const tagName=this.select(nodePath)?.tagName;return tagName||fallBack},this.readNodeChildren=(nodePath,childNode,fallBack)=>{const nodeChildren=this.select(nodePath)?.querySelectorAll(childNode);return nodeChildren||fallBack}}get displayName(){return this.nodeXML.querySelector("Common DisplayName")?.textContent}get identifier(){return this.nodeXML.querySelector("Common Identifier")?.textContent}selectAll(nodeName){return this.nodeXML.querySelectorAll(nodeName)}select(nodeName){return this.nodeXML.querySelector(nodeName)}isCurrentFileWithoutRendering(){return this.select("Geometry")&&(!this.select("Rendering")||void 0===this.select("Rendering")?.childNodes||0===this.select("Rendering")?.childElementCount)}}function parseXML(nodeXML){return new XMLParsed(nodeXML)}class XMLConverter{constructor(xmlParsed){this.xmlParsed=xmlParsed,this._fontSizeDefault=4,this._labelHorizontalAlignment="center",this._xSize=parseFloat(this.xmlParsed.readTextContent("Geometry XSize")),this._ySize=parseFloat(this.xmlParsed.readTextContent("Geometry YSize")),this._addressingBlocks=[],this._units=[];this.xmlParsed.selectAll("SampleContainer Addressing Block").forEach((element=>this.initAddressingBlock(element)));this.xmlParsed.selectAll("SampleContainer Geometry CartesianContainer Units").forEach((element=>this.initUnit(element)))}initAddressingBlock(element){const addressingBlock={identifier:element.getElementsByTagName("Id")[0].textContent,numLocations:parseInt(element.getElementsByTagName("NumLocations")[0].textContent),isLinear:element.getElementsByTagName("Linear").length>0,origin:element.getElementsByTagName("Origin11")[0].textContent};addressingBlock.isLinear?(addressingBlock.start=parseInt(element.getElementsByTagName("Start")[0].textContent),addressingBlock.distributionPattern=element.getElementsByTagName("DistributionPattern")[0].textContent):(addressingBlock.columnStart=parseInt(element.getElementsByTagName("ColumnStart")[0].textContent),addressingBlock.rowStart=parseInt(element.getElementsByTagName("RowStart")[0].textContent)),this._addressingBlocks.push(addressingBlock)}initUnit(element){const unit={identifier:element.getElementsByTagName("Identifier")[0].textContent,rowOffset:parseFloat(element.getElementsByTagName("RowOffset")[0].textContent),colOffset:parseFloat(element.getElementsByTagName("ColumnOffset")[0].textContent),rowDistance:parseFloat(element.getElementsByTagName("RowDistance")[0].textContent),colDistance:parseFloat(element.getElementsByTagName("ColumnDistance")[0].textContent),colShift:parseFloat(element.getElementsByTagName("ColumnShift")[0].textContent),numRows:parseInt(element.getElementsByTagName("NumRows")[0].textContent),numCols:parseInt(element.getElementsByTagName("NumCols")[0].textContent),xWellDiameter:parseFloat(element.getElementsByTagName("XWellDiameter")[0].textContent),yWellDiameter:parseFloat(element.getElementsByTagName("YWellDiameter")[0].textContent),wellBottomSizeFactor:parseFloat(element.getElementsByTagName("WellBottomSizeFactor")[0].textContent),wellIsSquare:"true"===element.getElementsByTagName("WellIsSquare")[0].textContent.toLowerCase(),wellHeight:parseFloat(element.getElementsByTagName("WellHeight")[0].textContent),wellDepth:parseFloat(element.getElementsByTagName("WellDepth")[0].textContent),wellVolume:parseFloat(element.getElementsByTagName("WellVolume")[0].textContent),isSealed:"true"===element.getElementsByTagName("IsSealed")[0].textContent.toLowerCase(),addressingBlockId:element.getElementsByTagName("AddressingBlockId")[0].textContent,addressingBlock:{identifier:"",numLocations:0,isLinear:!1,origin:""},firstVialCoordinates:{x:0,y:0,xIncrementation:0,yIncrementation:0,firstVialPosition:""}};unit.addressingBlock=this._addressingBlocks.find((a=>a.identifier===unit.identifier)),this.getFirstVialPosition(unit),this._units.push(unit)}getXMLWithRendering(){const vialsNode=this.xmlVialsBuilder(),outlineNode=this.xmlOutlinesBuilder(),labelsNode=this.xmlLabelsBuilder();return this.xmlFullBuilder(vialsNode,outlineNode,labelsNode)}xmlLabelsBuilder(){const labelsNode=document.createElement("labels");for(let i=0;i<this._units.length;i++)this._units[i].addressingBlock.isLinear?this.xmlLinearLabelsBuilder(labelsNode,this._units[i],i):this.xmlGridLabelsBuilder(labelsNode,this._units[i],i);return labelsNode}intToChar(int){const code="A".charCodeAt(0);return String.fromCharCode(code+int)}xmlVialsBuilder(){const vialsNode=document.createElement("vials");for(let i=0;i<this._units.length;i++){const unit=this._units[i],vialShapeNode=document.createElement("vialShape"),vialGridNode=document.createElement("vialGrid"),drawingNode=document.createElement("drawing");vialGridNode.setAttribute("firstVialPosition",unit.firstVialCoordinates.firstVialPosition),vialGridNode.setAttribute("rows",unit.numRows.toString()),vialGridNode.setAttribute("columns",unit.numCols.toString()),vialGridNode.setAttribute("rowSpacing",unit.rowDistance.toString()),vialGridNode.setAttribute("columnSpacing",unit.colDistance.toString()),vialGridNode.setAttribute("interleave",this.getInterleaveType(unit.colShift).toString()),this.vialGridNodeBuilder(vialGridNode,unit,i);const vialShapeNodeId=`VialShape${i}`;if(vialShapeNode.setAttribute("id",vialShapeNodeId),vialGridNode.setAttribute("shape",vialShapeNodeId),unit.wellIsSquare){const rectangleNode=document.createElement("rectangle"),x=-unit.xWellDiameter/2,y=-unit.yWellDiameter/2;rectangleNode.setAttribute("strokeColor","rgb(125,130,151)"),rectangleNode.setAttribute("fillColor","rgb(41,51,71)"),rectangleNode.setAttribute("x",x.toString()),rectangleNode.setAttribute("y",y.toString()),rectangleNode.setAttribute("width",unit.xWellDiameter.toString()),rectangleNode.setAttribute("height",unit.yWellDiameter.toString()),drawingNode.appendChild(rectangleNode)}else{const ellipseNode=document.createElement("ellipse");ellipseNode.setAttribute("strokeColor","rgb(125,130,151)"),ellipseNode.setAttribute("fillColor","rgb(41,51,71)"),ellipseNode.setAttribute("cx","0"),ellipseNode.setAttribute("cy","0"),ellipseNode.setAttribute("rx",(unit.xWellDiameter/2).toString()),ellipseNode.setAttribute("ry",(unit.yWellDiameter/2).toString()),drawingNode.appendChild(ellipseNode)}vialShapeNode.appendChild(drawingNode),vialsNode.appendChild(vialShapeNode),vialsNode.appendChild(vialGridNode)}return vialsNode}getInterleaveType(colShift){return colShift>0?VialGridInterleaveType.Down:colShift<0?VialGridInterleaveType.Up:VialGridInterleaveType.None}vialGridNodeBuilder(vialGridNode,unit,index){const topLeftVialCoordinateNode=document.createElement("topLeftVialCoordinate");if(topLeftVialCoordinateNode.setAttribute("x",unit.colOffset.toString()),topLeftVialCoordinateNode.setAttribute("y",unit.rowOffset.toString()),vialGridNode.appendChild(topLeftVialCoordinateNode),unit.addressingBlock.isLinear){const consecutiveNumbering=document.createElement("consecutiveNumbering");this.setNumberingAndDirection(vialGridNode,consecutiveNumbering,unit.addressingBlock.distributionPattern??"row_linear",index),void 0!==unit.addressingBlock.start&&unit.addressingBlock.start>1&&consecutiveNumbering.setAttribute("firstVialNumber",unit.addressingBlock.start.toString()),vialGridNode.appendChild(consecutiveNumbering)}else{const firstColumnIndex=unit.addressingBlock.columnStart?(unit.addressingBlock.columnStart-1).toString():"0",firstRowIndex=unit.addressingBlock.rowStart?(unit.addressingBlock.rowStart-1).toString():"0",gridNumberingNode=document.createElement("gridNumbering");gridNumberingNode.setAttribute("rowNumbering","letters"),gridNumberingNode.setAttribute("columnNumbering","numbers"),gridNumberingNode.setAttribute("firstColumnIndex",firstColumnIndex),gridNumberingNode.setAttribute("firstRowIndex",firstRowIndex),vialGridNode.setAttribute("direction","horizontal"),vialGridNode.setAttribute("columnOffset",firstColumnIndex),vialGridNode.setAttribute("rowOffset",firstRowIndex),vialGridNode.appendChild(gridNumberingNode)}}setNumberingAndDirection(vialGridNode,consecutiveNumbering,distributionPattern,index){switch(distributionPattern){case"col_linear":consecutiveNumbering.setAttribute("numbering","linear"),vialGridNode.setAttribute("direction","vertical"),vialGridNode.setAttribute("columnOffset",this.getColumnOffset(index).toString());break;case"col_serpentine":consecutiveNumbering.setAttribute("numbering","serpentine"),vialGridNode.setAttribute("direction","vertical"),vialGridNode.setAttribute("columnOffset",this.getColumnOffset(index).toString());break;case"row_linear":consecutiveNumbering.setAttribute("numbering","linear"),vialGridNode.setAttribute("direction","horizontal"),vialGridNode.setAttribute("rowOffset",this.getRowOffset(index).toString());break;default:consecutiveNumbering.setAttribute("numbering","serpentine"),vialGridNode.setAttribute("direction","horizontal"),vialGridNode.setAttribute("rowOffset",this.getRowOffset(index).toString())}}getColumnOffset(gridIndex){let offset=0;for(let i=0;i<gridIndex;i++)offset+=this._units[i].numCols;return offset}getRowOffset(gridIndex){let offset=0;for(let i=0;i<gridIndex;i++)offset+=this._units[i].numRows;return offset}xmlOutlinesBuilder(){const outlinesNode=document.createElement("outlines"),outlineNode=document.createElement("outline");outlineNode.setAttribute("strokeColor","black"),outlineNode.setAttribute("fillColor","rgb(73,82,104)");const rectangleNode=document.createElement("rectangle");return rectangleNode.setAttribute("x","0"),rectangleNode.setAttribute("y","0"),rectangleNode.setAttribute("width",this._xSize.toString()),rectangleNode.setAttribute("height",this._ySize.toString()),outlineNode.appendChild(rectangleNode),outlinesNode.appendChild(outlineNode),outlinesNode}getMinsize(shapeHalfWidth,shapeHalfHeight,isSquare){let minSize;return minSize=isSquare?Math.min(4,Math.min(shapeHalfHeight,shapeHalfWidth)):Math.min(4,Math.min(2*shapeHalfHeight/3,2*shapeHalfWidth/3)),this._fontSizeDefault=minSize,minSize}getFirstVialPosition(unit){switch(unit.addressingBlock.origin.toLowerCase()){case"leftupperedge":unit.firstVialCoordinates.x=unit.colOffset,unit.firstVialCoordinates.y=unit.rowOffset,unit.firstVialCoordinates.xIncrementation=unit.colDistance,unit.firstVialCoordinates.yIncrementation=unit.rowDistance,unit.firstVialCoordinates.firstVialPosition="topLeft";break;case"rightupperedge":unit.firstVialCoordinates.x=unit.colOffset+(unit.numCols-1)*unit.colDistance,unit.firstVialCoordinates.y=unit.rowOffset,unit.firstVialCoordinates.xIncrementation=-unit.colDistance,unit.firstVialCoordinates.yIncrementation=unit.rowDistance,unit.firstVialCoordinates.firstVialPosition="topRight";break;case"leftloweredge":unit.firstVialCoordinates.x=unit.colOffset,unit.firstVialCoordinates.y=unit.rowOffset+(unit.numRows-1)*unit.rowDistance,unit.firstVialCoordinates.xIncrementation=unit.colDistance,unit.firstVialCoordinates.yIncrementation=-unit.rowDistance,unit.firstVialCoordinates.firstVialPosition="bottomLeft";break;case"rightloweredge":unit.firstVialCoordinates.x=unit.colOffset+(unit.numCols-1)*unit.colDistance,unit.firstVialCoordinates.y=unit.rowOffset+(unit.numRows-1)*unit.rowDistance,unit.firstVialCoordinates.xIncrementation=-unit.colDistance,unit.firstVialCoordinates.yIncrementation=-unit.rowDistance,unit.firstVialCoordinates.firstVialPosition="bottomRight"}}setDefaultLabelNode(labelNode,fontHeight){labelNode.setAttribute("fontFamily","arial"),labelNode.setAttribute("fontHeight",fontHeight),labelNode.setAttribute("hAlignment",this._labelHorizontalAlignment),labelNode.setAttribute("vAlignment","center"),labelNode.setAttribute("fillColor","rgb(171,177,195)")}labelBuilder(id,enumerator,linearType,unit){const label=document.createElement("Text"),shapeHalfWidth=unit.xWellDiameter/2,shapeHalfHeight=unit.yWellDiameter/2,minSize=this.getMinsize(shapeHalfWidth,shapeHalfHeight,unit.wellIsSquare),xIncrementationSign=Math.sign(unit.firstVialCoordinates.xIncrementation),yIncrementationSign=Math.sign(unit.firstVialCoordinates.yIncrementation),position={x:0,y:0},columnStart=unit.addressingBlock.columnStart??1,start=unit.addressingBlock.start??1;if("horizontallabels"===id){this._labelHorizontalAlignment="center";const interleaveOffset=convertTool.getInterleaveOffset(this.getInterleaveType(unit.colShift),unit.rowDistance),yOffset=enumerator%2==1?interleaveOffset:0;position.x=this.calculateHorizontalLabelXPosition(unit,minSize,shapeHalfWidth,unit.firstVialCoordinates.xIncrementation,enumerator,yOffset),position.y=this.calculateHorizontalLabelYPosition(unit,minSize,shapeHalfHeight,yIncrementationSign,yOffset),label.innerText=this.getLabelText(enumerator,linearType,unit.numRows,columnStart,start)}else position.x=this.calculateVerticalLabelXPosition(unit,minSize,shapeHalfWidth,xIncrementationSign),position.y=this.calculateVerticalLabelYPosition(unit,minSize,shapeHalfHeight,unit.firstVialCoordinates.yIncrementation,enumerator),label.innerText="grid"===linearType?this.intToChar(enumerator):this.getLabelText(enumerator,linearType,unit.numCols,columnStart,start);return label.setAttribute("x",position.x.toString()),label.setAttribute("y",position.y.toString()),label}calculateHorizontalLabelYPosition(unit,minSize,shapeHalfHeight,incrementationSign,yOffset){const isLabelOnTop="topLeft"===unit.firstVialCoordinates.firstVialPosition||"topRight"===unit.firstVialCoordinates.firstVialPosition;return this.hasSpaceToDisplayHorizontalLabel(unit.firstVialCoordinates.y,minSize,shapeHalfHeight,isLabelOnTop,yOffset)?unit.firstVialCoordinates.y-(shapeHalfHeight+minSize)*incrementationSign+yOffset:unit.wellIsSquare?this.calculateYPositionForSquareWells(unit.firstVialCoordinates.y,shapeHalfHeight,incrementationSign,yOffset,isLabelOnTop):(this._fontSizeDefault=3,unit.firstVialCoordinates.y-.92*shapeHalfHeight*incrementationSign+yOffset)}calculateYPositionForSquareWells(firstVialYPosition,shapeHalfHeight,incrementationSign,yOffset,isLabelOnTop){return this._fontSizeDefault=isLabelOnTop?yOffset<0?firstVialYPosition+yOffset-shapeHalfHeight-1.5:firstVialYPosition-shapeHalfHeight-1.5:yOffset>0?this._ySize-firstVialYPosition-yOffset-shapeHalfHeight-1.5:this._ySize-firstVialYPosition-shapeHalfHeight-1.5,firstVialYPosition-(shapeHalfHeight+1.5)*incrementationSign+yOffset}calculateHorizontalLabelXPosition(unit,minSize,shapeHalfWidth,incrementation,enumerator,yOffset){const isLabelOnTop="topLeft"===unit.firstVialCoordinates.firstVialPosition||"topRight"===unit.firstVialCoordinates.firstVialPosition;return this.hasSpaceToDisplayHorizontalLabel(unit.firstVialCoordinates.y,minSize,shapeHalfWidth,isLabelOnTop,yOffset)||unit.wellIsSquare?(this._labelHorizontalAlignment="center",unit.firstVialCoordinates.x+incrementation*enumerator):(this._labelHorizontalAlignment="right",unit.firstVialCoordinates.x-.92*shapeHalfWidth+incrementation*enumerator)}calculateVerticalLabelXPosition(unit,minSize,shapeHalfWidth,incrementationSign){const isLabelOnLeftSide=this.isNumberingStartingLeft(unit.firstVialCoordinates.firstVialPosition);return this.hasSpaceToDisplayVerticalLabel(unit.firstVialCoordinates.x,minSize,shapeHalfWidth,isLabelOnLeftSide)?(this._labelHorizontalAlignment="center",unit.firstVialCoordinates.x-(shapeHalfWidth+minSize)*incrementationSign):(this._labelHorizontalAlignment=isLabelOnLeftSide?"right":"left",unit.wellIsSquare?(this._fontSizeDefault=isLabelOnLeftSide?unit.firstVialCoordinates.x-shapeHalfWidth-1.5:this._xSize-unit.firstVialCoordinates.x-shapeHalfWidth-1.5,unit.firstVialCoordinates.x-(shapeHalfWidth+.5)*incrementationSign):(this._fontSizeDefault=3,unit.firstVialCoordinates.x-.92*shapeHalfWidth*incrementationSign))}calculateVerticalLabelYPosition(unit,minSize,shapeHalfHeight,incrementation,enumerator){const isLabelOnLeftSide=this.isNumberingStartingLeft(unit.firstVialCoordinates.firstVialPosition);return this.hasSpaceToDisplayVerticalLabel(unit.firstVialCoordinates.x,minSize,shapeHalfHeight,isLabelOnLeftSide)||unit.wellIsSquare?unit.firstVialCoordinates.y+incrementation*enumerator:unit.firstVialCoordinates.y-.92*shapeHalfHeight+incrementation*enumerator}hasSpaceToDisplayVerticalLabel(firstVialXCoordinate,minSize,shapeHalfSize,isLabelOnLeft){return isLabelOnLeft?firstVialXCoordinate-shapeHalfSize>minSize+2:this._xSize-firstVialXCoordinate-shapeHalfSize>minSize+2}hasSpaceToDisplayHorizontalLabel(firstVialYCoordinate,minSize,shapeHalfSize,isLabelOnTop,yOffset){return isLabelOnTop?yOffset<0?firstVialYCoordinate-shapeHalfSize+yOffset>minSize+2:firstVialYCoordinate-shapeHalfSize>minSize+2:yOffset<0?this._ySize-firstVialYCoordinate-shapeHalfSize>minSize+2:this._ySize-firstVialYCoordinate-yOffset-shapeHalfSize>minSize+2}getLabelText(enumerator,linearType,vialCount,columnStart,start){return"grid"===linearType?(enumerator+columnStart).toString():"serpentine"===linearType&&enumerator%2==1?(vialCount*(enumerator+1)+start-1).toString():(enumerator*vialCount+start).toString()}xmlGridLabelsBuilder(labelsNode,unit,index){if(unit.numCols){const horizontalLabelsNode=document.createElement("label");horizontalLabelsNode.setAttribute("id",`HorizontalLabels${index}`),this.setDefaultLabelNode(horizontalLabelsNode,this._fontSizeDefault.toString());for(let i=0;i<unit.numCols;i++){const label=this.labelBuilder("horizontallabels",i,"grid",unit);horizontalLabelsNode.appendChild(label)}horizontalLabelsNode.setAttribute("fontHeight",this._fontSizeDefault.toString()),labelsNode.appendChild(horizontalLabelsNode)}if(unit.numRows){const verticalLabelsNode=document.createElement("label");verticalLabelsNode.setAttribute("id",`VerticalLabels${index}`),this.setDefaultLabelNode(verticalLabelsNode,this._fontSizeDefault.toString());for(let i=0;i<unit.numRows;i++){const label=this.labelBuilder("verticallabels",i,"grid",unit);verticalLabelsNode.appendChild(label)}verticalLabelsNode.setAttribute("fontHeight",this._fontSizeDefault.toString()),labelsNode.appendChild(verticalLabelsNode)}}xmlLinearLabelsBuilder(labelsNode,unit,index){const linearProperty=unit.addressingBlock.distributionPattern;let linearType=[];null!=linearProperty&&void 0!==linearProperty&&(linearType=linearProperty.split("_")),"col"===linearType[0]?this.buildHorizontalLinearLabelsNode(unit,linearType[1],labelsNode):this.buildVerticalLinearLabelsNode(unit,linearType[1],labelsNode)}buildHorizontalLinearLabelsNode(unit,linearType,labelsNode){const horizontalLabelsNode=document.createElement("label");this.setDefaultLabelNode(horizontalLabelsNode,this._fontSizeDefault.toString()),horizontalLabelsNode.setAttribute("id","HorizontalLabels");for(let i=0;i<unit.numCols;i++)horizontalLabelsNode.appendChild(this.labelBuilder("horizontallabels",i,linearType,unit));horizontalLabelsNode.setAttribute("fontHeight",this._fontSizeDefault.toString()),labelsNode.appendChild(horizontalLabelsNode)}buildVerticalLinearLabelsNode(unit,linearType,labelsNode){let isThreeDigitNumber=!1;const verticalLabelsNode=document.createElement("label");this.setDefaultLabelNode(verticalLabelsNode,this._fontSizeDefault.toString()),verticalLabelsNode.setAttribute("id","VerticalLabels");for(let i=0;i<unit.numRows;i++){const label=this.labelBuilder("verticallabels",i,linearType,unit);verticalLabelsNode.appendChild(label),label.innerText.length>=3&&!isThreeDigitNumber&&(isThreeDigitNumber=!0)}isThreeDigitNumber&&(this.isNumberingStartingLeft(unit.firstVialCoordinates.firstVialPosition)?this._labelHorizontalAlignment="end":this._labelHorizontalAlignment="start"),verticalLabelsNode.setAttribute("hAlignment",this._labelHorizontalAlignment),verticalLabelsNode.setAttribute("fontHeight",this._fontSizeDefault.toString()),labelsNode.appendChild(verticalLabelsNode)}isNumberingStartingLeft(firstVialPosition){return"topLeft"===firstVialPosition||"bottomLeft"===firstVialPosition}xmlFullBuilder(vialsNode,outlinesNode,labelsNode){const globalXML=document.createElement("xml"),sampleContainerNode=document.createElement("samplecontainer"),renderingNode=document.createElement("rendering"),xmlNode=document.createElement("xml"),containerNode=document.createElement("container"),commonNode=this.xmlParsed.select("common"),geometryNode=this.xmlParsed.select("geometry"),addressingNode=this.xmlParsed.select("addressing");return null!=commonNode&&sampleContainerNode.appendChild(commonNode),containerNode.appendChild(vialsNode),containerNode.appendChild(outlinesNode),containerNode.appendChild(labelsNode),xmlNode.appendChild(containerNode),renderingNode.appendChild(xmlNode),sampleContainerNode.appendChild(renderingNode),null!=geometryNode&&sampleContainerNode.appendChild(geometryNode),null!=addressingNode&&sampleContainerNode.appendChild(addressingNode),globalXML.appendChild(sampleContainerNode),globalXML}}const slydiniHelper=new class SlydiniHelper{isDragAndSelectVials(vialSelection,drag,isDraggingVials){return vialSelection&&drag&&isDraggingVials}calculateIconPosition(topRightVial){const iconPosition=new Point(0,0);if(topRightVial?.drawableItem){const ratio=topRightVial.drawableItem.ratio;topRightVial.drawableItem instanceof EllipseItem?(iconPosition.x=(topRightVial.xCoordinate+1.05*topRightVial.drawableItem.rX)*ratio,iconPosition.y=(topRightVial.yCoordinate-1.05*topRightVial.drawableItem.rY)*ratio):topRightVial.drawableItem instanceof RectangleItem&&(iconPosition.x=(topRightVial.xCoordinate+1.1*topRightVial.drawableItem.width)*ratio,iconPosition.y=(topRightVial.yCoordinate-.1*topRightVial.drawableItem.height)*ratio)}return iconPosition}getSelectionType(event,isMacOs){return event.ctrlKey||isMacOs&&event.metaKey?MultipleSelectionType.Multiple:event.shiftKey?MultipleSelectionType.MultipleContinuous:MultipleSelectionType.None}isDragging(event,mouseDownEvent,isTouch=!1){const diffX=Math.abs(event.clientX-mouseDownEvent.clientX),diffY=Math.abs(event.clientY-mouseDownEvent.clientY);return isTouch?!(diffX<15&&diffY<15):!(diffX<5&&diffY<5)}calculateContainerOffset(canvas,zoomOffset){return new Point(canvas.getBoundingClientRect().x-zoomOffset.x,canvas.getBoundingClientRect().y-zoomOffset.y)}createTransparentDragImage(canvas){canvas.width=1,canvas.height=1;const ctx=canvas.getContext("2d");ctx.fillStyle="rgba(0, 0, 0, 0)",ctx.fillRect(0,0,1,1);const dragImage=new Image(1,1);return dragImage.src=canvas.toDataURL(),dragImage}parseXmlCode(xmlParsed,modal,modalDialog){let fileCheckOK=!1;const xmlValidator=new SpecificXmlValidator(xmlParsed);if(xmlParsed.isCurrentFileWithoutRendering()){if(fileCheckOK=this.validFileCheck(xmlValidator.isXmlWithNoRenderingValid(),"Invalid no rendering xml file",modal,modalDialog),fileCheckOK){xmlParsed=parseXML(new XMLConverter(xmlParsed).getXMLWithRendering())}}else fileCheckOK=this.validFileCheck(xmlValidator.isXmlWithRenderingValid(),"Invalid xml file with rendering",modal,modalDialog);return fileCheckOK?new DispatchXML(xmlParsed):null}validFileCheck(isValidFile,invalidDialogHeader,modal,modalDialog){return isValidFile?(modal?.open&&modal.closeModal(),!0):(modalDialog.header=invalidDialogHeader,modal.openModal(),!1)}},SLYDINI_STYLES=lit.iv`
    body {
        touch-action: none;
    }

    #sample-container {
        position: relative;
        overflow: hidden;
    }

    canvas {
        width: 100%;
        touch-action: none;
        -webkit-user-select: none;
        position: static;
    }

    awf-icon.moveIcon {
        position: absolute;
    }

    h3.container-name {
        display: none;
        text-align: left;
        margin-block-start: 0;
        margin-block-end: 0;
        position: static;
    }

    h3 {
        font-size: 18px;
        font-weight: normal;
        color: var(--at-dark-navy);
    }

    awf-chip.exit-multiselect {
        position: absolute;
        visibility: hidden;
        --awf-chip-rest-background: white;
        top: 4px;
        left: 4px;
    }
`;class LineItem extends DrawableItem{get x1(){return this._x1}get y1(){return this._y1}get x2(){return this._x2}get y2(){return this._y2}get height(){return this._y2-this._y1}get width(){return this._x2-this._x1}constructor(style,x1,y1,x2,y2){super(style),this._x1=x1,this._y1=y1,this._x2=x2,this._y2=y2}draw(context,ratio,isWidthRelative=!0){this.ratio=ratio,context.beginPath(),null!=this.style.strokeColor&&void 0!==this.style.strokeColor&&(context.strokeStyle=this.style.strokeColor),null!=this.style.strokeWidth&&void 0!==this.style.strokeWidth&&(context.lineWidth=isWidthRelative?this.style.strokeWidth*this.ratio:this.style.strokeWidth),context.lineTo(this.x1*this.ratio,this.y1*this.ratio),context.lineTo(this.x2*this.ratio,this.y2*this.ratio),context.stroke(),context.closePath()}drawIcon(context,ratio,sampleStatus){if(sampleStatus.svg){const center=this.center();context.drawImage(sampleStatus.svg,center.x,center.y,16*ratio,16*ratio)}}canDrawIcon(ratio){return!0}setSize(sampleContainer){const minX=this.x1>this.x2?this.x2:this.x1,minY=this.y1>this.y2?this.y2:this.y1,maxX=this.x1>this.x2?this.x1:this.x2,maxY=this.y1>this.y2?this.y1:this.y2;sampleContainer.width=maxX+2,sampleContainer.height=maxY+2,sampleContainer.initX=minX+1*this.ratio,sampleContainer.initY=minY+1*this.ratio}contains(x,y,offsetX,offsetY){return!1}center(){return new Point((this.x1+this.x2)/2*this.ratio,(this.y1+this.y2)/2*this.ratio)}}class OrderingArrowItem{constructor(style,selectedVials){this._style=style;const beforeLastCenter=selectedVials[selectedVials.length-2].drawableItem.center(),lastCenter=selectedVials[selectedVials.length-1].drawableItem.center();this._x1=beforeLastCenter.x,this._y1=beforeLastCenter.y,this._x2=lastCenter.x,this._y2=lastCenter.y,this._arrowLines=this.getArrowLines(selectedVials)}draw(context){this._arrowLines.forEach((line=>{line.draw(context,1,!1)}));const angle=Math.atan2(this._y2-this._y1,this._x2-this._x1);context.beginPath(),context.strokeStyle=this._style.strokeColor,context.lineWidth=this._style.strokeWidth,context.lineTo(this._x2-10*Math.cos(angle+Math.PI/7),this._y2-10*Math.sin(angle+Math.PI/7)),context.lineTo(this._x2,this._y2),context.lineTo(this._x2-10*Math.cos(angle-Math.PI/7),this._y2-10*Math.sin(angle-Math.PI/7)),context.stroke(),context.closePath()}getArrowLines(selectedVials){const orderingArrowLines=[];for(let index=0;index<selectedVials.length;index++)if(index!==selectedVials.length-1){const centerVial1=selectedVials[index].drawableItem.center(),centerVial2=selectedVials[index+1].drawableItem.center();orderingArrowLines.push(new LineItem(this._style,centerVial1.x,centerVial1.y,centerVial2.x,centerVial2.y))}return orderingArrowLines}}class Label{get x(){return this._x}set x(x){x>=0&&(this._x=x)}get y(){return this._y}set y(y){y>=0&&(this._y=y)}constructor(text,_x,_y,style,labelHorizontalAlign,labelVerticalAlign,rotation){this.text=text,this._x=_x,this._y=_y,this.style=style,this.labelHorizontalAlign=labelHorizontalAlign,this.labelVerticalAlign=labelVerticalAlign,this.rotation=rotation,this.text=text,this.labelHorizontalAlign=labelHorizontalAlign,this.labelVerticalAlign=labelVerticalAlign,this.rotation=rotation,this.ratio=1}drawLabel(context,ratio,containerRotation=0,isSampleText=!1,maxWidth){let textRotation=this.rotation??0;this.ratio=ratio,context.save(),context.beginPath(),this.labelHorizontalAlign&&(context.textAlign=this.labelHorizontalAlign),this.labelVerticalAlign&&(context.textBaseline=this.labelVerticalAlign),0!==containerRotation&&(this.transformForRotation(context,containerRotation),textRotation-=containerRotation),context.fillStyle=this.style.color,context.font=`${(this.style.size+.5)*this.ratio}px "${this.style.font}"`,0!==textRotation?(context.translate(this.x*this.ratio,this.y*this.ratio),context.rotate(textRotation*Math.PI/180),context.fillText(this.text,0,0)):(isSampleText&&maxWidth&&this.fitTextToVial(context,maxWidth),context.fillText(this.text,this.x*this.ratio,this.y*this.ratio)),context.fill(),context.closePath(),context.restore()}transformForRotation(context,containerRotation){90===containerRotation?this.convertAlignmentFor90DegreesRotation(context):180===containerRotation?this.convertAlignmentFor180DegreesRotation(context):270===containerRotation&&this.convertAlignmentFor270DegreesRotation(context)}convertAlignmentFor90DegreesRotation(context){"left"===this.labelHorizontalAlign?context.textBaseline="top":"right"===this.labelHorizontalAlign?context.textBaseline="bottom":context.textBaseline="middle","top"===this.labelVerticalAlign?context.textAlign="right":"bottom"===this.labelVerticalAlign?context.textAlign="left":context.textAlign="center"}convertAlignmentFor180DegreesRotation(context){"left"===this.labelHorizontalAlign?context.textAlign="right":"right"===this.labelHorizontalAlign?context.textAlign="left":context.textAlign="center","top"===this.labelVerticalAlign?context.textBaseline="bottom":"bottom"===this.labelVerticalAlign?context.textBaseline="top":context.textBaseline="middle"}convertAlignmentFor270DegreesRotation(context){"left"===this.labelHorizontalAlign?context.textBaseline="bottom":"right"===this.labelHorizontalAlign?context.textBaseline="top":context.textBaseline="middle","top"===this.labelVerticalAlign?context.textAlign="left":"bottom"===this.labelVerticalAlign?context.textAlign="right":context.textAlign="center"}fitTextToVial(context,maxWidth){let textWidth=context.measureText(this.text).width;if(textWidth>maxWidth){const ellipsisWidth=context.measureText("...").width;for(;textWidth+ellipsisWidth>maxWidth&&this.text.length>1;)this.text=this.text.substring(0,this.text.length-1),textWidth=context.measureText(this.text).width;this.text+="..."}}}class StyleLabel{constructor(font,color=ColorUtils.AGILENT_GRAY_DARK_COLOR,size){this.font=font,this.color=color,this.size=size}}class VialShapeDescription{constructor(){this.id="",this.shape=VialShape.Ellipse,this.width=0,this.height=0,this.initX=0,this.initY=0,this.strokeWidth=0,this.fillColor=void 0,this.strokeColor=void 0}}class VialGroupBaseItem{constructor(vialShapeId){this.vialShapeId=vialShapeId,this.vialShapeDescription=new VialShapeDescription,this.vialsList=[]}}class FreeVial extends VialGroupBaseItem{constructor(id,x,y,vialShapeId,rotation,row,column){super(vialShapeId),this.id=id,this.x=x,this.y=y,this.vialShapeId=vialShapeId,this.rotation=rotation,this.row=row,this.column=column}}class VialGrid extends VialGroupBaseItem{constructor(rowsCount,columnsCount,rowSpacing,columnSpacing,firstVialPosition,direction,vialShapeId){super(vialShapeId),this.rowsCount=rowsCount,this.columnsCount=columnsCount,this.rowSpacing=rowSpacing,this.columnSpacing=columnSpacing,this.firstVialPosition=firstVialPosition,this.direction=direction,this.vialShapeId=vialShapeId,this.topLeftVialCoordinateX=0,this.topLeftVialCoordinateY=0,this.rowOffset=0,this.colOffset=0}}class VialRings extends VialGroupBaseItem{constructor(numberOfRings,vialsPerRing,distanceBetweenRings,cX,cY,innerRingRadius,vialShapeId){super(vialShapeId),this.numberOfRings=numberOfRings,this.vialsPerRing=vialsPerRing,this.distanceBetweenRings=distanceBetweenRings,this.cX=cX,this.cY=cY,this.innerRingRadius=innerRingRadius,this.vialShapeId=vialShapeId,this.numberingDirection=NumberingDirection.Clockwise,this.numberingMode=NumberingMode.Ring,this.firstVialRing=FirstVialRingPosition.InnerRing,this.firstVialAngle=0,this.rowOffset=0,this.colOffset=0,this.firstVialNumber=1}}class Vial{get containerRowPosition(){return this.rowPosition?this.rowPosition+this.rowOffset:0}get containerColPosition(){return this.colPosition?this.colPosition+this.colOffset:0}get details(){return{identifier:this.identifier,rowNumber:this.containerRowPosition,columnNumber:this.containerColPosition,sampleType:this.sampleInfo.sampleType,text:this.sampleInfo.text,selected:this.selected,sampleStatus:this.sampleInfo.sampleStatus,textSize:this.sampleInfo.textSize,hovered:this.hovered}}constructor(shape){this.shape=shape,this.identifier="",this.selected=!1,this.xCoordinate=0,this.yCoordinate=0,this.rowOffset=0,this.colOffset=0,this.coordinates="",this.sampleInfo=new SampleInfo,this.hovered=!1}setInfo(vialInfo,awfSlydini,sampleTypes,selectionController){void 0!==vialInfo.sampleType&&this.setSampleType(vialInfo.sampleType,awfSlydini,sampleTypes),void 0!==vialInfo.text&&this.setSampleText(vialInfo.text,awfSlydini),void 0!==vialInfo.selected&&this.setSelection(vialInfo.selected,awfSlydini,selectionController),void 0!==vialInfo.sampleStatus&&this.setSampleStatus(vialInfo.sampleStatus,awfSlydini),void 0!==vialInfo.textSize&&this.setSampleTextSize(vialInfo.textSize,awfSlydini)}setSampleType(sampleType,awfSlydini,sampleTypes){if(sampleTypes.findSampleType(sampleType)&&this.sampleInfo.sampleType!==sampleType){const oldValue=this.sampleInfo.sampleType;this.sampleInfo.sampleType=sampleType,awfSlydini.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{vial:this.identifier,propertyName:"sampleType",previousValue:oldValue,newValue:sampleType}))}}setSampleText(text,awfSlydini){if(this.sampleInfo.text!==text){const oldValue=this.sampleInfo.text;this.sampleInfo.text=text,awfSlydini.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{vial:this.identifier,propertyName:"text",previousValue:oldValue,newValue:text}))}}setSelection(selected,awfSlydini,selectionController){if(this.selected!==selected){const oldValue=this.selected;selectionController.selectSingleVial(this,!1,selected),awfSlydini.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{vial:this.identifier,propertyName:"selected",previousValue:oldValue,newValue:selected}))}}setSampleTextSize(textSize,awfSlydini){if(this.sampleInfo.textSize!==textSize){const oldValue=this.sampleInfo.textSize;this.sampleInfo.textSize=textSize,awfSlydini.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{vial:this.identifier,propertyName:"textSize",previousValue:oldValue,newValue:textSize}))}}setSampleStatus(sampleStatus,awfSlydini){if(this.sampleInfo.sampleStatus!==sampleStatus){const oldValue=this.sampleInfo.sampleStatus;this.sampleInfo.sampleStatus=sampleStatus,awfSlydini.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{vial:this.identifier,propertyName:"sampleStatus",previousValue:oldValue,newValue:sampleStatus}))}}}const vialsFactory=new class VialsFactory{initVials(sampleContainer){sampleContainer.vialItems.forEach((vialItem=>{vialItem instanceof FreeVial?this.initFreeVials(vialItem,sampleContainer):vialItem instanceof VialGrid?this.initVialGrid(vialItem,sampleContainer):vialItem instanceof VialRings&&this.initVialRings(vialItem,sampleContainer)}))}initFreeVials(freeVial,sampleContainer){freeVial.vialsList=[];const vial=new Vial(freeVial.vialShapeDescription.shape);vial.identifier=freeVial.id,vial.rowPosition=freeVial.row,vial.colPosition=freeVial.column,vial.xCoordinate=freeVial.x,vial.yCoordinate=freeVial.y,vial.coordinates=vial.rowPosition&&vial.colPosition?`${vial.containerRowPosition}-${vial.containerColPosition}`:vial.identifier,this.assignVialShapes(sampleContainer,vial,freeVial.vialShapeDescription,vial.xCoordinate,vial.yCoordinate),freeVial.vialsList.push(vial)}initVialGrid(vialGrid,sampleContainer){vialGrid.vialsList=[];const rowCount=vialGrid.rowsCount,colCount=vialGrid.columnsCount;for(let iRow=1;iRow<=rowCount;iRow++)for(let iCol=1;iCol<=colCount;iCol++){const vial=new Vial(vialGrid.vialShapeDescription.shape);vial.rowOffset=vialGrid.rowOffset,vial.colOffset=vialGrid.colOffset;const{colPosition,rowPosition}=this.setCoordinateFromFirstVialPosition(vialGrid.rowsCount,vialGrid.columnsCount,iRow,iCol,vialGrid);vial.rowPosition=rowPosition,vial.colPosition=colPosition,vial.coordinates=`${vial.containerRowPosition}-${vial.containerColPosition}`,this.calculateVialCoordinateForGrid(vial,vialGrid,sampleContainer,iRow,iCol),vial.identifier=this.setIdentifierFromFirstVialPosition(vialGrid.rowsCount,vialGrid.columnsCount,vial.rowPosition,vial.colPosition,vialGrid,sampleContainer.startOffset),this.assignVialShapes(sampleContainer,vial,vialGrid.vialShapeDescription,vial.xCoordinate,vial.yCoordinate),vial.drawableItem instanceof RectangleItem&&(vial.drawableItem.rowSpacing=vialGrid.rowSpacing,vial.drawableItem.columnSpacing=vialGrid.columnSpacing),vialGrid.vialsList.push(vial)}}initVialRings(vialRings,sampleContainer){vialRings.vialsList=[];for(let i=1;i<=vialRings.numberOfRings;i++)for(let j=1;j<=vialRings.vialsPerRing;j++){const vial=new Vial(vialRings.vialShapeDescription.shape);vial.rowPosition=i,vial.colPosition=j,vial.rowOffset=vialRings.rowOffset,vial.colOffset=vialRings.colOffset,vial.coordinates=`${vial.containerRowPosition}-${vial.containerColPosition}`,this.calculateVialCoordinateForRing(i-1,j-1,vial,vialRings),this.assignVialShapes(sampleContainer,vial,vialRings.vialShapeDescription,vial.xCoordinate,vial.yCoordinate),vialRings.vialsList.push(vial)}}calculateVialCoordinateForGrid(vial,grid,sampleContainer,iRow,iCol){let yOffset=0;const rowSpacePosition=iRow-1,colSpacePosition=iCol-1;if(grid.interleave){const interleaveOffset=convertTool.getInterleaveOffset(grid.interleave,grid.rowSpacing);yOffset=colSpacePosition%2==1?interleaveOffset:0}let x=sampleContainer.initX+grid.topLeftVialCoordinateX+grid.columnSpacing*colSpacePosition,y=sampleContainer.initY+grid.topLeftVialCoordinateY+grid.rowSpacing*rowSpacePosition+yOffset;vial.shape===VialShape.Rectangle&&(x+=grid.vialShapeDescription.initX,y+=grid.vialShapeDescription.initY),vial.xCoordinate=x,vial.yCoordinate=y}calculateVialCoordinateForRing(ringIndex,vialIndex,vial,rings){let ringRadius,interVialAngle=rings.lastVialAngle?(rings.lastVialAngle-rings.firstVialAngle)/(rings.vialsPerRing-1):360/rings.vialsPerRing;rings.numberingDirection===NumberingDirection.CounterClockwise&&(interVialAngle=-interVialAngle),ringRadius=rings.firstVialRing===FirstVialRingPosition.InnerRing?ringIndex*rings.distanceBetweenRings+rings.innerRingRadius:(rings.numberOfRings-1-ringIndex)*rings.distanceBetweenRings+rings.innerRingRadius;let ringStartAngle=rings.firstVialAngle;if(rings.interleave&&ringIndex%2!=0){const offset=Math.abs(.5*interVialAngle);rings.interleave===VialRingInterleaveType.Clockwise?ringStartAngle+=offset:rings.interleave===VialRingInterleaveType.CounterClockwise&&(ringStartAngle-=offset)}const vialAngle=ringStartAngle+vialIndex*interVialAngle,vialAngleInRadians=Math.PI*vialAngle/180;vial.xCoordinate=rings.cX+ringRadius*Math.cos(vialAngleInRadians),vial.yCoordinate=rings.cY+ringRadius*Math.sin(vialAngleInRadians),vial.identifier=this.setIdentifierForRing(rings.firstVialNumber,ringIndex,vialIndex,rings)}setIdentifierForRing(firstVialNumber,ringIndex,vialIndex,rings){return rings.numberingMode===NumberingMode.Ring?`${firstVialNumber+vialIndex+ringIndex*rings.vialsPerRing}`:`${firstVialNumber+ringIndex+vialIndex*rings.numberOfRings}`}assignVialShapes(sampleContainer,vial,vialShapeDescription,x,y){let vialStyle=sampleContainer.colorPalette.defaultVialStyle;sampleContainer.xmlStyle&&(vialStyle=sampleContainer.colorPalette.customVialStyle(vialShapeDescription.fillColor,vialShapeDescription.strokeColor)),vialStyle.strokeWidth=vialShapeDescription.strokeWidth||sampleContainer.colorPalette.defaultVialStyle.strokeWidth,vial.shape===VialShape.Rectangle?vial.drawableItem=new RectangleItem(vialStyle,x,y,vialShapeDescription.width,vialShapeDescription.height):vial.shape===VialShape.Ellipse&&(vial.drawableItem=new EllipseItem(vialStyle,x,y,vialShapeDescription.height,vialShapeDescription.width))}setVialIdentifier(row,column,vialGrid){let identifier="";if(null!=vialGrid.rowNumbering&&null!=vialGrid.columnNumbering){const separator=vialGrid.separator??"";let part1,part2;vialGrid.direction===VialDirection.Horizontal?(part1=convertTool.indexToLabel(row,vialGrid.rowNumbering)??"",part2=convertTool.indexToLabel(column,vialGrid.columnNumbering)??""):(part1=convertTool.indexToLabel(row,vialGrid.columnNumbering)??"",part2=convertTool.indexToLabel(column,vialGrid.rowNumbering)??""),identifier=`${part1}${separator}${part2}`}else identifier=`${row}`;return identifier}setIdentifierFromFirstVialPosition(rowCount,columnCount,rowPosition,colPosition,vialGrid,containerStartOffset){if(null!=vialGrid.consecutiveNumbering){const isSerpentine=vialGrid.consecutiveNumbering===ConsecutiveNumbering.Serpentine;let vialOffset=vialGrid.firstVialNumber>=0?vialGrid.firstVialNumber:1;return vialOffset+=containerStartOffset,this.setIdentifierFromFirstVialDirection(vialGrid,rowCount,columnCount,rowPosition-1,colPosition-1,vialOffset,isSerpentine)}const rowIdentifier=rowPosition-1+(vialGrid.firstRowIndex||0),colIdentifier=colPosition-1+(vialGrid.firstColumnIndex||0);return vialGrid.direction===VialDirection.Horizontal?this.setVialIdentifier(rowIdentifier,colIdentifier,vialGrid):this.setVialIdentifier(colIdentifier,rowIdentifier,vialGrid)}setCoordinateFromFirstVialPosition(rowCount,columnCount,rowPosition,colPosition,vialGrid){let iRow=0,iCol=0;switch(vialGrid.firstVialPosition){case FirstVialPosition.TopLeft:iRow=rowPosition,iCol=colPosition;break;case FirstVialPosition.BottomLeft:iRow=rowCount-(rowPosition-1),iCol=colPosition;break;case FirstVialPosition.TopRight:iRow=rowPosition,iCol=columnCount-(colPosition-1);break;case FirstVialPosition.BottomRight:iRow=rowCount-(rowPosition-1),iCol=columnCount-(colPosition-1)}return{colPosition:iCol,rowPosition:iRow}}setIdentifierFromFirstVialDirection(vialGrid,rowCount,columnCount,iRow,iCol,vialOffset,isSerpentine){let identifier;if(vialGrid.direction===VialDirection.Horizontal){iRow=iRow*columnCount+(isSerpentine&&iRow%2==1?columnCount-iCol-1:iCol),identifier=this.setVialIdentifier(iRow+vialOffset,iCol,vialGrid)}else{iCol=iCol*rowCount+(isSerpentine&&iCol%2==1?rowCount-iRow-1:iRow),identifier=this.setVialIdentifier(iCol+vialOffset,iRow,vialGrid)}return identifier}};const sampleContainerFactory=new class SampleContainerFactory{constructor(){this.vialShapes=[]}fillSampleContainer(sampleContainer){sampleContainer.dispatchXML?.vialShapeNodes&&(this.vialShapes=this.getVialShapes(sampleContainer.dispatchXML.vialShapeNodes)),sampleContainer.labelsList=this.getLabels(sampleContainer),sampleContainer.dispatchXML?.vialGridNodes&&sampleContainer.vialItems.push(...this.getVialGrids(sampleContainer.dispatchXML.vialGridNodes)),sampleContainer.dispatchXML?.freeVialNodes&&sampleContainer.vialItems.push(...this.getFreeVials(sampleContainer.dispatchXML.freeVialNodes)),sampleContainer.dispatchXML?.vialRingNodes&&sampleContainer.vialItems.push(...this.getVialRings(sampleContainer.dispatchXML.vialRingNodes)),this.getDecorations(sampleContainer),vialsFactory.initVials(sampleContainer)}ratioCalculate(sampleContainer,containerWidth,containerHeight){return 90===sampleContainer.rotation||270===sampleContainer.rotation?containerWidth/sampleContainer.height:containerWidth/sampleContainer.width}getLabels(sampleContainer){const labels=new Array;return sampleContainer.dispatchXML?.labelNodes&&sampleContainer.dispatchXML.labelNodes.forEach((node=>labels.push(...this.fillLabels(sampleContainer,node)))),labels}fillLabels(sampleContainer,labelNode){const labelFont=sampleContainer.xmlStyle&&null!=labelNode.getAttribute("fontFamily")?labelNode.getAttribute("fontFamily"):sampleContainer.colorPalette.labelFont,labelColor=sampleContainer.xmlStyle&&null!=labelNode.getAttribute("fillColor")?labelNode.getAttribute("fillColor"):sampleContainer.colorPalette.colorPaletteMap.get(ColorPalette.LABEL_COLOR),labels=new Array,textNodes=Array.from(labelNode.getElementsByTagName("Text"));if(textNodes)for(const element of textNodes)labels.push(new Label(element.textContent||"",Number(element.getAttribute("x")),Number(element.getAttribute("y")),new StyleLabel(labelFont,labelColor,Number(labelNode.getAttribute("fontHeight"))),this.getHorizontalAlignment(labelNode.getAttribute("hAlignment")),this.getVerticalAlignment(labelNode.getAttribute("vAlignment")),Number(element.getAttribute("rotation"))));return labels}getHorizontalAlignment(hAlignment){return hAlignment&&null!=hAlignment&&""!==hAlignment?hAlignment:"left"}getVerticalAlignment(vAlignment){return vAlignment&&null!=vAlignment&&""!==vAlignment?"center"===vAlignment?"middle":vAlignment:"top"}getVialGrids(vialGridNodes){const vialGrids=new Array;return vialGridNodes.forEach((node=>vialGrids.push(this.buildVialGrid(node)))),vialGrids}buildVialGrid(node){const vialGrid=new VialGrid(parseInt(node.getAttribute("rows")),parseInt(node.getAttribute("columns")),parseFloat(node.getAttribute("rowSpacing")),parseFloat(node.getAttribute("columnSpacing")),node.getAttribute("firstVialPosition"),node.getAttribute("direction"),node.getAttribute("shape"));return vialGrid.topLeftVialCoordinateX=parseFloat(node.getElementsByTagName("TopLeftVialCoordinate")[0].getAttribute("x")),vialGrid.topLeftVialCoordinateY=parseFloat(node.getElementsByTagName("TopLeftVialCoordinate")[0].getAttribute("y")),vialGrid.rowOffset=parseInt(node.getAttribute("rowOffset")??"0"),vialGrid.colOffset=parseInt(node.getAttribute("columnOffset")??"0"),vialGrid.interleave=node.getAttribute("interleave")??void 0,vialGrid.rowNumbering=node.getElementsByTagName("GridNumbering")[0]?.getAttribute("rowNumbering")??void 0,vialGrid.columnNumbering=node.getElementsByTagName("GridNumbering")[0]?.getAttribute("columnNumbering")??void 0,vialGrid.separator=node.getElementsByTagName("GridNumbering")[0]?.getAttribute("separator")??"",vialGrid.firstRowIndex=parseInt(node.getElementsByTagName("GridNumbering")[0]?.getAttribute("firstRowIndex")??"0"),vialGrid.firstColumnIndex=parseInt(node.getElementsByTagName("GridNumbering")[0]?.getAttribute("firstColumnIndex")??"0"),vialGrid.consecutiveNumbering=node.getElementsByTagName("ConsecutiveNumbering")[0]?.getAttribute("numbering")??void 0,vialGrid.firstVialNumber=parseInt(node.getElementsByTagName("ConsecutiveNumbering")[0]?.getAttribute("firstVialNumber")??"1"),vialGrid.vialShapeDescription=this.getVialShapeDescription(vialGrid.vialShapeId),vialGrid}getFreeVials(freeVialsNodes){const freeVials=new Array;return freeVialsNodes.forEach((node=>freeVials.push(this.buildFreeVial(node)))),freeVials}buildFreeVial(node){const freeVial=new FreeVial(node.getAttribute("id"),parseFloat(node.getAttribute("x")),parseFloat(node.getAttribute("y")),node.getAttribute("shape"),node.getAttribute("rotation")?parseFloat(node.getAttribute("rotation")):void 0,node.getAttribute("row")?parseInt(node.getAttribute("row")):void 0,node.getAttribute("column")?parseInt(node.getAttribute("column")):void 0);return freeVial.vialShapeDescription=this.getVialShapeDescription(freeVial.vialShapeId),freeVial}getVialRings(vialRingNodes){const vialRings=new Array;return vialRingNodes.forEach((node=>vialRings.push(this.buildVialRing(node)))),vialRings}buildVialRing(node){const vialRings=new VialRings(parseInt(node.getAttribute("numberOfRings")),parseInt(node.getAttribute("vialsPerRing")),parseFloat(node.getAttribute("distanceBetweenRings")),parseFloat(node.getAttribute("cx")),parseFloat(node.getAttribute("cy")),parseFloat(node.getAttribute("innerRingRadius")),node.getAttribute("shape"));return vialRings.numberingDirection=node.getAttribute("numberingDirection"),vialRings.numberingMode=node.getAttribute("numberingMode"),vialRings.firstVialRing=node.getAttribute("firstVialRing"),vialRings.firstVialAngle=parseFloat(node.getAttribute("firstVialAngle")??"0"),vialRings.lastVialAngle=node.getAttribute("lastVialAngle")?parseFloat(node.getAttribute("lastVialAngle")):void 0,vialRings.rowOffset=parseInt(node.getAttribute("rowOffset")??"0"),vialRings.colOffset=parseInt(node.getAttribute("columnOffset")??"0"),vialRings.interleave=node.getAttribute("interleave")??void 0,vialRings.firstVialNumber=parseInt(node.getAttribute("firstVialNumber")??"1"),vialRings.vialShapeDescription=this.getVialShapeDescription(vialRings.vialShapeId),vialRings}getVialShapes(vialShapeNodes){const vialShapes=new Array;return vialShapeNodes.forEach((node=>vialShapes.push(this.buildVialShape(node)))),vialShapes}buildVialShape(node){const vialShapeDescription=new VialShapeDescription;let childElement;return vialShapeDescription.id=node.getAttribute("id"),node.getElementsByTagName("ellipse").length>0?(childElement=node.getElementsByTagName("ellipse")[0],vialShapeDescription.shape=VialShape.Ellipse,vialShapeDescription.initX=parseFloat(childElement.getAttribute("cx")),vialShapeDescription.initY=parseFloat(childElement.getAttribute("cy")),vialShapeDescription.width=parseFloat(childElement.getAttribute("rx")),vialShapeDescription.height=parseFloat(childElement.getAttribute("ry"))):(childElement=node.getElementsByTagName("rectangle")[0],vialShapeDescription.shape=VialShape.Rectangle,vialShapeDescription.initX=parseFloat(childElement.getAttribute("x")),vialShapeDescription.initY=parseFloat(childElement.getAttribute("y")),vialShapeDescription.width=parseFloat(childElement.getAttribute("width")),vialShapeDescription.height=parseFloat(childElement.getAttribute("height"))),vialShapeDescription.fillColor=childElement.getAttribute("fillcolor")??void 0,vialShapeDescription.strokeColor=childElement.getAttribute("strokecolor")??void 0,vialShapeDescription.strokeWidth=parseFloat(childElement.getAttribute("strokewidth")??"0"),vialShapeDescription}getVialShapeDescription(vialShapeId){return this.vialShapes.find((x=>x.id===vialShapeId))}getDecorations(sampleContainer){sampleContainer.dispatchXML?.sampleContainerDecorationsNode&&sampleContainer.dispatchXML?.sampleContainerDecorationsNode.forEach((decoration=>{this.getDecoration(decoration,sampleContainer)}))}getDecoration(decorationElement,sampleContainer){const decoration=decorationElement.children;sampleContainer.decorationsList.push(this.createDecorationItem(decoration,sampleContainer)),void 0!==decoration.item(0)?.children.item(0)&&null!=decoration.item(0)?.children.item(0)&&this.getDecoration(decoration.item(0),sampleContainer)}createDecorationItem(decoration,sampleContainer){let decorationStyle=sampleContainer.colorPalette.defaultDecorationStyle;switch(sampleContainer.xmlStyle&&(decorationStyle=sampleContainer.colorPalette.customDecorationStyle(decoration.item(0)?.parentElement?.getAttribute("fillColor")||sampleContainer.colorPalette.colorPaletteMap.get(ColorPalette.DECORATION_FILL_COLOR),decoration.item(0)?.parentElement?.getAttribute("strokeColor")||sampleContainer.colorPalette.colorPaletteMap.get(ColorPalette.DECORATION_STROKE_COLOR))),decorationStyle.strokeWidth=Number(decoration.item(0)?.parentElement?.getAttribute("StrokeWidth"))||sampleContainer.colorPalette.defaultDecorationStyle.strokeWidth,decoration.item(0)?.tagName){case"RECTANGLE":return new RectangleItem(decorationStyle,Number(decoration.item(0)?.getAttribute("x")),Number(decoration.item(0)?.getAttribute("y")),Number(decoration.item(0)?.getAttribute("width")),Number(decoration.item(0)?.getAttribute("height")));case"ARC":return new ArcItem(decorationStyle,new Angle(Number(decoration.item(0)?.getAttribute("startAngle")),Number(decoration.item(0)?.getAttribute("sweepAngle"))),Number(decoration.item(0)?.getAttribute("cx")),Number(decoration.item(0)?.getAttribute("cy")),Number(decoration.item(0)?.getAttribute("rx")),Number(decoration.item(0)?.getAttribute("ry")));case"POLYGON":return new PolygonItem(decorationStyle,decoration.item(0)?.getAttribute("points"));case"ELLIPSE":return new EllipseItem(decorationStyle,Number(decoration.item(0)?.getAttribute("cx")),Number(decoration.item(0)?.getAttribute("cy")),Number(decoration.item(0)?.getAttribute("rx")),Number(decoration.item(0)?.getAttribute("ry")));case"LINE":return new LineItem(decorationStyle,Number(decoration.item(0)?.getAttribute("x1")),Number(decoration.item(0)?.getAttribute("y1")),Number(decoration.item(0)?.getAttribute("x2")),Number(decoration.item(0)?.getAttribute("y2")));default:throw new Error("Decoration form not recognized")}}};class DrawFactory{constructor(){this.displayOutline=!0,this.displayDecoration=!0,this.displayLabel=!0,this.orderingArrow=!1,this.displayStatusIcon=!0}drawShapes(awfSlydini,sampleContainer,canvas){this.initCanvas(sampleContainer,canvas),this.draw(awfSlydini,sampleContainer)}updateOptions(awfSlydini){this.displayOutline=awfSlydini.displayOutline,this.displayDecoration=awfSlydini.displayDecoration,this.displayLabel=awfSlydini.displayLabel,this.orderingArrow=awfSlydini.orderingArrow,this.displayStatusIcon=awfSlydini.displayStatusIcon}draw(awfSydini,sampleContainer,isMoving=!1,deltaX=0,deltaY=0,destVial){if(null!=sampleContainer.ctx){sampleContainer.ctx.clearRect(0,0,sampleContainer.ctx.canvas.width,sampleContainer.ctx.canvas.height),sampleContainer.transformMatrix=new DOMMatrix;const translation={x:0,y:0};90===sampleContainer.rotation?translation.x=sampleContainer.height:180===sampleContainer.rotation?(translation.x=sampleContainer.width,translation.y=sampleContainer.height):270===sampleContainer.rotation&&(translation.y=sampleContainer.width),sampleContainer.transformMatrix.translateSelf(translation.x,translation.y),sampleContainer.transformMatrix.rotateSelf(sampleContainer.rotation),sampleContainer.ctx.setTransform(sampleContainer.transformMatrix),sampleContainer.zoomController.translateBeforeDraw(sampleContainer.ctx),this.displayOutline&&this.drawSampleContainer(sampleContainer),this.displayDecoration&&this.drawDecoration(sampleContainer),this.displayLabel&&this.drawLabels(sampleContainer),this.drawVials(awfSydini,sampleContainer,isMoving),this.orderingArrow&&this.drawOrderingArrow(sampleContainer),isMoving&&this.drawMoveItems(awfSydini,sampleContainer,deltaX,deltaY,destVial),sampleContainer.zoomController.translateAfterDraw(sampleContainer.ctx),sampleContainer.ctx.resetTransform()}}drawMoveItems(awfSydini,sampleContainer,deltaX,deltaY,destVial){if(destVial&&sampleContainer.selectionController.buildSourceDestinationVialsMap(destVial,sampleContainer.vialsList)){const destVials=sampleContainer.selectionController.destinationVials;this.drawDestinationVial(awfSydini,sampleContainer,destVials)}this.drawMovingVials(awfSydini,sampleContainer,deltaX,deltaY)}initCanvas(sampleContainer,canvas){if(this.setSampleContainerSize(sampleContainer),this.factory(sampleContainer,canvas.clientWidth,canvas.clientHeight),sampleContainer.rotation%180==0?(canvas.setAttribute("width",(sampleContainer.width+2).toString()),canvas.setAttribute("height",(sampleContainer.height+2).toString())):(canvas.setAttribute("height",(sampleContainer.width+2).toString()),canvas.setAttribute("width",(sampleContainer.height+2).toString())),!canvas.getContext("2d"))throw Error("getContext doesn't exist, your browser might not be supported");sampleContainer.ctx=canvas.getContext("2d")}drawLabels(sampleContainer){sampleContainer.labelsList.forEach((label=>{label.drawLabel(sampleContainer.ctx,sampleContainer.globalRatio,sampleContainer.rotation)}))}drawSampleContainer(sampleContainer){sampleContainer.outline.forEach((outline=>{null!=sampleContainer.ctx&&outline.draw(sampleContainer.ctx,sampleContainer.globalRatio,!1)}))}drawVials(awfSlydini,sampleContainer,isMoving){sampleContainer.vialsList.forEach((vial=>{vial.drawableItem&&this.drawIndividualVial(sampleContainer,vial,!1,isMoving)})),sampleContainer.ctx&&this.drawStatusIcons(awfSlydini,sampleContainer,sampleContainer.vialsList,sampleContainer.globalRatio,sampleContainer.sampleStatusList,sampleContainer.rotation)}drawMovingVials(awfSlydini,sampleContainer,deltaX,deltaY){const movingVials=sampleContainer.selectionController.selectedVials;movingVials.forEach((vial=>{if(vial.drawableItem){const temp=vial.drawableItem;(vial.drawableItem instanceof EllipseItem||vial.drawableItem instanceof RectangleItem)&&(vial.drawableItem=vial.drawableItem.translate(deltaX,deltaY)),this.drawIndividualVial(sampleContainer,vial,!0,!0),vial.drawableItem=temp}})),sampleContainer.ctx&&this.drawStatusIcons(awfSlydini,sampleContainer,movingVials,sampleContainer.globalRatio,sampleContainer.sampleStatusList,sampleContainer.rotation,new Point(deltaX,deltaY))}drawDestinationVial(awfSlydini,sampleContainer,destVials){destVials.forEach((vial=>{vial.drawableItem&&(vial.hovered=!0,this.drawIndividualVial(sampleContainer,vial),vial.hovered=!1)})),this.drawStatusIcons(awfSlydini,sampleContainer,destVials,sampleContainer.globalRatio,sampleContainer.sampleStatusList,sampleContainer.rotation)}drawIndividualVial(sampleContainer,vial,isTransparent=!1,isMoving=!1){if(sampleContainer.ctx&&vial.drawableItem){isTransparent&&(sampleContainer.ctx.globalAlpha=.5);let vialFillColor=vial.hovered?vial.drawableItem.style.hoverFillColor:vial.drawableItem.style.fillColor;if(vial.hovered&&!isMoving)vial.drawableItem.draw(sampleContainer.ctx,sampleContainer.globalRatio,!0,!1,!0);else if("Default"!==vial.sampleInfo.sampleType){const sampleTypeColor=sampleContainer.sampleTypes.getSampleTypes().filter((x=>x.name===vial.sampleInfo.sampleType))[0]?.color;sampleTypeColor&&(vial.drawableItem.draw(sampleContainer.ctx,sampleContainer.globalRatio,!0,vial.selected,!1,sampleTypeColor),vialFillColor=sampleTypeColor)}else vial.drawableItem.draw(sampleContainer.ctx,sampleContainer.globalRatio,!0,vial.selected);this.drawSampleText(sampleContainer,vial.drawableItem,sampleContainer.globalRatio,vial.sampleInfo,sampleContainer.colorPalette.labelFont,vialFillColor),sampleContainer.ctx.globalAlpha=1}}drawSampleText(sampleContainer,drawableItem,ratio,sampleInfo,font,vialColor){if(sampleInfo.text&&sampleContainer.ctx){const textColor=ColorUtils.isColorLight(vialColor)?ColorUtils.AGILENT_NAVY_DARK_COLOR:ColorUtils.WHITE_COLOR,maxWidth=(drawableItem.width-drawableItem.style.strokeWidth)*ratio;let textSizePercentage=sampleContainer.defaultSampleTextSize/100;sampleInfo.textSize&&0!==sampleInfo.textSize&&(textSizePercentage=sampleInfo.textSize/100);const label=new Label(sampleInfo.text,drawableItem.center().x/ratio,drawableItem.center().y/ratio,new StyleLabel(font,textColor,.45*drawableItem.height*textSizePercentage),"center","middle");label.ratio=ratio,label.drawLabel(sampleContainer.ctx,ratio,sampleContainer.rotation,!0,maxWidth)}}drawStatusIcons(awfSlydini,sampleContainer,vials,ratio,sampleStatusList,containerRotation,delta){this.displayStatusIcon&&(vials.length>0&&vials[0].drawableItem?.canDrawIcon(sampleContainer.globalRatio)?vials.forEach((vial=>{const temp=vial.drawableItem;(vial.drawableItem instanceof EllipseItem||vial.drawableItem instanceof RectangleItem)&&delta&&(vial.drawableItem=vial.drawableItem.translate(delta.x,delta.y));const sampleStatus=sampleStatusList.findSampleStatus(vial.sampleInfo.sampleStatus);this.drawStatusIcon(sampleContainer,vial,ratio,sampleStatus,containerRotation),vial.drawableItem=temp})):awfSlydini.dispatchEvent(createCustomEvent(SlydiniEvent.SAMPLESTATUSVISBILITYCHANGED,{message:"Sample status cannot be displayed."})))}drawStatusIcon(sampleContainer,vial,ratio,sampleStatus,containerRotation){"None"!==vial.sampleInfo.sampleStatus&&sampleStatus&&vial.drawableItem&&sampleContainer.ctx&&vial.drawableItem.drawIcon(sampleContainer.ctx,ratio,sampleStatus,containerRotation)}drawDecoration(sampleContainer){sampleContainer.decorationsList.forEach((decoration=>{null!=sampleContainer.ctx&&decoration.draw(sampleContainer.ctx,sampleContainer.globalRatio,!1)}))}drawOrderingArrow(sampleContainer){if(sampleContainer.selectionController.selectedVials.length>1&&sampleContainer.ctx){new OrderingArrowItem(sampleContainer.colorPalette.defaultOrderingArrowStyle,sampleContainer.selectionController.selectedVials).draw(sampleContainer.ctx)}}setSampleContainerSize(sampleContainer){sampleContainer.outline.forEach((outline=>{outline.setSize(sampleContainer)}))}factory(sampleContainer,containerWidth,containerHeight){const resultRatio=sampleContainerFactory.ratioCalculate(sampleContainer,containerWidth,containerHeight);sampleContainer.width=sampleContainer.width*resultRatio,sampleContainer.height=sampleContainer.height*resultRatio,sampleContainer.initX=sampleContainer.initX*resultRatio,sampleContainer.initY=sampleContainer.initY*resultRatio,sampleContainer.outline.forEach((outline=>{outline.ratio=resultRatio})),sampleContainer.decorationsList.forEach((decoration=>{decoration.ratio=resultRatio})),sampleContainer.labelsList.forEach((label=>{label.ratio=resultRatio})),sampleContainer.vialsList.forEach((vial=>{vial.drawableItem&&(vial.drawableItem.ratio=resultRatio)})),sampleContainer.ratioDefault=resultRatio}}let AwfSlydini=class AwfSlydini extends lit.oi{constructor(){super(...arguments),this.onColorValueChanged=this.handleColorValueChanged.bind(this),this.onSampleTypeValueChanged=this.handleSampleTypeValueChanged.bind(this),this.sampleTypes=new SampleTypes,this.eventController=new SlydiniEventController,this.sampleStatusList=new SampleStatusList,this.colorPalette=new ColorPalette,this.drag=!1,this.colorPaletteTag=null,this.sampleTypesTag=null,this.sampleStatusTag=null,this.moveStartPosition=new Point(0,0),this.lastCanDropValue=!1,this.isInMultiselectTouchMode=!1,this.previousDiff=-1,this.isZooming=!1,this.isTouch=!1,this.isExternalDrag=!1,this.isDraggingVials=!1,this.isDragLeavingCanvas=!1,this.drawingProperties=["displayOutline","displayDecoration","displayLabel","orderingArrow","displayStatusIcon"],this.containerProperties=["xmlCode","xmlStyle","startOffset","containerRotation"],this.selectionProperties=["selectionMode","selectionOrder"],this.sampleContainer=new SampleContainer,this.componentReady=new Subject.x,this.componentReady$=this.componentReady.asObservable(),this.drawFactory=new DrawFactory,this.displayOutline=!0,this.displayDecoration=!0,this.displayLabel=!0,this.vialSelection=!0,this.clearSelectionClickingOutside=!0,this.selectionMode=SelectionMode.Row,this.selectionOrder=SelectionOrder.Linear,this.orderingArrow=!1,this.xmlStyle=!1,this.allowMoveSelection=!1,this.displayContainerName=!1,this.displayStatusIcon=!0,this.zoom=!0,this.defaultSampleTextSize=100,this.displayConfirmationDialog=!0}static get styles(){return[COMMON_STYLES,SLYDINI_STYLES]}get selectedVials(){return this.sampleContainer.selectionController.selectedVials.map((v=>v.details))}get vials(){const list=[];return this.sampleContainer.vialsList.forEach((vial=>list.push(vial.details))),list.sort(((a,b)=>a.identifier.localeCompare(b.identifier,"en",{numeric:!0}))),list}firstUpdated(){var _this=this;return(0,asyncToGenerator.Z)((function*(){yield document.fonts.ready,_this.sampleStatusList.addAllSampleStatus(yield convertTool.loadIcons()),_this.handleVialSelectionChange(),_this.handleCustomColorPalette(),_this.handleCustomSampleTypes(),_this.handleCustomSampleStatus(),_this.drawSampleContainer(),_this.handleDisplayContainerName(),_this.initCanvasZoomEventListener(),_this.eventController.initEventListener(_this,_this.canvasTag),_this.resizeObserver=new ResizeObserver(_this.resizeContainer.bind(_this)),_this.resizeObserver.observe(_this.canvasTag),_this.componentReady.closed||(_this.componentReady.next(),_this.componentReady.unsubscribe())}))()}initCanvasZoomEventListener(){this.canvasTag.addEventListener("pointerleave",(event=>{"mouse"===event.pointerType&&(this.removeEventListener("pointerup",this.handleMouseUp),this.lastHoveredVial&&(this.lastHoveredVial.hovered=!1,this.dispatchEvent(createCustomEvent(SlydiniEvent.MOUSELEAVEVIAL,{mouseEvent:event,vial:this.lastHoveredVial.details})),this.refreshContainer(),this.lastHoveredVial=void 0),document.addEventListener("mouseup",this.handleMouseUpWhenMouseLeave.bind(this)),this.zoom&&(this.sampleContainer.zoomController.mouseLeave=!0,this.removeEventListener("mousemove",this.handleZoomMouseMove)))})),this.canvasTag.addEventListener("pointerenter",(event=>{"mouse"===event.pointerType&&(this.addEventListener("pointerup",this.handleMouseUp),document.removeEventListener("mouseup",this.handleMouseUpWhenMouseLeave.bind(this)),this.zoom&&(this.sampleContainer.zoomController.mouseLeave=!1,this.addEventListener("mousemove",this.handleZoomMouseMove)))}))}resizeContainer(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((()=>{this.drawFactory.drawShapes(this,this.sampleContainer,this.canvasTag),this.displayMoveIcon()}),100)}handleDropExternalVials(event){const currentVial=this.retrieveVialFromPointerPosition(event);this.dispatchEvent(createCustomEvent(SlydiniEvent.EXTERNALDROPVIALS,{vial:currentVial?.details,dragEvent:event}))}handleDragStart(event){const customEvent=new CustomEvent(SlydiniEvent.STARTDRAGVIALS,{composed:!0,bubbles:!0,cancelable:!0,detail:{vials:this.selectedVials}});if(this.removeEventListener("mousemove",this.handleMouseMove),!this.dispatchEvent(customEvent))return void event.preventDefault();const canvas=document.createElement("canvas"),dragImage=slydiniHelper.createTransparentDragImage(canvas);this.isDraggingVials=!0,this.isDragLeavingCanvas=!1,this.moveStartPosition=new Point(event.x,event.y),event.dataTransfer?.setData("text/vials",JSON.stringify(this.selectedVials)),event.dataTransfer?.setDragImage(dragImage,0,0),canvas.remove()}handleDragEnd(){this.isDraggingVials=!1,this.isDragLeavingCanvas&&(this.isDragLeavingCanvas=!1,this.removeEventListener("mousemove",this.handleMouseMove),this.refreshContainer())}handleMouseUpWhenMouseLeave(){this.removeEventListener("mousemove",this.handleMouseMove),this.drag=!1,this.refreshContainer()}handleCustomColorPalette(){this.colorPaletteTag=this.querySelector("awf-color-palette"),this.colorPaletteTag&&(this.colorPaletteTag.addEventListener(AwfEvent.VALUE_CHANGE,this.onColorValueChanged),this.colorPaletteTag.querySelectorAll("awf-color").forEach((color=>this.updateColorPalette(color.name,color.value))))}handleCustomSampleTypes(){this.sampleTypesTag=this.querySelector("awf-sample-types"),this.sampleTypesTag&&(this.sampleTypesTag.addEventListener(AwfEvent.VALUE_CHANGE,this.onSampleTypeValueChanged),this.sampleTypesTag.querySelectorAll("awf-color").forEach((color=>this.sampleTypes.updateSampleTypes(color.name,color.value))))}handleCustomSampleStatus(){this.sampleStatusTag=this.querySelector("awf-sample-status-list"),this.sampleStatusTag&&this.sampleStatusTag.querySelectorAll("awf-sample-status").forEach((sampleStatus=>{const svg=sampleStatus.querySelector("svg"),name=sampleStatus.getAttribute("name");svg&&this.sampleStatusList.updateSampleStatus(name,svg.outerHTML)}))}handleColorValueChanged(event){const customEvent=event;this.updateColorPalette(customEvent.detail.name,customEvent.detail.value),this.drawSampleContainer()}handleSelectAllViaControlA(){this.sampleContainer.selectionController.selectAllVials(this.sampleContainer.vialsList),this.refreshContainer()}handleSampleTypeValueChanged(event){const customEvent=event;this.sampleTypes.updateSampleTypes(customEvent.detail.name,customEvent.detail.value),this.drawSampleContainer()}handleMouseOver(event,dispatchEvents){if(!this.isTouch){const pointerEvent=event,currentVial=this.retrieveVialFromPointerPosition(pointerEvent);currentVial!==this.lastHoveredVial?this.handleHoverStateChanged(pointerEvent,dispatchEvents,currentVial):this.lastHoveredVial&&dispatchEvents&&this.dispatchEvent(createCustomEvent(SlydiniEvent.MOUSEOVERVIAL,{mouseEvent:event,vial:this.lastHoveredVial.details}))}}handleHoverStateChanged(event,dispatchEvents,currentVial){this.lastHoveredVial&&(this.lastHoveredVial.hovered=!1,dispatchEvents&&this.dispatchEvent(createCustomEvent(SlydiniEvent.MOUSELEAVEVIAL,{mouseEvent:event,vial:this.lastHoveredVial.details}))),currentVial&&(currentVial.hovered=!0,dispatchEvents&&this.dispatchEvent(createCustomEvent(SlydiniEvent.MOUSEENTERVIAL,{mouseEvent:event,vial:currentVial.details}))),this.refreshContainer(),this.lastHoveredVial=currentVial}updated(_changedProperties){this.updateDrawingProperties(_changedProperties),this.updateSelectionProperties(_changedProperties),this.updateContainerProperties(_changedProperties),this.updateContainerNameProperties(_changedProperties)}updateDrawingProperties(changedProperties){Array.from(changedProperties.keys()).some((e=>this.drawingProperties.includes(e.toString())))&&(this.drawFactory.updateOptions(this),this.drawFactory.draw(this,this.sampleContainer)),changedProperties.has("zoom")&&this.eventController.initZoomEventListener(this),changedProperties.has("defaultSampleTextSize")&&(this.sampleContainer.defaultSampleTextSize=this.defaultSampleTextSize,this.refreshContainer())}updateSelectionProperties(changedProperties){changedProperties.has("vialSelection")&&this.handleVialSelectionChange(),changedProperties.has("allowMoveSelection")&&this.displayMoveIcon()}updateContainerProperties(changedProperties){Array.from(changedProperties.keys()).some((e=>this.containerProperties.includes(e.toString())))&&this.drawSampleContainer(),Array.from(changedProperties.keys()).some((e=>this.selectionProperties.includes(e.toString())))&&(this.sampleContainer.selectionController.clearSelection(this.sampleContainer.vialsList),this.sampleContainer.selectionController.selectionMode=this.selectionMode,this.sampleContainer.selectionController.selectionOrder=this.selectionOrder,this.refreshContainer())}updateContainerNameProperties(changedProperties){(changedProperties.has("displayContainerName")||changedProperties.has("containerName")||changedProperties.has("containerNameVerticalPosition")||changedProperties.has("containerNameHorizontalPosition"))&&this.drawSampleContainer()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.colorPaletteTag&&this.colorPaletteTag.removeEventListener(AwfEvent.VALUE_CHANGE,this.onColorValueChanged),this.sampleTypesTag&&this.sampleTypesTag.removeEventListener(AwfEvent.VALUE_CHANGE,this.onSampleTypeValueChanged),this.resizeObserver?.disconnect()}setVialInfo(vialInfo){var _this2=this;return(0,asyncToGenerator.Z)((function*(){_this2.componentReady.closed||(yield function firstValueFrom(source,config){var hasConfig="object"==typeof config;return new Promise((function(resolve,reject){var subscriber=new Subscriber.Hp({next:function(value){resolve(value),subscriber.unsubscribe()},error:reject,complete:function(){hasConfig?resolve(config.defaultValue):reject(new EmptyError.K)}});source.subscribe(subscriber)}))}(_this2.componentReady$));const vial=_this2.sampleContainer.vialsList.find((v=>v.identifier===vialInfo.identifier));return!!vial&&(vial.setInfo(vialInfo,_this2,_this2.sampleTypes,_this2.sampleContainer.selectionController),_this2.refreshContainer(),!0)}))()}getVialInfo(identifier){return this.sampleContainer.vialsList.find((v=>v.identifier===identifier))?.details}handleDisplayContainerName(){this.containerNameHeader.innerText="",this.containerName&&""!==this.containerName?this.containerNameHeader.innerText=this.containerName:this.sampleContainer.dispatchXML?.displayName&&(this.containerNameHeader.innerText=this.sampleContainer.dispatchXML.displayName),this.displayContainerName?(this.containerNameHeader.style.display="block",this.containerNameHeader.style.textAlign=this.containerNameHorizontalPosition??"left"):this.containerNameHeader.style.display="none"}displayMoveIcon(){if(this.vialSelection&&this.allowMoveSelection&&this.selectedVials.length>0&&!this.isTouch){const topRightVial=this.sampleContainer.selectionController.getTopRightSelectedVial(),iconPosition=slydiniHelper.calculateIconPosition(topRightVial),backgroundColor=this.xmlStyle&&this.sampleContainer.dispatchXML?this.sampleContainer.dispatchXML.sampleContainerFillColor:this.colorPalette.defaultOutlineStyle.fillColor;this.moveIcon.style.stroke=ColorUtils.isColorLight(backgroundColor)?"":ColorUtils.AGILENT_GRAY_PALE_COLOR;const iconHeight=parseInt(getComputedStyle(this.moveIcon).getPropertyValue("height"),10),iconWidth=parseInt(getComputedStyle(this.moveIcon).getPropertyValue("width"),10);this.moveIcon.style.top=iconPosition.y-this.sampleContainer.zoomController.zoomOffset.y-iconHeight/2+"px",this.moveIcon.style.left=iconPosition.x-this.sampleContainer.zoomController.zoomOffset.x-iconWidth/2+"px",this.moveIcon.style.display="",this.moveIcon.style.visibility="visible"}else this.moveIcon.style.display="none",this.moveIcon.style.visibility="hidden"}handleVialSelectionChange(){this.removeEventListener("pointerdown",this.handleMouseDown),this.removeEventListener("pointerup",this.handleMouseUp),this.vialSelection?(this.addEventListener("pointerdown",this.handleMouseDown),this.addEventListener("pointerup",this.handleMouseUp)):this.clearSelectedVials()}handleMouseDown(event){this.mouseDownEvent=event,this.drag=!1,"mouse"!==this.mouseDownEvent.pointerType?(this.isTouch=!0,this.handleTouchPointerDown(event)):(this.isTouch=!1,0===this.mouseDownEvent.button?this.addEventListener("mousemove",this.handleMouseMove):2===this.mouseDownEvent.button&&(this.addEventListener("mousemove",this.handleRightClickMouseMove),this.sampleContainer.zoomController.startOffset.x=this.sampleContainer.zoomController.zoomOffset.x,this.sampleContainer.zoomController.startOffset.y=this.sampleContainer.zoomController.zoomOffset.y))}handleTouchPointerDown(event){this.eventController.eventCache.push(this.mouseDownEvent),this.sampleContainer.zoomController.setMouseOffsetFromTouch(this.eventController.eventCache),this.sampleContainer.zoomController.setStartOffset(),this.addEventListener("pointermove",this.handlePointerMove),!this.isInMultiselectTouchMode&&this.vialSelection&&this.eventController.eventCache.length<2&&(this.longPressTimer=setTimeout((()=>this.onLongPress()),1500))}handlePointerMove(event){this.drag||(this.drag=slydiniHelper.isDragging(event,this.mouseDownEvent,!0));const index=this.eventController.eventCache.findIndex((cachedEv=>cachedEv.pointerId===event.pointerId));this.eventController.eventCache[index]=event,2===this.eventController.eventCache.length&&(this.isZooming=!0,this.handlePinchedZoom()),this.drag&&(this.longPressTimer&&clearTimeout(this.longPressTimer),this.isInMultiselectTouchMode&&this.eventController.eventCache.length<2&&(event.preventDefault(),this.handleSelection(event,MultipleSelectionType.MultipleContinuous,!0)),this.sampleContainer.zoomController.canScrollInZoom(this.drag,this.isInMultiselectTouchMode,this.eventController.eventCache)&&(this.sampleContainer.zoomController.zoomOffset.x=this.sampleContainer.zoomController.startOffset.x+(this.mouseDownEvent.offsetX-event.offsetX),this.sampleContainer.zoomController.zoomOffset.y=this.sampleContainer.zoomController.startOffset.y+(this.mouseDownEvent.offsetY-event.offsetY),this.refreshContainer()))}onLongPress(){this.longPressedVial=this.retrieveVialFromPointerPosition(this.mouseDownEvent),this.longPressedVial&&(this.clearSelectedVials(),this.isInMultiselectTouchMode=!0,this.exitMultiselectChip.style.visibility="visible",this.sampleContainer.selectionController.selectSingleVial(this.longPressedVial,!1,!0),this.refreshContainer())}handleClearSelectionClickingOutside(){if(this.clearSelectionClickingOutside&&!this.eventController.isUserGrabbingOrMultiSelecting()){const offset=slydiniHelper.calculateContainerOffset(this.canvasTag,this.sampleContainer.zoomController.zoomOffset);this.sampleContainer.selectionController.clearSelectionIfOutsideVials(this.sampleContainer,new Point(this.mouseDownEvent.x,this.mouseDownEvent.y),offset)&&this.refreshContainer()}}clearSelectedVials(){this.sampleContainer.selectionController.clearSelection(this.sampleContainer.vialsList),this.refreshContainer()}handleMouseUp(event){this.removeEventListener("mousemove",this.handleMouseMove),this.removeEventListener("mousemove",this.handleRightClickMouseMove),this.removeEventListener("pointermove",this.handlePointerMove);const pointer=event;"mouse"!==this.mouseDownEvent.pointerType?this.handlePointerUp(pointer):slydiniHelper.isDragAndSelectVials(this.vialSelection,!this.drag,!this.isDraggingVials)&&0===pointer.button&&this.eventController.eventCache.length<2?(this.handleClearSelectionClickingOutside(),this.handleSelection(pointer,slydiniHelper.getSelectionType(pointer,this.eventController.isMacOs),!1)):2===pointer.button&&(document.body.style.cursor="default",this.drag||this.dispatchRightClickEvent(pointer))}handlePointerUpForPinch(){this.eventController.eventCache.length<2&&(this.previousDiff=-1),this.isZooming&&this.eventController.eventCache.length<1&&(this.isZooming=!1)}handlePointerUp(event){if(this.eventController.removeEvent(event),this.longPressTimer&&clearTimeout(this.longPressTimer),this.longPressedVial)this.longPressedVial=void 0;else{if(this.vialSelection&&!this.drag&&!this.isZooming)if(this.handleClearSelectionClickingOutside(),this.isInMultiselectTouchMode){const currentVial=this.retrieveVialFromPointerPosition(event);currentVial&&(this.sampleContainer.selectionController.selectSingleVial(currentVial),this.refreshContainer())}else this.handleSelection(event,slydiniHelper.getSelectionType(event,this.eventController.isMacOs),!1);this.drag=!1,this.handlePointerUpForPinch()}}handleMouseMove(event){const pointer=event;this.drag=slydiniHelper.isDragging(pointer,this.mouseDownEvent),slydiniHelper.isDragAndSelectVials(this.vialSelection,this.drag,!this.isDraggingVials)&&this.handleSelection(pointer,MultipleSelectionType.MultipleContinuous,this.eventController.isCtrlKeyDown)}handleRightClickMouseMove(event){const pointer=event;this.drag=slydiniHelper.isDragging(pointer,this.mouseDownEvent),this.drag&&this.sampleContainer.zoomController.zoomRatio>0&&(document.body.style.cursor="grabbing",this.sampleContainer.zoomController.zoomOffset.x=this.sampleContainer.zoomController.startOffset.x+(this.mouseDownEvent.x-pointer.x),this.sampleContainer.zoomController.zoomOffset.y=this.sampleContainer.zoomController.startOffset.y+(this.mouseDownEvent.y-pointer.y),this.refreshContainer())}handleSelection(event,selectionType,keepPreviousSelection){const offset=slydiniHelper.calculateContainerOffset(this.canvasTag,this.sampleContainer.zoomController.zoomOffset),eventPoint=new Point(event.x,event.y);if(this.drag){const mouseDownVial=this.retrieveVialFromPointerPosition(this.mouseDownEvent);mouseDownVial&&this.sampleContainer.selectionController.lastSelectedVial!==mouseDownVial&&(this.sampleContainer.selectionController.lastSelectedVial=mouseDownVial)}this.retrieveVialFromPointerPosition(event)&&(this.sampleContainer.selectionController.selectVial(this.sampleContainer,eventPoint,offset,selectionType,keepPreviousSelection),this.drawFactory.draw(this,this.sampleContainer)),this.exitMultiselectChip.label=this.selectedVials.length.toString(),this.displayMoveIcon()}handleMoveSelectedVials(event){this.moveIcon.style.display="none",this.moveIcon.style.visibility="hidden";const vialAtCurrentPosition=this.sampleContainer.selectionController.getVialAtCurrentPositionWhenMoving(this.sampleContainer,new Point(event.x,event.y),this.moveStartPosition),deltaX=(event.x-this.moveStartPosition.x)/this.sampleContainer.globalRatio,deltaY=(event.y-this.moveStartPosition.y)/this.sampleContainer.globalRatio;this.drawFactory.draw(this,this.sampleContainer,!0,deltaX,deltaY,vialAtCurrentPosition),vialAtCurrentPosition!==this.lastMovePosition&&(this.lastMovePosition=vialAtCurrentPosition,this.lastCanDropValue=this.sampleContainer.selectionController.lastCanDropValue&&void 0!==vialAtCurrentPosition,this.dispatchDragEvent(vialAtCurrentPosition,this.sampleContainer.selectionController.destinationVials)),event.dataTransfer?.types.includes("text/vials")&&(event.dataTransfer.dropEffect=this.lastCanDropValue?"move":"none")}dispatchDragEvent(currentPosition,destinationVials){if(currentPosition){const customEvent=new CustomEvent(SlydiniEvent.DRAGVIALS,{composed:!0,bubbles:!0,cancelable:!0,detail:{sourceVials:this.selectedVials,destinationVials:destinationVials.map((v=>v.details))}});this.dispatchEvent(customEvent)||(this.lastCanDropValue=!1)}}dispatchDropEvent(){this.dispatchEvent(createCustomEvent(SlydiniEvent.DROPVIALS,{sourceVials:this.selectedVials,destinationVials:this.sampleContainer.selectionController.destinationVials.map((v=>v.details))}))}dispatchRightClickEvent(event){const currentVial=this.retrieveVialFromPointerPosition(event);currentVial?currentVial.selected?this.dispatchEvent(createCustomEvent(SlydiniEvent.RIGHTCLICKSELECTION,{vial:currentVial.details,selection:this.selectedVials,mouseEvent:event})):this.dispatchEvent(createCustomEvent(SlydiniEvent.RIGHTCLICKVIAL,{vial:currentVial.details,mouseEvent:event})):this.dispatchEvent(createCustomEvent(SlydiniEvent.RIGHTCLICKCONTAINER,{mouseEvent:event}))}handleDropSelection(){this.lastCanDropValue?this.displayConfirmationDialog?this.sampleContainer.selectionController.checkDestinationVialsAreEmpty()||this.sampleContainer.selectionController.isMovingToSamePosition?this.selectVialsAfterMoving():(this.removeEventListener("pointerdown",this.handleMouseDown),this.moveSelectionDialogContainer.openModal()):(this.dispatchDropEvent(),this.refreshContainer()):this.refreshContainer()}handleScroll(event){let delta=0;if(this.sampleContainer.ctx){if("keydown"===event.type&&(this.eventController.zoomAction===ZoomAction.ZoomIn?delta=-120:this.eventController.zoomAction===ZoomAction.ZoomOut&&(delta=120)),"DOMMouseScroll"===event.type||"mousewheel"===event.type){const wheelEvent=event;delta=wheelEvent.deltaY,this.sampleContainer.zoomController.setMouseOffset(wheelEvent.offsetX,wheelEvent.offsetY)}this.sampleContainer.zoomController.executeZoom(delta,this.canvasTag,this.sampleContainer.ratioDefault),this.refreshContainer(),event.preventDefault()}}handlePinchedZoom(){const currentDiff=Math.abs(this.eventController.eventCache[0].offsetX-this.eventController.eventCache[1].offsetX);if(this.previousDiff>0){let delta=10;currentDiff>this.previousDiff&&(delta=-delta),this.sampleContainer.zoomController.executeZoom(delta,this.canvasTag,this.sampleContainer.ratioDefault),this.refreshContainer()}this.previousDiff=currentDiff}handleZoomMouseMove(event){const pointer=event;this.sampleContainer.zoomController.setMouseOffset(pointer.offsetX,pointer.offsetY)}selectVialsAfterMoving(){this.dispatchDropEvent(),this.sampleContainer.selectionController.selectDestinationVials(),this.refreshContainer()}render(){const moveSelectionModalElement=lit.dy`<awf-modal class="moveSelectionDialogContainer"><awf-modal-dialog header="Confirmation" class="moveSelectionDialog" slot="content">
                ${" Samples are already defined in this location. Do you want to continue and replace them?"}
                <awf-button class="cancel-button" actions @click=${this.onCancelMoveSelectionDialog} type=${ButtonType.Secondary}
                    >Cancel</awf-button
                >
                <awf-button class="confirm-button" actions @click=${this.onConfirmMoveSelectionDialog} type=${ButtonType.Primary}
                    >Confirm</awf-button
                >
            </awf-modal-dialog></awf-modal>`,xmlValidationModalElement=lit.dy`<awf-modal class="xmlValidationDialogContainer">
                <awf-modal-dialog class="xmlValidationDialog" showclosebutton @close=${this.onCloseModalDialog}  slot="content"
            >${"File cannot be loaded"}</awf-modal-dialog></awf-modal>`,moveIconElement=lit.dy`<awf-icon draggable="true" class="moveIcon" raw=${'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="grabber">\n<g>\n\t<circle cx="10" cy="6" r="1"></circle>\n\t<circle cx="14" cy="6" r="1"></circle>\n\t<circle cx="10" cy="10" r="1"></circle>\n\t<circle cx="14" cy="10" r="1"></circle>\n\t<circle cx="10" cy="14" r="1"></circle>\n\t<circle cx="14" cy="14" r="1"></circle>\n\t<circle cx="10" cy="18" r="1"></circle>\n\t<circle cx="14" cy="18" r="1"></circle>\n</g>\n</svg>'}></awf-icon>`,exitMultiselectChip=lit.dy`<awf-chip class="exit-multiselect" label=${this.selectedVials.length} removeable> </awf-chip>`;return"top"===this.containerNameVerticalPosition?lit.dy`
                <h3 class="container-name"></h3>
                <div id="sample-container">
                    <canvas></canvas>${moveIconElement}${exitMultiselectChip}
                </div>
                ${xmlValidationModalElement} ${moveSelectionModalElement}`:lit.dy`
                <div id="sample-container">
                    <canvas></canvas>${moveIconElement}${exitMultiselectChip}
                </div>
                <h3 class="container-name"></h3>
                ${xmlValidationModalElement} ${moveSelectionModalElement}`}handleExitMultiselect(){this.isInMultiselectTouchMode=!1,this.exitMultiselectChip.style.visibility="hidden",1===this.eventController.eventCache.length&&this.eventController.removeEvent(this.eventController.eventCache[0]),this.addEventListener("pointerup",this.handleMouseUp)}onCloseModalDialog(){this.modal.closeModal()}onCancelMoveSelectionDialog(){this.moveSelectionDialogContainer.closeModal(),this.addEventListener("pointerdown",this.handleMouseDown),this.refreshContainer()}onConfirmMoveSelectionDialog(){this.moveSelectionDialogContainer.closeModal(),this.addEventListener("pointerdown",this.handleMouseDown),this.selectVialsAfterMoving()}updateColorPalette(name,value){isColor(value)&&(name===ColorPalette.CONTAINER_NAME_COLOR?this.containerNameHeader.style.color=value:this.colorPalette.colorPaletteMap.has(name)&&this.colorPalette.colorPaletteMap.set(name,value))}refreshContainer(){this.drawFactory.draw(this,this.sampleContainer),this.displayMoveIcon(),this.exitMultiselectChip.label=this.selectedVials.length.toString()}retrieveVialFromPointerPosition(event){const offset=slydiniHelper.calculateContainerOffset(this.canvasTag,this.sampleContainer.zoomController.zoomOffset);return this.sampleContainer.selectionController.getVialFromCoordinates(this.sampleContainer,new Point(event.x,event.y),offset)}drawSampleContainer(){this.sampleContainer.ctx?.clearRect(0,0,this.sampleContainer.ctx.canvas.width,this.sampleContainer.ctx.canvas.height),this.sampleContainer=new SampleContainer;const{xmlParsed,xmlNode}=function getxmlParsedXmlNode(codeXml,anyDocument){const node=anyDocument.createElement("xml");null!=codeXml&&(node.innerHTML=codeXml);const xmlNode=function formatXML(nodeXML){if(!nodeXML)return null;if(nodeXML.innerHTML){const newNodeXML=nodeXML.cloneNode();return newNodeXML.innerHTML=nodeXML.innerHTML.trim().replace(/&lt;/g,"<").replace(/&amp;lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;gt;/g,">").replace(/&quot;/g,'"'),newNodeXML}return nodeXML}(node);return{xmlParsed:parseXML(xmlNode),xmlNode}}(this.xmlCode,document);this.nodeXML=xmlNode??this.nodeXML;const parseResult=slydiniHelper.parseXmlCode(xmlParsed,this.modal,this.modalDialog);null!==parseResult&&(this.sampleContainer.colorPalette=this.colorPalette,this.sampleContainer.sampleTypes=this.sampleTypes,this.sampleContainer.sampleStatusList=this.sampleStatusList,this.sampleContainer.init(parseResult,this),sampleContainerFactory.fillSampleContainer(this.sampleContainer),this.drawFactory.updateOptions(this),this.drawFactory.drawShapes(this,this.sampleContainer,this.canvasTag)),this.displayMoveIcon(),this.handleDisplayContainerName()}};(0,tslib_es6.gn)([(0,decorators.SB)()],AwfSlydini.prototype,"onColorValueChanged",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"displayOutline",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"displayDecoration",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"displayLabel",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"vialSelection",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"clearSelectionClickingOutside",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:SelectionMode,reflect:!0})],AwfSlydini.prototype,"selectionMode",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:SelectionOrder,reflect:!0})],AwfSlydini.prototype,"selectionOrder",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"orderingArrow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSlydini.prototype,"xmlCode",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"xmlStyle",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number,reflect:!0})],AwfSlydini.prototype,"startOffset",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"allowMoveSelection",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"displayContainerName",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSlydini.prototype,"containerName",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSlydini.prototype,"containerNameVerticalPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSlydini.prototype,"containerNameHorizontalPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"displayStatusIcon",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"zoom",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number,reflect:!0})],AwfSlydini.prototype,"defaultSampleTextSize",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number,reflect:!0})],AwfSlydini.prototype,"containerRotation",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSlydini.prototype,"displayConfirmationDialog",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-modal.xmlValidationDialogContainer")],AwfSlydini.prototype,"modal",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-modal-dialog.xmlValidationDialog")],AwfSlydini.prototype,"modalDialog",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-modal.moveSelectionDialogContainer")],AwfSlydini.prototype,"moveSelectionDialogContainer",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-modal-dialog.moveSelectionDialog")],AwfSlydini.prototype,"moveSelectionDialog",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("h3.container-name")],AwfSlydini.prototype,"containerNameHeader",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("canvas")],AwfSlydini.prototype,"canvasTag",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-chip.exit-multiselect")],AwfSlydini.prototype,"exitMultiselectChip",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-icon.moveIcon")],AwfSlydini.prototype,"moveIcon",void 0),AwfSlydini=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-slydini",!0)],AwfSlydini);let AwfSampleTypesSlydini=class AwfSampleTypesSlydini extends lit.oi{render(){return lit.dy``}};AwfSampleTypesSlydini=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-sample-types",!0)],AwfSampleTypesSlydini);let AwfSampleStatusSlydini=class AwfSampleStatusSlydini extends lit.oi{render(){return lit.dy``}};(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSampleStatusSlydini.prototype,"name",void 0),AwfSampleStatusSlydini=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-sample-status",!0)],AwfSampleStatusSlydini);let AwfSampleStatusSlydiniList=class AwfSampleStatusSlydiniList extends lit.oi{render(){return lit.dy``}};AwfSampleStatusSlydiniList=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-sample-status-list",!0)],AwfSampleStatusSlydiniList);const SPINNER_CSS_VARIABLES=lit.iv`
    :host {
        /* Spinner Measurements */
        --awf-spinner-size-inner: var(--awf-spinner-size, 80px);
        --awf-spinner-border-width-inner: var(--awf-spinner-border-width, 4px);
        --awf-spinner-small-size-inner: var(--awf-spinner-small-size, 40px);
        --awf-spinner-small-border-width-inner: var(--awf-spinner-small-border-width, 3px);

        /* Spinner Colors */
        --awf-spinner-border-background-color-inner: var(--awf-spinner-border-background-color, var(--at-gray-extra-pale));
        --awf-spinner-border-color-inner: var(--awf-spinner-border-color, var(--at-dark-navy));
    }
`,SPINNER_STYLES=lit.iv`
    :host {
        display: inline-block;
        width: var(--awf-spinner-size-inner);
        height: var(--awf-spinner-size-inner);
    }

    :host([onBackground='white'][navy]) {
        --awf-spinner-border-background-color-inner: var(--at-gray-extra-pale);
    }

    :host([onBackground='periwinkle'][navy]) {
        --awf-spinner-border-background-color-inner: var(--at-periwinkle-light);
    }

    :host([onBackground='blue-luminous'][navy]) {
        --awf-spinner-border-background-color-inner: var(--at-white);
    }

    div {
        width: var(--awf-spinner-size-inner);
        height: var(--awf-spinner-size-inner);
        border: var(--awf-spinner-border-width-inner) solid var(--awf-spinner-border-background-color-inner);
        box-sizing: border-box;
        border-top: var(--awf-spinner-border-width-inner) solid var(--awf-spinner-border-color-inner);
        border-radius: 50%;
        animation: spin 1.1s linear infinite, color-change 3.3s linear infinite;
    }

    :host([small]) div {
        width: var(--awf-spinner-small-size-inner);
        height: var(--awf-spinner-small-size-inner);
        border: var(--awf-spinner-small-border-width-inner) solid var(--awf-spinner-border-background-color-inner);
        border-top: var(--awf-spinner-small-border-width-inner) solid var(--awf-spinner-border-color-inner);
    }

    :host([navy]) div {
        animation: spin 1.1s linear infinite;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes color-change {
        100%,
        0%,
        28% {
            border-top-color: var(--at-blue);
        }
        33%,
        62% {
            border-top-color: var(--at-blue-midtone);
        }
        67%,
        95% {
            border-top-color: var(--at-blue-dark);
        }
    }
`;var AwfSpinnerBackground;!function(AwfSpinnerBackground){AwfSpinnerBackground.WHITE="white",AwfSpinnerBackground.PERIWINKLE="periwinkle",AwfSpinnerBackground.BLUELUMINOUS="blue-luminous"}(AwfSpinnerBackground||(AwfSpinnerBackground={}));let AwfSpinner=class AwfSpinner extends lit.oi{constructor(){super(...arguments),this.navy=!1,this.small=!1,this.onBackground=AwfSpinnerBackground.WHITE}render(){return lit.dy`<div></div>`}};AwfSpinner.styles=[COMMON_STYLES,SPINNER_CSS_VARIABLES,SPINNER_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSpinner.prototype,"navy",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfSpinner.prototype,"small",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfSpinner.prototype,"onBackground",void 0),AwfSpinner=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-spinner",!0)],AwfSpinner);const STEPPER_CSS_VARIABLES=lit.iv`
    :host {
        --awf-stepper-height-inner: var(--awf-stepper-height, 32px);
    }
`,STEP_CSS_VARIABLES=lit.iv`
    :host {
        --awf-step-background-color-inner: var(--awf-step-background-color, var(--at-white));
        --awf-step-border-color-inner: var(--awf-step-border-color, var(--at-gray));
        --awf-step-font-size-inner: var(--awf-step-font-size, 0.875rem);
        --awf-step-icon-size-inner: var(--awf-step-icon-size, 24px);
        --awf-step-text-color-inner: var(--awf-step-text-color, var(--at-dark-navy));
    }
`,STEP_STYLES=lit.iv`
    :host {
        --awf-icon-color: var(--at-dark-navy);
        --awf-step-border-width-inner: calc(1.5 * var(--awf-stepper-height-inner, 32px) / 32);

        display: flex;
        align-items: center;
        flex: 1 1 0px;
        height: 100%;
        width: 100%;
        max-width: 100%;
        min-width: 0;
        margin: 0 calc(-6 * var(--awf-stepper-height-inner, 32px) / 32);
        color: var(--awf-step-text-color-inner);
    }

    :host(:first-of-type) {
        margin-left: 0;
        border-left: var(--awf-step-border-width-inner, 1.5px) solid var(--awf-step-border-color-inner);
    }

    :host(:first-of-type) .prefix {
        display: none;
    }

    :host(:last-of-type) {
        margin-right: 0;
        border-right: var(--awf-step-border-width-inner, 1.5px) solid var(--awf-step-border-color-inner);
    }

    :host(:last-of-type) .postfix {
        display: none;
    }

    .stretch-area {
        position: relative;
        display: flex;
        flex-grow: 1;
        height: 100%;
        background: var(--awf-step-background-color-inner);
    }

    .content {
        position: absolute;
        display: flex;
        flex-grow: 1;
        height: 100%;
        width: 100%;
        line-height: 20px;
        align-items: center;
        gap: 8px;
        box-sizing: border-box;
        padding: 0 8px;
    }

    .background {
        position: absolute;
        display: flex;
        flex: 1 1 0px;
        height: 100%;
        width: 100%;
        max-width: 100%;
        min-width: 0;
        left: 0;
        align-items: center;
    }

    .prefix {
        display: flex;
        flex: 0 0 auto;
        height: 100%;
        margin-right: -1px;
    }

    .postfix {
        display: flex;
        flex: 0 0 auto;
        height: 100%;
        margin-left: -1px;
    }

    svg {
        width: 100%;
        height: 100%;
    }

    awf-icon {
        min-width: 16px;
        max-width: 16px;
        --awf-icon-size: 16px;
    }

    .text {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: var(--awf-step-font-size-inner);
    }

    ::slotted([slot='icon']) {
        max-height: 100%;
        max-width: var(--awf-step-icon-size-inner);
        --awf-spinner-size: 16px;
        --awf-spinner-border-width: 2px;
        --awf-icon-size: var(--awf-step-icon-size-inner);
        --awf-icon-color: var(--at-dark-navy);
    }

    :host([selected]) {
        --awf-step-background-color: var(--at-blue-medium);
        --awf-step-border-color: var(--at-blue-shade);
        --awf-step-text-color: var(--at-dark-navy);
    }

    :host([previewed]:not([selected]):not(:hover)) {
        --awf-step-background-color: var(--at-blue-soft);
        --awf-step-border-color: var(--at-gray);
        --awf-step-text-color: var(--at-dark-navy);
    }
    :host(:hover) {
        --awf-step-background-color: var(--at-blue-soft);
        --awf-step-border-color: var(--at-blue-shade);
        --awf-step-text-color: var(--at-dark-navy);
    }

    :host([disabled]) {
        --awf-step-background-color: var(--at-white);
        --awf-step-border-color: var(--at-gray);
        --awf-step-text-color: var(--at-gray);

        pointer-events: none;
    }

    :host([disabled]) ::slotted([slot='icon']) {
        --awf-icon-color: var(--at-gray);
    }
`;var StepStatus;!function(StepStatus){StepStatus.COMPLETED="completed",StepStatus.PROGRESSING="progressing",StepStatus.WARNING="warning",StepStatus.ERROR="error",StepStatus.SKIPPED="skipped"}(StepStatus||(StepStatus={}));const STEP_STATUS_ICON_MAPPING=new Map([[StepStatus.COMPLETED,'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-success-filled-green-solid">\n<circle fill="#75C335" cx="8" cy="8" r="7"></circle>\n<polygon fill="#FFFFFF" points="6.5,9.5 5,8 3.9,9.1 6.5,11.6 12.1,6.1 11,5 "></polygon>\n</svg>'],[StepStatus.PROGRESSING,'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-acquiring-in-progress-solid">\n<circle fill="#FFFFFF" cx="8" cy="8" r="7"></circle>\n<path fill="#4780EA" d="M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M8,2c3.3,0,6,2.7,6,6H2C2,4.7,4.7,2,8,2z"></path>\n</svg>'],[StepStatus.WARNING,agSampleStatusIndicatorWarningFilledYellowSolid],[StepStatus.ERROR,agSampleStatusIndicatorErrorFilledRedSolid],[StepStatus.SKIPPED,agSampleStatusIndicatorSkippedSolid]]);let AwfStep=class AwfStep extends lit.oi{constructor(){super(...arguments),this.selected=!1,this.previewed=!1,this.disabled=!1}static get styles(){return[COMMON_STYLES,STEPPER_CSS_VARIABLES,STEP_CSS_VARIABLES,STEP_STYLES]}render(){return lit.dy` <div class="prefix">
                <svg viewBox="0 0 11 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 24 H11 V0 H0 L9 12 L0 24 Z" fill="var(--awf-step-background-color-inner)" />
                    <path d="M11 0.5 H1 L9.4 12 L1 23.5 H11" stroke="var(--awf-step-border-color-inner)" />
                </svg>
            </div>
            <div class="stretch-area">
                <div class="content">
                    <slot name="icon">${this.renderIcon()}</slot>
                    <div class="text">
                        <slot @slotchange=${this.handleSlotChange}></slot>
                    </div>
                </div>
                <div class="background">
                    <svg viewBox="0 0 16 24" preserveAspectRatio="none" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 0 H16 M 0 24 H16 Z" stroke="var(--awf-step-border-color-inner)" stroke-width="2" />
                    </svg>
                </div>
            </div>
            <div class="postfix">
                <svg viewBox="0 0 11 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 0 L10 12 L1 24 H0 V0 H1 Z" fill="var(--awf-step-background-color-inner)" />
                    <path d="M0 23.5 H1 L9.4 12 L1 0.5 L0 0.5" stroke="var(--awf-step-border-color-inner)" />
                </svg>
            </div>`}updated(changes){changes.has("disabled")&&(this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled"))}renderIcon(){if(!this.status)return lit.dy``;const iconName=STEP_STATUS_ICON_MAPPING.get(this.status)??"";return lit.dy`<awf-icon raw=${iconName}></awf-icon>`}handleSlotChange(){const target=this.shadowRoot.querySelector("slot:not([name])");target&&moveElementsIntoSlot(target,"awf-icon","icon")}};(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfStep.prototype,"status",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfStep.prototype,"selected",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfStep.prototype,"previewed",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfStep.prototype,"disabled",void 0),AwfStep=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-step",!0)],AwfStep);let AwfTabPanel=class AwfTabPanel extends lit.oi{constructor(){super(...arguments),this.selected=!1,this.value="",this.defaultPanel=!1}render(){return lit.dy` <slot></slot> `}firstUpdated(){this.tabIndex=0,this.setAttribute("role","tab")}updated(changes){super.updated(changes),changes.has("selected")&&(this.selected?(this.removeAttribute("aria-hidden"),this.tabIndex=0):(this.setAttribute("aria-hidden","true"),this.tabIndex=-1))}};AwfTabPanel.styles=[COMMON_STYLES,lit.iv`
            :host {
                display: flex;
                padding: 10px;
            }

            :host(:not([selected])) {
                display: none;
            }
        `],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTabPanel.prototype,"selected",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfTabPanel.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTabPanel.prototype,"defaultPanel",void 0),AwfTabPanel=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-tab-panel",!0)],AwfTabPanel);const TAB_CSS_VARIABLES=lit.iv`
    :host {
        --awf-tab-height-inner: var(--awf-tab-height, 32px);
        --awf-tab-font-size-inner: var(--awf-tab-font-size, 14px);
        --awf-tab-padding-inner: var(--awf-tab-padding, 0 8px);
        --awf-tab-width-inner: var(--awf-tab-width, auto);
    }
`,TAB__STYLES=lit.iv`
    :host {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        user-select: none;
        box-sizing: border-box;
        height: var(--awf-tab-height-inner);
        max-width: 250px;

        transition-property: background-color;
        transition: var(--transition-duration) var(--transition-timing-function);
    }

    .content {
        align-items: center;
        box-sizing: border-box;
        display: grid;
        font-size: var(--awf-tab-font-size-inner);
        grid-template-columns: auto 1fr auto;
        height: 100%;
        padding: var(--awf-tab-padding-inner);
        width: 100%;
    }

    :host(:not([disabled])) .content {
        cursor: pointer;
    }

    :host([disabled]) {
        --awf-icon-color: var(--at-gray);
        cursor: not-allowed;
    }

    :host([disabled]) ::slotted(:not([slot])) {
        color: var(--at-gray);
    }

    ::slotted(:not([slot])) {
        color: var(--at-dark-navy);
        cursor: inherit;
        grid-column: 2;
        line-height: 24px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    :host([label]) ::slotted([slot=prefix]) {
        padding: 0 8px 0 0;
    }

    :host([selected]:not([disabled])) {
        background-color: var(--at-blue-medium);
    }

    ::slotted([slot=prefix]) {
        grid-column: 1;
    }

    ::slotted([slot=suffix]) {
        padding-left: 8px;
        grid-column: 3;
    }

    ::slotted([slot=prefix][showOnHover]),
    ::slotted([slot=suffix][showOnHover]) {
        visibility: hidden;
    }

    :host(:hover) ::slotted([slot=prefix][showOnHover]),
    :host(:hover) ::slotted([slot=suffix][showOnHover]) {
        visibility: visible;
    }

`;let AwfTab=class AwfTab extends lit.oi{constructor(){super(...arguments),this.selected=!1,this.value="",this.disabled=!1}static get styles(){return[COMMON_STYLES,TAB_CSS_VARIABLES,TAB__STYLES]}render(){return lit.dy` <div class="content">
            <slot name="prefix"></slot>
            <slot></slot>
            <slot name="suffix"></slot>
        </div>`}firstUpdated(){this.setAttribute("role","tab")}updated(changes){changes.has("selected")&&(this.setAttribute("aria-selected",`${this.selected}`),this.tabIndex=this.selected?0:-1),changes.has("disabled")&&(this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled"))}};(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTab.prototype,"selected",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfTab.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTab.prototype,"disabled",void 0),AwfTab=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-tab",!0)],AwfTab);const TOGGLE_STYLES=lit.iv`
    :host {
        --awf-toggle-button-background-inner: var(--at-gray-medium);
        --awf-toggle-button-border-color-inner: var(--at-dark-navy);
        --awf-toggle-slider-background-inner: var(--at-gray-soft);
        --awf-toggle-slider-border-color-inner: transparent;

        display: inline-flex;
        align-items: center;
    }

    :host([dark]) {
        --awf-toggle-slider-background-inner: var(--at-navy-soft);
        --awf-toggle-button-background-inner: var(--at-gray-medium);
        --awf-toggle-button-border-color-inner: var(--at-dark-navy);
    }

    ::slotted(input[type='checkbox']) {
        width: 0;
    }

    ::slotted(label) {
        position: relative;
        cursor: var(--awf-toggle-cursor-inner, pointer);
        font-size: 14px;
        color: var(--at-dark-navy);
        height: 20px;
        display: inline-flex;
        align-items: center;
        padding-right: 36px;
    }

    ::slotted(label:not(:empty)) {
        padding-right: 50px;
    }

    :host([labelPosition=right]) ::slotted(label:not(:empty)) {
        padding-left: 50px;
    }

    ::slotted(label):before {
        position: absolute;
        background-color: var(--awf-toggle-slider-background-inner);
        border:1px solid var(--awf-toggle-slider-border-color-inner);
        box-sizing: border-box;
        border-radius: 19px;
        content: '';
        width: 36px;
        height: 20px;
        right: 0px;
    }

    ::slotted(label):after {
        position: absolute;
        content: '';
        height: 18px;
        width: 18px;
        background-color: var(--awf-toggle-button-background-inner);
        border: 1px solid var(--awf-toggle-button-border-color-inner);
        border-radius: 50%;

        transition: transform var(--transition-duration) var(--transition-timing-function);
        right: 16px;
    }
    :host([checked]) ::slotted(label):after {
        transform: translateX(16px);
        transition: transform var(--transition-duration) var(--transition-timing-function);
    } 

    :host([labelPosition=right]) ::slotted(label):before,
    :host([labelPosition=right]) ::slotted(label):after {
        left: 0;
    }

    :host([checked]) ::slotted(label) {
        --awf-toggle-button-background-inner: var(--at-blue-shade);
        --togle-button-border-color: var(--at-dark-navy);
    }

    :host([disabled]) ::slotted(label) {
        --awf-toggle-slider-background-inner: var(--at-gray-pale);
        --awf-toggle-button-background-inner: var(--at-gray-soft);
        --awf-toggle-button-border-color-inner: var(--at-gray);
        --awf-toggle-cursor-inner: not-allowed;
        color: var(--at-gray);
    }

    :host([disabled][checked]) ::slotted(label) {
        --awf-toggle-button-background-inner: var(--at-blue-luminous);
        --awf-toggle-button-border-color-inner: var(--at-gray); 
        --awf-toggle-slider-background-inner: var(--at-gray-pale);
        color: var(--at-gray);
    } 

    :host([dark][checked]) ::slotted(label) {
        --awf-toggle-button-background-inner: var(--at-blue-shade);
        --awf-toggle-button-border-color-inner: var(--at-dark-navy);
        --awf-toggle-slider-background-inner: var(--at-navy-soft);
        color: var(--at-dark-navy);
    } 

    :host([dark][disabled]) ::slotted(label) {
        --awf-toggle-slider-background-inner: var(--at-blue-pale-luminous);
        --awf-toggle-button-background-inner: var(--at-gray-soft);
        --awf-toggle-button-border-color-inner: var(--at-gray);
    }

    :host([dark][disabled][checked]) ::slotted(label) {
        --awf-toggle-button-background-inner: var(--at-blue-soft);
        --awf-toggle-button-border-color-inner: var(--at-gray); 
        --awf-toggle-slider-background-inner: var(--at-blue-pale-luminous);
        color: var(--at-gray);
    }

    :host(.focused) ::slotted(label),
    :host([dark].focused) ::slotted(label) {
        --awf-toggle-slider-border-color-inner: var(--at-blue-shade);
        color: var(--at-blue-shade);
    }

    :host(:hover:not([disabled])) ::slotted(label) {
        --awf-toggle-slider-background-inner: var(--at-blue-soft);
    }
`;let AwfToggle=class AwfToggle extends lit.oi{constructor(){super(...arguments),this.dark=!1,this.labelPosition="left",this.checked=!1,this.disabled=!1}render(){return lit.dy`<slot @slotchange=${this.slotChange}></slot>`}slotChange(){const[input]=this.inputNodes,[label]=this.labelNodes;input&&(input!==this.input&&(this.input=input,input.type="checkbox",input.id||(input.id="checkbox"),this.reflectAttributes(input)),this.moveLabelIfNeeded(input,label))}moveLabelIfNeeded(input,label){label||(label=document.createElement("label")).setAttribute("for",input?.id),input.nextElementSibling!==label&&input.after(label)}reflectAttributes(input){this.mutationObserver?.disconnect(),this.mutationObserver=reflectAttributes(input,this,["checked","disabled"]);const reflectCheckedAttribute=()=>{input.checked?this.setAttribute("checked",""):this.removeAttribute("checked")};listenPropertyChangeWithCallback(input,reflectCheckedAttribute,"checked"),input.addEventListener("change",reflectCheckedAttribute),input.addEventListener("focus",(()=>this.classList.add("focused"))),input.addEventListener("blur",(()=>this.classList.remove("focused")))}};AwfToggle.styles=[COMMON_STYLES,TOGGLE_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfToggle.prototype,"dark",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfToggle.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfToggle.prototype,"checked",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfToggle.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"label"})],AwfToggle.prototype,"labelNodes",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input"})],AwfToggle.prototype,"inputNodes",void 0),AwfToggle=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-toggle",!0)],AwfToggle);const WIDGET_CONTAINER_CSS_VARIABLES=lit.iv`
    :host {
        /* Widget Container Measurements */
        --awf-widget-container-content-padding-inner: var(--awf-widget-container-content-padding, 8px);
        --awf-widget-container-header-padding-inner: var(--awf-widget-container-header-padding, 8px);
        --awf-widget-container-height-inner: var(--awf-widget-container-height, 100%);
        --awf-widget-container-border-color-inner: var(--awf-widget-container-border-color, var(--at-gray-soft));
    }
`,WIDGET_CONTAINER_STYLES=lit.iv`
    :host {
        background-color: var(--at-white);
        width: 100%;
        height: var(--awf-widget-container-height-inner);
        box-sizing: border-box;
        border: 1px solid var(--at-gray-soft);
    }

    .header {
        height: 40px;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-sizing: border-box;
        border-bottom: 4px solid var(--module-status-color, transparent);
        font-size: 16px;
        padding: var(--awf-widget-container-header-padding-inner);
    }

    :host(:not([status])) .header {
        border-bottom: 1px solid var(--awf-widget-container-border-color-inner);
    }

    slot[name='context'] {
        font-size: 14px;
    }

    .body {
        width: 100%;
        height: calc(var(--awf-widget-container-height-inner) - 40px);
        padding: var(--awf-widget-container-content-padding-inner);
        box-sizing: border-box;
    }
`;let AwfWidgetContainer=class AwfWidgetContainer extends lit.oi{constructor(){super(...arguments),this.noHeader=!1}render(){return this.determineStatusColor(),lit.dy`${this.getHeader()}
            <div class="body"><slot></slot></div>`}updated(){this.determineGridArea()}determineStatusColor(){if(this.status){const color=STATUS_COLOR_MAPPING.get(this.status)??"var(--at-violet)";this.style.setProperty("--module-status-color",color)}}getHeader(){if(this.noHeader)return lit.dy``;let headerContent=lit.dy`<slot name="header"></slot>`;return this.header&&(headerContent=lit.dy`${this.header}`),lit.dy`<div class="header">
            ${headerContent}
            <slot name="context"></slot>
        </div>`}determineGridArea(){const columnStart=this.getStart("column"),columnEnd=this.getEnd("columnSpan"),rowStart=this.getStart("row"),rowEnd=this.getEnd("rowSpan");this.style.gridRowStart=rowStart,this.style.gridRowEnd=rowEnd,this.style.gridColumnStart=columnStart,this.style.gridColumnEnd=columnEnd}getStart(prop){return this[prop]?`${this[prop]}`:"auto"}getEnd(prop){return this[prop]?`span ${this[prop]}`:"auto"}};AwfWidgetContainer.styles=[COMMON_STYLES,WIDGET_CONTAINER_CSS_VARIABLES,WIDGET_CONTAINER_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfWidgetContainer.prototype,"row",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfWidgetContainer.prototype,"column",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfWidgetContainer.prototype,"rowSpan",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfWidgetContainer.prototype,"columnSpan",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfWidgetContainer.prototype,"header",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfWidgetContainer.prototype,"noHeader",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfWidgetContainer.prototype,"status",void 0),AwfWidgetContainer=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-widget-container",!0)],AwfWidgetContainer);let AwfAccordion=class AwfAccordion extends lit.oi{constructor(){super(...arguments),this.single=!1,this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}isExpanded(index){const child=this.panels[index];return null!=child&&child.expanded}toggle(index){const child=this.panels[index];null!=child&&child.toggle()}expand(index){const child=this.panels[index];null!=child&&child.expand()}expandAll(){this.single?this.expand(0):this.panels.forEach((child=>child.expand()))}collapse(index){const child=this.panels[index];null!=child&&child.collapse()}collapseAll(){this.panels.forEach((child=>child.collapse()))}render(){return lit.dy` <slot @open=${this.handleOpenEvent} @close=${this.panelChanged}></slot> `}handleOpenEvent({target}){this.single&&target instanceof AwfAccordionPanel&&this.panels.forEach((panel=>panel.expanded=panel===target)),this.panelChanged()}panelChanged(){this.dispatchCustomEvent("panelChanged")}};AwfAccordion.styles=[COMMON_STYLES,ACCORDION_PANEL_CSS_VARIABLES,lit.iv`
        :host {
            display: block;
            border-bottom: var(--awf-accordion-panel-item-separator-border-inner);
        }
    `],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfAccordion.prototype,"single",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-accordion-panel",flatten:!0})],AwfAccordion.prototype,"panels",void 0),AwfAccordion=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-accordion",!0)],AwfAccordion);let AwfButtonGroup=class AwfButtonGroup extends lit.oi{static get styles(){return[COMMON_STYLES,lit.iv`
            :host {
                display: grid;
                grid-auto-columns: max-content;
                grid-auto-flow: column;
                grid-gap: 16px;
            }
        `]}render(){return lit.dy`<slot></slot>`}};AwfButtonGroup=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-button-group",!0)],AwfButtonGroup);var keen_slider_es_n=function(){return keen_slider_es_n=Object.assign||function(n){for(var t,i=1,e=arguments.length;i<e;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},keen_slider_es_n.apply(this,arguments)};function keen_slider_es_t(n,t,i){if(i||2===arguments.length)for(var e,r=0,a=t.length;r<a;r++)!e&&r in t||(e||(e=Array.prototype.slice.call(t,0,r)),e[r]=t[r]);return n.concat(e||Array.prototype.slice.call(t))}function keen_slider_es_i(n){return Array.prototype.slice.call(n)}function keen_slider_es_e(n,t){var i=Math.floor(n);return i===t||i+1===t?n:t}function keen_slider_es_r(){return Date.now()}function a(n,t,i){if(t="data-keen-slider-"+t,null===i)return n.removeAttribute(t);n.setAttribute(t,i||"")}function keen_slider_es_o(n,t){return t=t||document,"function"==typeof n&&(n=n(t)),Array.isArray(n)?n:"string"==typeof n?keen_slider_es_i(t.querySelectorAll(n)):n instanceof HTMLElement?[n]:n instanceof NodeList?keen_slider_es_i(n):[]}function keen_slider_es_u(n){n.raw&&(n=n.raw),n.cancelable&&!n.defaultPrevented&&n.preventDefault()}function keen_slider_es_s(n){n.raw&&(n=n.raw),n.stopPropagation&&n.stopPropagation()}function keen_slider_es_c(){var n=[];return{add:function(t,i,e,r){t.addListener?t.addListener(e):t.addEventListener(i,e,r),n.push([t,i,e,r])},input:function(n,t,i,e){this.add(n,t,function(n){return function(t){t.nativeEvent&&(t=t.nativeEvent);var i=t.changedTouches||[],e=t.targetTouches||[],r=t.detail&&t.detail.x?t.detail:null;return n({id:r?r.identifier?r.identifier:"i":e[0]?e[0]?e[0].identifier:"e":"d",idChanged:r?r.identifier?r.identifier:"i":i[0]?i[0]?i[0].identifier:"e":"d",raw:t,x:r&&r.x?r.x:e[0]?e[0].screenX:r?r.x:t.pageX,y:r&&r.y?r.y:e[0]?e[0].screenY:r?r.y:t.pageY})}}(i),e)},purge:function(){n.forEach((function(n){n[0].removeListener?n[0].removeListener(n[2]):n[0].removeEventListener(n[1],n[2],n[3])})),n=[]}}}function keen_slider_es_d(n,t,i){return Math.min(Math.max(n,t),i)}function keen_slider_es_l(n){return(n>0?1:0)-(n<0?1:0)||+n}function keen_slider_es_f(n){var t=n.getBoundingClientRect();return{height:keen_slider_es_e(t.height,n.offsetHeight),width:keen_slider_es_e(t.width,n.offsetWidth)}}function p(n,t,i,e){var r=n&&n[t];return null==r?i:e&&"function"==typeof r?r():r}function keen_slider_es_v(n){return Math.round(1e6*n)/1e6}function g(n){var t,i,e,r,a,o,u,s;function c(n){return 2*n}function f(n){return keen_slider_es_d(n,u,s)}function p(n){return 1-Math.pow(1-n,3)}function v(){return e?n.track.velocity():0}function m(n,t){void 0===t&&(t=1e3);var i=147e-9+(n=Math.abs(n))/t;return{dist:Math.pow(n,2)/i,dur:n/i}}function g(){var t=n.track.details;t&&(a=t.min,o=t.max,u=t.minIdx,s=t.maxIdx)}function b(){n.animator.stop()}n.on("updated",g),n.on("optionsChanged",g),n.on("created",g),n.on("dragStarted",(function(){e=!1,b(),t=i=n.track.details.abs})),n.on("dragChecked",(function(){e=!0})),n.on("dragEnded",(function(){var e=n.options.mode;"snap"===e&&function(){var e=n.track,r=n.track.details,u=r.position,s=keen_slider_es_l(v());(u>o||u<a)&&(s=0);var c=t+s;0===r.slides[e.absToRel(c)].portion&&(c-=s),t!==i&&(c=i),keen_slider_es_l(e.idxToDist(c,!0))!==s&&(c+=s),c=f(c);var d=e.idxToDist(c,!0);n.animator.start([{distance:d,duration:500,easing:function(n){return 1+--n*n*n*n*n}}])}(),"free"!==e&&"free-snap"!==e||function h(){b();var t="free-snap"===n.options.mode,i=n.track,e=v();r=keen_slider_es_l(e);var u=n.track.details,s=[];if(e||!t){var d=m(e),h=d.dist,g=d.dur;if(g=c(g),h*=r,t){var x=i.idxToDist(i.distToIdx(h),!0);x&&(h=x)}s.push({distance:h,duration:g,easing:p});var k=u.position,y=k+h;if(y<a||y>o){var w=y<a?a-k:o-k,M=0,T=e;if(keen_slider_es_l(w)===r){var C=Math.min(Math.abs(w)/Math.abs(h),1),E=function(n){return 1-Math.pow(1-n,1/3)}(C)*g;s[0].earlyExit=E,T=e*(1-C)}else s[0].earlyExit=0,M+=w;var z=m(T,100),I=z.dist*r;n.options.rubberband&&(s.push({distance:I,duration:c(z.dur),easing:p}),s.push({distance:-I+M,duration:500,easing:p}))}n.animator.start(s)}else n.moveToIdx(f(u.abs),!0,{duration:500,easing:function(n){return 1+--n*n*n*n*n}})}()})),n.on("dragged",(function(){i=n.track.details.abs}))}function b(n){var t,i,e,r,a,f,p,v,h,m,g,b,x,k,y,w,M,T,C=keen_slider_es_c();function E(t){if(f&&v===t.id){var o=D(t);if(h){if(!A(t))return I(t);m=o,h=!1,n.emit("dragChecked")}if(w)return m=o;keen_slider_es_u(t);var c=function(t){if(M===-1/0&&T===1/0)return t;var e=n.track.details,o=e.length,u=e.position,s=keen_slider_es_d(t,M-u,T-u);if(0===o)return 0;if(!n.options.rubberband)return s;if(u<=T&&u>=M)return t;if(u<M&&i>0||u>T&&i<0)return t;var c=(u<M?u-M:u-T)/o,l=r*o,f=Math.abs(c*l),p=Math.max(0,1-f/a*2);return p*p*t}(p(m-o)/r*e);i=keen_slider_es_l(c);var x=n.track.details.position;(x>M&&x<T||x===M&&i>0||x===T&&i<0)&&keen_slider_es_s(t),g+=c,!b&&Math.abs(g*r)>5&&(b=!0),n.track.add(c),m=o,n.emit("dragged")}}function z(t){!f&&n.track.details&&n.track.details.length&&(g=0,f=!0,b=!1,h=!0,v=t.id,A(t),m=D(t),n.emit("dragStarted"))}function I(t){f&&v===t.idChanged&&(f=!1,n.emit("dragEnded"))}function A(n){var t=L(),i=t?n.y:n.x,e=t?n.x:n.y,r=void 0!==x&&void 0!==k&&Math.abs(k-e)<=Math.abs(x-i);return x=i,k=e,r}function D(n){return L()?n.y:n.x}function L(){return n.options.vertical}function S(){r=n.size,a=L()?window.innerHeight:window.innerWidth;var t=n.track.details;t&&(M=t.min,T=t.max)}function O(n){b&&(keen_slider_es_s(n),keen_slider_es_u(n))}function _(){if(C.purge(),n.options.drag&&!n.options.disabled){var i;i=n.options.dragSpeed||1,p="function"==typeof i?i:function(n){return n*i},e=n.options.rtl?-1:1,S(),t=n.container,function(){var n="data-keen-slider-clickable";keen_slider_es_o("[".concat(n,"]:not([").concat(n,"=false])"),t).map((function(n){C.add(n,"dragstart",keen_slider_es_s),C.add(n,"mousedown",keen_slider_es_s),C.add(n,"touchstart",keen_slider_es_s)}))}(),C.add(t,"dragstart",(function(n){keen_slider_es_u(n)})),C.add(t,"click",O,{capture:!0}),C.input(t,"ksDragStart",z),C.input(t,"ksDrag",E),C.input(t,"ksDragEnd",I),C.input(t,"mousedown",z),C.input(t,"mousemove",E),C.input(t,"mouseleave",I),C.input(t,"mouseup",I),C.input(t,"touchstart",z,{passive:!0}),C.input(t,"touchmove",E,{passive:!1}),C.input(t,"touchend",I),C.input(t,"touchcancel",I),C.add(window,"wheel",(function(n){f&&keen_slider_es_u(n)}));var r="data-keen-slider-scrollable";keen_slider_es_o("[".concat(r,"]:not([").concat(r,"=false])"),n.container).map((function(n){return function(n){var t;C.input(n,"touchstart",(function(n){t=D(n),w=!0,y=!0}),{passive:!0}),C.input(n,"touchmove",(function(i){var e=L(),r=e?n.scrollHeight-n.clientHeight:n.scrollWidth-n.clientWidth,a=t-D(i),o=e?n.scrollTop:n.scrollLeft,s=e&&"scroll"===n.style.overflowY||!e&&"scroll"===n.style.overflowX;if(t=D(i),(a<0&&o>0||a>0&&o<r)&&y&&s)return w=!0;y=!1,keen_slider_es_u(i),w=!1})),C.input(n,"touchend",(function(){w=!1}))}(n)}))}}n.on("updated",S),n.on("optionsChanged",_),n.on("created",_),n.on("destroyed",C.purge)}function x(n){var t,i,e=null;function r(t,i,e){n.animator.active?o(t,i,e):requestAnimationFrame((function(){return o(t,i,e)}))}function a(){r(!1,!1,i)}function o(i,r,a){var o=0,u=n.size,d=n.track.details;if(d&&t){var l=d.slides;t.forEach((function(n,t){if(i)!e&&r&&s(n,null,a),c(n,null,a);else{if(!l[t])return;var d=l[t].size*u;!e&&r&&s(n,d,a),c(n,l[t].distance*u-o,a),o+=d}}))}}function u(t){return"performance"===n.options.renderMode?Math.round(t):t}function s(n,t,i){var e=i?"height":"width";null!==t&&(t=u(t)+"px"),n.style["min-"+e]=t,n.style["max-"+e]=t}function c(n,t,i){if(null!==t){t=u(t);var e=i?t:0;t="translate3d(".concat(i?0:t,"px, ").concat(e,"px, 0)")}n.style.transform=t,n.style["-webkit-transform"]=t}function d(){t&&(o(!0,!0,i),t=null),n.on("detailsChanged",a,!0)}function l(){r(!1,!0,i)}function f(){d(),i=n.options.vertical,n.options.disabled||"custom"===n.options.renderMode||(e="auto"===p(n.options.slides,"perView",null),n.on("detailsChanged",a),(t=n.slides).length&&l())}n.on("created",f),n.on("optionsChanged",f),n.on("beforeOptionsChanged",(function(){d()})),n.on("updated",l),n.on("destroyed",d)}function k(t,i){return function(e){var r,u,s,d,v,h=keen_slider_es_c();function m(n){var t;a(e.container,"reverse","rtl"!==(t=e.container,window.getComputedStyle(t,null).getPropertyValue("direction"))||n?null:""),a(e.container,"v",e.options.vertical&&!n?"":null),a(e.container,"disabled",e.options.disabled&&!n?"":null)}function g(){b()&&M()}function b(){var t=null;if(d.forEach((function(n){n.matches&&(t=n.__media)})),t===r)return!1;r||e.emit("beforeOptionsChanged"),r=t;var i=t?s.breakpoints[t]:s;return e.options=keen_slider_es_n(keen_slider_es_n({},s),i),m(),I(),A(),C(),!0}function x(n){var t=keen_slider_es_f(n);return(e.options.vertical?t.height:t.width)/e.size||1}function k(){return e.options.trackConfig.length}function y(t){for(var a in r=!1,s=keen_slider_es_n(keen_slider_es_n({},i),t),h.purge(),u=e.size,d=[],s.breakpoints||[]){var o=window.matchMedia(a);o.__media=a,d.push(o),h.add(o,"change",g)}h.add(window,"orientationchange",z),h.add(window,"resize",E),b()}function w(n){e.animator.stop();var t=e.track.details;e.track.init(null!=n?n:t?t.abs:0)}function M(n){w(n),e.emit("optionsChanged")}function T(n,t){if(n)return y(n),void M(t);I(),A();var i=k();C(),k()!==i?M(t):w(t),e.emit("updated")}function C(){var n=e.options.slides;if("function"==typeof n)return e.options.trackConfig=n(e.size,e.slides);for(var t=e.slides,i=t.length,r="number"==typeof n?n:p(n,"number",i,!0),a=[],o=p(n,"perView",1,!0),u=p(n,"spacing",0,!0)/e.size||0,s="auto"===o?u:u/o,c=p(n,"origin","auto"),d=0,l=0;l<r;l++){var f="auto"===o?x(t[l]):1/o-u+s,v="center"===c?.5-f/2:"auto"===c?0:c;a.push({origin:v,size:f,spacing:u}),d+=f}if(d+=u*(r-1),"auto"===c&&!e.options.loop&&1!==o){var h=0;a.map((function(n){var t=d-h;return h+=n.size+u,t>=1||(n.origin=1-t-(d>1?0:1-d)),n}))}e.options.trackConfig=a}function E(){I();var n=e.size;e.options.disabled||n===u||(u=n,T())}function z(){E(),setTimeout(E,500),setTimeout(E,2e3)}function I(){var n=keen_slider_es_f(e.container);e.size=(e.options.vertical?n.height:n.width)||1}function A(){e.slides=keen_slider_es_o(e.options.selector,e.container)}e.container=(v=keen_slider_es_o(t,document)).length?v[0]:null,e.destroy=function(){h.purge(),e.emit("destroyed"),m(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=T,y(e.options)}}var y=function(n,i,e){try{return function(n,t){var i,e={};return i={emit:function(n){e[n]&&e[n].forEach((function(n){n(i)}));var t=i.options&&i.options[n];t&&t(i)},moveToIdx:function(n,t,e){var r=i.track.idxToDist(n,t);if(r){var a=i.options.defaultAnimation;i.animator.start([{distance:r,duration:p(e||a,"duration",500),easing:p(e||a,"easing",(function(n){return 1+--n*n*n*n*n}))}])}},on:function(n,t,i){void 0===i&&(i=!1),e[n]||(e[n]=[]);var r=e[n].indexOf(t);r>-1?i&&delete e[n][r]:i||e[n].push(t)},options:n},function(){if(i.track=function m(n){var i,e,a,o,u,s,c,f,h,m,g,b,x,k,y=1/0,w=[],M=null,T=0;function C(n){_(T+n)}function E(n){var t=z(T+n).abs;return D(t)?t:null}function z(n){var i=Math.floor(Math.abs(keen_slider_es_v(n/e))),r=keen_slider_es_v((n%e+e)%e);r===e&&(r=0);var a=keen_slider_es_l(n),o=c.indexOf(keen_slider_es_t([],c,!0).reduce((function(n,t){return Math.abs(t-r)<Math.abs(n-r)?t:n}))),u=o;return a<0&&i++,o===s&&(u=0,i+=a>0?1:-1),{abs:u+i*s*a,origin:o,rel:u}}function I(n,t,i){var e;if(t||!S())return A(n,i);if(!D(n))return null;var r=z(null!=i?i:T),a=r.abs,o=n-r.rel,u=a+o;e=A(u);var c=A(u-s*keen_slider_es_l(o));return(null!==c&&Math.abs(c)<Math.abs(e)||null===e)&&(e=c),keen_slider_es_v(e)}function A(n,t){if(null==t&&(t=keen_slider_es_v(T)),!D(n)||null===n)return null;n=Math.round(n);var i=z(t),r=i.abs,a=i.rel,o=i.origin,u=O(n),d=(t%e+e)%e,l=c[o],f=Math.floor((n-(r-a))/s)*e;return keen_slider_es_v(l-d-l+c[u]+f+(o===s?e:0))}function D(n){return L(n)===n}function L(n){return keen_slider_es_d(n,h,m)}function S(){return o.loop}function O(n){return(n%s+s)%s}function _(t){var i;i=t-T,w.push({distance:i,timestamp:keen_slider_es_r()}),w.length>6&&(w=w.slice(-6)),T=keen_slider_es_v(t);var e=H().abs;if(e!==M){var a=null!==M;M=e,a&&n.emit("slideChanged")}}function H(t){var r=t?null:function(){if(s){var n=S(),t=n?(T%e+e)%e:T,i=(n?T%e:T)-u[0][2],r=0-(i<0&&n?e-Math.abs(i):i),c=0,d=z(T),f=d.abs,p=d.rel,v=u[p][2],y=u.map((function(t,i){var a=r+c;(a<0-t[0]||a>1)&&(a+=(Math.abs(a)>e-1&&n?e:0)*keen_slider_es_l(-a));var u=i-p,d=keen_slider_es_l(u),h=u+f;n&&(-1===d&&a>v&&(h+=s),1===d&&a<v&&(h-=s),null!==g&&h<g&&(a+=e),null!==b&&h>b&&(a-=e));var m=a+t[0]+t[1],x=Math.max(a>=0&&m<=1?1:m<0||a>1?0:a<0?Math.min(1,(t[0]+a)/t[0]):(1-a)/t[0],0);return c+=t[0]+t[1],{abs:h,distance:o.rtl?-1*a+1-t[0]:a,portion:x,size:t[0]}}));return f=L(f),p=O(f),{abs:L(f),length:a,max:k,maxIdx:m,min:x,minIdx:h,position:T,progress:n?t/e:T/a,rel:p,slides:y,slidesLength:e}}}();return i.details=r,n.emit("detailsChanged"),r}return i={absToRel:O,add:C,details:null,distToIdx:E,idxToDist:I,init:function(t){if(function(){if(o=n.options,u=(o.trackConfig||[]).map((function(n){return[p(n,"size",1),p(n,"spacing",0),p(n,"origin",0)]})),s=u.length){e=keen_slider_es_v(u.reduce((function(n,t){return n+t[0]+t[1]}),0));var t,i=s-1;a=keen_slider_es_v(e+u[0][2]-u[i][0]-u[i][2]-u[i][1]),c=u.reduce((function(n,i){if(!n)return[0];var e=u[n.length-1],r=n[n.length-1]+(e[0]+e[2])+e[1];return r-=i[2],n[n.length-1]>r&&(r=n[n.length-1]),r=keen_slider_es_v(r),n.push(r),(!t||t<r)&&(f=n.length-1),t=r,n}),null),0===a&&(f=0),c.push(keen_slider_es_v(e))}}(),!s)return H(!0);var i;!function(){var t=n.options.range,i=n.options.loop;g=h=i?p(i,"min",-1/0):0,b=m=i?p(i,"max",y):f;var e=p(t,"min",null),r=p(t,"max",null);null!==e&&(h=e),null!==r&&(m=r),x=h===-1/0?h:n.track.idxToDist(h||0,!0,0),k=m===y?m:I(m,!0,0),null===r&&(b=m),p(t,"align",!1)&&m!==y&&0===u[O(m)][2]&&(k-=1-u[O(m)][0],m=E(k-T)),x=keen_slider_es_v(x),k=keen_slider_es_v(k)}(),i=t,Number(i)===i?C(A(L(t))):H()},to:_,velocity:function(){var n=keen_slider_es_r(),t=w.reduce((function(t,i){var e=i.distance,r=i.timestamp;return n-r>200||(keen_slider_es_l(e)!==keen_slider_es_l(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=e),t.lastTimestamp&&(t.time+=r-t.lastTimestamp),t.lastTimestamp=r),t}),{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}(i),i.animator=function keen_slider_es_h(n){var t,i,e,r,a,o;function u(t){o||(o=t),s(!0);var a=t-o;a>e&&(a=e);var l=r[i];if(l[3]<a)return i++,u(t);var f=l[2],p=l[4],v=l[0],h=l[1]*(0,l[5])(0===p?1:(a-f)/p);if(h&&n.track.to(v+h),a<e)return d();o=null,s(!1),c(null),n.emit("animationEnded")}function s(n){t.active=n}function c(n){t.targetIdx=n}function d(){var n;n=u,a=window.requestAnimationFrame(n)}function l(){var t;t=a,window.cancelAnimationFrame(t),s(!1),c(null),o&&n.emit("animationStopped"),o=null}return t={active:!1,start:function(t){if(l(),n.track.details){var a=0,o=n.track.details.position;i=0,e=0,r=t.map((function(n){var t,i=Number(o),r=null!==(t=n.earlyExit)&&void 0!==t?t:n.duration,u=n.easing,s=n.distance*u(r/n.duration)||0;o+=s;var c=e;return e+=r,a+=s,[i,n.distance,c,e,n.duration,u]})),c(n.track.distToIdx(a)),d(),n.emit("animationStarted")}},stop:l,targetIdx:null}}(i),t)for(var n=0,e=t;n<e.length;n++)(0,e[n])(i);i.track.init(i.options.initial||0),i.emit("created")}(),i}(i,keen_slider_es_t([k(n,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),x,b,g],e||[],!0))}catch(n){console.error(n)}};const CAROUSEL_CSS_VARIABLES=lit.iv`
    :host {
        /* Carousel Colors */
        --awf-carousel-background-color-inner: var(--awf-carousel-background-color, var(--at-white));

        /* Carousel Measurements */
        --awf-carousel-padding-inner: var(--awf-carousel-padding, 0);
        --awf-carousel-width-inner: var(--awf-carousel-width, auto);
        --awf-carousel-page-height-inner: var(--awf-carousel-page-height, 100px);
    }
`,CAROUSEL_STYLES=lit.iv`
    :host {
        display: block;
        width: var(--awf-carousel-width-inner);
        padding: 0 35px;
        position: relative;
        box-sizing: border-box;
    }

    .slider {
        align-items: stretch;
        display: flex;
        width: auto;
        box-sizing: border-box;
        overflow: hidden;
        user-select: none;
        touch-action: pan-y;
        height: var(--awf-carousel-page-height-inner, 100%);
    }

    .slides {
        display: flex;
        background-color: var(--awf-carousel-background-color-inner);
    }

    .button-next,
    .button-prev {
        border-radius: 50%;
        cursor: pointer;
        height: 32px;
        position: absolute;
        top: calc(var(--awf-carousel-page-height-inner) / 2 - 16px);
        width: 32px;
        z-index: var(--awf-elevation-z2);
    }

    .button-prev {
        left: 0;
    }

    .button-next {
        right: 0;
    }

    .button-prev:hover,
    .button-next:hover {
        background-color: var(--at-blue-soft);
    }

    :host([hideArrows]) .button-prev,
    :host([hideArrows]) .button-next {
        display: none;
    }

    .button-prev.disabled,
    .button-next.disabled {
        cursor: default;
        pointer-events: none;
    }

    .button-prev.disabled awf-icon,
    .button-next.disabled awf-icon {
        --awf-icon-color: var(--at-gray);
    }

    awf-icon {
        --awf-icon-color: var(--at-blue);
        width: 32px;
        height: 32px;
    }

    .bullet-container {
        width: auto;
        margin-top: 8px;
        display: flex;
        justify-content: center;
    }

    :host([hideBullets]) .bullet-container {
        display: none;
    }

    .bullet {
        border: none;
        width: 8px;
        height: 8px;
        background: var(--at-gray-soft);
        border-radius: 50%;
        cursor: pointer;
    }

    .bullet:not(:first-of-type) {
        margin-left: 4px;
    }

    .bullet.active {
        background: var(--at-gray-dark);
    }
`;let AwfCarousel=class AwfCarousel extends lit.oi{constructor(){super(...arguments),this.itemsPerSlide=1,this.spacing=1,this.loop=!1,this.hideArrows=!1,this.hideBullets=!1,this.bulletPerPage=!1,this.moveBy=1,this.startIndex=0}get actualItemsPerSlide(){return Math.min(this.itemsPerSlide,this.slides.length)}render(){return lit.dy`
            <div class="slider">
                <slot class="slides" @slotchange=${this.slotchange}></slot>
                <awf-button class="button-prev" @click=${this.previous} aria-label="previous">
                    <awf-icon slot="icon" raw=${page_previous.g}></awf-icon>
                </awf-button>
                <awf-button class="button-next" @click=${this.next} aria-label="next">
                    <awf-icon slot="icon" raw=${page_next._}></awf-icon>
                </awf-button>
            </div>
            ${this.renderBullets()}
        `}firstUpdated(){this.instantiateSwiper()}updated(changes){this.swiper&&((changes.has("loop")||changes.has("itemsPerSlide")||changes.has("spacing"))&&(this.swiper.update(this.getSliderOptions()),this.updateBulletsVisibility(),this.updateArrowsVisibility()),this.updateArrowDisabledState(),this.updateBulletActiveState())}renderBullets(){return lit.dy`<div class="bullet-container">
            ${c(this.getSlideIndices(),this.renderBullet.bind(this))}
        </div>`}renderBullet(index){return lit.dy`<div class="bullet" value=${index} @click=${()=>this.swiper?.moveToIdx(index)}></div>`}slotchange(){this.swiper?.update(),this.requestUpdate(),this.updateBulletsVisibility(),this.updateArrowsVisibility()}previous(){if(!this.swiper)return;const slideIndex=this.swiper.track.details.rel;let goto=null;if(!this.loop&&!this.bulletPerPage&&this.actualItemsPerSlide>1){const slideIndices=this.getSlideIndices();slideIndices[slideIndices.length-1]===slideIndex&&(goto=slideIndices[Math.max(slideIndices.length-2,0)])}null===goto&&(goto=slideIndex-this.moveBy,this.loop?goto=this.swiper.track.absToRel(goto):goto<0&&(goto=0)),this.swiper.moveToIdx(goto)}next(){if(!this.swiper)return;let goto=this.swiper.track.details.rel+this.moveBy;this.loop?goto=this.swiper.track.absToRel(goto):goto>this.slides.length-this.actualItemsPerSlide&&(goto=this.slides.length-this.actualItemsPerSlide),this.swiper.moveToIdx(goto)}getSliderOptions(){return{selector:()=>this.slides,loop:this.loop,slides:{perView:this.actualItemsPerSlide,spacing:this.spacing},slideChanged:()=>{this.updateArrowDisabledState(),this.updateBulletActiveState(),this.dispatchActiveSlideChange()},initial:this.startIndex}}instantiateSwiper(){this.swiper=new y(this.wrapper,this.getSliderOptions())}updateBulletsVisibility(){const isVisible=this.slides.length>1&&this.slides.length>this.actualItemsPerSlide;this.bulletContainer.style.visibility=isVisible?"visible":"hidden"}updateArrowsVisibility(){this.slides.length>1&&this.slides.length>this.actualItemsPerSlide?(this.prevButton.style.visibility="visible",this.nextButton.style.visibility="visible"):(this.prevButton.style.visibility="hidden",this.nextButton.style.visibility="hidden")}getSlideIndices(){let slideIndices=this.slides.map(((_,index)=>index));if(!this.bulletPerPage&&this.isMultipleItemsPerSideWithoutLoop()){slideIndices=[];for(let i=0;i<this.slides.length;i+=this.moveBy)i+this.actualItemsPerSlide<=this.slides.length?slideIndices.push(i):-1===slideIndices.indexOf(this.slides.length-this.actualItemsPerSlide)&&slideIndices.push(this.slides.length-this.actualItemsPerSlide)}return slideIndices}isMultipleItemsPerSideWithoutLoop(){return this.actualItemsPerSlide>1&&!this.loop}updateArrowDisabledState(){if(!this.swiper||!this.swiper.track.details)return;const slideIndex=this.swiper.track.details.rel;this.prevButton.classList.remove("disabled"),this.nextButton.classList.remove("disabled"),this.loop||(0===slideIndex&&this.prevButton.classList.add("disabled"),slideIndex>=this.slides.length-this.actualItemsPerSlide&&this.nextButton.classList.add("disabled"))}updateBulletActiveState(){if(!this.swiper||!this.swiper.track.details)return;let indices;indices=this.bulletPerPage||this.loop?this.getActiveSlidesIndex(this.swiper):[this.swiper.track.details.rel],this.bullets.forEach((bullet=>{bullet.classList.remove("active");const bulletValue=bullet.getAttribute("value");bulletValue&&indices.indexOf(Number.parseInt(bulletValue))>-1&&bullet.classList.add("active")}))}getActiveSlidesIndex(swiper){const indices=[],start=swiper.track.details.rel;for(let i=start;i<start+this.actualItemsPerSlide;i++)indices.push(swiper.track.absToRel(i));return indices}dispatchActiveSlideChange(){if(!this.swiper||!this.swiper.track.details)return;const displayedSlideIndices=[],start=this.swiper.track.details.rel;for(let i=0;i<this.actualItemsPerSlide;i++)displayedSlideIndices.push(this.swiper.track.absToRel(start+i));this.dispatchEvent(createCustomEvent(AwfEvent.SLIDE_ACTIVE_CHANGE,displayedSlideIndices))}};AwfCarousel.styles=[COMMON_STYLES,CAROUSEL_CSS_VARIABLES,CAROUSEL_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfCarousel.prototype,"itemsPerSlide",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfCarousel.prototype,"spacing",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfCarousel.prototype,"loop",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfCarousel.prototype,"hideArrows",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfCarousel.prototype,"hideBullets",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfCarousel.prototype,"bulletPerPage",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfCarousel.prototype,"moveBy",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfCarousel.prototype,"startIndex",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-carousel-page"})],AwfCarousel.prototype,"slides",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".slider")],AwfCarousel.prototype,"wrapper",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".button-prev")],AwfCarousel.prototype,"prevButton",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".button-next")],AwfCarousel.prototype,"nextButton",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".bullet-container")],AwfCarousel.prototype,"bulletContainer",void 0),(0,tslib_es6.gn)([(0,decorators.Kt)(".bullet")],AwfCarousel.prototype,"bullets",void 0),AwfCarousel=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-carousel",!0)],AwfCarousel);var unsafe_html=__webpack_require__("./node_modules/lit-html/directives/unsafe-html.js");const CHECKBOX_CSS_VARIABLES=lit.iv`
    :host {        
        --awf-checkbox-icon-background-color-inner: var(--awf-checkbox-icon-background-color, var(--at-white));
        --awf-checkbox-icon-border-color-inner: var(--awf-checkbox-icon-border-color, var(--at-dark-navy));
        --awf-checkbox-icon-padding-inner: var(--awf-checkbox-icon-padding, 1.5px);
        --awf-checkbox-icon-color-inner: var(--awf-checkbox-icon-color, var(--at-blue));
        --awf-checkbox-icon-size-inner: var(--awf-checkbox-icon-size, 13px);

        --awf-checkbox-label-font-color-inner: var(--awf-checkbox-label-font-color, var(--awf-label-left-position-font-color-inner));
        --awf-checkbox-label-font-size-inner: var(--awf-checkbox-label-font-size, var(--awf-label-left-position-font-size-inner));
        --awf-checkbox-label-font-style-inner: var(--awf-checkbox-label-font-style, var(--awf-label-left-position-font-style-inner));
    }
`,CHECKBOX_STYLES=lit.iv`
    :host {
        --awf-icon-color: var(--awf-checkbox-icon-color-inner);
        --awf-icon-size: var(--awf-checkbox-icon-size-inner);

        display: inline-flex;
    }

    :host(:focus-visible) {
        outline: none;
    }

    :host(:not([disabled]):not([error]):focus-visible) {
        --awf-checkbox-icon-border-color: var(--at-blue-shade);
        --awf-checkbox-label-font-color-inner: var(--awf-label-hover-font-color-inner);
    }

    :host([disabled]) {
        --awf-checkbox-icon-background-color: var(--at-gray-soft);
        --awf-checkbox-icon-border-color: var(--awf-state-disabled-border);
        --awf-checkbox-icon-color-inner: var(--awf-state-disabled-foreground);
        --awf-checkbox-label-font-color-inner: var(--awf-state-disabled-foreground);
    }

    :host([error]) {
        --awf-checkbox-icon-background-color: var(--at-red-extra-light);
        --awf-checkbox-icon-border-color: var(--awf-validation-error-message-font-color);
        --awf-checkbox-icon-color-inner: var(--awf-validation-error-message-font-color);
        --awf-checkbox-label-font-color-inner: var(--awf-validation-error-message-font-color);
    }

    :host([error]:hover),
    :host([error]:focus-visible) {
        --awf-checkbox-icon-background-color: var(--awf-validation-error-focus-background-color);
    }

    :host #tooltipTrigger {
        display: flex;
        flex-direction: column;
    }

    :host .checkbox {
        align-items: center;
        cursor: pointer;
        display: flex;
        flex-direction: row;
    }

    :host([labelPosition='left']) .checkbox {
        flex-direction: row-reverse;
        justify-content: flex-end;
    }

    awf-icon {
        background-color: var(--awf-checkbox-icon-background-color-inner);
        border: 1px solid var(--awf-checkbox-icon-border-color-inner);
        color: var(--awf-icon-color);
        min-height: var(--awf-checkbox-icon-size-density-high, 9px);
        min-width: var(--awf-checkbox-icon-size-density-high, 9px);
        padding: var(--awf-checkbox-icon-padding-inner);
    }

    awf-icon:not([alone]) {
        margin-bottom: .5rem;
        margin-right: .5rem;
        margin-top: .5rem;
    }

    :host([labelPosition='left']) awf-icon:not([alone]) {
        margin-left: .5rem;
        margin-right: 0;
    }

    :host(:not([disabled]):not([error]):hover) awf-icon {
        --awf-checkbox-icon-background-color-inner: var(--at-blue-soft);
    }

    ::slotted(label) {
        color: var(--awf-checkbox-label-font-color-inner);
        cursor: pointer;
        font-size: var(--awf-checkbox-label-font-size-inner);
        font-style: var(--awf-checkbox-label-font-style-inner);
        width: var(--awf-label-width);
    }

    :host([required]) ::slotted(label)::after {
        content: ' *';
        color: var(--awf-checkbox-label-font-color-inner);
    }

    ::slotted(input) {
        display: none;
    }

    ::slotted([slot='error']),
    .internalError {
        color: var(--awf-validation-error-message-font-color);
        line-height: 16px;
    }

    :host(:not([messageBelow])) ::slotted([slot='error']) {
        display: none;
    }

    :host([disabled]) .checkbox,
    :host([disabled]) ::slotted(label) {
        cursor: not-allowed;
    }
`,ICON_SVG=[lit.dy`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12"></svg>`,lit.dy`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12">
            <path d="M2 6h8" fill="none" stroke="currentColor" stroke-miterlimit="10"></path>
        </svg>
    `,lit.dy`${(0,unsafe_html.A)('<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve" data-icon-name="checkmark">\n<polygon points="12.7,3 5.7,10.2 3.3,7.8 2,9.1 5.7,13 14,4.4 "></polygon>\n</svg>')}`];let AwfCheckbox=class AwfCheckbox extends lit.oi{constructor(){super(...arguments),this.labelPosition=LabelPosition.Right,this.messageBelow=!1,this.iconSVG=0,this.checkboxOnly=!0,this._onKeyDown=this.onKeyDown.bind(this),this._onInputChange=this.onInputChange.bind(this),this.mutationObserver=new MutationObserver((()=>this.mutationCallback()))}get field(){const[input]=this.htmlInputElements;return input||console.warn("Input not found!"),input}disconnectCallback(){this.removeEventListener("keydown",this._onKeyDown),this.field&&this.field.removeEventListener("change",this._onInputChange)}render(){return lit.dy`
            <slot @slotchange=${this.onSlotChange}></slot>
            <div id="tooltipTrigger">
                <div class="checkbox">
                    <awf-icon @click=${this.onIconClicked} ?alone=${this.checkboxOnly}> ${ICON_SVG[this.iconSVG]} </awf-icon>
                    <slot name="label" @click=${this.onSlotLabelClicked} @slotchange=${this.onSlotLabelChange}></slot>
                </div>
                ${this.renderErrorSlot()}
            </div>
            <awf-tooltip offset="5" placement="bottom" tip trigger="tooltipTrigger"></awf-tooltip>
        `}onSlotChange(){0!==this.htmlInputElements.length&&(this.field.type="checkbox",this.addEventListener("keydown",this._onKeyDown),this.field.addEventListener("change",this._onInputChange),listenPropertyChangeWithCallback(this.field,this._onInputChange,"checked"),listenPropertyChangeWithCallback(this.field,this._onInputChange,"indeterminate"),this.mutationObserver.disconnect(),this.mutationObserver.observe(this.field,{attributeFilter:["checked","disabled","indeterminate","required"]}),this.mutationCallback())}onKeyDown(event){"Space"===event.code&&(this.onIconClicked(event),event.preventDefault())}onInputChange(){this.defineCheckmarkIcon()}mutationCallback(){this.field.disabled?(this.setAttribute("disabled",""),this.tabIndex=-1):(this.removeAttribute("disabled"),this.tabIndex=0),this.field.required?this.setAttribute("required",""):(this.removeAttribute("required"),this.manageSlottedErrorMessage()),this.defineCheckmarkIcon()}onIconClicked(event){this.field.disabled?event.preventDefault():(this.field.indeterminate||this.field.hasAttribute("indeterminate")?(this.field.checked=!0,this.field.indeterminate=!1,this.field.removeAttribute("indeterminate")):this.field.checked=!this.field.checked,this.defineCheckmarkIcon(),this.manageError(),this.field.dispatchEvent(new Event("change",{bubbles:!0})))}onSlotLabelClicked(event){this.onIconClicked(event),event.preventDefault()}onSlotLabelChange(){this.checkboxOnly=0===this.slottedLabels.length}defineCheckmarkIcon(){this.field.indeterminate||this.field.hasAttribute("indeterminate")?this.iconSVG=1:this.field.checked?this.iconSVG=2:this.iconSVG=0}renderErrorSlot(){const errorSlot=lit.dy` <slot name="error" @slotchange=${this.manageSlottedErrorMessage}> </slot> `;return this.messageBelow?lit.dy`
                <div class="errors">
                    <div class="internalError"></div>
                    ${errorSlot}
                </div>
            `:lit.dy`${errorSlot}`}manageSlottedErrorMessage(){this.removeAttribute(MessageLevel.ERROR),this.tooltip.removeAttribute(MessageLevel.ERROR),this.tooltip.disabled=!0,this.tooltip.message="",this.slottedErrors.length&&(this.setAttribute(MessageLevel.ERROR,""),this.tooltip.setAttribute(MessageLevel.ERROR,""),this.messageBelow?this.slottedErrors.forEach(((message,index)=>{index<this.slottedErrors.length-1&&(message.style.display="none")})):(this.tooltip.disabled=!1,this.tooltip.message=this.slottedErrors.map((error=>error.innerText))[this.slottedErrors.length-1]))}manageError(){this.manageRequiredError()||(this.messageBelow&&(this.internalErrorMessage.innerText=""),this.manageSlottedErrorMessage()),this.tooltip.open=!!this.tooltip.message}manageRequiredError(){const managed=this.field.required&&0===this.iconSVG;return managed&&(this.setAttribute(MessageLevel.ERROR,""),this.tooltip.setAttribute(MessageLevel.ERROR,""),this.messageBelow?this.internalErrorMessage.innerText=msg("This field is required."):(this.tooltip.disabled=!1,this.tooltip.message=msg("This field is required."))),managed}};AwfCheckbox.styles=[COMMON_STYLES,LABEL_CSS_VARIABLES,CHECKBOX_CSS_VARIABLES,CHECKBOX_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfCheckbox.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfCheckbox.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"",selector:"input",flatten:!0})],AwfCheckbox.prototype,"htmlInputElements",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"label"})],AwfCheckbox.prototype,"slottedLabels",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"error",selector:"div, span",flatten:!0})],AwfCheckbox.prototype,"slottedErrors",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".internalError")],AwfCheckbox.prototype,"internalErrorMessage",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-tooltip")],AwfCheckbox.prototype,"tooltip",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfCheckbox.prototype,"iconSVG",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfCheckbox.prototype,"checkboxOnly",void 0),AwfCheckbox=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-checkbox",!0)],AwfCheckbox);let AwfChecklist=class AwfChecklist extends lit.oi{constructor(){super(...arguments),this.multi=!1,this.noDeselect=!1,this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}deselectAll(){this.options.forEach((option=>option.selected=!1))}selectAll(){this.options.forEach((option=>option.selected=!0))}render(){return lit.dy`<slot @listOptionClick=${this.handleOptionClick}
                          @keyup=${this.handleKeyUp}
                          @listOptionMouseEnter=${this.handleMouseEnter}></slot> `}update(changedProperties){super.update(changedProperties),changedProperties.has("multi")&&!this.multi&&this.options.length>0&&this.reduceToFirstSelection()}handleOptionClick(event){event.target instanceof AwfListOption&&this.changeSelection(event.target)}handleKeyUp(event){const option=this.searchForOptionInEventPath(event)||this.options.find((opt=>opt.hasAttribute("focused")));"ArrowDown"===event.key&&this.focusNextOption(option),"ArrowUp"===event.key&&this.focusPreviousOption(option),!option||" "!==event.key&&"Enter"!==event.key||this.changeSelection(option)}handleMouseEnter(event){event.target instanceof AwfListOption&&this.highlightOption(event.target)}searchForOptionInEventPath(event){return event.composedPath().map((target=>target)).find((e=>e instanceof AwfListOption))}focusNextOption(option){const index=this.visibleOptions.indexOf(option);let nextOption;nextOption=index<this.visibleOptions.length-1?this.visibleOptions[index+1]:this.visibleOptions[0],this.highlightOption(nextOption),nextOption.focus()}focusPreviousOption(option){const index=this.visibleOptions.indexOf(option);let previousOption;previousOption=index>0?this.visibleOptions[index-1]:this.visibleOptions[this.options.length-1],this.highlightOption(previousOption),previousOption.focus()}highlightOption(option){this.visibleOptions.forEach((opt=>opt.focused=opt===option))}deselectAllOptions(){this.selectedOptions.forEach((option=>{option.selected=!1}))}reduceToFirstSelection(){if(this.selectedOptions.length>0){const selectedOption=this.selectedOptions[0];this.selectedOptions.slice(1).forEach((option=>option.selected=!1)),this.emitValue(selectedOption.value)}}changeSelection(option){if(this.noDeselect&&option.selected)return;this.multi||option.selected||this.deselectAllOptions(),option.selected=!option.selected;const value=this.getSelectedValues(option);this.emitValue(value)}getSelectedOptions(){const slot=this.shadowRoot?.querySelector("slot:not([name])");return(slot?.assignedElements()).filter((({selected})=>selected))}getSelectedValues(option){let value=option.selected?option.value:void 0;const selectedOptions=this.getSelectedOptions();return this.multi&&(value=selectedOptions.map((opt=>opt.value))),value}emitValue(value){this.dispatchCustomEvent(AwfEvent.VALUE_CHANGE,value)}};AwfChecklist.styles=[COMMON_STYLES,lit.iv`
            :host {
                display: flex;
                flex-direction: column;
            }

            ::slotted(awf-list-option) {
                border-top: 1px solid var(--at-gray-soft);
            }

            ::slotted(awf-list-option:last-child) {
                border-bottom: 1px solid var(--at-gray-soft);
            }
        `],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfChecklist.prototype,"multi",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfChecklist.prototype,"noDeselect",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-list-option"})],AwfChecklist.prototype,"options",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-list-option[selected]"})],AwfChecklist.prototype,"selectedOptions",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-list-option:not([hidden])"})],AwfChecklist.prototype,"visibleOptions",void 0),AwfChecklist=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-checklist",!0)],AwfChecklist);let AwfChoiceChips=class AwfChoiceChips extends lit.oi{constructor(){super(...arguments),this.disabled=!1,this.value=[],this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}render(){return lit.dy` <slot @click=${this.handleChipClick} @delete=${this.handleDeleteEvent}></slot> `}updated(changes){super.updated(changes),changes.has("disabled")&&(this.setChipsDisabledState(),this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")),changes.has("value")&&this.setChipsActiveState()}handleChipClick(event){event.stopPropagation();const{target}=event;target instanceof AwfChip&&!target.disabled&&(target.active=!target.active,this.emitValue())}handleDeleteEvent(event){event.stopPropagation();const{target}=event;if(target instanceof AwfChip&&this.dispatchCustomEvent(AwfEvent.DELETE,target.value),target instanceof AwfChip&&this.chips.includes(target)){target.remove()}}setChipsDisabledState(){this.chips.forEach((chip=>{chip.disabled=this.disabled}))}setChipsActiveState(){this.chips.forEach((chip=>{chip.active=!!this.value.find((value=>value===chip.value))}))}emitValue(){const values=this.chips.filter((({active,disabled})=>active&&!disabled)).map((({value})=>value));this.dispatchCustomEvent(AwfEvent.VALUE_CHANGE,values)}};AwfChoiceChips.styles=[COMMON_STYLES,lit.iv`
            :host {
                display: flex;
                flex-wrap: wrap;
                gap: 4px 4px;
            }
        `],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfChoiceChips.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfChoiceChips.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-chip"})],AwfChoiceChips.prototype,"chips",void 0),AwfChoiceChips=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-choice-chips",!0)],AwfChoiceChips);var core_reset=__webpack_require__("./node_modules/@agilent/web-icons/core/reset.js"),checkmark=__webpack_require__("./node_modules/@agilent/web-icons/core/checkmark.js");const DATE_RANGE_PICKER_CSS_VARIABLES=lit.iv`
    :host {
        --awf-drp-date-label-color-inner: var(--awf-drp-date-label-color, var(--at-blue-shade));

        /* Date range picker configuration */ 
        --awf-drp-tab-width-inner: var(--awf-drp-tab-width, 100px);
        --awf-drp-button-width-inner: var(--awf-drp-button-width, 40px);

        /* Date time range picker configuration */
        --awf-drp-time-tab-width-inner: var(--awf-drp-time-tab-width, 150px);
        --awf-drp-time-button-width-inner: var(--awf-drp-time-button-width, 60px);
    }
`,DATE_RANGE_PICKER_STYLE=lit.iv`
    .awf-date-range-picker {
        border: solid 1px var(--awf-state-rest-border);
        display: grid;
        grid-template-rows: auto auto;
        width: var(--awf-drp-width, fit-content);
    }

    .awf-header {
        display: flex;
    }

    .awf-tab {
        border-right: solid 1px var(--awf-state-rest-border);
        cursor: default;
        padding: 12px;
        width: var(--awf-drp-tab-width-inner);
        flex-grow: 1;
    }

    :host([datetime]) .awf-tab {
        width: var(--awf-drp-time-tab-width-inner);
    }

    .awf-tab[disabled] {
        color: var(--awf-state-disabled-foreground);
        cursor: not-allowed;
    }

    .awf-tab:not([selected]) {
        border-bottom: solid 1px var(--awf-state-rest-border);
    }

    .awf-tab:not([selected]):not([disabled]) {
        cursor: pointer;
    }

    .awf-tab:not([selected]):not([disabled]):hover {
        background-color: var(--awf-state-hover-background);
    }

    .awf-tab-title {
        font-weight: bold;
    }

    .awf-buttons {
        border-bottom: solid 1px var(--awf-state-rest-border);
        display: grid;
        grid-template-columns: repeat(2, var(--awf-drp-button-width-inner));
    }

    :host([datetime]) .awf-buttons {
        grid-template-columns: repeat(2, var(--awf-drp-time-button-width-inner));
    }

    awf-button {
        margin: auto;
    }

    .awf-gray-text {
        color: var(--awf-state-disabled-foreground);
    }

    .awf-start-date,
    .awf-end-date {
        color: var(--awf-drp-date-label-color-inner);
    }

    awf-datepicker {
        margin: 12px auto;
        width: fit-content;
    }

    :host([datetime]) awf-datepicker {
        margin: 12px;
    }
`;let AwfDateRangePicker=class AwfDateRangePicker extends lit.oi{constructor(){super(...arguments),this.fromTabSelected=!0}requestFocus(){this.datepicker.requestFocus()}render(){return lit.dy`
            <div class="awf-date-range-picker">
                <div class="awf-header">
                    <div class="awf-tab" @click=${this.goToStartDate} ?selected=${this.fromTabSelected}>
                        <div class="awf-tab-title">${msg("From")}</div>
                        <div class="awf-gray-text" ?hidden=${!!this.startDate}>${msg("Please Select")}</div>
                        <div class="awf-start-date" ?hidden=${!this.startDate}>${this.formatDate(this.startDate)}</div>
                    </div>
                    <div class="awf-tab" @click=${this.goToEndDate} ?selected=${!this.fromTabSelected} ?disabled=${!this.startDate}>
                        <div class="awf-tab-title">${msg("To")}</div>
                        <div class="awf-gray-text" ?hidden=${!!this.endDate}>${msg("Please Select")}</div>
                        <div class="awf-end-date" ?hidden=${!this.endDate}>${this.formatDate(this.endDate)}</div>
                    </div>
                    <div class="awf-buttons">
                        <awf-button id="resetBtn" @click=${this.reset}>
                            <awf-icon raw=${core_reset.u}></awf-icon>
                        </awf-button>
                        <awf-button id="validateBtn" @click=${this.validateRange} ?disabled=${this.validateButtonDisabled()}>
                            <awf-icon raw=${checkmark.l}></awf-icon>
                        </awf-button>
                    </div>
                </div>
                <awf-datepicker
                    class="awf-datepicker"
                    .value=${this.startDate}
                    .endValue=${this.endDate}
                    .min=${this.fromTabSelected?void 0:this.startDate}
                    ?dateRange=${!this.fromTabSelected}
                    @valuechange=${this.onDateSelected}
                ></awf-datepicker>
            </div>
        `}goToStartDate(){this.fromTabSelected=!0,this.endDate=void 0}goToEndDate(){this.fromTabSelected=!this.startDate}formatDate(date){if(!date)return"";return new Intl.DateTimeFormat(translate_service_awfTranslateService.getLocale().replace("_","-"),{year:"numeric",month:"short",day:"2-digit"}).format(date)}validateRange(){this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{startDate:this.startDate,endDate:this.endDate}))}validateButtonDisabled(){return!this.startDate||!this.endDate}reset(){this.startDate=void 0,this.endDate=void 0,this.fromTabSelected=!0,this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{startDate:this.startDate,endDate:this.endDate}))}onDateSelected(event){event.detail instanceof Date?this.startDate=event.detail:(this.startDate=event.detail.startDate,this.endDate=event.detail.endDate),event.stopPropagation()}};function*map_o(o,f){if(void 0!==o){let i=0;for(const t of o)yield f(t,i++)}}function*range_o(o,l,n=1){const t=void 0===l?0:o;null!=l||(l=o);for(let o=t;n>0?o<l:l<o;o+=n)yield o}AwfDateRangePicker.styles=[COMMON_STYLES,DATE_RANGE_PICKER_CSS_VARIABLES,DATE_RANGE_PICKER_STYLE],(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDateRangePicker.prototype,"startDate",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDateRangePicker.prototype,"endDate",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDateRangePicker.prototype,"fromTabSelected",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-datepicker")],AwfDateRangePicker.prototype,"datepicker",void 0),AwfDateRangePicker=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-date-range-picker",!0)],AwfDateRangePicker);const style_map_o=(0,directive.XM)(class extends directive.Xe{constructor(t){var e;if(super(t),t.type!==directive.pX.ATTRIBUTE||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`}),"")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ht){this.ht=new Set;for(const t in r)this.ht.add(t);return this.render(r)}this.ht.forEach((t=>{null==r[t]&&(this.ht.delete(t),t.includes("-")?s.removeProperty(t):s[t]="")}));for(const t in r){const e=r[t];if(null!=e){this.ht.add(t);const r="string"==typeof e&&e.endsWith(" !important");t.includes("-")||r?s.setProperty(t,r?e.slice(0,-11):e,r?"important":""):s[t]=e}}return lit_html.Jb}});class ClickControls{constructor(slider){this.slider=slider,this.slider.on("created",(()=>this.registerClickHandlers())),this.slider.on("optionsChanged",(()=>this.registerClickHandlers()))}registerClickHandlers(){this.slider.slides.forEach(((item,key)=>{item.addEventListener("click",(()=>this.handleClick(key)))}))}handleClick(key){this.slider.moveToIdx(key)}}const ClickControlsPlugin=function(slider){return new ClickControls(slider)},DATE_TIME_PICKER_CSS_VARIABLES=lit.iv`
    :host {
        --awf-date-time-picker-width-inner: var(--awf-date-time-picker-width, 370px);
    }
`,DATE_TIME_PICKER_STYLES=lit.iv`
    :host {
        display: block;
        width: var(--awf-date-time-picker-width-inner);
    }

    .awf-date-time-picker {
        display: grid;
        grid-template-rows: auto auto;
        grid-template-columns: auto auto;
        grid-template-areas: "controls controls" "datepicker timepicker";
    }

    .awf-datepicker {
        grid-area: datepicker;
    }

    .time-selection {
        display: flex;
        flex-direction: column;
        align-items: center;
        grid-area: timepicker;
    }

    .time-picker {
        display: flex;
        align-items: center;
        position: relative;
    }
    .time-picker::after {
        content: '';
        border: 1px solid var(--at-blue-shade);
        background-color: var(--at-blue-medium);
        height: var(--awf-datepicker-day-height-inner);
        width:100%;
        position: absolute;
        z-index: 9;
        top: calc(50% - (var(--awf-datepicker-day-height-inner) / 2 ) - 1px);
    }

    .time-picker ul {
        height: calc(var(--awf-datepicker-day-height-inner) * 7);
        list-style: none;
        padding: 0;
        margin: 0;
        overflow: hidden;
        position: relative;
        z-index: 10;
    }
    
    .time-picker ul.am-pm-picker {
        height: calc(var(--awf-datepicker-day-height-inner) * 2);
        overflow: inherit;
    }

    .time-picker ul.am-pm-picker::before, .time-picker ul.am-pm-picker::after {
        display: none;
    }

    .time-picker ul::before {
        content: "";
        width: 100%;
        height: calc(50% - (var(--awf-datepicker-day-height-inner) / 2 ) - 1px);
        position: absolute;
        left: 0px;
        top: 0px;
        background: linear-gradient(white, transparent);
        z-index: 1;
        pointer-events: none;
    }

    .time-picker ul::after {
        content: "";
        width: 100%;
        height: calc(50% - (var(--awf-datepicker-day-height-inner) / 2 ) - 1px);
        position: absolute;
        left: 0px;
        bottom: 0px;
        background: linear-gradient(transparent, white);
        z-index: 1;
        pointer-events: none;
    }

    .time-picker ul li { 
        list-style: none;
        height: var(--awf-datepicker-day-height-inner);
        width: var(--awf-datepicker-day-height-inner);
        line-height: var(--awf-datepicker-day-height-inner);
        text-align: center;
        user-select: none;
    }

    li.selected {
        color: var(--at-dark-navy);
    }

    li.disabled { 
        color: var(--at-gray);
    }

    .time-format-toggle {
        height: 31px;
    }

    .controls {
        grid-area: controls;
        margin-left: auto;
        margin-bottom: 8px;
        display: flex;
        column-gap: 8px;
    }
`;class ToggleControls{constructor(slider){this.slider=slider,this.slider.on("created",(()=>{slider.container.addEventListener("click",this.eventClick.bind(this))}))}eventClick(e){e.preventDefault();0===this.slider.track.details.rel?this.slider.next():this.slider.prev()}}const ToggleControlsPlugin=function(slider){return new ToggleControls(slider)};class WheelControls{constructor(slider){this.slider=slider,this.position={x:0,y:0},this.wheelActive=!1,this.slider.on("created",(()=>{slider.container.addEventListener("wheel",this.eventWheel.bind(this),{passive:!1})}))}dispatch(e,name){this.position.x-=e.deltaX,this.position.y-=e.deltaY,this.slider.options.loop||(this.position.y<-this.slider.size/2?this.position.y=-this.slider.size/2:this.position.y>this.slider.size/2&&(this.position.y=this.slider.size/2)),this.slider.container.dispatchEvent(new CustomEvent(name,{detail:{x:this.position.x,y:this.position.y}}))}wheelStart(e){this.position={x:e.pageX,y:e.pageY},this.dispatch(e,"ksDragStart")}wheel(e){this.dispatch(e,"ksDrag")}wheelEnd(e){this.dispatch(e,"ksDragEnd"),Math.abs(e.deltaY)<500&&(e.deltaY<0?this.slider.prev():e.deltaY>0&&this.slider.next())}eventWheel(e){e.preventDefault(),this.wheelActive||(this.wheelStart(e),this.wheelActive=!0),this.wheel(e),clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>{this.wheelActive=!1,this.wheelEnd(e)}),100)}}const WheelControlsPlugin=function(slider){return new WheelControls(slider)};let AwfDateTimePicker=class AwfDateTimePicker extends lit.oi{set value(val){this._value=val?new Date(val):new Date,this.requestUpdate("value")}get value(){return this._value}constructor(){super(),this._value=new Date,this.is12HoursFormat=!0,this.inputRef=ref_e(),this.isPm=!1,this.subscriptions=new Subscription.w0,this.mutationObserver=new MutationObserver((()=>this.onOverlayOpen())),this.id||(this.id=`awf-date-time-picker-${(new Date).getTime()}`)}requestFocus(){this.datePicker.requestFocus()}connectedCallback(){super.connectedCallback(),this.mutationObserver.observe(this,{attributeFilter:["awf-overlay-open"]})}disconnectedCallback(){this.subscriptions.unsubscribe(),this.mutationObserver.disconnect(),super.disconnectedCallback()}firstUpdated(){this.initialValue=this.value,this.value||(this.value=new Date),this.instantiateSwipers(),this.subscriptions.add(awfTranslateService.onLangChange().subscribe((()=>this.setTimeformatDefault(!0)))),this.setTimeformatDefault(!1),this.updateSwippers()}updated(_changedProperties){_changedProperties.has("value")&&(this.setHours(this.value?.getHours()),this.setMinutes(this.value?.getMinutes())),(_changedProperties.has("min")||_changedProperties.has("max"))&&this.updateSwippers(),super.updated(_changedProperties)}setTimeformatDefault(update){const is12HoursTimeFormat=msg("is12hoursTimeFormat");this.is12HoursFormat="false"!==is12HoursTimeFormat,this.is12HoursFormat?this.inputRef.value.setAttribute("checked",""):this.inputRef.value.removeAttribute("checked"),update&&this.updateSwippers()}render(){return lit.dy`
            <div class="awf-date-time-picker">
                <awf-datepicker
                    class="awf-datepicker"
                    .value=${this.value}
                    .min=${this.min}
                    .max=${this.max}
                    @valuechange=${this.selectDate}
                ></awf-datepicker>
                <div class="time-selection">
                    <awf-toggle class="time-format-toggle">
                        <label for="${this.id}-checkbox">${when_n(this.is12HoursFormat,(()=>msg("12 hours")),(()=>msg("24 hours")))}</label>
                        <input id="${this.id}-checkbox" type="checkbox" ${ref_n(this.inputRef)} @change=${this.changeTimeFormat}>
                    </awf-toggle>
                    ${this.renderTimePicker()}
                </div>
                <div class="controls">
                    <awf-button @click=${this.reset}  aria-label="reset">
                        <awf-icon name="reset-24px"></awf-icon>
                    </awf-button>
                    <awf-button @click=${this.validate} aria-label="validate">
                        <awf-icon name="checkmark-24px"></awf-icon>
                    </awf-button>
                </div>
            </div>
        `}renderTimePicker(){const amPmStyles={display:this.is12HoursFormat?"block":"none"};return lit.dy`
        <div class="time-picker">
            <ul class="hours-picker">
                ${this.renderHours()}
            </ul>

            <ul class="minutes-picker">
                ${this.renderMinutes()}
            </ul>
            <ul class="am-pm-picker" style=${style_map_o(amPmStyles)}>
                <li class="item-am ${this.isPm?"":"selected"}">AM</li>
                <li class="item-pm ${this.isPm?"selected":""}">PM</li>
            </ul>
        </div>
        `}renderHours(){let hours=[];return hours=this.is12HoursFormat?range_o(1,13):range_o(24),lit.dy`${map_o(hours,(hour=>this.toListItem(toLeadingZeros(hour))))}`}renderMinutes(){return lit.dy`${map_o(range_o(60),(minute=>this.toListItem(toLeadingZeros(minute))))}`}toListItem(value){return lit.dy`<li class="item-${value}">${value}</li>`}changeTimeFormat(){this.is12HoursFormat=this.inputRef.value.checked;const currentValue=new Date(this.value);setTimeout((()=>{this.setHours(currentValue.getHours()),this.setMinutes(currentValue.getMinutes())}),5)}instantiateSwipers(){this.hoursSwipper=this.createKeenSlider(this.hoursWrapper,{callback:this.onHoursChange.bind(this)}),this.minutesSwipper=this.createKeenSlider(this.minutesWrapper,{callback:this.onMinutesChange.bind(this)}),this.amPmSwipper=this.createKeenSlider(this.amPmWrapper,{callback:this.onAmPmChange.bind(this),perView:2,loop:!1,origin:0,plugins:[ToggleControlsPlugin]}),this.setHours(this.value?.getHours()),this.setMinutes(this.value?.getMinutes())}createKeenSlider(container,options){const plugins=[WheelControlsPlugin,ClickControlsPlugin];return options.plugins&&plugins.push(...options.plugins),new y(container,{selector:"li",loop:void 0===options.loop||options.loop,renderMode:"performance",slides:{origin:options.origin||"center",perView:options.perView||7,spacing:0},vertical:!0,slideChanged:slider=>this.onSlideChanged(slider,options.callback)},plugins)}onSlideChanged(slider,callback){const selectedElmts=slider.container.getElementsByClassName("selected");Array.from(selectedElmts).forEach((item=>item.classList.remove("selected"))),slider.update();slider.slides[slider.track.details.rel].classList.add("selected"),callback(slider.track.details.rel)}selectDate(event){const date=event.detail;this.value.setDate(date.getDate()),this.value.setMonth(date.getMonth()),this.value.setFullYear(date.getFullYear()),this.value.setSeconds(0),event.stopPropagation()}onHoursChange(idx){let hours=idx;this.is12HoursFormat&&(hours+=1,this.isPm&&hours<12?hours+=12:this.isPm||12!==hours||(hours=0)),this.value.setHours(hours),this.updateSwippers()}setHours(hours){let idx=hours;this.is12HoursFormat&&(this.isPm=hours>=12,hours>=12?this.amPmSwipper?.moveToIdx(1,!0,{duration:0}):this.amPmSwipper?.moveToIdx(0,!0,{duration:0}),idx=(hours%12||12)-1),this.hoursSwipper?.moveToIdx(idx,!0,{duration:0})}setMinutes(minutes){this.minutesSwipper?.moveToIdx(minutes,!0,{duration:0})}onMinutesChange(minutes){this.value.setMinutes(minutes),this.updateSwippers()}onAmPmChange(index){this.isPm=index>0,this.onHoursChange(this.hoursSwipper.track.details.rel),this.updateSwippers()}reset(){this.value=this.initialValue??new Date}validate(){this.dispatchEvent(createCustomEvent("valuechange",this.value))}onOverlayOpen(){this.hasAttribute("awf-overlay-open")&&this.updateSwippers()}updateSwippers(){setTimeout((()=>{this.hoursSwipper?.update(),this.minutesSwipper?.update(),this.amPmSwipper?.update()}),0)}};AwfDateTimePicker.styles=[COMMON_STYLES,DATE_PICKER_CSS_VARIABLES,DATE_TIME_PICKER_CSS_VARIABLES,DATE_TIME_PICKER_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfDateTimePicker.prototype,"value",null),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfDateTimePicker.prototype,"min",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfDateTimePicker.prototype,"max",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfDateTimePicker.prototype,"is12HoursFormat",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-datepicker")],AwfDateTimePicker.prototype,"datePicker",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".hours-picker")],AwfDateTimePicker.prototype,"hoursWrapper",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".minutes-picker")],AwfDateTimePicker.prototype,"minutesWrapper",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".am-pm-picker")],AwfDateTimePicker.prototype,"amPmWrapper",void 0),AwfDateTimePicker=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-date-time-picker",!0)],AwfDateTimePicker);var calendar=__webpack_require__("./node_modules/@agilent/web-icons/core/calendar.js");const CLEAR_BUTTON_CSS_VARIABLES=lit.iv`
    :host {
        --awf-clear-button-size-inner: var(--awf-clear-button-size, 12px);
        --awf-clear-button-hover-bg-color-inner: var(--awf-clear-button-hover-bg-color, var(--awf-state-hover-background));
        --awf-clear-button-active-bg-color-inner: var(--awf-clear-button-active-bg-color, var(--awf-state-selected-background));
    }
`,CLEAR_BUTTON_STYLE=lit.iv`
    :host {
        --awf-icon-size: var(--awf-clear-button-size-inner);
        --awf-icon-color: var(--at-dark-navy);

        visibility: hidden;
    }

    :host([visible]) {
        visibility: visible;
    }

    .clear-button {
        align-items: center;
        background-color: transparent;
        border: solid 1px transparent;
        border-radius: 50%;
        display: flex;
        padding: 2px;
    }

    .clear-button:hover {
        background-color: var(--awf-clear-button-hover-bg-color-inner);
        fill: white;
        cursor: pointer;
    }

    .clear-button:active {
        background-color: var(--awf-clear-button-active-bg-color-inner);
    }

    .clear-button:focus {
        border: solid 1px var(--awf-state-focused-border);
    }

    .clear-button:focus-visible {
        outline: none;
    }

    awf-icon {
        min-height: var(--awf-clear-button-size-inner);
        min-width: var(--awf-clear-button-size-inner);
    }

    svg {
        background-color: transparent;
        fill: currentcolor;
        height: var(--awf-clear-button-size-inner);
        width: var(--awf-clear-button-size-inner);
    }
`;let AwfClearButton=class AwfClearButton extends lit.oi{constructor(){super(...arguments),this.tooltipRef=ref_e()}disconnectedCallback(){this.tooltipRef.value?.hideTooltip(),this.tooltipRef.value?.remove(),super.disconnectedCallback()}render(){return lit.dy`
            <button id="clearButton" class="clear-button" aria-label=${this.tooltipText?this.tooltipText:msg("Clear")}>
                <awf-icon raw=${delete_cross.C}></awf-icon>
            </button>
            <awf-tooltip
                ${ref_n(this.tooltipRef)}
                tip
                trigger="clearButton"
                message=${this.tooltipText?this.tooltipText:msg("Clear")}
                appendToBody
            ></awf-tooltip>
        `}};AwfClearButton.styles=[CLEAR_BUTTON_CSS_VARIABLES,CLEAR_BUTTON_STYLE],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfClearButton.prototype,"tooltipText",void 0),AwfClearButton=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-clear-button",!0)],AwfClearButton);const INPUT_DATE_CSS_VARIABLES=lit.iv`
    :host {
        --awf-input-date-calendar-display-inner: var(--awf-input-date-calendar-display, inline-block);
    }
`,INPUT_DATE_STYLE=lit.iv`

    ::slotted(input) {
        grid-area: input;
        width: var(--awf-input-width, 126px);
    }

    span {
        align-items: center;
        display: flex;
        padding: 0;
    }

    .calendar-button {
        display: var(--awf-input-date-calendar-display-inner);
        --awf-button-height: calc(var(--awf-input-height-inner) - 2px);
        --awf-icon-color: var(--at-dark-navy);
    }

    awf-clear-button {
        display: inline-flex;
        margin-right: 8px;
    }

    awf-input {
        width: auto;
    }

    awf-clear-button[required] {
        display: none;
    }
`;let AwfInputDate=class AwfInputDate extends lit.oi{get field(){return this.slottedInputs[0]}get value(){return dateUtil.parseDate(this.field?.value)||void 0}set value(value){this.field&&(this.field.value=dateUtil.formatDate(value))}constructor(){super(),this.labelPosition=LabelPosition.Top,this.messageBelow=!1,this.appendToBody=!1,this.hasForm=!1,this.clearButtonVisible=!1,this.disabled=!1,this.required=!1,this._onInputChange=this.onInputChange.bind(this),this._onInputFocus=this.onInputFocus.bind(this),this._onInputKeydown=this.onInputKeydown.bind(this),this._onInputTyped=this.onInputTyped.bind(this),this._onDateSelected=this.onDateSelected.bind(this),this.mutationObserver=new MutationObserver(this.onInputAttributeChange.bind(this)),this.formValidationController=new FormValidationController(this),this.datepickerRef=ref_e(),this.overlayRef=ref_e(),this.showDateFormat=!1,this.eventDispatched=!1,new ElementStyleController(this,[PLACEHOLDER_STYLE])}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}connectedCallback(){super.connectedCallback(),this.subscription=awfTranslateService.onLangChange().subscribe((()=>{this.showDateFormat&&(this.field.placeholder=msg("yyyy-mm-dd"))}))}disconnectedCallback(){super.disconnectedCallback(),this.field?.removeEventListener("change",this._onInputChange),this.field?.removeEventListener("focus",this._onInputFocus),this.field?.removeEventListener("keydown",this._onInputKeydown),this.field?.removeEventListener("input",this._onInputTyped),this.subscription?.unsubscribe()}validateValue(){let pass=this.awfInput.validateValue();pass&&this.field.value&&!dateUtil.validateDateFormat(this.field.value)&&(this.setInternalMessage(MessageLevel.ERROR,msg("Invalid date format (yyyy-mm-dd)")),pass=!1);const date=dateUtil.parseDate(this.field.value);return pass&&date&&!this.checkMinDate(date)&&(this.setInternalMessage(MessageLevel.ERROR,msg(str`The value must be higher than or equal to ${dateUtil.formatDate(this.min)}`)),pass=!1),pass&&date&&!this.checkMaxDate(date)&&(this.setInternalMessage(MessageLevel.ERROR,msg(str`The value must be less than or equal to ${dateUtil.formatDate(this.max)}`)),pass=!1),pass}setInternalMessage(level,message){this.awfInput.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInput.clearInternalErrorMessage()}render(){return lit.dy`
            <awf-input
                labelPosition=${this.labelPosition||LabelPosition.Top}
                novalidate
                @mouseenter=${this.onMouseEnter}
                @mouseleave=${this.onMouseLeave}
                ?messageBelow=${this.messageBelow}
            >
                <slot name="label" slot="label"></slot>
                <slot></slot>
                <slot name="error" slot="error"></slot>
                <slot name="warning" slot="warning"></slot>
                <span slot="suffix">
                    <awf-clear-button
                        ?visible=${this.clearButtonVisible&&!this.required&&!this.disabled}
                        ?required=${this.required}
                        @click=${this.clear}
                        @keydown=${this.onClearButtonKeydown}
                    ></awf-clear-button>
                    <awf-button
                        class="calendar-button"
                        ?disabled=${this.disabled}
                        @click=${this.toggleDatepicker}
                        @keydown=${this.onCalendarIconKeydown}
                        aria-label="calendar"
                    >
                        <awf-icon raw=${calendar.Y}></awf-icon>
                    </awf-button>
                </span>
            </awf-input>
            <awf-overlay
                manualToggle
                offset="1"
                placement="bottom-start"
                ?appendToBody=${this.appendToBody}
                @open=${this.onOpen}
                @close=${this.onClose}
                ${ref_n(this.overlayRef)}
            >
                <awf-datepicker
                    .value=${this.value||new Date}
                    .min=${this.min}
                    .max=${this.max}
                    ${ref_n(this.datepickerRef)}
                ></awf-datepicker>
            </awf-overlay>
        `}firstUpdated(_changedProperties){const[input]=this.slottedInputs;if(!input)throw new Error("Input not found!");input.type="text",input.placeholder||(input.placeholder=msg("yyyy-mm-dd"),this.showDateFormat=!0),input.addEventListener("change",this._onInputChange),input.addEventListener("focus",this._onInputFocus),input.addEventListener("keydown",this._onInputKeydown),input.addEventListener("input",this._onInputTyped),this.onInputAttributeChange(),this.mutationObserver.disconnect(),this.mutationObserver.observe(this.field,{attributeFilter:["disabled","required"]}),this.datepickerRef.value?.addEventListener(AwfEvent.VALUE_CHANGE,this._onDateSelected)}updated(_changedProperties){(_changedProperties.has("min")||_changedProperties.has("max"))&&this.validateValue()&&this.clearInternalErrorMessage()}onInputChange(){this.eventDispatched||this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,this.value))}onInputTyped(){this.eventDispatched=!1;const date=this.value;!date&&this.field.value||(this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,date)),this.eventDispatched=!0)}clear(){this.eventDispatched=!1,this.field.value="",this.clearButtonVisible=!1,this.field.focus(),this.validateValue()&&this.clearInternalErrorMessage()}onInputAttributeChange(){this.disabled=this.field.disabled,this.required=this.field.required}onDateSelected(event){this.eventDispatched=!this.appendToBody,this.value=event.detail,this.overlayRef.value?.hide()}toggleDatepicker(event){!this.disabled&&this.overlayRef.value&&(this.overlayRef.value.refElement=this.field,this.overlayRef.value.toggle()),event.stopImmediatePropagation()}onInputFocus(){this.overlayRef.value?.hide()}checkMaxDate(date){return!this.max||dateUtil.compareDates(date,this.max)<=0}checkMinDate(date){return!this.min||dateUtil.compareDates(date,this.min)>=0}onMouseEnter(){this.field.required||this.field.disabled||!this.field.value||(this.clearButtonVisible=!0)}onMouseLeave(){this.clearButtonVisible=!1}onInputKeydown(event){"Tab"===event.code&&this.field.value&&(this.clearButtonVisible=!0)}onClearButtonKeydown(event){"Tab"===event.code&&(this.clearButtonVisible=!1)}onCalendarIconKeydown(event){"ArrowDown"===event.code?this.overlayRef.value?.toggle():"Tab"===event.code&&event.shiftKey&&this.field.value&&(this.clearButtonVisible=!0)}onOpen(){this.calendarIcon.classList.add("activated"),setTimeout((()=>{this.datepickerRef.value?.requestFocus(),this.field.classList.add("slotted-input-hidden")}),100)}onClose(){this.calendarIcon.classList.remove("activated"),setTimeout((()=>{this.field.classList.remove("slotted-input-hidden"),this.calendarIcon.requestFocus()}),100)}};AwfInputDate.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,INPUT_DATE_CSS_VARIABLES,INPUT_DATE_STYLE],AwfInputDate.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDate.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDate.prototype,"min",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDate.prototype,"max",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputDate.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputDate.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input")],AwfInputDate.prototype,"awfInput",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-button.calendar-button")],AwfInputDate.prototype,"calendarIcon",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input",flatten:!0})],AwfInputDate.prototype,"slottedInputs",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDate.prototype,"clearButtonVisible",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDate.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDate.prototype,"required",void 0),AwfInputDate=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-input-date",!0)],AwfInputDate);const INPUT_DATE_RANGE_STYLES=lit.iv`
    :host {
        --awf-input-date-calendar-display: none;
    }

    .awf-layout {
        width: fit-content;
        align-items: end;
        height: fit-content;
        display: grid;
        grid-auto-flow: column;
        column-gap: 5px;
    }

    awf-overlay {
        padding: 0px;
    }
`;let AwfInputDateRange=class AwfInputDateRange extends lit.oi{constructor(){super(),this.labelPosition=LabelPosition.Top,this.appendToBody=!1,this.awfDateRangePickerRef=ref_e();new ElementStyleController(this,[PLACEHOLDER_STYLE,"\n            :not([labelPosition='left']) > input.slotted-input:not(:focus-within)::placeholder {\n                visibility: hidden;\n            }\n        "])}connectedCallback(){super.connectedCallback(),this.subscription=awfTranslateService.onLangChange().subscribe((()=>{this.shadowRoot.querySelector("label[for=input-from]").innerHTML=msg("From"),this.shadowRoot.querySelector("label[for=input-to]").innerHTML=msg("To")}))}disconnectedCallback(){super.disconnectedCallback(),this.subscription.unsubscribe()}render(){return lit.dy`
            <div class="awf-layout" id="overlayAnchor">
                <awf-input-date
                    class="awf-from-input"
                    labelPosition=${this.labelPosition}
                    @valuechange=${this.onStartDateChange}
                    .max=${this.endDate}
                >
                    <slot name="from"></slot>
                    <label slot="label" for="input-from"></label>
                </awf-input-date>
                <awf-input-date
                    class="awf-to-input"
                    labelPosition=${this.labelPosition}
                    @valuechange=${this.onEndDateChange}
                    .min=${this.startDate}
                >
                    <slot name="to"></slot>
                    <label slot="label" for="input-to"></label>
                </awf-input-date>
                <awf-button
                    class="awf-calendar-button"
                    @click=${this.toggleDateRangePicker}
                    @keydown=${this.onIconKeydown}
                    aria-label="open calendar"
                >
                    <awf-icon raw=${calendar.Y}></awf-icon>
                </awf-button>
            </div>
            <awf-overlay
                ?appendToBody=${this.appendToBody}
                manualToggle
                offset="-51"
                placement="bottom-start"
                style="padding: 0"
                trigger="overlayAnchor"
                @open=${this.onDateRangePickerOpen}
            >
                <awf-date-range-picker @valuechange=${this.onDatesSelected} ${ref_n(this.awfDateRangePickerRef)}></awf-date-range-picker>
            </awf-overlay>
        `}firstUpdated(_changedProperties){var _this=this;return(0,asyncToGenerator.Z)((function*(){const[fromInput]=_this.fromInput,[toInput]=_this.toInput;if(!fromInput||!toInput)throw new Error("Input not found!");fromInput.id="input-from",fromInput.ariaLabel="input from",toInput.id="input-to",toInput.ariaLabel="input to",_this.shadowRoot.querySelector("label[for=input-from]").innerHTML=msg("From"),_this.shadowRoot.querySelector("label[for=input-to]").innerHTML=msg("To"),yield _this.updateComplete,fromInput.value&&(_this.startDate=dateUtil.parseDate(fromInput.value)),toInput.value&&(_this.endDate=dateUtil.parseDate(toInput.value))}))()}updated(_changedProperties){(_changedProperties.has("startDate")||_changedProperties.has("endDate"))&&(this.toAwfInput.validateValue()&&this.toAwfInput.clearInternalErrorMessage(),this.fromAwfInput.validateValue()&&this.fromAwfInput.clearInternalErrorMessage())}toggleDateRangePicker(){this.awfOverlay.toggle()}onDatesSelected(event){this.awfOverlay.hide(),this.startDate=event.detail.startDate,this.endDate=event.detail.endDate,this.fromAwfInput.value=this.startDate,this.toAwfInput.value=this.endDate,event.stopPropagation(),this.dispatchValuechange()}onStartDateChange(event){this.startDate=event.detail,event.stopPropagation(),this.dispatchValuechange()}onEndDateChange(event){this.endDate=event.detail,event.stopPropagation(),this.dispatchValuechange()}dispatchValuechange(){this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,{startDate:this.startDate,endDate:this.endDate}))}onDateRangePickerOpen(){if(this.awfDateRangePickerRef.value){const today=new Date;this.awfDateRangePickerRef.value.startDate=this.startDate||new Date(today.getFullYear(),today.getMonth(),today.getDate()),this.startDate&&this.endDate&&this.startDate.getTime()<this.endDate.getTime()?this.awfDateRangePickerRef.value.endDate=this.endDate:this.awfDateRangePickerRef.value.endDate=void 0,this.awfDateRangePickerRef.value.fromTabSelected=!this.startDate,this.awfDateRangePickerRef.value.style.setProperty("--awf-drp-width",this.awfLayout.getBoundingClientRect().width+"px"),this.awfDateRangePickerRef.value.requestFocus(),setTimeout((()=>this.calendarIcon.classList.remove("activated")),100)}}onIconKeydown(event){var _this2=this;return(0,asyncToGenerator.Z)((function*(){"ArrowDown"===event.code&&_this2.awfOverlay.show()}))()}};AwfInputDateRange.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,INPUT_DATE_RANGE_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDateRange.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputDateRange.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDateRange.prototype,"startDate",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDateRange.prototype,"endDate",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-overlay")],AwfInputDateRange.prototype,"awfOverlay",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input-date.awf-from-input")],AwfInputDateRange.prototype,"fromAwfInput",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input-date.awf-to-input")],AwfInputDateRange.prototype,"toAwfInput",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".awf-layout")],AwfInputDateRange.prototype,"awfLayout",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-button.awf-calendar-button")],AwfInputDateRange.prototype,"calendarIcon",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"from",selector:"input",flatten:!0})],AwfInputDateRange.prototype,"fromInput",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({slot:"to",selector:"input",flatten:!0})],AwfInputDateRange.prototype,"toInput",void 0),AwfInputDateRange=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-input-date-range",!0)],AwfInputDateRange);const SELECT_DROPDOWN_CSS_VARIABLES=lit.iv`
    :host {
        --awf-dropdown-padding-ud-inner: var(--awf-dropdown-padding-ud, 5px);
        --awf-dropdown-padding-lr-inner: var(--awf-dropdown-padding-lr, 12px);
    }
`,SELECT_DROPDOWN_STYLES=lit.iv`
    awf-overlay {
        border: 1px solid var(--at-gray);
        box-sizing: border-box;
        filter: unset;
        padding: 0;
        margin-left:-1px;
        --awf-checklist-max-height: 0;
    }

    awf-list-option {
        border: 1px solid transparent;
        cursor: pointer;
        padding: var(--awf-dropdown-padding-ud-inner) var(--awf-dropdown-padding-lr-inner);
        user-select: none;
    }

    awf-list-option[disabled] {
        cursor: not-allowed;
    }

    awf-list-option[focused] {
        background-color: var(--awf-state-hover-background);
    }

    awf-overlay[keyboard-navigation] awf-list-option[focused] {
        border-color: var(--at-blue-shade);
    }

    awf-overlay[keyboard-navigation] awf-list-option[focused]:not([selected]) {
        background-color: transparent;
    }

    awf-checklist {
        max-height: var(--awf-checklist-max-height);
        overflow-y: auto;
    }
`;let AwfSelectDropdown=class AwfSelectDropdown extends lit.oi{constructor(){super(...arguments),this.appendToBody=!1,this.placement="auto",this.overlayRef=ref_e(),this.checklistRef=ref_e()}moveListOptions(){this.querySelectorAll("awf-list-option").forEach((element=>this.checklist?.appendChild(element)))}render(){return lit.dy`
            <awf-overlay manualToggle offset="-1" placement=${this.placement} ${ref_n(this.overlayRef)}>
                <awf-checklist noDeselect ${ref_n(this.checklistRef)} class="no-separation-border"> </awf-checklist>
            </awf-overlay>
        `}firstUpdated(_changedProperties){this.moveListOptions()}};var SelectMode;AwfSelectDropdown.styles=[COMMON_STYLES,SELECT_DROPDOWN_CSS_VARIABLES,SELECT_DROPDOWN_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSelectDropdown.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSelectDropdown.prototype,"placement",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfSelectDropdown.prototype,"focusedOption",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-overlay")],AwfSelectDropdown.prototype,"overlay",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-checklist")],AwfSelectDropdown.prototype,"checklist",void 0),(0,tslib_es6.gn)([(0,decorators.Kt)("awf-list-option")],AwfSelectDropdown.prototype,"options",void 0),AwfSelectDropdown=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-select-dropdown",!0)],AwfSelectDropdown),function(SelectMode){SelectMode.DEFAULT="default",SelectMode.SEARCH="search",SelectMode.FREE_TEXT="freetext"}(SelectMode||(SelectMode={}));const SELECT_STYLES=lit.iv`
    :host {
        --awf-select-input-cursor: default;
    }

    :host([mode=freetext]) {
        --awf-select-input-cursor: text;
    }

    :host([mode=search]) {
        --awf-select-input-cursor: text;
    }

    :host([readonly]),
    :host([readonly][mode]),
    :host([disabled]),
    :host([disabled][mode]) {
        --awf-select-input-cursor: not-allowed;
    }

    :host input {
        cursor: var(--awf-select-input-cursor);
    }

    awf-input:not([disabled]):not([readonly]):not([warning]):not([error]):hover {
        --awf-input-background-color: var(--awf-state-hover-background);
    }

    :host(:not([mode=freetext]):not([mode=search])) input {
        color: transparent;
        text-shadow: 0 0 0 var(--awf-input-font-color-inner);
    }

    :host(:not([mode=freetext])) awf-input[stateDropdownOpened] input {
        text-shadow: 0 0 0 var(--awf-input-disabled-font-color-inner);
    }

    span[slot='suffix'] {
        align-items: center;
        display: flex;
    }
    :host([readonly]) span[slot='suffix'] {
        visibility: hidden;
    }

    ::slotted([slot='error']),
    ::slotted([slot='warning']) {
        display: block;
        line-height: 0.875rem;
    }

    awf-icon {
        --awf-icon-color: var(--awf-input-font-color-inner);
    }

    :host(:not([disabled]):not([readonly])) awf-icon {
        cursor: pointer;
    }

    awf-input[error] awf-icon {
        --awf-icon-color: var(--awf-input-rest-font-color-inner);
    }

    awf-icon[hidden] {
        display: none;
    }
`;let AwfSelect=class AwfSelect extends lit.oi{get field(){return this.htmlInputElement}get label(){if(this.awfInput)return this.awfInput.slottedLabel[0]}get actualAwfListOptions(){return Array.from(this.dropdown?.options||[])}get selectedAwfListOption(){return this.actualAwfListOptions.find((option=>option.selected))}get dropdown(){return this.dropdownRef.value}constructor(){super(),this.appendToBody=!1,this.mode=SelectMode.DEFAULT,this.labelPosition=LabelPosition.Top,this.placement="auto",this.messageBelow=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.placeholder="",this.hasForm=!1,this.addItem=new AwfListOption,this.noItemFound=new AwfListOption,this.formValidationController=new FormValidationController(this),this.dropdownRef=ref_e(),this.stateDropdownOpened=!1,this.clearButtonVisible=!1,this.mutationObserver=new MutationObserver(this.onChildListChanged.bind(this)),this.addItem.value="#@AddItem@#",this.addItem.noCheckbox=!0,this.addItem.id="addItemOption",this.noItemFound.value="#@NoItemFound@#",this.noItemFound.noCheckbox=!0,this.noItemFound.id="noItemFound",this.noItemFound.disabled=!0}connectedCallback(){super.connectedCallback(),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.mutationObserver.observe(this,{childList:!0})}disconnectCallback(){super.disconnectedCallback(),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut),this.removeEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mouseleave",this.onMouseLeave),this.mutationObserver.disconnect()}render(){return lit.dy`
            <awf-input
                @click=${this.toggleOverlay}
                labelPosition=${this.labelPosition}
                ?messageBelow=${this.messageBelow}
                ?stateDropdownOpened=${this.stateDropdownOpened}
            >
                <slot name="label" slot="label"></slot>
                <input
                    type="text"
                    placeholder=${this.placeholder}
                    ?disabled=${this.disabled}
                    ?readonly=${this.readonly}
                    ?required=${this.required}
                    @keydown=${this.onKeyDown}
                    @keyup=${this.onKeyUp}
                    aria-label=${this.label?.textContent||"Select input"}
                />
                <span slot="suffix">
                    <awf-clear-button
                        ?visible=${this.clearButtonVisible&&!this.required&&!this.disabled&&!this.readonly}
                        @click=${this.clearValue}
                    >
                    </awf-clear-button>
                    <awf-icon id="expandIcon" raw=${drop_down_more_details_column_descending.$} ?hidden=${this.stateDropdownOpened}></awf-icon>
                    <awf-icon id="collapseIcon" raw=${less_details_column_ascending.e} ?hidden=${!this.stateDropdownOpened}></awf-icon>
                </span>
                <slot name="error" slot="error"></slot>
                <slot name="warning" slot="warning"></slot>
            </awf-input>
            <awf-select-dropdown
                placement=${this.placement}
                ?appendToBody=${this.appendToBody}
                .focusedOption=${this.focusedOption}
                @close=${this.onOverlayClose}
                @open=${this.onOverlayOpen}
                @valuechange=${this.onValueChange}
                @click=${this.onChecklistClick}
                @keyup=${()=>this.dropdown?.overlay.setAttribute("keyboard-navigation","")}
                ${ref_n(this.dropdownRef)}>
                ${c(Array.from(this.querySelectorAll("option")),(option=>option.value),this.renderOption.bind(this))}
            </awf-select-dropdown>
        `}firstUpdated(_changedProperties){this.dropdown&&this.appendToBody&&document.body.appendChild(this.dropdown)}updated(_changedProperties){if(this.dropdown?.moveListOptions(),_changedProperties.has("value")){const selectedOption=this.actualAwfListOptions.map((option=>(option.selected=option.value===this.value,option))).find((option=>option.selected));this.field.value=selectedOption?.textContent||""}_changedProperties.has("appendToBody")&&this.dropdown&&(this.appendToBody?document.body.appendChild(this.dropdown):this.shadowRoot?.appendChild(this.dropdown)),this.dropdown?.overlay&&(_changedProperties.has("disabled")||_changedProperties.has("readonly"))&&(this.dropdown.overlay.disabled=this.field.disabled||this.field.readOnly)}validateValue(){return this.awfInput.validateValue()}setInternalMessage(level,message){this.awfInput.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInput.clearInternalErrorMessage()}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}toggleOverlay(event){!this.disabled&&this.dropdown?.overlay&&(this.dropdown.overlay.refElement=this.field,this.dropdown.overlay.toggle()),event.stopImmediatePropagation()}showOverlay(){this.dropdown?.overlay&&(this.dropdown.overlay.refElement=this.field,this.dropdown.overlay.show())}clearValue(event){this.value=null,this.field.value="",this.clearButtonVisible=!1,this.dispatchEvent(new CustomEvent(AwfEvent.VALUE_CHANGE,{bubbles:!0,detail:this.value})),event.stopImmediatePropagation()}onChecklistClick(){this.dropdown?.overlay.open||this.field.focus()}onOverlayClose(){if(this.stateDropdownOpened=!1,this.field.value||this.actualAwfListOptions.forEach((option=>option.selected=!1)),this.value){const selectedOption=Array.from(this.querySelectorAll("option")).find((option=>option.value===this.value));this.field.value=selectedOption?.textContent||"",selectedOption&&(selectedOption.selected=!0)}else this.field.value="";this.addItem.remove(),this.addItem.removeAttribute("focused"),this.noItemFound.remove(),this.dropdown?.overlay.removeAttribute("keyboard-navigation"),this.clearFilter(),this.dropdown?.overlay.style.setProperty("--awf-checklist-max-height","0")}onOverlayOpen(){this.setPlacement(),this.forceLabelPositionComputing(),this.stateDropdownOpened=!0,this.clearInternalErrorMessage(),this.resizeOverlay(),setTimeout((()=>this.chooseFocusedElement().focus()))}setPlacement(){switch(this.placement){case"top":case"top-start":this.placement="top-start";break;case"bottom":case"bottom-start":this.placement="bottom-start";break;default:this.placement="auto",this.dropdown?.overlay&&(this.dropdown.overlay.defaultPlacement="bottom-start")}}forceLabelPositionComputing(){this.awfInput.dispatchEvent(new Event("focusin",{bubbles:!0}))}resizeOverlay(){let width=this.awfInput.getBoundingClientRect().width;this.labelPosition===LabelPosition.Left&&(width-=this.label?.getBoundingClientRect().width||0),this.dropdown?.overlay&&(this.dropdown.overlay.style.width=`${width}px`)}chooseFocusedElement(){this.focusedOption=this.selectedAwfListOption||this.actualAwfListOptions[0];let el=null;return this.mode===SelectMode.DEFAULT&&(el=this.focusedOption),el||(el=this.field),el}onMouseEnter(){this.clearButtonVisible=!!this.value}onMouseLeave(){this.clearButtonVisible=!1}onFocusIn(){this.label?.setAttribute(`${FLOATING_FORCED_ATTR}`,""),this.clearButtonVisible=!!this.value}onFocusOut(){this.label?.removeAttribute(`${FLOATING_FORCED_ATTR}`),this.clearButtonVisible=!1}onKeyDown(event){"Tab"!==event.key&&(event.stopPropagation(),this.mode===SelectMode.DEFAULT&&event.preventDefault())}onKeyUp(event){"Tab"!==event.key&&(event.stopPropagation(),this.mode===SelectMode.DEFAULT&&event.preventDefault()),["Enter"].includes(event.key)?this.dropdown?.overlay.open?(this.dropdown.checklist?.handleKeyUp(event),this.dropdown.overlay.hide()):this.showOverlay():["ArrowDown","ArrowUp"].includes(event.key)?this.dropdown?.overlay.open&&this.mode!==SelectMode.DEFAULT?(this.dropdown.overlay?.setAttribute("keyboard-navigation",""),this.dropdown.checklist?.handleKeyUp(event),this.field.focus()):this.showOverlay():1!==event.key.length&&"Backspace"!==event.key||this.onCharacterTyped()}onCharacterTyped(){this.mode===SelectMode.SEARCH?this.handleSearchMode():this.mode===SelectMode.FREE_TEXT&&this.handleFreeText()}handleFreeText(){this.showOverlay();const existingOption=this.actualAwfListOptions.find((option=>option.textContent===this.field.value));existingOption?(this.filterOptions(),this.focusedOption=existingOption,this.addItem.removeAttribute("focused"),this.addItem.remove()):this.field.value?(this.filterOptions(),this.shadowRoot?.querySelectorAll("awf-list-option").forEach((option=>{option.focused=!1})),this.dropdown?.overlay.removeAttribute("keyboard-navigation"),this.addItem.innerText=msg(str`Add item "${this.field.value}"`),this.addItem.setAttribute("focused",""),this.dropdown?.checklist.appendChild(this.addItem),this.focusedOption=this.addItem):(this.clearFilter(),this.addItem.removeAttribute("focused"),this.addItem.remove(),this.focusedOption=void 0,this.value=void 0)}handleSearchMode(){this.showOverlay(),this.filterOptions();const firstMatch=this.actualAwfListOptions.find((option=>option!==this.noItemFound&&!option.hidden));firstMatch?(this.noItemFound.remove(),this.actualAwfListOptions.forEach((option=>option.focused=!1)),firstMatch.focused=!0,this.focusedOption=firstMatch):(this.noItemFound.innerText=msg("No item found"),this.dropdown?.checklist.appendChild(this.noItemFound))}filterOptions(){this.dropdown?.checklist?.querySelectorAll("awf-list-option:not(#addItemOption):not(#noItemFound)").forEach((option=>{option.hidden=!option.textContent?.includes(this.field.value)}))}clearFilter(){this.dropdown?.checklist.querySelectorAll("awf-list-option[hidden]").forEach((option=>option.hidden=!1))}onValueChange(event){event.stopPropagation(),this.valueSelected(event.detail),this.dropdown?.overlay.hide()}valueSelected(value){this.value=value,this.mode===SelectMode.FREE_TEXT&&this.addItem.value===value&&(this.value=this.addNewOption().value,this.addItem.selected=!1,this.addItem.remove());const selected=Array.from(this.querySelectorAll("option")).find((option=>option.value===this.value));selected?this.field.value=selected.text:(this.field.value="",this.value=null),this.validateValue(),this.dispatchEvent(new CustomEvent(AwfEvent.VALUE_CHANGE,{detail:this.value})),this.dispatchEvent(new Event("change"))}addNewOption(){const option=document.createElement("option");return option.value=this.field.value,option.text=this.field.value,this.appendChild(option),this.dispatchEvent(new CustomEvent(AwfEvent.ADD_VALUE,{detail:this.field.value})),option}isFocused(optionValue){return this.focusedOption?.value===optionValue}renderOption(option){return lit.dy`<awf-list-option
                        noCheckbox
                        ?selected=${option.selected}
                        ?focused=${this.isFocused(option.value)}
                        ?disabled=${option.disabled}
                        .value=${option.value}
                        @keyup=${e=>this.onOptionKeyUp(e,option)}
                        @mouseenter=${this.onOptionMouseEnter}>${option.text}</awf-list-option>`}onOptionKeyUp(event,option){["Enter"," "].includes(event.key)&&option.disabled&&(event.preventDefault(),event.stopPropagation())}onOptionMouseEnter(){this.dropdown?.overlay.removeAttribute("keyboard-navigation")}onChildListChanged(){const options=this.querySelectorAll("option");if(0===options.length&&(this.dropdown?.checklist?.querySelectorAll("awf-list-option").forEach((opt=>opt.remove())),this.field.value=""),this.value&&!this.field.value){const option=this.querySelector(`option[value=${this.value}]`);option&&(options.forEach((opt=>opt.selected=!1)),option.selected=!0,this.field.value=option.textContent||"")}}};AwfSelect.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,SELECT_STYLES],AwfSelect.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSelect.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfSelect.prototype,"mode",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfSelect.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSelect.prototype,"placement",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfSelect.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSelect.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSelect.prototype,"readonly",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfSelect.prototype,"required",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfSelect.prototype,"placeholder",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Object})],AwfSelect.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("input")],AwfSelect.prototype,"htmlInputElement",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input")],AwfSelect.prototype,"awfInput",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfSelect.prototype,"stateDropdownOpened",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfSelect.prototype,"focusedOption",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfSelect.prototype,"clearButtonVisible",void 0),AwfSelect=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-select",!0)],AwfSelect);const INPUT_DATE_TIME_STYLE=lit.iv`
    :host {
        display: inline-flex;
    }

    .calendar-button {
        cursor: pointer;
        --awf-button-height: calc(var(--awf-input-height-inner) - 2px);
    }

    span[slot=suffix] {
        display: flex;
        padding: 0;
    }

    awf-clear-button {
        margin-top: auto;
        margin-bottom: auto;
        visibility: hidden;
    }

    awf-clear-button[visible] {
        visibility: visible;
    }

    awf-input {
        width: auto;
    }

    ::slotted(input) {
        grid-area: input;
        min-width: 190px;
    }
`;let AwfInputDateTime=class AwfInputDateTime extends lit.oi{get value(){return this.field?dateUtil.parseDateTime(this.field.value):null}set value(value){this.field&&(this.field.value=dateUtil.formatDate(value,!0))}get field(){return this.slottedInputs[0]}get _clearButtonVisible(){let visible=!this.required;return visible&&(visible=!this.disabled),visible&&(visible=!!this.field?.value),visible&&(visible=this.hovered||this.focused),visible}get valueAsDate(){return this.field?dateUtil.parseDateTime(this.field.value):null}constructor(){super(),this.appendToBody=!1,this.labelPosition=LabelPosition.Top,this.hasForm=!1,this.hovered=!1,this.focused=!1,this.disabled=!1,this.required=!1,this.dateTimePickerRef=ref_e(),this.overlayRef=ref_e(),this.formValidationController=new FormValidationController(this),this.mutationObserver=new MutationObserver(this.onInputAttributeChange.bind(this)),this._onFocus=()=>this.focused=!0,this._onBlur=()=>this.focused=!1,this._onChange=this.onChange.bind(this),new ElementStyleController(this,[PLACEHOLDER_STYLE])}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}validateValue(){let pass=this.awfInput.validateValue();return pass&&this.field.value&&!dateUtil.validateDateTimeFormat(this.field.value)&&(this.setInternalMessage(MessageLevel.ERROR,msg("Invalid date time format (yyyy-mm-dd hh:mm AM|PM)")),pass=!1),pass&&!this.checkMinDate()&&(this.setInternalMessage(MessageLevel.ERROR,msg(str`The value must be higher than or equal to ${dateUtil.formatDate(this.min,!0)}`)),pass=!1),pass&&!this.checkMaxDate()&&(this.setInternalMessage(MessageLevel.ERROR,msg(str`The value must be less than or equal to ${dateUtil.formatDate(this.max,!0)}`)),pass=!1),pass}setInternalMessage(level,message){this.awfInput.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInput.clearInternalErrorMessage()}render(){return lit.dy`
            <awf-input
                labelPosition=${this.labelPosition||LabelPosition.Top}
                @mouseenter=${this.onInputMouseEnter}
                @mouseleave=${this.onInputMouseLeave}
                @focus=${this._onFocus}
                @blur=${this._onBlur}
                novalidate
            >
                <slot slot="label" name="label"></slot>
                <slot></slot>
                <span slot="suffix">
                    <awf-clear-button
                        ?hidden=${this.required||this.disabled}
                        ?visible=${this._clearButtonVisible}
                        @click=${this.clearDate}>
                    </awf-clear-button>
                    <awf-button
                        class="calendar-button"
                        ?disabled=${this.disabled}
                        @click=${this.toggleDateTimepicker}
                        @keydown=${this.onCalendarIconKeydown}
                        @focus=${this._onFocus}
                        @blur=${this._onBlur}
                        aria-label="calendar"
                    >
                        <awf-icon raw=${calendar.Y}></awf-icon>
                    </awf-button>
                </span>
                <slot name="error" slot="error"></slot>
                <slot name="warning" slot="warning"></slot>
            </awf-input>
            <awf-overlay
                manualToggle
                offset="1"
                placement="bottom-start"
                ?appendToBody=${this.appendToBody}
                @open=${this.onOpen}
                @close=${this.onClose}
                ${ref_n(this.overlayRef)}
            >
                <awf-date-time-picker
                    .value=${this.value||new Date}
                    .min=${this.min}
                    .max=${this.max}
                    ${ref_n(this.dateTimePickerRef)}
                    @valuechange=${this.onDateSelected}>
                </awf-date-time-picker>
            </awf-overlay>
            `}firstUpdated(_changedProperties){const[input]=this.slottedInputs;if(!input)throw new Error("Input not found!");input.type="text",input.addEventListener("change",this._onChange),input.addEventListener("focus",this._onFocus),input.addEventListener("blur",this._onBlur),this.onInputAttributeChange(),this.mutationObserver.disconnect(),this.mutationObserver.observe(this.field,{attributeFilter:["disabled","placeholder","required"]})}updated(_changedProperties){_changedProperties.has("value")&&(this.value?(this.field.value=dateUtil.formatDate(this.value,!0),this.field.dispatchEvent(new Event("focusin",{bubbles:!0}))):this.field.value="")}clearDate(){this.field.value="",this.field.focus()}onInputMouseEnter(){this.hovered=!0}onInputMouseLeave(){this.hovered=!1}onCalendarIconKeydown(event){event.preventDefault(),event.stopImmediatePropagation(),"ArrowDown"===event.code&&event.target.click()}toggleDateTimepicker(event){!this.disabled&&this.overlayRef.value&&(this.overlayRef.value.refElement=this.field,this.overlayRef.value.toggle()),event.stopImmediatePropagation()}onOpen(){setTimeout((()=>{this.dateTimePickerRef.value?.requestFocus(),this.calendarIcon.classList.remove("activated"),this.field.classList.add("slotted-input-hidden")}),100)}onClose(){setTimeout((()=>{this.field.classList.remove("slotted-input-hidden"),this.calendarIcon.requestFocus()}),100)}onDateSelected(event){event.stopPropagation(),this.overlayRef.value?.hide(),this.formValidationController.markAsDirty(),this.field.value=dateUtil.formatDate(event.detail,!0),setTimeout((()=>this.field.dispatchEvent(new Event("focusin",{bubbles:!0}))))}onChange(event){event.stopPropagation(),this.field.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,this.valueAsDate))}checkMaxDate(){const date=this.valueAsDate;return!this.max||!date||dateUtil.compareDates(date,this.max,!0)<=0}checkMinDate(){const date=this.valueAsDate;return!this.min||!date||dateUtil.compareDates(date,this.min,!0)>=0}onInputAttributeChange(){this.disabled=this.field.disabled,this.required=this.field.required,this.field.placeholder||(this.field.placeholder=msg("yyyy-mm-dd hh:mm AM|PM"))}};AwfInputDateTime.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,INPUT_DATE_TIME_STYLE],AwfInputDateTime.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputDateTime.prototype,"appendToBody",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDateTime.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDateTime.prototype,"max",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputDateTime.prototype,"min",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input",flatten:!0})],AwfInputDateTime.prototype,"slottedInputs",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input")],AwfInputDateTime.prototype,"awfInput",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-button")],AwfInputDateTime.prototype,"calendarIcon",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDateTime.prototype,"hovered",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDateTime.prototype,"focused",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDateTime.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputDateTime.prototype,"required",void 0),AwfInputDateTime=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-input-date-time",!0)],AwfInputDateTime);var remove_subtract_minus=__webpack_require__("./node_modules/@agilent/web-icons/core/remove-subtract-minus.js"),add_plus=__webpack_require__("./node_modules/@agilent/web-icons/core/add-plus.js");class InputNumberService{computeIntegerPartLength(value){return Number.isNaN(value)?0:this.computeIntegerPart(value).toString().length}computeFractionalPartLength(value){if(Number.isNaN(value))return 0;const integerPart=this.computeIntegerPart(value);if(value%integerPart==0)return 0;return Math.abs(value).toString().replace(integerPart.toString(),"").toString().length-1}computeIntegerPart(value){return Math.floor(Math.abs(value))}}const INPUT_NUMBER_STYLES=lit.iv`
    :host {
        display: flex;
    }

    ::slotted(input) {
        text-align: right;
        grid-area: input;
    }

    :host([textAlign='left']) ::slotted(input) {
        text-align: left;
    }

    ::slotted([slot='error']),
    ::slotted([slot='warning']) {
        display: block;
        line-height: 1rem;
    }

    ::slotted([slot='error']) {
        color: var(--awf-input-error-font-color-inner);
    }

    ::slotted([slot='warning']) {
        color: var(--awf-input-warning-font-color-inner);
    }
`;let AwfInputNumber=class AwfInputNumber extends lit.oi{get field(){const[input]=this.slottedInputs;return input||console.warn("Input not found!"),input}constructor(){super(),this.labelPosition=LabelPosition.Top,this.messageBelow=!1,this.textAlign="right",this.forceFocus=!1,this.scientificNotation=!1,this.precision=-1,this.wholeNumber=!1,this.maxIntegerDigitCount=0,this.maxFractionalDigitCount=0,this.hasForm=!1,this._onInput=this.onInput.bind(this),this._onKeydown=this.onKeydown.bind(this),this._onFocus=this.onFocus.bind(this),this._onBlur=this.onBlur.bind(this),this._onChange=this.onChange.bind(this),this.actualValue={current:"",last:""},this.manuallyEntered=!1,this.inputNumberService=new InputNumberService,this.lastInputValue="",this.formValidationController=new FormValidationController(this),new ElementStyleController(this,[PLACEHOLDER_STYLE,NUMBER_SPINNER_STYLE])}disconnectedCallback(){super.disconnectedCallback(),this.field&&(this.field.removeEventListener("focus",this._onFocus),this.field.removeEventListener("blur",this._onBlur),this.field.removeEventListener("input",this._onInput),this.field.removeEventListener("keydown",this._onKeydown))}render(){return lit.dy`
            <awf-input labelPosition=${this.labelPosition} ?forceFocus=${this.forceFocus} ?messageBelow=${this.messageBelow} novalidate>
                <slot name="prefix" slot="prefix"></slot>
                <slot name="label" slot="label"></slot>
                <slot @slotchange=${this.onSlotChange}></slot>
                <slot name="suffix" slot="suffix"></slot>
                <slot name="error" slot="error"></slot>
                <slot name="warning" slot="warning"></slot>
            </awf-input>
        `}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}validateValue(){let pass=this.awfInput.validateValue();return pass&&(pass=this.validateNumber()),pass}setInternalMessage(level,message){this.awfInput.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInput.clearInternalErrorMessage()}firstUpdated(){this.checkDigitCounts(),this.actualValue.current=this.field.value,this.field.value=this.computeDisplayedValue()}updated(_changedProperties){_changedProperties.has("precision")&&(this.field.value=this.computeDisplayedValue())}onChange(){this.manuallyEntered||(this.actualValue.current=this.field.value,this.validateValue()&&this.clearInternalErrorMessage()),this.checkDigitCounts(),this.actualValue.current!==this.actualValue.last&&(this.actualValue.last=this.actualValue.current,this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,this.actualValue.current)),this.validateNumber()||(this.isNotAnIntegerInScientificNotation()&&this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_NOT_AN_INTEGER,this.actualValue.current)),this.field.validity.rangeOverflow&&this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_OUT_OF_BOUNDS_MAX,{max:this.field.max,value:this.actualValue.current})),this.field.validity.rangeUnderflow&&this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_OUT_OF_BOUNDS_MIN,{min:this.field.min,value:this.actualValue.current}))),this.field.value.startsWith(".")&&(this.field.value="0"+this.field.value)),this.manuallyEntered=!1}onKeydown(event){this.lastInputValue=this.field.value,this.shouldRejectCharacter(event.key)&&event.preventDefault()}onInput(){this.checkDigitCounts(),this.actualValue.current=this.awfInput.value,this.lastInputValue="",this.hasForm||this.validateNumber()}onFocus(){this.field.value!==this.actualValue.current&&(this.field.value=this.actualValue.current)}onBlur(){this.manuallyEntered=!0,this.actualValue.current=this.field.value,this.field.value=this.computeDisplayedValue()}checkDigitCounts(){if(this.maxIntegerDigitCount>0){this.inputNumberService.computeIntegerPartLength(Number(this.field.value))>this.maxIntegerDigitCount&&(this.field.value=this.lastInputValue)}if(this.maxFractionalDigitCount>0){this.inputNumberService.computeFractionalPartLength(Number(this.field.value))>this.maxFractionalDigitCount&&(this.field.value=this.lastInputValue)}}computeDisplayedValue(){if(""===this.actualValue.current)return"";if(this.scientificNotation&&this.shouldBeConverted(this.actualValue.current)){const fractionDigits=this.precision<0?void 0:this.precision;return Number(this.actualValue.current).toExponential(fractionDigits).replace("e","E")}return!this.precision||this.precision<0||this.wholeNumber?this.actualValue.current:Number(this.actualValue.current).toFixed(this.precision)}shouldBeConverted(value){if(value.toLocaleLowerCase().indexOf("e")>-1)return!0;const digits=value.match(/\d/g);return(digits?.length||0)>6}shouldRejectCharacter(character){if(!this.scientificNotation){const forbidden=["e","E"];return this.wholeNumber&&forbidden.push(".",","),forbidden.indexOf(character)>-1}return!1}onSlotChange(){this.field&&(this.field.type="number",this.field.addEventListener("change",this._onChange),this.field.addEventListener("focus",this._onFocus),this.field.addEventListener("blur",this._onBlur),this.field.addEventListener("input",this._onInput),this.field.addEventListener("keydown",this._onKeydown))}validateNumber(){let error=null;return this.isNotAnIntegerInScientificNotation()?error=msg("This input is not a whole number."):this.field.validity.rangeOverflow?error=msg(str`The value must be less than or equal to ${this.field.max}.`):this.field.validity.rangeUnderflow&&(error=msg(str`The value must be higher than or equal to ${this.field.min}.`)),null!==error&&this.setInternalMessage("error",error),null===error}isNotAnIntegerInScientificNotation(){return this.scientificNotation&&this.wholeNumber&&!Number.isInteger(Number(this.actualValue.current))}};AwfInputNumber.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,INPUT_NUMBER_STYLES],AwfInputNumber.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfInputNumber.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputNumber.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String,reflect:!0})],AwfInputNumber.prototype,"textAlign",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputNumber.prototype,"forceFocus",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputNumber.prototype,"scientificNotation",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfInputNumber.prototype,"precision",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputNumber.prototype,"wholeNumber",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input",flatten:!0})],AwfInputNumber.prototype,"slottedInputs",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number,reflect:!0})],AwfInputNumber.prototype,"maxIntegerDigitCount",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number,reflect:!0})],AwfInputNumber.prototype,"maxFractionalDigitCount",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input")],AwfInputNumber.prototype,"awfInput",void 0),AwfInputNumber=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-input-number",!0)],AwfInputNumber);const INPUT_INCREMENT_STYLES=lit.iv`
    :host([disabled]) {
        cursor: not-allowed;
    }

    .increment-button,
    .decrement-button {
        padding: 0;
        --awf-button-height: calc(var(--awf-input-height-inner) - 2px);
        --awf-icon-color: var(--at-dark-navy);
    }

    ::slotted(input) {
        grid-area: input;
    }
`;let AwfInputIncrement=class AwfInputIncrement extends lit.oi{get field(){const[input]=this.slottedInputs;return input||console.warn("Input not found!"),input}constructor(){super(),this.forceFocus=!1,this.labelPosition=LabelPosition.Top,this.messageBelow=!1,this.precision=-1,this.scientificNotation=!1,this.hasForm=!1,this.plusBtnDisabled=!1,this.minusBtnDisabled=!1,this._onChange=this.onChange.bind(this),this.formValidationController=new FormValidationController(this),new ElementStyleController(this,[PLACEHOLDER_STYLE,NUMBER_SPINNER_STYLE])}disconnectedCallback(){this.field.removeEventListener("change",this._onChange)}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}validateValue(){return this.awfInputNumber.validateValue()}setInternalMessage(level,message){this.awfInputNumber.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInputNumber.clearInternalErrorMessage()}render(){return lit.dy`
            <awf-input-number
                ?forceFocus=${this.forceFocus}
                labelPosition=${this.labelPosition}
                ?messageBelow=${this.messageBelow}
                precision=${this.precision}
                ?scientificNotation=${this.scientificNotation}
                novalidate
            >
                <awf-button slot="prefix" @click=${this.decrement} class="decrement-button" ?disabled=${this.minusBtnDisabled}>
                    <awf-icon raw=${remove_subtract_minus.I}></awf-icon>
                </awf-button>
                <slot name="label" slot="label"></slot>
                <slot @slotchange=${this.onSlotChange}></slot>

                <awf-button slot="suffix" @click=${this.increment} class="increment-button" ?disabled=${this.plusBtnDisabled}>
                    <awf-icon raw=${add_plus.d}></awf-icon>
                </awf-button>
                <slot name="error" slot="error"></slot>
                <slot name="warning" slot="warning"></slot>
            </awf-input-number>
        `}onSlotChange(){this.field.type="number",this.field.addEventListener("change",this._onChange),this.updateDisabledState(),this.observeInputDisabledChanges()}observeInputDisabledChanges(){this.inputMutationObserver?.disconnect(),this.inputMutationObserver=new MutationObserver(this.updateDisabledState.bind(this)),this.inputMutationObserver.observe(this.field,{attributeFilter:["disabled"]})}updateDisabledState(){this.field.disabled?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.updatePlusMinusButtonStates(),this.field.dispatchEvent(new FocusEvent("focusout"))}increment(){const step=this.field.step?Number(this.field.step):1;this.changeValue(step,step),this.updatePlusMinusButtonStates(),this.notifyChange()}decrement(){const step=this.field.step?-Number(this.field.step):-1;this.changeValue(step,0),this.notifyChange()}changeValue(step,defaultValue){this.field.value?this.field.value=`${Number((Number(this.field.value)+step).toFixed(12))}`:this.field.value=`${defaultValue}`}notifyChange(){this.field.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0,data:this.field.value})),this.field.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,composed:!0})),this.field.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))}updatePlusMinusButtonStates(){const inputValue=Number(this.field.value),step=this.field.step?Number(this.field.step):1;this.plusBtnDisabled=this.field.disabled||!!this.field.max&&inputValue+step>Number(this.field.max),this.minusBtnDisabled=this.field.disabled||!!this.field.min&&inputValue-step<Number(this.field.min)}onChange(){this.updatePlusMinusButtonStates()}};AwfInputIncrement.styles=[COMMON_STYLES,INPUT_CSS_VARIABLES,INPUT_NUMBER_STYLES,INPUT_INCREMENT_STYLES],AwfInputIncrement.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputIncrement.prototype,"forceFocus",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],AwfInputIncrement.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputIncrement.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfInputIncrement.prototype,"precision",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputIncrement.prototype,"scientificNotation",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputIncrement.prototype,"plusBtnDisabled",void 0),(0,tslib_es6.gn)([(0,decorators.SB)()],AwfInputIncrement.prototype,"minusBtnDisabled",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input"})],AwfInputIncrement.prototype,"slottedInputs",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input-number")],AwfInputIncrement.prototype,"awfInputNumber",void 0),AwfInputIncrement=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-input-increment",!0)],AwfInputIncrement);let AwfInputPassword=class AwfInputPassword extends lit.oi{get field(){const[input]=this.slottedInputs;return input||console.warn("Input not found!"),input}constructor(){super(),this.labelPosition=LabelPosition.Top,this.messageBelow=!1,this.forceFocus=!1,this.hasForm=!1,this.formValidationController=new FormValidationController(this),new ElementStyleController(this,[PLACEHOLDER_STYLE])}render(){return lit.dy`
            <awf-input labelPosition=${this.labelPosition} ?forceFocus=${this.forceFocus} ?messageBelow=${this.messageBelow} novalidate>
                <slot name="prefix" slot="prefix"></slot>
                <slot name="label" slot="label"></slot>
                <slot @slotchange=${this.onSlotChange}></slot>
                <slot name="suffix" slot="suffix"></slot>
                <slot name="error" slot="error"></slot>
                <slot name="warning" slot="warning"></slot>
            </awf-input>
        `}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}validateValue(){return this.awfInput.validateValue()}setInternalMessage(level,message){this.awfInput.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInput.clearInternalErrorMessage()}onSlotChange(){this.field&&(this.field.type="password")}};function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function IMask(el){let opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new IMask.InputMask(el,opts)}AwfInputPassword.styles=[COMMON_STYLES,lit.iv`
        :host {
            display: inline-flex;
        }
    `],AwfInputPassword.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],AwfInputPassword.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputPassword.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputPassword.prototype,"forceFocus",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input"})],AwfInputPassword.prototype,"slottedInputs",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input")],AwfInputPassword.prototype,"awfInput",void 0),AwfInputPassword=(0,tslib_es6.gn)([localized(),(0,awf_custom_element.M)("awf-input-password",!0)],AwfInputPassword);class ChangeDetails{constructor(details){Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},details)}aggregate(details){return this.rawInserted+=details.rawInserted,this.skip=this.skip||details.skip,this.inserted+=details.inserted,this.tailShift+=details.tailShift,this}get offset(){return this.tailShift+this.inserted.length}}function isString(str){return"string"==typeof str||str instanceof String}IMask.ChangeDetails=ChangeDetails;const DIRECTION_NONE="NONE",DIRECTION_LEFT="LEFT",DIRECTION_FORCE_LEFT="FORCE_LEFT",DIRECTION_RIGHT="RIGHT",DIRECTION_FORCE_RIGHT="FORCE_RIGHT";function escapeRegExp(str){return str.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function normalizePrepare(prep){return Array.isArray(prep)?prep:[prep,new ChangeDetails]}function objectIncludes(b,a){if(a===b)return!0;var i,arrA=Array.isArray(a),arrB=Array.isArray(b);if(arrA&&arrB){if(a.length!=b.length)return!1;for(i=0;i<a.length;i++)if(!objectIncludes(a[i],b[i]))return!1;return!0}if(arrA!=arrB)return!1;if(a&&b&&"object"==typeof a&&"object"==typeof b){var dateA=a instanceof Date,dateB=b instanceof Date;if(dateA&&dateB)return a.getTime()==b.getTime();if(dateA!=dateB)return!1;var regexpA=a instanceof RegExp,regexpB=b instanceof RegExp;if(regexpA&&regexpB)return a.toString()==b.toString();if(regexpA!=regexpB)return!1;var keys=Object.keys(a);for(i=0;i<keys.length;i++)if(!Object.prototype.hasOwnProperty.call(b,keys[i]))return!1;for(i=0;i<keys.length;i++)if(!objectIncludes(b[keys[i]],a[keys[i]]))return!1;return!0}return!(!a||!b||"function"!=typeof a||"function"!=typeof b)&&a.toString()===b.toString()}class ActionDetails{constructor(value,cursorPos,oldValue,oldSelection){for(this.value=value,this.cursorPos=cursorPos,this.oldValue=oldValue,this.oldSelection=oldSelection;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?DIRECTION_NONE:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?DIRECTION_LEFT:DIRECTION_RIGHT}}class ContinuousTailDetails{constructor(){let value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",from=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,stop=arguments.length>2?arguments[2]:void 0;this.value=value,this.from=from,this.stop=stop}toString(){return this.value}extend(tail){this.value+=String(tail)}appendTo(masked){return masked.append(this.toString(),{tail:!0}).aggregate(masked._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(state){Object.assign(this,state)}unshift(beforePos){if(!this.value.length||null!=beforePos&&this.from>=beforePos)return"";const shiftChar=this.value[0];return this.value=this.value.slice(1),shiftChar}shift(){if(!this.value.length)return"";const shiftChar=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),shiftChar}}class Masked{constructor(opts){this._value="",this._update(Object.assign({},Masked.DEFAULTS,opts)),this.isInitialized=!0}updateOptions(opts){Object.keys(opts).length&&this.withValueRefresh(this._update.bind(this,opts))}_update(opts){Object.assign(this,opts)}get state(){return{_value:this.value}}set state(state){this._value=state._value}reset(){this._value=""}get value(){return this._value}set value(value){this.resolve(value)}resolve(value){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{input:!0};return this.reset(),this.append(value,flags,""),this.doCommit(),this.value}get unmaskedValue(){return this.value}set unmaskedValue(value){this.reset(),this.append(value,{},""),this.doCommit()}get typedValue(){return this.doParse(this.value)}set typedValue(value){this.value=this.doFormat(value)}get rawInputValue(){return this.extractInput(0,this.value.length,{raw:!0})}set rawInputValue(value){this.reset(),this.append(value,{raw:!0},""),this.doCommit()}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(cursorPos,direction){return cursorPos}totalInputPositions(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return Math.min(this.value.length,toPos-fromPos)}extractInput(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(fromPos,toPos)}extractTail(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new ContinuousTailDetails(this.extractInput(fromPos,toPos),fromPos)}appendTail(tail){return isString(tail)&&(tail=new ContinuousTailDetails(String(tail))),tail.appendTo(this)}_appendCharRaw(ch){return ch?(this._value+=ch,new ChangeDetails({inserted:ch,rawInserted:ch})):new ChangeDetails}_appendChar(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},checkTail=arguments.length>2?arguments[2]:void 0;const consistentState=this.state;let details;if([ch,details]=normalizePrepare(this.doPrepare(ch,flags)),details=details.aggregate(this._appendCharRaw(ch,flags)),details.inserted){let consistentTail,appended=!1!==this.doValidate(flags);if(appended&&null!=checkTail){const beforeTailState=this.state;!0===this.overwrite&&(consistentTail=checkTail.state,checkTail.unshift(this.value.length-details.tailShift));let tailDetails=this.appendTail(checkTail);appended=tailDetails.rawInserted===checkTail.toString(),appended&&tailDetails.inserted||"shift"!==this.overwrite||(this.state=beforeTailState,consistentTail=checkTail.state,checkTail.shift(),tailDetails=this.appendTail(checkTail),appended=tailDetails.rawInserted===checkTail.toString()),appended&&tailDetails.inserted&&(this.state=beforeTailState)}appended||(details=new ChangeDetails,this.state=consistentState,checkTail&&consistentTail&&(checkTail.state=consistentTail))}return details}_appendPlaceholder(){return new ChangeDetails}_appendEager(){return new ChangeDetails}append(str,flags,tail){if(!isString(str))throw new Error("value should be string");const details=new ChangeDetails,checkTail=isString(tail)?new ContinuousTailDetails(String(tail)):tail;null!=flags&&flags.tail&&(flags._beforeTailState=this.state);for(let ci=0;ci<str.length;++ci){const d=this._appendChar(str[ci],flags,checkTail);if(!d.rawInserted&&!this.doSkipInvalid(str[ci],flags,checkTail))break;details.aggregate(d)}return(!0===this.eager||"append"===this.eager)&&null!=flags&&flags.input&&str&&details.aggregate(this._appendEager()),null!=checkTail&&(details.tailShift+=this.appendTail(checkTail).tailShift),details}remove(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,fromPos)+this.value.slice(toPos),new ChangeDetails}withValueRefresh(fn){if(this._refreshing||!this.isInitialized)return fn();this._refreshing=!0;const rawInput=this.rawInputValue,value=this.value,ret=fn();return this.rawInputValue=rawInput,this.value&&this.value!==value&&0===value.indexOf(this.value)&&this.append(value.slice(this.value.length),{},""),delete this._refreshing,ret}runIsolated(fn){if(this._isolated||!this.isInitialized)return fn(this);this._isolated=!0;const state=this.state,ret=fn(this);return this.state=state,delete this._isolated,ret}doSkipInvalid(ch){return this.skipInvalid}doPrepare(str){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(str,this,flags):str}doValidate(flags){return(!this.validate||this.validate(this.value,this,flags))&&(!this.parent||this.parent.doValidate(flags))}doCommit(){this.commit&&this.commit(this.value,this)}doFormat(value){return this.format?this.format(value,this):value}doParse(str){return this.parse?this.parse(str,this):str}splice(start,deleteCount,inserted,removeDirection){let flags=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{input:!0};const tailPos=start+deleteCount,tail=this.extractTail(tailPos),eagerRemove=!0===this.eager||"remove"===this.eager;let oldRawValue;eagerRemove&&(removeDirection=function forceDirection(direction){switch(direction){case DIRECTION_LEFT:return DIRECTION_FORCE_LEFT;case DIRECTION_RIGHT:return DIRECTION_FORCE_RIGHT;default:return direction}}(removeDirection),oldRawValue=this.extractInput(0,tailPos,{raw:!0}));let startChangePos=start;const details=new ChangeDetails;if(removeDirection!==DIRECTION_NONE&&(startChangePos=this.nearestInputPos(start,deleteCount>1&&0!==start&&!eagerRemove?DIRECTION_NONE:removeDirection),details.tailShift=startChangePos-start),details.aggregate(this.remove(startChangePos)),eagerRemove&&removeDirection!==DIRECTION_NONE&&oldRawValue===this.rawInputValue)if(removeDirection===DIRECTION_FORCE_LEFT){let valLength;for(;oldRawValue===this.rawInputValue&&(valLength=this.value.length);)details.aggregate(new ChangeDetails({tailShift:-1})).aggregate(this.remove(valLength-1))}else removeDirection===DIRECTION_FORCE_RIGHT&&tail.unshift();return details.aggregate(this.append(inserted,flags,tail))}maskEquals(mask){return this.mask===mask}typedValueEquals(value){const tval=this.typedValue;return value===tval||Masked.EMPTY_VALUES.includes(value)&&Masked.EMPTY_VALUES.includes(tval)||this.doFormat(value)===this.doFormat(this.typedValue)}}function maskedClass(mask){if(null==mask)throw new Error("mask property should be defined");return mask instanceof RegExp?IMask.MaskedRegExp:isString(mask)?IMask.MaskedPattern:mask instanceof Date||mask===Date?IMask.MaskedDate:mask instanceof Number||"number"==typeof mask||mask===Number?IMask.MaskedNumber:Array.isArray(mask)||mask===Array?IMask.MaskedDynamic:IMask.Masked&&mask.prototype instanceof IMask.Masked?mask:mask instanceof IMask.Masked?mask.constructor:mask instanceof Function?IMask.MaskedFunction:(console.warn("Mask not found for mask",mask),IMask.Masked)}function createMask(opts){if(IMask.Masked&&opts instanceof IMask.Masked)return opts;const mask=(opts=Object.assign({},opts)).mask;if(IMask.Masked&&mask instanceof IMask.Masked)return mask;const MaskedClass=maskedClass(mask);if(!MaskedClass)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new MaskedClass(opts)}Masked.DEFAULTS={format:String,parse:v=>v,skipInvalid:!0},Masked.EMPTY_VALUES=[void 0,null,""],IMask.Masked=Masked,IMask.createMask=createMask;const _excluded=["parent","isOptional","placeholderChar","displayChar","lazy","eager"],DEFAULT_INPUT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class PatternInputDefinition{constructor(opts){const{parent,isOptional,placeholderChar,displayChar,lazy,eager}=opts,maskOpts=_objectWithoutPropertiesLoose(opts,_excluded);this.masked=createMask(maskOpts),Object.assign(this,{parent,isOptional,placeholderChar,displayChar,lazy,eager})}reset(){this.isFilled=!1,this.masked.reset()}remove(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===fromPos&&toPos>=1?(this.isFilled=!1,this.masked.remove(fromPos,toPos)):new ChangeDetails}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return Boolean(this.masked.value)||this.isOptional}_appendChar(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isFilled)return new ChangeDetails;const state=this.masked.state,details=this.masked._appendChar(ch,flags);return details.inserted&&!1===this.doValidate(flags)&&(details.inserted=details.rawInserted="",this.masked.state=state),details.inserted||this.isOptional||this.lazy||flags.input||(details.inserted=this.placeholderChar),details.skip=!details.inserted&&!this.isOptional,this.isFilled=Boolean(details.inserted),details}append(){return this.masked.append(...arguments)}_appendPlaceholder(){const details=new ChangeDetails;return this.isFilled||this.isOptional||(this.isFilled=!0,details.inserted=this.placeholderChar),details}_appendEager(){return new ChangeDetails}extractTail(){return this.masked.extractTail(...arguments)}appendTail(){return this.masked.appendTail(...arguments)}extractInput(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,flags=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(fromPos,toPos,flags)}nearestInputPos(cursorPos){let direction=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DIRECTION_NONE;const maxPos=this.value.length,boundPos=Math.min(Math.max(cursorPos,0),maxPos);switch(direction){case DIRECTION_LEFT:case DIRECTION_FORCE_LEFT:return this.isComplete?boundPos:0;case DIRECTION_RIGHT:case DIRECTION_FORCE_RIGHT:return this.isComplete?boundPos:maxPos;default:return boundPos}}totalInputPositions(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(fromPos,toPos).length}doValidate(){return this.masked.doValidate(...arguments)&&(!this.parent||this.parent.doValidate(...arguments))}doCommit(){this.masked.doCommit()}get state(){return{masked:this.masked.state,isFilled:this.isFilled}}set state(state){this.masked.state=state.masked,this.isFilled=state.isFilled}}class PatternFixedDefinition{constructor(opts){Object.assign(this,opts),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,fromPos)+this._value.slice(toPos),this._value||(this._isRawInput=!1),new ChangeDetails}nearestInputPos(cursorPos){let direction=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DIRECTION_NONE;const maxPos=this._value.length;switch(direction){case DIRECTION_LEFT:case DIRECTION_FORCE_LEFT:return 0;default:return maxPos}}totalInputPositions(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._isRawInput?toPos-fromPos:0}extractInput(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(fromPos,toPos)||""}get isComplete(){return!0}get isFilled(){return Boolean(this._value)}_appendChar(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const details=new ChangeDetails;if(this.isFilled)return details;const appendEager=!0===this.eager||"append"===this.eager,isResolved=this.char===ch&&(this.isUnmasking||flags.input||flags.raw)&&(!flags.raw||!appendEager)&&!flags.tail;return isResolved&&(details.rawInserted=this.char),this._value=details.inserted=this.char,this._isRawInput=isResolved&&(flags.raw||flags.input),details}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const details=new ChangeDetails;return this.isFilled||(this._value=details.inserted=this.char),details}extractTail(){return arguments.length>1&&void 0!==arguments[1]||this.value.length,new ContinuousTailDetails("")}appendTail(tail){return isString(tail)&&(tail=new ContinuousTailDetails(String(tail))),tail.appendTo(this)}append(str,flags,tail){const details=this._appendChar(str[0],flags);return null!=tail&&(details.tailShift+=this.appendTail(tail).tailShift),details}doCommit(){}get state(){return{_value:this._value,_isRawInput:this._isRawInput}}set state(state){Object.assign(this,state)}}const chunk_tail_details_excluded=["chunks"];class ChunksTailDetails{constructor(){let chunks=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],from=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.chunks=chunks,this.from=from}toString(){return this.chunks.map(String).join("")}extend(tailChunk){if(!String(tailChunk))return;isString(tailChunk)&&(tailChunk=new ContinuousTailDetails(String(tailChunk)));const lastChunk=this.chunks[this.chunks.length-1],extendLast=lastChunk&&(lastChunk.stop===tailChunk.stop||null==tailChunk.stop)&&tailChunk.from===lastChunk.from+lastChunk.toString().length;if(tailChunk instanceof ContinuousTailDetails)extendLast?lastChunk.extend(tailChunk.toString()):this.chunks.push(tailChunk);else if(tailChunk instanceof ChunksTailDetails){if(null==tailChunk.stop){let firstTailChunk;for(;tailChunk.chunks.length&&null==tailChunk.chunks[0].stop;)firstTailChunk=tailChunk.chunks.shift(),firstTailChunk.from+=tailChunk.from,this.extend(firstTailChunk)}tailChunk.toString()&&(tailChunk.stop=tailChunk.blockIndex,this.chunks.push(tailChunk))}}appendTo(masked){if(!(masked instanceof IMask.MaskedPattern)){return new ContinuousTailDetails(this.toString()).appendTo(masked)}const details=new ChangeDetails;for(let ci=0;ci<this.chunks.length&&!details.skip;++ci){const chunk=this.chunks[ci],lastBlockIter=masked._mapPosToBlock(masked.value.length),stop=chunk.stop;let chunkBlock;if(null!=stop&&(!lastBlockIter||lastBlockIter.index<=stop)){if(chunk instanceof ChunksTailDetails||masked._stops.indexOf(stop)>=0){const phDetails=masked._appendPlaceholder(stop);details.aggregate(phDetails)}chunkBlock=chunk instanceof ChunksTailDetails&&masked._blocks[stop]}if(chunkBlock){const tailDetails=chunkBlock.appendTail(chunk);tailDetails.skip=!1,details.aggregate(tailDetails),masked._value+=tailDetails.inserted;const remainChars=chunk.toString().slice(tailDetails.rawInserted.length);remainChars&&details.aggregate(masked.append(remainChars,{tail:!0}))}else details.aggregate(masked.append(chunk.toString(),{tail:!0}))}return details}get state(){return{chunks:this.chunks.map((c=>c.state)),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(state){const{chunks}=state,props=_objectWithoutPropertiesLoose(state,chunk_tail_details_excluded);Object.assign(this,props),this.chunks=chunks.map((cstate=>{const chunk="chunks"in cstate?new ChunksTailDetails:new ContinuousTailDetails;return chunk.state=cstate,chunk}))}unshift(beforePos){if(!this.chunks.length||null!=beforePos&&this.from>=beforePos)return"";const chunkShiftPos=null!=beforePos?beforePos-this.from:beforePos;let ci=0;for(;ci<this.chunks.length;){const chunk=this.chunks[ci],shiftChar=chunk.unshift(chunkShiftPos);if(chunk.toString()){if(!shiftChar)break;++ci}else this.chunks.splice(ci,1);if(shiftChar)return shiftChar}return""}shift(){if(!this.chunks.length)return"";let ci=this.chunks.length-1;for(;0<=ci;){const chunk=this.chunks[ci],shiftChar=chunk.shift();if(chunk.toString()){if(!shiftChar)break;--ci}else this.chunks.splice(ci,1);if(shiftChar)return shiftChar}return""}}class PatternCursor{constructor(masked,pos){this.masked=masked,this._log=[];const{offset,index}=masked._mapPosToBlock(pos)||(pos<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=offset,this.index=index,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(s){Object.assign(this,s)}pushState(){this._log.push(this.state)}popState(){const s=this._log.pop();return this.state=s,s}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}_pushLeft(fn){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null===(_this$block=this.block)||void 0===_this$block?void 0:_this$block.value.length)||0){var _this$block;if(fn())return this.ok=!0}return this.ok=!1}_pushRight(fn){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(fn())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION_FORCE_LEFT),0!==this.offset||void 0}))}pushLeftBeforeInput(){return this._pushLeft((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION_LEFT),!0}))}pushLeftBeforeRequired(){return this._pushLeft((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION_LEFT),!0}))}pushRightBeforeFilled(){return this._pushRight((()=>{if(!this.block.isFixed&&this.block.value)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION_FORCE_RIGHT),this.offset!==this.block.value.length||void 0}))}pushRightBeforeInput(){return this._pushRight((()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,DIRECTION_NONE),!0}))}pushRightBeforeRequired(){return this._pushRight((()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,DIRECTION_NONE),!0}))}}IMask.MaskedRegExp=class MaskedRegExp extends Masked{_update(opts){opts.mask&&(opts.validate=value=>value.search(opts.mask)>=0),super._update(opts)}};const pattern_excluded=["_blocks"];class MaskedPattern extends Masked{constructor(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};opts.definitions=Object.assign({},DEFAULT_INPUT_DEFINITIONS,opts.definitions),super(Object.assign({},MaskedPattern.DEFAULTS,opts))}_update(){let opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};opts.definitions=Object.assign({},this.definitions,opts.definitions),super._update(opts),this._rebuildMask()}_rebuildMask(){const defs=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};let pattern=this.mask;if(!pattern||!defs)return;let unmaskingBlock=!1,optionalBlock=!1;for(let i=0;i<pattern.length;++i){var _defs$char,_defs$char2;if(this.blocks){const p=pattern.slice(i),bNames=Object.keys(this.blocks).filter((bName=>0===p.indexOf(bName)));bNames.sort(((a,b)=>b.length-a.length));const bName=bNames[0];if(bName){const maskedBlock=createMask(Object.assign({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite},this.blocks[bName]));maskedBlock&&(this._blocks.push(maskedBlock),this._maskedBlocks[bName]||(this._maskedBlocks[bName]=[]),this._maskedBlocks[bName].push(this._blocks.length-1)),i+=bName.length-1;continue}}let char=pattern[i],isInput=char in defs;if(char===MaskedPattern.STOP_CHAR){this._stops.push(this._blocks.length);continue}if("{"===char||"}"===char){unmaskingBlock=!unmaskingBlock;continue}if("["===char||"]"===char){optionalBlock=!optionalBlock;continue}if(char===MaskedPattern.ESCAPE_CHAR){if(++i,char=pattern[i],!char)break;isInput=!1}const maskOpts=null===(_defs$char=defs[char])||void 0===_defs$char||!_defs$char.mask||(null===(_defs$char2=defs[char])||void 0===_defs$char2?void 0:_defs$char2.mask.prototype)instanceof IMask.Masked?{mask:defs[char]}:defs[char],def=isInput?new PatternInputDefinition(Object.assign({parent:this,isOptional:optionalBlock,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar},maskOpts)):new PatternFixedDefinition({char,eager:this.eager,isUnmasking:unmaskingBlock});this._blocks.push(def)}}get state(){return Object.assign({},super.state,{_blocks:this._blocks.map((b=>b.state))})}set state(state){const{_blocks}=state,maskedState=_objectWithoutPropertiesLoose(state,pattern_excluded);this._blocks.forEach(((b,bi)=>b.state=_blocks[bi])),super.state=maskedState}reset(){super.reset(),this._blocks.forEach((b=>b.reset()))}get isComplete(){return this._blocks.every((b=>b.isComplete))}get isFilled(){return this._blocks.every((b=>b.isFilled))}get isFixed(){return this._blocks.every((b=>b.isFixed))}get isOptional(){return this._blocks.every((b=>b.isOptional))}doCommit(){this._blocks.forEach((b=>b.doCommit())),super.doCommit()}get unmaskedValue(){return this._blocks.reduce(((str,b)=>str+b.unmaskedValue),"")}set unmaskedValue(unmaskedValue){super.unmaskedValue=unmaskedValue}get value(){return this._blocks.reduce(((str,b)=>str+b.value),"")}set value(value){super.value=value}get displayValue(){return this._blocks.reduce(((str,b)=>str+b.displayValue),"")}appendTail(tail){return super.appendTail(tail).aggregate(this._appendPlaceholder())}_appendEager(){var _this$_mapPosToBlock;const details=new ChangeDetails;let startBlockIndex=null===(_this$_mapPosToBlock=this._mapPosToBlock(this.value.length))||void 0===_this$_mapPosToBlock?void 0:_this$_mapPosToBlock.index;if(null==startBlockIndex)return details;this._blocks[startBlockIndex].isFilled&&++startBlockIndex;for(let bi=startBlockIndex;bi<this._blocks.length;++bi){const d=this._blocks[bi]._appendEager();if(!d.inserted)break;details.aggregate(d)}return details}_appendCharRaw(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const blockIter=this._mapPosToBlock(this.value.length),details=new ChangeDetails;if(!blockIter)return details;for(let bi=blockIter.index;;++bi){var _flags$_beforeTailSta,_flags$_beforeTailSta2;const block=this._blocks[bi];if(!block)break;const blockDetails=block._appendChar(ch,Object.assign({},flags,{_beforeTailState:null===(_flags$_beforeTailSta=flags._beforeTailState)||void 0===_flags$_beforeTailSta||null===(_flags$_beforeTailSta2=_flags$_beforeTailSta._blocks)||void 0===_flags$_beforeTailSta2?void 0:_flags$_beforeTailSta2[bi]})),skip=blockDetails.skip;if(details.aggregate(blockDetails),skip||blockDetails.rawInserted)break}return details}extractTail(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;const chunkTail=new ChunksTailDetails;return fromPos===toPos||this._forEachBlocksInRange(fromPos,toPos,((b,bi,bFromPos,bToPos)=>{const blockChunk=b.extractTail(bFromPos,bToPos);blockChunk.stop=this._findStopBefore(bi),blockChunk.from=this._blockStartPos(bi),blockChunk instanceof ChunksTailDetails&&(blockChunk.blockIndex=bi),chunkTail.extend(blockChunk)})),chunkTail}extractInput(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,flags=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(fromPos===toPos)return"";let input="";return this._forEachBlocksInRange(fromPos,toPos,((b,_,fromPos,toPos)=>{input+=b.extractInput(fromPos,toPos,flags)})),input}_findStopBefore(blockIndex){let stopBefore;for(let si=0;si<this._stops.length;++si){const stop=this._stops[si];if(!(stop<=blockIndex))break;stopBefore=stop}return stopBefore}_appendPlaceholder(toBlockIndex){const details=new ChangeDetails;if(this.lazy&&null==toBlockIndex)return details;const startBlockIter=this._mapPosToBlock(this.value.length);if(!startBlockIter)return details;const startBlockIndex=startBlockIter.index,endBlockIndex=null!=toBlockIndex?toBlockIndex:this._blocks.length;return this._blocks.slice(startBlockIndex,endBlockIndex).forEach((b=>{if(!b.lazy||null!=toBlockIndex){const args=null!=b._blocks?[b._blocks.length]:[],bDetails=b._appendPlaceholder(...args);this._value+=bDetails.inserted,details.aggregate(bDetails)}})),details}_mapPosToBlock(pos){let accVal="";for(let bi=0;bi<this._blocks.length;++bi){const block=this._blocks[bi],blockStartPos=accVal.length;if(accVal+=block.value,pos<=accVal.length)return{index:bi,offset:pos-blockStartPos}}}_blockStartPos(blockIndex){return this._blocks.slice(0,blockIndex).reduce(((pos,b)=>pos+b.value.length),0)}_forEachBlocksInRange(fromPos){let toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,fn=arguments.length>2?arguments[2]:void 0;const fromBlockIter=this._mapPosToBlock(fromPos);if(fromBlockIter){const toBlockIter=this._mapPosToBlock(toPos),isSameBlock=toBlockIter&&fromBlockIter.index===toBlockIter.index,fromBlockStartPos=fromBlockIter.offset,fromBlockEndPos=toBlockIter&&isSameBlock?toBlockIter.offset:this._blocks[fromBlockIter.index].value.length;if(fn(this._blocks[fromBlockIter.index],fromBlockIter.index,fromBlockStartPos,fromBlockEndPos),toBlockIter&&!isSameBlock){for(let bi=fromBlockIter.index+1;bi<toBlockIter.index;++bi)fn(this._blocks[bi],bi,0,this._blocks[bi].value.length);fn(this._blocks[toBlockIter.index],toBlockIter.index,0,toBlockIter.offset)}}}remove(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;const removeDetails=super.remove(fromPos,toPos);return this._forEachBlocksInRange(fromPos,toPos,((b,_,bFromPos,bToPos)=>{removeDetails.aggregate(b.remove(bFromPos,bToPos))})),removeDetails}nearestInputPos(cursorPos){let direction=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DIRECTION_NONE;if(!this._blocks.length)return 0;const cursor=new PatternCursor(this,cursorPos);if(direction===DIRECTION_NONE)return cursor.pushRightBeforeInput()?cursor.pos:(cursor.popState(),cursor.pushLeftBeforeInput()?cursor.pos:this.value.length);if(direction===DIRECTION_LEFT||direction===DIRECTION_FORCE_LEFT){if(direction===DIRECTION_LEFT){if(cursor.pushRightBeforeFilled(),cursor.ok&&cursor.pos===cursorPos)return cursorPos;cursor.popState()}if(cursor.pushLeftBeforeInput(),cursor.pushLeftBeforeRequired(),cursor.pushLeftBeforeFilled(),direction===DIRECTION_LEFT){if(cursor.pushRightBeforeInput(),cursor.pushRightBeforeRequired(),cursor.ok&&cursor.pos<=cursorPos)return cursor.pos;if(cursor.popState(),cursor.ok&&cursor.pos<=cursorPos)return cursor.pos;cursor.popState()}return cursor.ok?cursor.pos:direction===DIRECTION_FORCE_LEFT?0:(cursor.popState(),cursor.ok?cursor.pos:(cursor.popState(),cursor.ok?cursor.pos:0))}return direction===DIRECTION_RIGHT||direction===DIRECTION_FORCE_RIGHT?(cursor.pushRightBeforeInput(),cursor.pushRightBeforeRequired(),cursor.pushRightBeforeFilled()?cursor.pos:direction===DIRECTION_FORCE_RIGHT?this.value.length:(cursor.popState(),cursor.ok?cursor.pos:(cursor.popState(),cursor.ok?cursor.pos:this.nearestInputPos(cursorPos,DIRECTION_LEFT)))):cursorPos}totalInputPositions(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,total=0;return this._forEachBlocksInRange(fromPos,toPos,((b,_,bFromPos,bToPos)=>{total+=b.totalInputPositions(bFromPos,bToPos)})),total}maskedBlock(name){return this.maskedBlocks(name)[0]}maskedBlocks(name){const indices=this._maskedBlocks[name];return indices?indices.map((gi=>this._blocks[gi])):[]}}MaskedPattern.DEFAULTS={lazy:!0,placeholderChar:"_"},MaskedPattern.STOP_CHAR="`",MaskedPattern.ESCAPE_CHAR="\\",MaskedPattern.InputDefinition=PatternInputDefinition,MaskedPattern.FixedDefinition=PatternFixedDefinition,IMask.MaskedPattern=MaskedPattern;class MaskedRange extends MaskedPattern{get _matchFrom(){return this.maxLength-String(this.from).length}_update(opts){opts=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},opts);let maxLength=String(opts.to).length;null!=opts.maxLength&&(maxLength=Math.max(maxLength,opts.maxLength)),opts.maxLength=maxLength;const fromStr=String(opts.from).padStart(maxLength,"0"),toStr=String(opts.to).padStart(maxLength,"0");let sameCharsCount=0;for(;sameCharsCount<toStr.length&&toStr[sameCharsCount]===fromStr[sameCharsCount];)++sameCharsCount;opts.mask=toStr.slice(0,sameCharsCount).replace(/0/g,"\\0")+"0".repeat(maxLength-sameCharsCount),super._update(opts)}get isComplete(){return super.isComplete&&Boolean(this.value)}boundaries(str){let minstr="",maxstr="";const[,placeholder,num]=str.match(/^(\D*)(\d*)(\D*)/)||[];return num&&(minstr="0".repeat(placeholder.length)+num,maxstr="9".repeat(placeholder.length)+num),minstr=minstr.padEnd(this.maxLength,"0"),maxstr=maxstr.padEnd(this.maxLength,"9"),[minstr,maxstr]}doPrepare(ch){let details,flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if([ch,details]=normalizePrepare(super.doPrepare(ch.replace(/\D/g,""),flags)),!this.autofix||!ch)return ch;const fromStr=String(this.from).padStart(this.maxLength,"0"),toStr=String(this.to).padStart(this.maxLength,"0");let nextVal=this.value+ch;if(nextVal.length>this.maxLength)return"";const[minstr,maxstr]=this.boundaries(nextVal);return Number(maxstr)<this.from?fromStr[nextVal.length-1]:Number(minstr)>this.to?"pad"===this.autofix&&nextVal.length<this.maxLength?["",details.aggregate(this.append(fromStr[nextVal.length-1]+ch,flags))]:toStr[nextVal.length-1]:ch}doValidate(){const str=this.value;if(-1===str.search(/[^0]/)&&str.length<=this._matchFrom)return!0;const[minstr,maxstr]=this.boundaries(str);return this.from<=Number(maxstr)&&Number(minstr)<=this.to&&super.doValidate(...arguments)}}IMask.MaskedRange=MaskedRange;class MaskedDate extends MaskedPattern{constructor(opts){super(Object.assign({},MaskedDate.DEFAULTS,opts))}_update(opts){opts.mask===Date&&delete opts.mask,opts.pattern&&(opts.mask=opts.pattern);const blocks=opts.blocks;opts.blocks=Object.assign({},MaskedDate.GET_DEFAULT_BLOCKS()),opts.min&&(opts.blocks.Y.from=opts.min.getFullYear()),opts.max&&(opts.blocks.Y.to=opts.max.getFullYear()),opts.min&&opts.max&&opts.blocks.Y.from===opts.blocks.Y.to&&(opts.blocks.m.from=opts.min.getMonth()+1,opts.blocks.m.to=opts.max.getMonth()+1,opts.blocks.m.from===opts.blocks.m.to&&(opts.blocks.d.from=opts.min.getDate(),opts.blocks.d.to=opts.max.getDate())),Object.assign(opts.blocks,this.blocks,blocks),Object.keys(opts.blocks).forEach((bk=>{const b=opts.blocks[bk];!("autofix"in b)&&"autofix"in opts&&(b.autofix=opts.autofix)})),super._update(opts)}doValidate(){const date=this.date;return super.doValidate(...arguments)&&(!this.isComplete||this.isDateExist(this.value)&&null!=date&&(null==this.min||this.min<=date)&&(null==this.max||date<=this.max))}isDateExist(str){return this.format(this.parse(str,this),this).indexOf(str)>=0}get date(){return this.typedValue}set date(date){this.typedValue=date}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(value){super.typedValue=value}maskEquals(mask){return mask===Date||super.maskEquals(mask)}}MaskedDate.DEFAULTS={pattern:"d{.}`m{.}`Y",format:date=>{if(!date)return"";return[String(date.getDate()).padStart(2,"0"),String(date.getMonth()+1).padStart(2,"0"),date.getFullYear()].join(".")},parse:str=>{const[day,month,year]=str.split(".");return new Date(year,month-1,day)}},MaskedDate.GET_DEFAULT_BLOCKS=()=>({d:{mask:MaskedRange,from:1,to:31,maxLength:2},m:{mask:MaskedRange,from:1,to:12,maxLength:2},Y:{mask:MaskedRange,from:1900,to:9999}}),IMask.MaskedDate=MaskedDate;class MaskElement{get selectionStart(){let start;try{start=this._unsafeSelectionStart}catch(e){}return null!=start?start:this.value.length}get selectionEnd(){let end;try{end=this._unsafeSelectionEnd}catch(e){}return null!=end?end:this.value.length}select(start,end){if(null!=start&&null!=end&&(start!==this.selectionStart||end!==this.selectionEnd))try{this._unsafeSelect(start,end)}catch(e){}}_unsafeSelect(start,end){}get isActive(){return!1}bindEvents(handlers){}unbindEvents(){}}IMask.MaskElement=MaskElement;class HTMLMaskElement extends MaskElement{constructor(input){super(),this.input=input,this._handlers={}}get rootElement(){var _this$input$getRootNo,_this$input$getRootNo2,_this$input;return null!==(_this$input$getRootNo=null===(_this$input$getRootNo2=(_this$input=this.input).getRootNode)||void 0===_this$input$getRootNo2?void 0:_this$input$getRootNo2.call(_this$input))&&void 0!==_this$input$getRootNo?_this$input$getRootNo:document}get isActive(){return this.input===this.rootElement.activeElement}get _unsafeSelectionStart(){return this.input.selectionStart}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(start,end){this.input.setSelectionRange(start,end)}get value(){return this.input.value}set value(value){this.input.value=value}bindEvents(handlers){Object.keys(handlers).forEach((event=>this._toggleEventHandler(HTMLMaskElement.EVENTS_MAP[event],handlers[event])))}unbindEvents(){Object.keys(this._handlers).forEach((event=>this._toggleEventHandler(event)))}_toggleEventHandler(event,handler){this._handlers[event]&&(this.input.removeEventListener(event,this._handlers[event]),delete this._handlers[event]),handler&&(this.input.addEventListener(event,handler),this._handlers[event]=handler)}}HTMLMaskElement.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},IMask.HTMLMaskElement=HTMLMaskElement;class HTMLContenteditableMaskElement extends HTMLMaskElement{get _unsafeSelectionStart(){const root=this.rootElement,selection=root.getSelection&&root.getSelection(),anchorOffset=selection&&selection.anchorOffset,focusOffset=selection&&selection.focusOffset;return null==focusOffset||null==anchorOffset||anchorOffset<focusOffset?anchorOffset:focusOffset}get _unsafeSelectionEnd(){const root=this.rootElement,selection=root.getSelection&&root.getSelection(),anchorOffset=selection&&selection.anchorOffset,focusOffset=selection&&selection.focusOffset;return null==focusOffset||null==anchorOffset||anchorOffset>focusOffset?anchorOffset:focusOffset}_unsafeSelect(start,end){if(!this.rootElement.createRange)return;const range=this.rootElement.createRange();range.setStart(this.input.firstChild||this.input,start),range.setEnd(this.input.lastChild||this.input,end);const root=this.rootElement,selection=root.getSelection&&root.getSelection();selection&&(selection.removeAllRanges(),selection.addRange(range))}get value(){return this.input.textContent}set value(value){this.input.textContent=value}}IMask.HTMLContenteditableMaskElement=HTMLContenteditableMaskElement;const input_excluded=["mask"];IMask.InputMask=class InputMask{constructor(el,opts){this.el=el instanceof MaskElement?el:el.isContentEditable&&"INPUT"!==el.tagName&&"TEXTAREA"!==el.tagName?new HTMLContenteditableMaskElement(el):new HTMLMaskElement(el),this.masked=createMask(opts),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}get mask(){return this.masked.mask}maskEquals(mask){var _this$masked;return null==mask||(null===(_this$masked=this.masked)||void 0===_this$masked?void 0:_this$masked.maskEquals(mask))}set mask(mask){if(this.maskEquals(mask))return;if(!(mask instanceof IMask.Masked)&&this.masked.constructor===maskedClass(mask))return void this.masked.updateOptions({mask});const masked=createMask({mask});masked.unmaskedValue=this.masked.unmaskedValue,this.masked=masked}get value(){return this._value}set value(str){this.value!==str&&(this.masked.value=str,this.updateControl(),this.alignCursor())}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(str){this.unmaskedValue!==str&&(this.masked.unmaskedValue=str,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(val){this.masked.typedValueEquals(val)||(this.masked.typedValue=val,this.updateControl(),this.alignCursor())}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(ev){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];const listeners=this._listeners[ev];listeners&&listeners.forEach((l=>l(...args)))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(pos){this.el&&this.el.isActive&&(this.el.select(pos,pos),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value}updateControl(){const newUnmaskedValue=this.masked.unmaskedValue,newValue=this.masked.value,newDisplayValue=this.displayValue,isChanged=this.unmaskedValue!==newUnmaskedValue||this.value!==newValue;this._unmaskedValue=newUnmaskedValue,this._value=newValue,this.el.value!==newDisplayValue&&(this.el.value=newDisplayValue),isChanged&&this._fireChangeEvents()}updateOptions(opts){const{mask}=opts,restOpts=_objectWithoutPropertiesLoose(opts,input_excluded),updateMask=!this.maskEquals(mask),updateOpts=!objectIncludes(this.masked,restOpts);updateMask&&(this.mask=mask),updateOpts&&this.masked.updateOptions(restOpts),(updateMask||updateOpts)&&this.updateControl()}updateCursor(cursorPos){null!=cursorPos&&(this.cursorPos=cursorPos,this._delayUpdateCursor(cursorPos))}_delayUpdateCursor(cursorPos){this._abortUpdateCursor(),this._changingCursorPos=cursorPos,this._cursorChanging=setTimeout((()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())}),10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,DIRECTION_LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(ev,handler){return this._listeners[ev]||(this._listeners[ev]=[]),this._listeners[ev].push(handler),this}off(ev,handler){if(!this._listeners[ev])return this;if(!handler)return delete this._listeners[ev],this;const hIndex=this._listeners[ev].indexOf(handler);return hIndex>=0&&this._listeners[ev].splice(hIndex,1),this}_onInput(e){if(this._inputEvent=e,this._abortUpdateCursor(),!this._selection)return this.updateValue();const details=new ActionDetails(this.el.value,this.cursorPos,this.displayValue,this._selection),oldRawValue=this.masked.rawInputValue,offset=this.masked.splice(details.startChangePos,details.removed.length,details.inserted,details.removeDirection,{input:!0,raw:!0}).offset,removeDirection=oldRawValue===this.masked.rawInputValue?details.removeDirection:DIRECTION_NONE;let cursorPos=this.masked.nearestInputPos(details.startChangePos+offset,removeDirection);removeDirection!==DIRECTION_NONE&&(cursorPos=this.masked.nearestInputPos(cursorPos,DIRECTION_NONE)),this.updateControl(),this.updateCursor(cursorPos),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(ev){ev.preventDefault(),ev.stopPropagation()}_onFocus(ev){this.alignCursorFriendly()}_onClick(ev){this.alignCursorFriendly()}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};IMask.MaskedEnum=class MaskedEnum extends MaskedPattern{_update(opts){opts.enum&&(opts.mask="*".repeat(opts.enum[0].length)),super._update(opts)}doValidate(){return this.enum.some((e=>e.indexOf(this.unmaskedValue)>=0))&&super.doValidate(...arguments)}};class MaskedNumber extends Masked{constructor(opts){super(Object.assign({},MaskedNumber.DEFAULTS,opts))}_update(opts){super._update(opts),this._updateRegExps()}_updateRegExps(){let start="^"+(this.allowNegative?"[+|\\-]?":""),end=(this.scale?"(".concat(escapeRegExp(this.radix),"\\d{0,").concat(this.scale,"})?"):"")+"$";this._numberRegExp=new RegExp(start+"\\d*"+end),this._mapToRadixRegExp=new RegExp("[".concat(this.mapToRadix.map(escapeRegExp).join(""),"]"),"g"),this._thousandsSeparatorRegExp=new RegExp(escapeRegExp(this.thousandsSeparator),"g")}_removeThousandsSeparators(value){return value.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(value){const parts=value.split(this.radix);return parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),parts.join(this.radix)}doPrepare(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ch=this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(flags.input&&flags.raw||!flags.input&&!flags.raw)?ch.replace(this._mapToRadixRegExp,this.radix):ch);const[prepCh,details]=normalizePrepare(super.doPrepare(ch,flags));return ch&&!prepCh&&(details.skip=!0),[prepCh,details]}_separatorsCount(to){let extendOnSeparators=arguments.length>1&&void 0!==arguments[1]&&arguments[1],count=0;for(let pos=0;pos<to;++pos)this._value.indexOf(this.thousandsSeparator,pos)===pos&&(++count,extendOnSeparators&&(to+=this.thousandsSeparator.length));return count}_separatorsCountFromSlice(){let slice=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(slice).length,!0)}extractInput(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,flags=arguments.length>2?arguments[2]:void 0;return[fromPos,toPos]=this._adjustRangeWithSeparators(fromPos,toPos),this._removeThousandsSeparators(super.extractInput(fromPos,toPos,flags))}_appendCharRaw(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return super._appendCharRaw(ch,flags);const prevBeforeTailValue=flags.tail&&flags._beforeTailState?flags._beforeTailState._value:this._value,prevBeforeTailSeparatorsCount=this._separatorsCountFromSlice(prevBeforeTailValue);this._value=this._removeThousandsSeparators(this.value);const appendDetails=super._appendCharRaw(ch,flags);this._value=this._insertThousandsSeparators(this._value);const beforeTailValue=flags.tail&&flags._beforeTailState?flags._beforeTailState._value:this._value,beforeTailSeparatorsCount=this._separatorsCountFromSlice(beforeTailValue);return appendDetails.tailShift+=(beforeTailSeparatorsCount-prevBeforeTailSeparatorsCount)*this.thousandsSeparator.length,appendDetails.skip=!appendDetails.rawInserted&&ch===this.thousandsSeparator,appendDetails}_findSeparatorAround(pos){if(this.thousandsSeparator){const searchFrom=pos-this.thousandsSeparator.length+1,separatorPos=this.value.indexOf(this.thousandsSeparator,searchFrom);if(separatorPos<=pos)return separatorPos}return-1}_adjustRangeWithSeparators(from,to){const separatorAroundFromPos=this._findSeparatorAround(from);separatorAroundFromPos>=0&&(from=separatorAroundFromPos);const separatorAroundToPos=this._findSeparatorAround(to);return separatorAroundToPos>=0&&(to=separatorAroundToPos+this.thousandsSeparator.length),[from,to]}remove(){let fromPos=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,toPos=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;[fromPos,toPos]=this._adjustRangeWithSeparators(fromPos,toPos);const valueBeforePos=this.value.slice(0,fromPos),valueAfterPos=this.value.slice(toPos),prevBeforeTailSeparatorsCount=this._separatorsCount(valueBeforePos.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos+valueAfterPos));const beforeTailSeparatorsCount=this._separatorsCountFromSlice(valueBeforePos);return new ChangeDetails({tailShift:(beforeTailSeparatorsCount-prevBeforeTailSeparatorsCount)*this.thousandsSeparator.length})}nearestInputPos(cursorPos,direction){if(!this.thousandsSeparator)return cursorPos;switch(direction){case DIRECTION_NONE:case DIRECTION_LEFT:case DIRECTION_FORCE_LEFT:{const separatorAtLeftPos=this._findSeparatorAround(cursorPos-1);if(separatorAtLeftPos>=0){const separatorAtLeftEndPos=separatorAtLeftPos+this.thousandsSeparator.length;if(cursorPos<separatorAtLeftEndPos||this.value.length<=separatorAtLeftEndPos||direction===DIRECTION_FORCE_LEFT)return separatorAtLeftPos}break}case DIRECTION_RIGHT:case DIRECTION_FORCE_RIGHT:{const separatorAtRightPos=this._findSeparatorAround(cursorPos);if(separatorAtRightPos>=0)return separatorAtRightPos+this.thousandsSeparator.length}}return cursorPos}doValidate(flags){let valid=Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));if(valid){const number=this.number;valid=valid&&!isNaN(number)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return valid&&super.doValidate(flags)}doCommit(){if(this.value){const number=this.number;let validnum=number;null!=this.min&&(validnum=Math.max(validnum,this.min)),null!=this.max&&(validnum=Math.min(validnum,this.max)),validnum!==number&&(this.unmaskedValue=this.doFormat(validnum));let formatted=this.value;this.normalizeZeros&&(formatted=this._normalizeZeros(formatted)),this.padFractionalZeros&&this.scale>0&&(formatted=this._padFractionalZeros(formatted)),this._value=formatted}super.doCommit()}_normalizeZeros(value){const parts=this._removeThousandsSeparators(value).split(this.radix);return parts[0]=parts[0].replace(/^(\D*)(0*)(\d*)/,((match,sign,zeros,num)=>sign+num)),value.length&&!/\d$/.test(parts[0])&&(parts[0]=parts[0]+"0"),parts.length>1&&(parts[1]=parts[1].replace(/0*$/,""),parts[1].length||(parts.length=1)),this._insertThousandsSeparators(parts.join(this.radix))}_padFractionalZeros(value){if(!value)return value;const parts=value.split(this.radix);return parts.length<2&&parts.push(""),parts[1]=parts[1].padEnd(this.scale,"0"),parts.join(this.radix)}doSkipInvalid(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},checkTail=arguments.length>2?arguments[2]:void 0;const dropFractional=0===this.scale&&ch!==this.thousandsSeparator&&(ch===this.radix||ch===MaskedNumber.UNMASKED_RADIX||this.mapToRadix.includes(ch));return super.doSkipInvalid(ch,flags,checkTail)&&!dropFractional}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,MaskedNumber.UNMASKED_RADIX)}set unmaskedValue(unmaskedValue){super.unmaskedValue=unmaskedValue}get typedValue(){return this.doParse(this.unmaskedValue)}set typedValue(n){this.rawInputValue=this.doFormat(n).replace(MaskedNumber.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(number){this.typedValue=number}get allowNegative(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}typedValueEquals(value){return(super.typedValueEquals(value)||MaskedNumber.EMPTY_VALUES.includes(value)&&MaskedNumber.EMPTY_VALUES.includes(this.typedValue))&&!(0===value&&""===this.value)}}MaskedNumber.UNMASKED_RADIX=".",MaskedNumber.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:[MaskedNumber.UNMASKED_RADIX],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:n=>n.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})},MaskedNumber.EMPTY_VALUES=[...Masked.EMPTY_VALUES,0],IMask.MaskedNumber=MaskedNumber;IMask.MaskedFunction=class MaskedFunction extends Masked{_update(opts){opts.mask&&(opts.validate=opts.mask),super._update(opts)}};const dynamic_excluded=["compiledMasks","currentMaskRef","currentMask"],_excluded2=["mask"];class MaskedDynamic extends Masked{constructor(opts){super(Object.assign({},MaskedDynamic.DEFAULTS,opts)),this.currentMask=null}_update(opts){super._update(opts),"mask"in opts&&(this.compiledMasks=Array.isArray(opts.mask)?opts.mask.map((m=>createMask(m))):[])}_appendCharRaw(ch){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const details=this._applyDispatch(ch,flags);return this.currentMask&&details.aggregate(this.currentMask._appendChar(ch,this.currentMaskFlags(flags))),details}_applyDispatch(){let appended=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tail=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const prevValueBeforeTail=flags.tail&&null!=flags._beforeTailState?flags._beforeTailState._value:this.value,inputValue=this.rawInputValue,insertValue=flags.tail&&null!=flags._beforeTailState?flags._beforeTailState._rawInputValue:inputValue,tailValue=inputValue.slice(insertValue.length),prevMask=this.currentMask,details=new ChangeDetails,prevMaskState=null==prevMask?void 0:prevMask.state;if(this.currentMask=this.doDispatch(appended,Object.assign({},flags),tail),this.currentMask)if(this.currentMask!==prevMask){if(this.currentMask.reset(),insertValue){const d=this.currentMask.append(insertValue,{raw:!0});details.tailShift=d.inserted.length-prevValueBeforeTail.length}tailValue&&(details.tailShift+=this.currentMask.append(tailValue,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=prevMaskState;return details}_appendPlaceholder(){const details=this._applyDispatch(...arguments);return this.currentMask&&details.aggregate(this.currentMask._appendPlaceholder()),details}_appendEager(){const details=this._applyDispatch(...arguments);return this.currentMask&&details.aggregate(this.currentMask._appendEager()),details}appendTail(tail){const details=new ChangeDetails;return tail&&details.aggregate(this._applyDispatch("",{},tail)),details.aggregate(this.currentMask?this.currentMask.appendTail(tail):super.appendTail(tail))}currentMaskFlags(flags){var _flags$_beforeTailSta,_flags$_beforeTailSta2;return Object.assign({},flags,{_beforeTailState:(null===(_flags$_beforeTailSta=flags._beforeTailState)||void 0===_flags$_beforeTailSta?void 0:_flags$_beforeTailSta.currentMaskRef)===this.currentMask&&(null===(_flags$_beforeTailSta2=flags._beforeTailState)||void 0===_flags$_beforeTailSta2?void 0:_flags$_beforeTailSta2.currentMask)||flags._beforeTailState})}doDispatch(appended){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},tail=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.dispatch(appended,this,flags,tail)}doValidate(flags){return super.doValidate(flags)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(flags)))}doPrepare(str){let flags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[s,details]=normalizePrepare(super.doPrepare(str,flags));if(this.currentMask){let currentDetails;[s,currentDetails]=normalizePrepare(super.doPrepare(s,this.currentMaskFlags(flags))),details=details.aggregate(currentDetails)}return[s,details]}reset(){var _this$currentMask;null===(_this$currentMask=this.currentMask)||void 0===_this$currentMask||_this$currentMask.reset(),this.compiledMasks.forEach((m=>m.reset()))}get value(){return this.currentMask?this.currentMask.value:""}set value(value){super.value=value}get unmaskedValue(){return this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(unmaskedValue){super.unmaskedValue=unmaskedValue}get typedValue(){return this.currentMask?this.currentMask.typedValue:""}set typedValue(value){let unmaskedValue=String(value);this.currentMask&&(this.currentMask.typedValue=value,unmaskedValue=this.currentMask.unmaskedValue),this.unmaskedValue=unmaskedValue}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var _this$currentMask2;return Boolean(null===(_this$currentMask2=this.currentMask)||void 0===_this$currentMask2?void 0:_this$currentMask2.isComplete)}get isFilled(){var _this$currentMask3;return Boolean(null===(_this$currentMask3=this.currentMask)||void 0===_this$currentMask3?void 0:_this$currentMask3.isFilled)}remove(){const details=new ChangeDetails;return this.currentMask&&details.aggregate(this.currentMask.remove(...arguments)).aggregate(this._applyDispatch()),details}get state(){var _this$currentMask4;return Object.assign({},super.state,{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((m=>m.state)),currentMaskRef:this.currentMask,currentMask:null===(_this$currentMask4=this.currentMask)||void 0===_this$currentMask4?void 0:_this$currentMask4.state})}set state(state){const{compiledMasks,currentMaskRef,currentMask}=state,maskedState=_objectWithoutPropertiesLoose(state,dynamic_excluded);this.compiledMasks.forEach(((m,mi)=>m.state=compiledMasks[mi])),null!=currentMaskRef&&(this.currentMask=currentMaskRef,this.currentMask.state=currentMask),super.state=maskedState}extractInput(){return this.currentMask?this.currentMask.extractInput(...arguments):""}extractTail(){return this.currentMask?this.currentMask.extractTail(...arguments):super.extractTail(...arguments)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(){return this.currentMask?this.currentMask.nearestInputPos(...arguments):super.nearestInputPos(...arguments)}get overwrite(){return this.currentMask?this.currentMask.overwrite:super.overwrite}set overwrite(overwrite){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}get eager(){return this.currentMask?this.currentMask.eager:super.eager}set eager(eager){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:super.skipInvalid}set skipInvalid(skipInvalid){(this.isInitialized||skipInvalid!==Masked.DEFAULTS.skipInvalid)&&console.warn('"skipInvalid" option is not available in dynamic mask, use this option in siblings')}maskEquals(mask){return Array.isArray(mask)&&this.compiledMasks.every(((m,mi)=>{if(!mask[mi])return;const _mask$mi=mask[mi],{mask:oldMask}=_mask$mi;return objectIncludes(m,_objectWithoutPropertiesLoose(_mask$mi,_excluded2))&&m.maskEquals(oldMask)}))}typedValueEquals(value){var _this$currentMask5;return Boolean(null===(_this$currentMask5=this.currentMask)||void 0===_this$currentMask5?void 0:_this$currentMask5.typedValueEquals(value))}}MaskedDynamic.DEFAULTS={dispatch:(appended,masked,flags,tail)=>{if(!masked.compiledMasks.length)return;const inputValue=masked.rawInputValue,inputs=masked.compiledMasks.map(((m,index)=>{const isCurrent=masked.currentMask===m,startInputPos=isCurrent?m.value.length:m.nearestInputPos(m.value.length,DIRECTION_FORCE_LEFT);return m.rawInputValue!==inputValue?(m.reset(),m.append(inputValue,{raw:!0})):isCurrent||m.remove(startInputPos),m.append(appended,masked.currentMaskFlags(flags)),m.appendTail(tail),{index,weight:m.rawInputValue.length,totalInputPositions:m.totalInputPositions(0,Math.max(startInputPos,m.nearestInputPos(m.value.length,DIRECTION_FORCE_LEFT)))}}));return inputs.sort(((i1,i2)=>i2.weight-i1.weight||i2.totalInputPositions-i1.totalInputPositions)),masked.compiledMasks[inputs[0].index]}},IMask.MaskedDynamic=MaskedDynamic;const PIPE_TYPE={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function createPipe(mask){let from=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PIPE_TYPE.MASKED,to=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PIPE_TYPE.MASKED;const masked=createMask(mask);return value=>masked.runIsolated((m=>(m[from]=value,m[to])))}IMask.PIPE_TYPE=PIPE_TYPE,IMask.createPipe=createPipe,IMask.pipe=function pipe(value){for(var _len=arguments.length,pipeArgs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)pipeArgs[_key-1]=arguments[_key];return createPipe(...pipeArgs)(value)};try{globalThis.IMask=IMask}catch(e){}let AwfInputText=class AwfInputText extends lit.oi{get field(){const[input]=this.slottedInputs;return input||console.warn("Input not found!"),input}constructor(){super(),this.labelPosition=LabelPosition.Top,this.messageBelow=!1,this.forceFocus=!1,this.hasForm=!1,this._onChange=this.onChange.bind(this),this.formValidationController=new FormValidationController(this),new ElementStyleController(this,[PLACEHOLDER_STYLE])}formAssociatedCallback(form){this.formValidationController.formAssociatedCallback(form)}validateValue(){return this.awfInput.validateValue()}setInternalMessage(level,message){this.awfInput.setInternalMessage(level,message)}clearInternalErrorMessage(){this.awfInput.clearInternalErrorMessage()}disconnectedCallback(){super.disconnectedCallback(),this.inputMask?.destroy(),this.field&&this.field.removeEventListener("change",this._onChange)}render(){return lit.dy`
            <awf-input labelPosition=${this.labelPosition} ?messageBelow=${this.messageBelow} ?forceFocus=${this.forceFocus} novalidate>
                <slot name="prefix" slot="prefix"></slot>
                <slot name="label" slot="label"></slot>
                <slot @slotchange=${this.onSlotChange}></slot>
                <slot name="suffix" slot="suffix"></slot>
                <slot name="warning" slot="warning"></slot>
                <slot name="error" slot="error"></slot>
            </awf-input>
        `}firstUpdated(_changedProperties){this.field.addEventListener("change",this._onChange)}updated(_changedProperties){_changedProperties.has("mask")&&(this.inputMask?.destroy(),this.mask?this.inputMask=IMask(this.field,{mask:this.mask,lazy:!1}):this.inputMask=void 0)}onSlotChange(){this.field&&(this.field.type="text",this.field.autocapitalize="none")}onChange(){this.dispatchEvent(createCustomEvent(AwfEvent.VALUE_CHANGE,this.field.value))}};AwfInputText.styles=[COMMON_STYLES,lit.iv`
        :host {
            display: inline-flex;
        }
    `],AwfInputText.formAssociated=!0,(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfInputText.prototype,"labelPosition",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputText.prototype,"messageBelow",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfInputText.prototype,"forceFocus",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],AwfInputText.prototype,"mask",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-input")],AwfInputText.prototype,"awfInput",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"input",flatten:!0})],AwfInputText.prototype,"slottedInputs",void 0),AwfInputText=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-input-text",!0)],AwfInputText);var info_circle=__webpack_require__("./node_modules/@agilent/web-icons/core/info-circle.js"),sample_status_indicator_success=__webpack_require__("./node_modules/@agilent/web-icons/core/sample-status-indicator-success.js"),delete_trash=__webpack_require__("./node_modules/@agilent/web-icons/core/delete-trash.js"),warning_triangle=__webpack_require__("./node_modules/@agilent/web-icons/core/warning-triangle.js"),error_octagon=__webpack_require__("./node_modules/@agilent/web-icons/core/error-octagon.js");const MESSAGE_BOX_STYLES=lit.iv`

    :host {
        --awf-modal-dialog-height-inner: var(--awf-modal-dialog-height, auto);
        --awf-modal-dialog-width-inner: var(--awf-modal-dialog-width, auto);
        --message-box-icon-color: var(--at-dark-navy);
        width: var(--awf-message-box-width, auto);
        display: inherit;
        z-index: var(--awf-elevation-z6);
    }

    :host([type='success']) {
        --message-box-icon-color: var(--at-green);
    }

    :host([type='error']) {
        --message-box-icon-color: var(--at-red);
    }

    .message-box{
        position:absolute;
        background-color: var(--at-white);
        box-shadow: 2px 2px 16px 0px rgba(56, 67, 80, 0.32);
        box-sizing: border-box;
        border: 1px solid var(--at-gray-soft);
        max-height: 98%;
        max-width: 98%;
        width: var(--awf-message-box-width, auto);
        height: auto;
        display: grid;
        grid-template-rows: auto auto;
        grid-row-gap: 24px;
        padding: 24px;
        padding-top: 40px;
    }

    .message-container{
        display:grid;
        grid-column: span;
        grid-row: span;
        grid-template-columns:48px auto;
        grid-template-rows: 48px auto;
        grid-column-gap: 16px;
    }

    .header-icon{
        display:grid;
        grid-column: 1/1;
        grid-row: 1/1;
    }

    .header-icon awf-icon {
        width:100%;
        height:100%;
        --awf-icon-color: var(--message-box-icon-color);
    }

    .header-title{
        display:inline-block;
        grid-column: 2/2;
        grid-row: 1/1;
        align-self: center;
        font-size: 18px;
        max-width:100%;
    }

    .content{
        display:grid;
        grid-column: 2/2;
        grid-row: 2/2;
        align-content: start;
        margin-top:8px;
    }

    .actions{
        display:flex;
        flex-direction:row;
        justify-content:end;
    }

    .actions ::slotted(awf-button) {
        margin-left: 8px;
    }

`;var AwfMessageBoxType;!function(AwfMessageBoxType){AwfMessageBoxType.INFORMATION="information",AwfMessageBoxType.CONFIRMATION="confirmation",AwfMessageBoxType.SUCCESS="success",AwfMessageBoxType.DELETE="delete",AwfMessageBoxType.WARNING="warning",AwfMessageBoxType.ERROR="error"}(AwfMessageBoxType||(AwfMessageBoxType={}));const VARIANT_ICON_MAPPING=new Map([[AwfMessageBoxType.INFORMATION,info_circle.N],[AwfMessageBoxType.CONFIRMATION,'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="help-circle">\n<g>\n\t<circle cx="11.5" cy="18" r="0.8"></circle>\n\t<path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M12,21c-5,0-9-4-9-9c0-5,4-9,9-9\n\t\tc5,0,9,4,9,9C21,17,17,21,12,21z"></path>\n\t<path d="M12,6C12,6,12,6,12,6c-2.2,0-4,1.8-4,4c0,0.3,0.2,0.5,0.5,0.5c0,0,0,0,0,0C8.7,10.5,9,10.3,9,10c0-1.6,1.3-3,3-3\n\t\tc1.7,0,3,1.3,3.1,2.9c0,1.6-1.1,2.4-2.2,3.2c-0.9,0.6-1.8,1.3-1.8,2.4h0V16h0.3c0.1,0,0.1,0,0.2,0s0.1,0,0.2,0H12v-0.3\n\t\tc0-0.1,0-0.1,0-0.2c0-0.6,0.5-1,1.4-1.6C14.6,13.1,16,12,16,9.9C15.9,7.7,14.2,6,12,6z"></path>\n</g>\n</svg>'],[AwfMessageBoxType.SUCCESS,sample_status_indicator_success.x],[AwfMessageBoxType.DELETE,delete_trash.U],[AwfMessageBoxType.WARNING,warning_triangle.J],[AwfMessageBoxType.ERROR,error_octagon.N]]);let AwfMessageBox=class AwfMessageBox extends lit.oi{constructor(){super(...arguments),this.header="",this.type=AwfMessageBoxType.INFORMATION}render(){return lit.dy`
            <div class="modal-content message-box">
                <div class="message-container">
                    <div class="header-icon">
                        <awf-icon raw=${this.getIcon()}></awf-icon>
                    </div>
                    <div class="header-title awf-semibold">${this.header}</div>
                    <div class="content"><slot @slotchange=${slotChange}></slot></div>
                </div>
                <div class="actions"><slot name="actions" @click=${handleActionButtonClick}></slot></div>
            </div>
        `}getIcon(){return VARIANT_ICON_MAPPING.get(this.type)??""}};AwfMessageBox.styles=[COMMON_STYLES,BUTTON_CSS_VARIABLES,MODAL_DIALOG_CSS_VARIABLES,MESSAGE_BOX_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfMessageBox.prototype,"header",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfMessageBox.prototype,"type",void 0),AwfMessageBox=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-message-box",!0)],AwfMessageBox);var meta_menu_dot=__webpack_require__("./node_modules/@agilent/web-icons/core/meta-menu-dot.js");const META_MENU_CSS_VARIABLES=lit.iv`
    :host {
        --awf-meta-menu-screen-blurring-color-inner: var(--awf-meta-menu-screen-blurring-color, rgb(56, 67, 80, 0.6));
        --awf-meta-menu-content-padding-inner: var(--awf-meta-menu-content-padding, 12px 24px);
    }
`,META_MENU_STYLES=lit.iv`
    :host {
        position: fixed;
        top: 0;
        left: 0;
        display: block;
        height: 100vh;
        width: 25vw;
        min-width: 338px;
        box-sizing: border-box;
        visibility: hidden;
    }

    :host([opened]) {
        visibility: visible;
    }

    awf-sidepanel {
        --awf-sidepanel-font-color: var(--at-white);
        --awf-sidepanel-icon-color: var(--at-white);
        --awf-sidepanel-header-background-color: var(--at-blue-shade);
        --awf-sidepanel-header-border-bottom-color: transparent;
        --awf-sidepanel-button-background: var(--at-blue-shade);
        --awf-sidepanel-button-font-color: var(--at-white);
        --awf-sidepanel-button-hover-background: var(--at-blue-dark-tint);
        --awf-sidepanel-button-hover-font-color: var(--at-white);
        --awf-sidepanel-button-active-background: var(--at-blue-dark);
        --awf-sidepanel-button-active-font-color: var(--at-white);
        background-color: var(--at-blue-shade);
        border: none;
        width: inherit;
        min-width: inherit;
    }

    .header {
        display: flex;
        align-items: center;
        width: 100%;
        min-height: 100%;
        height: 100%;
        flex: 0 1 100%;
    }

    .header .product-name {
        height: 100%;
        font-size: 18px;
        line-height: 24px;
        gap: 8px;
    }

    .header .product-name > :not(:first-child) {
        padding-left: 8px;
    }

    .header .menu-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 40px;
        height: 40px;
        min-width: 40px;
        width: 40px;
        padding: 4px;
    }

    .header .menu-icon awf-icon {
        --awf-icon-size: 24px;
        --awf-icon-color: var(--at-white);
    }

    .product-name {
        display: flex;
        align-items: center;
        overflow-x: hidden;
        min-width: inherit;
        max-width: inherit;
        width: inherit;
        gap: 4px;
    }

    .product-name > * {
        display: block;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .product-name > :first-child {
        font-weight: 600;
    }

    .product-name > :not(:first-child) {
        border-left: 1px solid var(--at-white);
        padding-left: 4px;
    }

    .product-name > :last-child {
        overflow: hidden;
    }

    div[slot='content'] {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 100%;
        box-sizing: border-box;
    }

    div[slot='content'] slot[name='menu-content'] {
        display: flex;
        flex-direction: column;
        padding: var(--awf-meta-menu-content-padding-inner);
    }

    ::slotted([slot='menu-content']:not(:first-child))::before {
        content: '';
        position: relative;
        display: block;
        border: 1px solid var(--at-gray-soft);
        opacity: 40%;
        margin: 10px 0;
        pointer-events: none;
    }

    .footer {
        display: flex;
        flex-direction: column;
        height: fit-content;
        width: 100%;
        padding: 12px 24px;
        font-size: 10px;
        line-height: 14px;
        border-top: 1px solid #e1e3e566;
        box-sizing: border-box;
    }

    .footer:first-child {
        padding-bottom: 4px;
    }

    .background {
        position: fixed;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background-color: var(--awf-meta-menu-screen-blurring-color-inner);
        visibility: hidden;
    }

    awf-sidepanel[opened] ~ .background {
        visibility: visible;
    }
`;let AwfMetaMenu=class AwfMetaMenu extends lit.oi{constructor(){super(...arguments),this.opened=!1,this.productName="",this.version="",this.copyrightYear="",this._handleOpen=this.handleOpen.bind(this),this._handleClose=this.handleClose.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener(AwfEvent.OPEN,this._handleOpen),this.addEventListener(AwfEvent.CLOSE,this._handleClose)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(AwfEvent.OPEN,this._handleOpen),this.removeEventListener(AwfEvent.CLOSE,this._handleClose)}render(){return lit.dy`
            <awf-sidepanel alignment=${PanelAlignment.LEFT}>
                <div slot="title" class="header">
                    <div class="menu-icon">
                        <awf-icon raw=${meta_menu_dot.Y}></awf-icon>
                    </div>
                    <div class="product-name">${this.getHeaderTitle()}</div>
                </div>
                <div slot="content">
                    <slot name="menu-content"></slot>
                    <div class="footer">
                        <div class="product-name">${this.getFooterTitle()}</div>
                        <div>Version: ${this.version}</div>
                        <div>© Agilent Technologies, Inc. ${this.copyrightYear} | www.agilent.com</div>
                    </div>
                </div>
            </awf-sidepanel>
            <div class="background"></div>
        `}firstUpdated(){this.sidepanel.identifier="meta-menu"}updated(changes){changes.has("opened")&&(this.opened?this.sidepanel.open():this.sidepanel.close())}toggle(){this.opened?this.close():this.open()}open(){this.opened=!0,this.sidepanel.open()}close(){this.opened=!1,this.sidepanel.close()}handleOpen(){this.opened=!0}handleClose(){this.opened=!1}getHeaderTitle(){return this.buildTitle()}getFooterTitle(){return this.buildTitle("Agilent ")}buildTitle(prepend){return this.brand?lit.dy`<span>${prepend}${this.brand}</span><span>${this.productName}</span>`:lit.dy`<span>${prepend}${this.productName}</span>`}};AwfMetaMenu.styles=[COMMON_STYLES,META_MENU_CSS_VARIABLES,META_MENU_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfMetaMenu.prototype,"opened",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfMetaMenu.prototype,"brand",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfMetaMenu.prototype,"productName",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfMetaMenu.prototype,"version",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfMetaMenu.prototype,"copyrightYear",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("awf-sidepanel")],AwfMetaMenu.prototype,"sidepanel",void 0),AwfMetaMenu=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-meta-menu",!0)],AwfMetaMenu);const NAVBAR_CSS_VARIABLES=lit.iv`
    :host {
        /* Navigation Bar Colors */
        --awf-navigation-bar-background-inner: var(--awf-navigation-bar-background, var(--at-dark-navy));

        /* Navigation Bar Measurements */
        --awf-navigation-bar-extended-width-inner: var(--awf-navigation-bar-background, 300px);
    }
`,NAVIGATION_BAR_STYLES=lit.iv`
    :host {
        display: grid;
        grid-template-columns: auto auto auto 1fr auto;
        grid-template-areas: "menuTrigger brand start filler end";
        width: 100%;
        height: 48px;
        background-color: var(--awf-navigation-bar-background-inner);
        --awf-button-label-display: inline;
        --awf-button-label-margin: 0 20px 0 0;
        --awf-button-icon-margin: 0 12px;
        --awf-button-height: 48px;
    }

    :host([vertical]) {
        height: 100%;
        width: 72px;
        grid-template-columns: auto;
        grid-template-rows: auto auto auto 1fr auto;
        grid-template-areas: "menuTrigger" "brand" "start" "filler" "end";
        flex-direction: column;
        --awf-button-height: 72px;
        --awf-button-label-display: none;
        --awf-button-icon-margin: 0;
        --awf-button-padding-right: 0;
    }

    :host([vertical][extended]) {
        width: var(--awf-navigation-bar-extended-width-inner);
        position: relative;
        --awf-button-content-alignment: flex-start;
        --awf-button-label-display: inline;
        --awf-button-label-margin: 0 20px 0 0;
        --awf-button-icon-margin: 0 12px;
    }

    :host([vertical][extended]) ::slotted([slot=menuTrigger]) {
        position: absolute;
        right: 0;
    }

    slot[name=menuTrigger] {
        display: flex;
        grid-area: menuTrigger;
    }

    slot[name=brand] {
        display: flex;
        grid-area: brand;
    }

    slot:not([name]) {
        display: flex;
        grid-area: start;
    }

    slot[name=end] {
        display: flex;
        grid-area: end;
    }

    :host([vertical]) slot {
        flex-direction: column;
    }

    ::slotted(*) {
        --awf-button-icon-only-hover-background: var(--at-navy-tint);
        --awf-button-icon-only-background: var(--at-dark-navy);

        --awf-button-border: solid 1px var(--at-dark-navy);
        --awf-button-background: var(--at-dark-navy);
        --awf-button-font-color: var(--at-white);

        --awf-button-hover-border: solid 1px var(--at-navy-tint);
        --awf-button-hover-background: var(--at-navy-tint);
        --awf-button-hover-font-color: var(--at-white);

        --awf-icon-color: var(--at-white);
        --awf-button-border-active: solid 1px var(--at-blue-shade);
        --awf-notification-bubble-stroke-color: var(--at-dark-navy);
    }

    ::slotted(.active),
    ::slotted(:active) {
        --awf-button-background: var(--at-blue-shade);
        --awf-button-border: solid 1px var(--at-blue-shade);

        --awf-button-active-background: var(--at-blue-shade);
        --awf-button-icon-only-active-background: var(--at-blue-shade);
        --awf-button-active-border: solid 1px var(--at-blue-shade);

        --awf-button-hover-border: solid 1px var(--at-blue-shade);
        --awf-button-hover-background: var(--at-blue-shade);
      
        --awf-button-icon-only-active-foreground: var(--at-white);
    }

    ::slotted([slot=brand]) {
        font-family: 'Noto Sans Display Semibold', sans-serif;

        --awf-button-border-active: solid 1px var(--at-dark-navy);
        --awf-button-background-active: var(--at-dark-navy);

        --awf-button-hover-border: solid 1px var(--at-dark-navy);
        --awf-button-hover-background: var(--at-dark-navy);
    }

    ::slotted(hr) {
        margin: 0;
        height: inherit;
        opacity: 0.3;
        border-style: solid;
        border-right: none;
        border-bottom: none;
        border-color: var(--at-white);
        background-color: var(--at-white);
    }

    @media only screen and (max-width: 1365px) {
        :host {
            --awf-button-label-display: none;
            --awf-button-label-margin: 0;
            --awf-button-padding-right: 0;
        }
    }
`;let AwfNavigationBar=class AwfNavigationBar extends lit.oi{constructor(){super(...arguments),this.vertical=!1,this.extended=!1}render(){return lit.dy`
            <slot name="menuTrigger"></slot>
            <slot name="brand"></slot>
            <slot @slotchange=${this.handleSlotChange}></slot>
            <slot name="end" @slotchange=${this.handleSlotChange}></slot>
        `}handleSlotChange(e){if(this.vertical&&this.extended){e.target.assignedNodes().filter((child=>"AWF-BUTTON"===child.nodeName)).map((child=>child)).filter((child=>null===child.label)).filter((child=>""===child.textContent?.trim())).forEach((child=>{child.label=" "}))}}};AwfNavigationBar.styles=[COMMON_STYLES,NAVBAR_CSS_VARIABLES,NAVIGATION_BAR_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfNavigationBar.prototype,"vertical",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfNavigationBar.prototype,"extended",void 0),AwfNavigationBar=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-navigation-bar",!0)],AwfNavigationBar);const STEPPER_STYLES=lit.iv`
    :host {
        display: flex;
        height: var(--awf-stepper-height-inner, 32px);
        width: 100%;
        align-items: center;
    }
`;let AwfStepper=class AwfStepper extends lit.oi{static get styles(){return[COMMON_STYLES,STEPPER_CSS_VARIABLES,STEPPER_STYLES]}connectedCallback(){super.connectedCallback(),this.steps.forEach((s=>s.addEventListener("click",(event=>this.handleClick(event,s)))))}disconnectedCallback(){super.disconnectedCallback(),this.steps.forEach((s=>s.removeEventListener("click",(event=>this.handleClick(event,s)))))}render(){return lit.dy`<slot @slotchange=${this.handleSlotChange}></slot>`}handleSlotChange(){this.steps.forEach((step=>{step.addEventListener("click",(event=>this.handleClick(event,step)))})),this.steps.every((s=>!1===s.selected))&&this.selectFirstStep()}handleClick(event,step){event.stopPropagation(),step.disabled||step.selected||this.selectStep(step)}selectStep(step){this.steps.forEach((s=>{s.selected&&(s.previewed=!0),s.selected=!1})),step.selected=!0}selectFirstStep(){this.steps.length>0&&(this.steps[0].selected=!0)}};(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-step"})],AwfStepper.prototype,"steps",void 0),AwfStepper=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-stepper",!0)],AwfStepper);const TABSET_CSS_VARIABLES=lit.iv`
    :host {
        --awf-tabset-border-color-inner: var(--awf-tabset-border-color, var(--at-gray-soft));
        --awf-tabset-background-color-inner: var(--awf-tabset-background-color, var(--at-white));
        --awf-tabset-panel-overflow-x-inner: var(--awf-tabset-panel-overflow-x, hidden);
        --awf-tabset-panel-overflow-y-inner: var(--awf-tabset-panel-overflow-y, auto);
    }
`,TAB_SET_STYLES=lit.iv`
    :host {
        display: flex;
        height: 100%;
        width: 100%;
        flex-direction: column;
        background-color: var(--awf-tabset-background-color-inner);
    }

    :host(:not([vertical])) {
        overflow: hidden;

        --awf-tabset-tabs-border-bottom-inner: none;
        --awf-tabset-tabs-border-left-inner: none;
        --awf-tabset-tabs-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tabs-border-top-inner: none;
        --awf-tabset-tab-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tab-border-left-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tab-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tab-border-top-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-filler-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-filler-border-left-inner: none;
        --awf-tabset-filler-border-right-inner: none;
        --awf-tabset-filler-border-top-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-action-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-action-border-left-inner: none;
        --awf-tabset-action-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-action-border-top-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-panel-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-panel-border-left-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-panel-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-panel-border-top-inner: none;
    }

    :host([vertical]) {
        flex-direction: row;

        --awf-tabset-tabs-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tabs-border-left-inner: none;
        --awf-tabset-tabs-border-right-inner: none;
        --awf-tabset-tabs-border-top-inner: none;
        --awf-tabset-tab-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tab-border-left-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tab-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-tab-border-top-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-filler-border-bottom-inner: none;
        --awf-tabset-filler-border-left-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-filler-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-filler-border-top-inner: none;
        --awf-tabset-action-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-action-border-left-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-action-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-action-border-top-inner: none;
        --awf-tabset-panel-border-bottom-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-panel-border-left-inner: none;
        --awf-tabset-panel-border-right-inner: 1px solid var(--awf-tabset-border-color-inner);
        --awf-tabset-panel-border-top-inner: 1px solid var(--awf-tabset-border-color-inner);
    }

    .tabs {
        border-bottom: var(--awf-tabset-tabs-border-bottom-inner);
        border-left: var(--awf-tabset-tabs-border-left-inner);
        border-right: var(--awf-tabset-tabs-border-right-inner);
        border-top: var(--awf-tabset-tabs-border-top-inner);
        display: inline-grid;
        grid-auto-flow: column;
        flex: 0 0 auto;
        box-sizing: border-box;
        overflow-x: auto;
        overflow-y: hidden;
    }

    ::slotted([slot=action]) {
        border-bottom: var(--awf-tabset-action-border-bottom-inner);
        border-left: var(--awf-tabset-action-border-left-inner);
        border-right: var(--awf-tabset-action-border-right-inner);
        border-top: var(--awf-tabset-action-border-top-inner);
        --awf-button-height: calc(var(--awf-tab-height-inner) - 2px);
    }

    :host .filler {
        border-bottom: var(--awf-tabset-filler-border-bottom-inner);
        border-left: var(--awf-tabset-filler-border-left-inner);
        border-right: var(--awf-tabset-filler-border-right-inner);
        border-top: var(--awf-tabset-filler-border-top-inner);
        margin-left: -1px;
    }

    :host .panel {
        border-bottom: var(--awf-tabset-panel-border-bottom-inner);
        border-left: var(--awf-tabset-panel-border-left-inner);
        border-right: var(--awf-tabset-panel-border-right-inner);
        border-top: var(--awf-tabset-panel-border-top-inner);
        flex-grow: 1;
        overflow-x: var(--awf-tabset-panel-overflow-x-inner);
        overflow-y: var(--awf-tabset-panel-overflow-y-inner);
    }

    ::slotted(awf-tab) {
        width: var(--awf-tab-width-inner);
    }

    ::slotted(awf-tab) {
        border-bottom: var(--awf-tabset-tab-border-bottom-inner);
        border-left: var(--awf-tabset-tab-border-left-inner);
        border-right: var(--awf-tabset-tab-border-right-inner);
        border-top: var(--awf-tabset-tab-border-top-inner);
        position: relative;
        box-sizing: border-box;
    }

    ::slotted(awf-tab:not(:first-of-type)) {
        margin-left: -1px;
    }

    ::slotted(awf-tab[selected])::before {
        position: absolute;
        display: block;
        bottom: -1px;
        height: 0;
        width: 0;
        right: calc(50% - 7px);
        content: '';
        border-width: 0 7px 7px;
        border-style: solid;
        border-color: var(--awf-tabset-border-color-inner) transparent;
    }

    ::slotted(awf-tab[selected])::after {
        position: absolute;
        display: block;
        bottom: -1px;
        height: 0;
        width: 0;
        right: calc(50% - 6px);
        content: '';
        border-width: 0 6px 6px;
        border-style: solid;
        border-color: var(--awf-tabset-background-color-inner) transparent;
    }

    ::slotted(awf-tab:not([disabled]):hover) {
        border: 1px solid var(--at-blue-medium);
        background-color: var(--at-blue-soft);
        z-index: var(--awf-elevation-z1);
    }

    ::slotted(awf-tab:not([disabled]):hover)::before {
        border-color: var(--at-blue-medium) transparent;
    }

    :host([vertical]) .tabs {
        grid-template-columns: 1fr;
        grid-auto-flow: row;
        overflow-y: auto;
        overflow-x: hidden;
    }

    :host([vertical]) .filler {
        margin: -1px 0 0 0;
    }

    :host([vertical]) .panel {
        justify-content: stretch;
    }

    :host([vertical]) ::slotted(awf-tab:not(:first-of-type)) {
        margin-left: 0;
        margin-top: -1px;
    }

    :host([vertical]) ::slotted(awf-tab[selected])::before {
        bottom: calc(50% - 7px);
        right: -1px;
        border-width: 7px 7px 7px 0;
        border-color: transparent var(--awf-tabset-border-color-inner);
    }

    :host([vertical]) ::slotted(awf-tab[selected])::after {
        bottom: calc(50% - 6px);
        right: -1px;
        border-width: 6px 6px 6px 0;
        border-color: transparent var(--awf-tabset-background-color-inner);
    }

    :host([vertical]) ::slotted(awf-tab:not([disabled]):hover)::before {
        border-color: transparent var(--at-blue-medium);
    }
`;let AwfTabSet=class AwfTabSet extends lit.oi{constructor(){super(),this.vertical=!1,this.dispatchCustomEvent=dispatchCustomEvent.bind(this),this.parentStyle=document.createElement("style"),this.outerStyle=document.createElement("style"),this.parentStyle.innerText="\n            awf-tab-set[vertical] awf-tab:not([underline]):not([disabled]):hover + awf-tab {\n                border-top-color: var(--at-gray-pale);\n            }\n        ",new ElementStyleController(this,["\n            awf-tab:not([underline]):not([disabled]):hover + awf-tab {\n                border-left-color: var(--at-gray-pale);\n            }\n        "])}connectedCallback(){super.connectedCallback(),this.parentElement?.appendChild(this.parentStyle)}disconnectedCallback(){super.disconnectedCallback(),this.parentStyle.remove()}render(){return lit.dy`
            <div class="tabs">
                <slot name="tab" @slotchange=${this.tabSlotChange}></slot>
                <slot name="action" @slotchange=${this.actionSlotChange}></slot>
                <div class="filler"></div>
            </div>
            <div class="panel">
                <slot name="panel"></slot>
            </div>
            <slot @slotchange=${this.slotChange}></slot>`}firstUpdated(){this.setAttribute("role","tablist")}updated(changes){super.updated(changes),changes.has("value")&&this.updateSelectedTab(),changes.has("vertical")&&this.determineGridLayout()}slotChange(){const target=this.shadowRoot.querySelector("slot:not([name])");target&&(moveElementsIntoSlot(target,"awf-tab","tab"),moveElementsIntoSlot(target,"awf-tab-panel","panel"))}tabSlotChange(){this.tabs.forEach((tab=>{tab.addEventListener("click",(event=>this.handleClick(event,tab)))}));const selectableTab=this.tabs.find((t=>t.value===this.value));selectableTab?this.selectTab(selectableTab):this.tabs.length>0&&this.selectFirstTab(),this.determineGridLayout()}actionSlotChange(){this.determineGridLayout()}handleClick(event,tab){event.stopPropagation(),tab.disabled||tab.selected||(this.value=tab.value)}updateSelectedTab(){const tab=this.tabs.find((t=>t.value===this.value));tab&&this.selectTab(tab),this.emitValue(this.value)}determineGridLayout(){let tabLayout="",actionLayout="";this.tabs.length>0&&(tabLayout=`repeat(${this.tabs.length}, max-content)`),this.actions.length>0&&(actionLayout=` repeat(${this.actions.length}, auto)`);const layout=`${tabLayout}${actionLayout} 1fr`;this.tabsDiv.style.gridTemplateRows="",this.tabsDiv.style.gridTemplateColumns="",this.vertical?this.tabsDiv.style.gridTemplateRows=layout:this.tabsDiv.style.gridTemplateColumns=layout}selectTab(tab){this.deselectAllTabs(),tab.selected=!0;let panel=this.panels.find((p=>p.value===tab.value));panel=panel??this.panels.find((p=>p.defaultPanel)),panel&&(panel.selected=!0)}selectFirstTab(){const[tab]=this.tabs;this.value=tab.value}deselectAllTabs(){[...this.panels,...this.tabs].forEach((tab=>{tab.selected=!1}))}emitValue(value){this.dispatchCustomEvent(AwfEvent.VALUE_CHANGE,value)}};AwfTabSet.styles=[COMMON_STYLES,TAB_CSS_VARIABLES,TABSET_CSS_VARIABLES,TAB_SET_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfTabSet.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfTabSet.prototype,"vertical",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-tab-panel",slot:"panel"})],AwfTabSet.prototype,"panels",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-tab",slot:"tab"})],AwfTabSet.prototype,"tabs",void 0),(0,tslib_es6.gn)([(0,decorators.vZ)({slot:"action"})],AwfTabSet.prototype,"actions",void 0),(0,tslib_es6.gn)([(0,decorators.IO)(".tabs")],AwfTabSet.prototype,"tabsDiv",void 0),AwfTabSet=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-tab-set",!0)],AwfTabSet);var icons=__webpack_require__("./node_modules/@agilent/awf-wc/assets/icons/index.js");const TOAST_CSS_VARIABLES=[lit.iv`
    :host {
        --awf-toast-info-background-color-inner: var(--awf-toast-info-background-color, var(--at-white));
        --awf-toast-info-border-inner: var(--awf-toast-info-border, 1px solid var(--at-gray-soft));
        --awf-toast-info-font-color-inner: var(--awf-toast-info-font-color, var(--at-dark-navy));
        --awf-toast-info-icon-color-inner: var(--awf-toast-info-icon-color, var(--awf-toast-info-font-color-inner));
        --awf-toast-info-progress-color-inner: var(--awf-toast-info-progress-color, var(--at-dark-navy));
    }
`,lit.iv`
    :host {
        --awf-toast-success-background-color-inner: var(--awf-toast-success-background-color, var(--at-green-extra-light));
        --awf-toast-success-border-inner: none;
        --awf-toast-success-font-color-inner: var(--awf-toast-success-font-color, var(--at-dark-navy));
        --awf-toast-success-icon-color-inner: var(--awf-toast-success-icon-color, var(--at-green));
        --awf-toast-success-progress-color-inner: var(--awf-toast-success-progress-color, var(--at-green));
    }
`,lit.iv`
    :host {
        --awf-toast-success-strong-background-color-inner: var(--awf-toast-success-background-color, var(--at-green));
        --awf-toast-success-strong-border-inner: none;
        --awf-toast-success-strong-font-color-inner: var(--awf-toast-success-font-color, var(--at-white));
        --awf-toast-success-strong-icon-color-inner: var(--awf-toast-success-icon-color, var(--at-white));
        --awf-toast-success-strong-progress-color-inner: var(--awf-toast-success-progress-color, var(--at-green-dark));
    }
`,lit.iv`
    :host {
        --awf-toast-progressing-background-color-inner: var(--awf-toast-progressing-background-color, var(--at-periwinkle-extra-light));
        --awf-toast-success-border-inner: none;
        --awf-toast-progressing-font-color-inner: var(--awf-toast-progressing-font-color, var(--at-dark-navy));
        --awf-toast-progressing-icon-color-inner: var(--awf-toast-progressing-icon-color, var(--awf-toast-progressing-font-color-inner));
        --awf-toast-progressing-progress-color-inner: var(--awf-toast-progressing-progress-color, var(--at-periwinkle));
    }
`,lit.iv`
    :host {
        --awf-toast-progressing-strong-background-color-inner: var(--awf-toast-progressing-strong-background-color, var(--at-periwinkle));
        --awf-toast-progressing-strong-border-inner: none;
        --awf-toast-progressing-strong-font-color-inner: var(--awf-toast-progressing-strong-font-color, var(--at-white));
        --awf-toast-progressing-strong-icon-color-inner: var(--awf-toast-progressing-strong-icon-color, var(--awf-toast-progressing-strong-font-color-inner));
        --awf-toast-progressing-strong-progress-color-inner: var(--awf-toast-progressing-strong-progress-color, var(--at-periwinkle-dark));
    }
`,lit.iv`
    :host {
        --awf-toast-warning-background-color-inner: var(--awf-toast-warning-background-color, var(--at-yellow-extra-light));
        --awf-toast-warning-border-inner: none;
        --awf-toast-warning-font-color-inner: var(--awf-toast-warning-font-color, var(--at-dark-navy));
        --awf-toast-warning-icon-color-inner: var(--awf-toast-warning-icon-color, var(--awf-toast-warning-font-color-inner));
        --awf-toast-warning-progress-color-inner: var(--awf-toast-warning-progress-color, var(--at-yellow));
    }
`,lit.iv`
    :host {
        --awf-toast-warning-strong-background-color-inner: var(--awf-toast-warning-strong-background-color, var(--at-yellow));
        --awf-toast-warning-strong-border-inner: none;
        --awf-toast-warning-strong-font-color-inner: var(--awf-toast-warning-strong-font-color, var(--at-dark-navy));
        --awf-toast-warning-strong-icon-color-inner: var(--awf-toast-warning-strong-icon-color, var(--awf-toast-warning-strong-font-color-inner));
        --awf-toast-warning-strong-progress-color-inner: var(--awf-toast-warning-strong-progress-color, var(--at-yellow-dark));
    }
`,lit.iv`
    :host {
        --awf-toast-error-background-color-inner: var(--awf-toast-error-background-color, var(--at-red-extra-light));
        --awf-toast-error-border-inner: none;
        --awf-toast-error-font-color-inner: var(--awf-toast-error-font-color, var(--at-dark-navy));
        --awf-toast-error-icon-color-inner: var(--awf-toast-error-icon-color, var(--at-red));
        --awf-toast-error-progress-color-inner: var(--awf-toast-error-progress-color, var(--at-red));
    }
`,lit.iv`
    :host {
        --awf-toast-error-strong-background-color-inner: var(--awf-toast-error-strong-background-color, var(--at-red));
        --awf-toast-error-strong-border-inner: none;
        --awf-toast-error-strong-font-color-inner: var(--awf-toast-error-strong-font-color, var(--at-white));
        --awf-toast-error-strong-icon-color-inner: var(--awf-toast-error-strong-icon-color, var(--at-white));
        --awf-toast-error-strong-progress-color-inner: var(--awf-toast-error-strong-progress-color, var(--at-red-dark));
    }
`],TOAST_STYLES=lit.iv`
    :host {
        width: 440px;
        padding: 16px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        background-color: var(--awf-toast-background-color-inner);
        color: var(--awf-toast-font-color-inner);
        border: var(--awf-toast-border-inner);
        box-shadow: 2px 2px 16px 0 rgba(0, 0, 0, 0.21);
        z-index: var( --awf-elevation-z7);
    }

    :host([variant='informational']) {
        --awf-toast-background-color-inner: var(--awf-toast-info-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-info-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-info-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-info-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-info-progress-color-inner);
    }

    :host([strong][variant='success']) {
        --awf-toast-background-color-inner: var(--awf-toast-success-strong-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-success-strong-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-success-strong-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-success-strong-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-success-strong-progress-color-inner);
    }

    :host([variant='success']) {
        --awf-toast-background-color-inner: var(--awf-toast-success-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-success-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-success-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-success-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-success-progress-color-inner);
    }

    :host([strong][variant='progressing']) {
        --awf-toast-background-color-inner: var(--awf-toast-progressing-strong-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-progressing-strong-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-progressing-strong-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-progressing-strong-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-progressing-strong-progress-color-inner);

        --awf-spinner-border-background-color: var(--at-periwinkle-light);
        --awf-spinner-border-color: var(--at-white);
    }

    :host([variant='progressing']) {
        --awf-toast-background-color-inner: var(--awf-toast-progressing-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-progressing-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-progressing-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-progressing-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-progressing-progress-color-inner);

        --awf-spinner-size: 22px;
        --awf-spinner-border-width: 2px;
        --awf-spinner-border-background-color: var(--at-white);
        --awf-spinner-border-color: var(--at-dark-navy);
    }

    :host([strong][variant='warning']) {
        --awf-toast-background-color-inner: var(--awf-toast-warning-strong-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-warning-strong-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-warning-strong-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-warning-strong-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-warning-strong-progress-color-inner);
    }

    :host([variant='warning']) {
        --awf-toast-background-color-inner: var(--awf-toast-warning-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-warning-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-warning-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-warning-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-warning-progress-color-inner);
    }

    :host([strong][variant='error']) {
        --awf-toast-background-color-inner: var(--awf-toast-error-strong-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-error-strong-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-error-strong-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-error-strong-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-error-strong-progress-color-inner);
    }

    :host([variant='error']) {
        --awf-toast-background-color-inner: var(--awf-toast-error-background-color-inner);
        --awf-toast-border-inner: var(--awf-toast-error-border-inner);
        --awf-toast-font-color-inner: var(--awf-toast-error-font-color-inner);
        --awf-toast-icon-color-inner: var(--awf-toast-error-icon-color-inner);
        --awf-toast-progress-color-inner: var(--awf-toast-error-progress-color-inner);
    }

    .grid {
        display: flex;
        flex-direction: column;
        width: 100%;
    }

    .icon-header-wrapper {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .header {
        font-family: 'Noto Sans Display Bold', sans-serif;
        height: 21px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .message {
        margin-left: 40px;
    }

    awf-icon, 
    .icon awf-icon {
        --awf-icon-color: var(--awf-toast-font-color-inner);
    }

    .icon {
        height: 24px;
        width: 24px;
        justify-self: center;
    }

    .icon awf-spinner {
        margin: 2px;
    }

    .close-button {
        display: flex;
        position: absolute;
        top: 0;
        right: 0;
        margin: 8px 8px 0 0;
        border: none;
        padding: 0;
        background-color: transparent;
        color: var(--awf-toast-font-color-inner);
        cursor: pointer;
        font-family: 'Noto Sans Display', sans-serif;
        font-size: 20px;
    }

    :host([hideCountdown]) progress {
        display: none;
    }

    progress {
        -webkit-appearance: none;
        height: 4px;
        width: 438px;
        position: absolute;
        bottom: 0;
        left: 0;
        padding: 0;
    }

    progress::-webkit-progress-bar {
        background-color: var(--awf-toast-background-color-inner);
    }

    progress::-webkit-progress-value {
        background-color: var(--awf-toast-progress-color-inner);
    }

    progress::-moz-progress-bar {
        background-color: var(--awf-toast-progress-color-inner);
    }
`;var ToastVariant;!function(ToastVariant){ToastVariant.INFORMATIONAL="informational",ToastVariant.SUCCESS="success",ToastVariant.PROGRESSING="progressing",ToastVariant.WARNING="warning",ToastVariant.ERROR="error"}(ToastVariant||(ToastVariant={}));const toast_VARIANT_ICON_MAPPING=new Map([[ToastVariant.INFORMATIONAL,info_circle.N],[ToastVariant.SUCCESS,sample_status_indicator_success.x],[ToastVariant.WARNING,warning_triangle.J],[ToastVariant.ERROR,error_octagon.N]]);let AwfToast=class AwfToast extends lit.oi{constructor(){super(...arguments),this.variant=ToastVariant.INFORMATIONAL,this.strong=!1,this.hideCountdown=!1,this.header="",this.message="",this.autoDismiss=!1,this.countdownStart=0,this.nextCount=-1,this.stopTime=0,this.interruptions=[]}connectedCallback(){super.connectedCallback(),this.isAutoDismissing()&&this.startCountdown()}disconnectedCallback(){super.disconnectedCallback(),this.stopCountdown()}render(){let template=lit.dy`
            <div class="grid">
                <div class="icon-header-wrapper">
                    <div class="icon">${this.renderIcon()}</div>
                    <div class="header">${this.header}</div>
                </div>
                <div class="message">${this.message}</div>
            </div>
            <button aria-label="close" class="close-button" @click=${this.handleClose}>
                <awf-icon name=${icons.N$.name}></awf-icon>
            </button>
        `;return this.isAutoDismissing()&&(template=lit.dy`
                ${template}
            <progress value="100" max="100"></progress>`),template}renderIcon(){const iconName=toast_VARIANT_ICON_MAPPING.get(this.variant)??"";let icon=lit.dy`<awf-icon raw=${iconName}></awf-icon>`;return this.variant===ToastVariant.PROGRESSING&&(icon=lit.dy`<awf-spinner></awf-spinner>`),icon}startCountdown(){this.countdown(),this.addEventListener("mouseenter",this.holdCountdown)}stopCountdown(){cancelAnimationFrame(this.nextCount),this.countdownStart=0,this.removeEventListener("mouseenter",this.holdCountdown)}holdCountdown(){cancelAnimationFrame(this.nextCount),this.stopTime=performance.now(),this.addEventListener("mouseleave",this.resumeCountdown)}resumeCountdown(){this.interruptions=[...this.interruptions,performance.now()-this.stopTime],this.removeEventListener("mouseleave",this.resumeCountdown),this.countdown()}countdown(){cancelAnimationFrame(this.nextCount),this.nextCount=requestAnimationFrame(this.doCountdown.bind(this))}doCountdown(time){const timeout=this.getTimeout();this.countdownStart||(this.countdownStart=time);const totalInterruption=this.interruptions.reduce(((sum,interruption)=>sum+interruption),0),timeElapsed=time-this.countdownStart-totalInterruption;timeElapsed>timeout?(this.handleClose(),this.countdownStart=0):(this.updateProgress(timeElapsed,timeout),this.countdown())}getTimeout(){const wordCount=this.getWordCount();let timeout=8e3;return wordCount<=8&&(timeout=5e3),wordCount<=4&&(timeout=3e3),timeout}handleClose(){const customEvent=new CustomEvent(AwfEvent.CLOSE,{composed:!0,bubbles:!0,cancelable:!0});this.dispatchEvent(customEvent)}updateProgress(timeElapsed,timeout){const share=1-timeElapsed/timeout;this.progress.value=100*share}getWordCount(){return this.header.concat(" ",this.message).split(" ").length}isAutoDismissing(){return this.variant===ToastVariant.SUCCESS||this.autoDismiss}};AwfToast.styles=[COMMON_STYLES,TOAST_CSS_VARIABLES,TOAST_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfToast.prototype,"variant",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfToast.prototype,"strong",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfToast.prototype,"hideCountdown",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfToast.prototype,"header",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfToast.prototype,"message",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfToast.prototype,"autoDismiss",void 0),(0,tslib_es6.gn)([(0,decorators.IO)("progress")],AwfToast.prototype,"progress",void 0),AwfToast=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-toast",!0)],AwfToast);const TOAST_CONTAINER_STYLES=lit.iv`
    :host {
        position: fixed;
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 440px;
        margin: 0 0 8px 0;
        z-index: var( --awf-elevation-z7);
    }

    :host([position='top_left']),
    :host([position='top_center']),
    :host([position='top_right']) {
        flex-direction: column-reverse;
        margin: 8px 0 0 0;
    }

    :host([position='top_left']) {
        top: 0;
        left: 0;
    }

    :host([position='top_center']) {
        top: 0;
        left: calc(50% - 220px);
    }

    :host([position='top_right']) {
        top: 0;
        right: 0;
    }

    :host([position='bottom_left']) {
        bottom: 0;
        left: 0;
    }

    :host(:not([position])),
    :host([position='bottom_center']) {
        bottom: 0;
        left: calc(50% - 220px);
    }

    :host([position='bottom_right']) {
        bottom: 0;
        right: 0;
    }

    awf-toast.delete {
        opacity: 0;
        transition: opacity 150ms ease-out;
    }

    awf-toast {
        opacity: 1;
        animation: fadein 200ms ease-out;
    }

    @keyframes fadein {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
`;var ToastPosition,ToastEvent;!function(ToastPosition){ToastPosition.TOP_RIGHT="top_right",ToastPosition.TOP_CENTER="top_center",ToastPosition.TOP_LEFT="top_left",ToastPosition.BOTTOM_RIGHT="bottom_right",ToastPosition.BOTTOM_CENTER="bottom_center",ToastPosition.BOTTOM_LEFT="bottom_left"}(ToastPosition||(ToastPosition={})),function(ToastEvent){ToastEvent.ADD="toast:add"}(ToastEvent||(ToastEvent={}));let AwfToastContainer=class AwfToastContainer extends lit.oi{constructor(){super(...arguments),this.position=ToastPosition.BOTTOM_CENTER,this.strong=!1,this.maxCount=3,this.id=`awf-toast-container-${Date.now()}`,this.toasts=[],this.currentId=0,this.touchStartY=0,this.addToastEventHandler=event=>{event instanceof CustomEvent&&this.addToast(event.detail)}}static get styles(){return[COMMON_STYLES,TOAST_CONTAINER_STYLES]}connectedCallback(){super.connectedCallback(),document.addEventListener(ToastEvent.ADD,this.addToastEventHandler)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener(ToastEvent.ADD,this.addToastEventHandler)}render(){return lit.dy`${c(this.toasts,(({id})=>id),(toast=>this.createToastElement(toast)))}`}createToastElement({header,message,variant,hideCountdown,id,autoDismiss}){return lit.dy`<awf-toast
            id="${id}"
            header="${header}"
            message="${message}"
            .variant="${variant||ToastVariant.INFORMATIONAL}"
            ?strong="${this.strong}"
            ?hideCountdown="${hideCountdown}"
            ?autoDismiss="${autoDismiss}"
            @close="${event=>this.markToastForRemoval(event,id)}"
            @transitionend="${()=>this.removeToast(id)}"
            @touchstart="${this.onTouchStart}"
            @touchend="${event=>this.onTouchEnd(event,id)}"
        ></awf-toast>`}addToast(toast){this.toasts=[{...toast,id:"toast-"+this.currentId++},...this.toasts],this.requestUpdate(),this.markOverflowToasts()}markToastForRemoval(event,toastId){event.stopPropagation(),event.preventDefault(),this.addDeleteClass(toastId)}removeToast(toastId){this.toasts=this.toasts.filter((({id})=>id!==toastId)),this.requestUpdate()}onTouchStart(event){this.touchStartY=event.changedTouches[0].screenY}onTouchEnd(event,toastId){const touchEndY=event.changedTouches[0].screenY;this.handleSwipeGesture(touchEndY,toastId)}markOverflowToasts(){const maxLength=this.maxCount<1?1:this.maxCount,difference=this.toasts.length-maxLength;difference<1||this.toasts.slice(-difference).forEach((({id})=>this.addDeleteClass(id)))}addDeleteClass(toastId){const toast=this.shadowRoot?.querySelector(`#${toastId}`);toast&&toast.classList.add("delete")}handleSwipeGesture(touchEndY,toastId){const swipedDown=touchEndY>this.touchStartY,swipedUp=touchEndY<this.touchStartY,isTopPositioned=this.isTopPositioned();(isTopPositioned&&swipedUp||!isTopPositioned&&swipedDown)&&this.addDeleteClass(toastId)}isTopPositioned(){return[ToastPosition.TOP_CENTER,ToastPosition.TOP_LEFT,ToastPosition.TOP_RIGHT].includes(this.position)}};(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfToastContainer.prototype,"position",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean})],AwfToastContainer.prototype,"strong",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfToastContainer.prototype,"maxCount",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:String})],AwfToastContainer.prototype,"id",void 0),(0,tslib_es6.gn)([(0,decorators.hO)({passive:!0})],AwfToastContainer.prototype,"onTouchStart",null),(0,tslib_es6.gn)([(0,decorators.hO)({passive:!0})],AwfToastContainer.prototype,"onTouchEnd",null),AwfToastContainer=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-toast-container",!0)],AwfToastContainer);const TOGGLE_CHIPS_STYLES=lit.iv`
    :host {
        --awf-chip-rest-background: transparent;
        --awf-chip-rest-border: 1px solid transparent;
        --awf-chip-rest-disabled-border: 1px solid transparent;

        display: flex;
        background-color: var(--at-gray-soft);
        width: fit-content;
        border-radius: 16px;

        ${CHIP_TRANSITIONS};
    }

    :host([disabled]) {
        background-color: var(--at-gray-pale);
    }
`;let AwfToggleChips=class AwfToggleChips extends lit.oi{constructor(){super(...arguments),this.disabled=!1,this.dispatchCustomEvent=dispatchCustomEvent.bind(this)}render(){return lit.dy`<slot @click=${this.handleChipClick}></slot> `}updated(changes){super.updated(changes),changes.has("disabled")&&(this.setChipsDisabledState(this.disabled),this.disabled?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")),changes.has("value")&&this.updateChipsActiveState()}handleChipClick(event){event.stopPropagation();const{target}=event;target instanceof AwfChip&&!target.active&&!target.disabled&&(this.deactivateAllChips(),target.active=!0,this.emitValue(target.value))}setChipsDisabledState(disabled){this.chips.forEach((chip=>{chip.disabled=disabled}))}updateChipsActiveState(){this.chips.forEach((chip=>{chip.active=chip.value===this.value}))}deactivateAllChips(){this.chips.forEach((chip=>{chip.active=!1}))}emitValue(value){this.dispatchCustomEvent(AwfEvent.VALUE_CHANGE,value)}};AwfToggleChips.styles=[COMMON_STYLES,TOGGLE_CHIPS_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Boolean,reflect:!0})],AwfToggleChips.prototype,"disabled",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfToggleChips.prototype,"value",void 0),(0,tslib_es6.gn)([(0,decorators.NH)({selector:"awf-chip"})],AwfToggleChips.prototype,"chips",void 0),AwfToggleChips=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-toggle-chips",!0)],AwfToggleChips);const WIDGET_LAYOUT_STYLES=lit.iv`
    :host {
        width: 100%;
        height: 100%;
        background-color: var(--at-blue-luminous);
        padding: 8px;
        box-sizing: border-box;
        display: grid;
        grid-gap: 8px;
    }
`;let AwfWidgetLayout=class AwfWidgetLayout extends lit.oi{render(){return this.getColumns(),this.getRows(),lit.dy`<slot></slot>`}getColumns(){let templateColumns="auto";this.columns&&this.columns>0&&(templateColumns=`repeat(${this.columns}, 1fr)`),this.style.gridTemplateColumns=templateColumns}getRows(){let templateRows="auto";this.rows&&this.rows>0&&(templateRows=`repeat(${this.rows}, 1fr)`),this.style.gridTemplateRows=templateRows}};AwfWidgetLayout.styles=[COMMON_STYLES,WIDGET_LAYOUT_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfWidgetLayout.prototype,"columns",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)({type:Number})],AwfWidgetLayout.prototype,"rows",void 0),AwfWidgetLayout=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-widget-layout",!0)],AwfWidgetLayout);const en_u=void 0;const en=["en",[["a","p"],["AM","PM"],en_u],[["AM","PM"],en_u,en_u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],en_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],en_u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",en_u,"{1} 'at' {0}",en_u],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function plural(val){const i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}],es_u=void 0;const es=["es",[["a. m.","p. m."],es_u,es_u],es_u,[["D","L","M","X","J","V","S"],["dom","lun","mar","mié","jue","vie","sáb"],["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],["DO","LU","MA","MI","JU","VI","SA"]],es_u,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],es_u,[["a. C.","d. C."],es_u,["antes de Cristo","después de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",es_u,es_u,es_u],[",",".",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0 %","#,##0.00 ¤","#E0"],"EUR","€","euro",{AUD:[es_u,"$"],BRL:[es_u,"R$"],BYN:[es_u,"р."],CAD:[es_u,"$"],CNY:[es_u,"¥"],EGP:[],ESP:["₧"],GBP:[es_u,"£"],HKD:[es_u,"$"],ILS:[es_u,"₪"],INR:[es_u,"₹"],JPY:[es_u,"¥"],KRW:[es_u,"₩"],MXN:[es_u,"$"],NZD:[es_u,"$"],PHP:[es_u,"₱"],RON:[es_u,"L"],THB:["฿"],TWD:[es_u,"NT$"],USD:["US$","$"],XAF:[],XCD:[es_u,"$"],XOF:[]},"ltr",function es_plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length,e=parseInt(val.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n?1:0===e&&0!==i&&i%1e6==0&&0===v||!(e>=0&&e<=5)?4:5}],fr_u=void 0;const fr=["fr",[["AM","PM"],fr_u,fr_u],fr_u,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],fr_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]],fr_u,[["av. J.-C.","ap. J.-C."],fr_u,["avant Jésus-Christ","après Jésus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} 'à' {0}",fr_u],[","," ",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0 %","#,##0.00 ¤","#E0"],"EUR","€","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[fr_u,"р."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[fr_u,"¥"],COP:["$CO","$"],CYP:["£CY"],EGP:[fr_u,"£E"],FJD:["$FJ","$"],FKP:["£FK","£"],FRF:["F"],GBP:["£GB","£"],GIP:["£GI","£"],HKD:[fr_u,"$"],IEP:["£IE"],ILP:["£IL"],ITL:["₤IT"],JPY:[fr_u,"¥"],KMF:[fr_u,"FC"],LBP:["£LB","£L"],MTP:["£MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[fr_u,"$C"],NZD:["$NZ","$"],PHP:[fr_u,"₱"],RHD:["$RH"],RON:[fr_u,"L"],RWF:[fr_u,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[fr_u,"$T"],TTD:["$TT","$"],TWD:[fr_u,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[fr_u,"$"],XPF:["FCFP"],ZMW:[fr_u,"Kw"]},"ltr",function fr_plural(val){const i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length,e=parseInt(val.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===i||1===i?1:0===e&&0!==i&&i%1e6==0&&0===v||!(e>=0&&e<=5)?4:5}],ja_u=void 0;const ja=["ja",[["午前","午後"],ja_u,ja_u],ja_u,[["日","月","火","水","木","金","土"],ja_u,["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],["日","月","火","水","木","金","土"]],ja_u,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],ja_u],ja_u,[["BC","AD"],["紀元前","西暦"],ja_u],0,[6,0],["y/MM/dd",ja_u,"y年M月d日","y年M月d日EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H時mm分ss秒 zzzz"],["{1} {0}",ja_u,ja_u,ja_u],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"JPY","￥","日本円",{BYN:[ja_u,"р."],CNY:["元","￥"],JPY:["￥"],PHP:[ja_u,"₱"],RON:[ja_u,"レイ"],XXX:[]},"ltr",function ja_plural(val){return 5}],nl_u=void 0;const nl=["nl",[["a.m.","p.m."],nl_u,nl_u],nl_u,[["Z","M","D","W","D","V","Z"],["zo","ma","di","wo","do","vr","za"],["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],["zo","ma","di","wo","do","vr","za"]],nl_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]],nl_u,[["v.C.","n.C."],["v.Chr.","n.Chr."],["voor Christus","na Christus"]],1,[6,0],["dd-MM-y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",nl_u,"{1} 'om' {0}",nl_u],[",",".",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤ #,##0.00;¤ -#,##0.00","#E0"],"EUR","€","Euro",{AUD:["AU$","$"],BYN:[nl_u,"р."],CAD:["C$","$"],FJD:["FJ$","$"],JPY:["JP¥","¥"],PHP:[nl_u,"₱"],RUR:[nl_u,"р."],SBD:["SI$","$"],THB:["฿"],TWD:["NT$"],USD:["US$","$"],XPF:[],XXX:[]},"ltr",function nl_plural(val){const i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===v?1:5}],pt_u=void 0;const pt=["pt",[["AM","PM"],pt_u,pt_u],pt_u,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","sáb."],["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],["dom.","seg.","ter.","qua.","qui.","sex.","sáb."]],pt_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],pt_u,[["a.C.","d.C."],pt_u,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",pt_u,pt_u,pt_u],[",",".",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤ #,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[pt_u,"р."],JPY:["JP¥","¥"],PHP:[pt_u,"₱"],PTE:["Esc."],RON:[pt_u,"L"],SYP:[pt_u,"S£"],THB:["฿"],TWD:["NT$"],USD:["US$","$"]},"ltr",function pt_plural(val){const i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length,e=parseInt(val.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return i===Math.floor(i)&&i>=0&&i<=1?1:0===e&&0!==i&&i%1e6==0&&0===v||!(e>=0&&e<=5)?4:5}],ru_u=void 0;const ru=["ru",[["AM","PM"],ru_u,ru_u],ru_u,[["В","П","В","С","Ч","П","С"],["вс","пн","вт","ср","чт","пт","сб"],["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],["вс","пн","вт","ср","чт","пт","сб"]],ru_u,[["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],["янв.","февр.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]],[["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],["янв.","февр.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]],[["до н.э.","н.э."],["до н. э.","н. э."],["до Рождества Христова","от Рождества Христова"]],1,[6,0],["dd.MM.y","d MMM y 'г'.","d MMMM y 'г'.","EEEE, d MMMM y 'г'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ru_u,ru_u,ru_u],[","," ",";","%","+","-","E","×","‰","∞","не число",":"],["#,##0.###","#,##0 %","#,##0.00 ¤","#E0"],"RUB","₽","российский рубль",{BYN:[ru_u,"р."],GEL:[ru_u,"ლ"],PHP:[ru_u,"₱"],RON:[ru_u,"L"],RUB:["₽"],RUR:["р."],THB:["฿"],TMT:["ТМТ"],TWD:["NT$"],UAH:["₴"],XXX:["XXXX"]},"ltr",function ru_plural(val){const i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length;return 0===v&&i%10==1&&i%100!=11?1:0===v&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?3:0===v&&i%10==0||0===v&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===v&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?4:5}];const zh_Hans=["zh-Hans",[["上午","下午"],undefined,undefined],undefined,[["日","一","二","三","四","五","六"],["周日","周一","周二","周三","周四","周五","周六"],["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],["周日","周一","周二","周三","周四","周五","周六"]],undefined,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]],undefined,[["公元前","公元"],undefined,undefined],0,[6,0],["y/M/d","y年M月d日",undefined,"y年M月d日EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",undefined,undefined,undefined],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"CNY","¥","人民币",{AUD:["AU$","$"],BYN:[undefined,"р."],CNY:["¥"],ILR:["ILS"],JPY:["JP¥","¥"],KRW:["￦","₩"],PHP:[undefined,"₱"],RUR:[undefined,"р."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function zh_Hans_plural(val){return 5}];class LocaleFontDirective{el;renderer;subscriptions=new Subscription.w0;constructor(el,renderer,translateService){this.el=el,this.renderer=renderer,this.updateFontFamily(translateService.currentLang),this.subscriptions.add(translateService.onLangChange.subscribe((e=>this.updateFontFamily(e.lang))))}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFontFamily(lang){let fontFamily;switch(lang){case"zh-HANS":fontFamily='"Noto Sans SC", "Noto Sans Display", sans-serif';break;case"ja-JP":fontFamily='"Noto Sans JP", "Noto Sans Display", sans-serif';break;default:fontFamily='"Noto Sans Display", sans-serif'}this.renderer.setStyle(this.el.nativeElement,"font-family",fontFamily)}static ɵfac=function LocaleFontDirective_Factory(t){return new(t||LocaleFontDirective)(core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](TranslateService))};static ɵdir=core["ɵɵdefineDirective"]({type:LocaleFontDirective,selectors:[["","agLocaleFont",""]],features:[core["ɵɵProvidersFeature"]([{provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>LocaleFontDirective)),multi:!0}])]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](LocaleFontDirective,[{type:core.Directive,args:[{selector:"[agLocaleFont]",providers:[{provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>LocaleFontDirective)),multi:!0}]}]}],(function(){return[{type:core.ElementRef},{type:core.Renderer2},{type:TranslateService}]}),null);const data$7={clear:"Clear",noItemFound:"No items found",from:"From",to:"To",ok:"Ok",cancel:"Cancel",back:"Back",next:"Next",save:"Save",search:"Search",submit:"Submit",reload:"Reload",retry:"Retry",help:"Help",connectionTimeout:"The network is slow or the server is taking too long to respond. Try again.",cannotConnect:"Cannot connect to the server. Check the server and/or network connectivity.",dataLoss:{confirmMessage:"There are un-submitted data, those changes will be lost. Do you confirm?"},internalServerError:"Failed due to internal server error",somethingWentWrong:"Something went wrong.",user:"User",category:"Category",export:"Export",print:"Print",remove:"Remove",review:"Review",nothingToShow:"Nothing to show",pageIsEmpty:"This page is empty.",metaNavigation:"Meta Navigation",unlock:"Unlock",amazon:{logout:"Log out",loginFooter:"Please log in with Amazon Cognito credentials",loginPrompt:"AWS Cognito Log In"},auditTrail:{labels:{createdBy:"Created by",createdAt:"Date and time\n(yyyy-MM-dd)",description:"Description",reason:"Reason for change",reviewedBy:"Reviewed by",reviewedAt:"Review date",reviewComment:"Review comment",hostname:"Hostname",application:"Application",dataVersion:"Data version",project:"Project",category:"Category",auditTrail:"Audit Trail",user:"User"},buttons:{export:"Export",print:"Print",review:"Review"},messages:{nothingToShow:"Nothing to show",pageIsEmpty:"This page is empty.",noResultsFound:"No results found",connectionLost:"Connection lost.",reviewFailed:"Failed to review entries.",reloadPage:"Reload the page or check the help for further instructions.",seeErrorLog:"Please see the audit trail error log for more details."}},collection:{columnSelection:{label:"Column selection (show/hide)",menu:"Configure Columns",error:"You must select at least one visible column.",checkUncheckAll:"Check all/Hide all"},export:{filename:"File Name",filetype:"File Type"},sort:{asc:"Ascending",addSort:"Add sort",desc:"Descending",headers:{column:"Column",direction:"Order"},menu:"Sort",sortBy:"Sort by",thenBy:"Then by",title:"Table sort",error:{moreThanOnce:"A column has been selected more than once",missingRequired:"A required value is missing"}}},connectionLost:{title:"Connection Lost",subtitle:"Reload the page or check the help for further instructions."},file:{browse:"...",selectAFile:"Select a file"},instrument:{status:{error:"Error",idle:"Idle",injecting:"Injecting",notReady:"Not ready",offline:"Offline",preRun:"Pre-run",ready:"Ready",running:"Running",standby:"Standby",tune:"Tune",warning:"Warning"}},layout:{widgets:{add:{above:"to the top",below:"to the bottom",left:"to the left",menuLabel:"Add a widget",right:"to the right"},remove:{confirmation:"Please confirm that you want to remove this widget?",menuLabel:"Remove widget"},twoTiles:{balanced:"Balanced",left:"Left",menuLabel:"Layout",right:"Right"}}},login:{labels:{changePassword:"Change Password",username:"Username",password:"Password",domain:"Domain",currentPassword:"Current Password",newPassword:"New Password",newPasswordConfirmation:"Confirm New Password"},buttons:{login:"Log in",unlock:"Unlock"},messages:{capsLockIsOn:"Caps Lock is on.",domainRequired:"Domain is required.",domainInvalid:"Domain is not valid.",usernameRequired:"Username is required.",passwordRequired:"Password is required.",currentPasswordRequired:"Current password is required.",newPasswordRequired:"New password is required.",newPasswordSame:"New password must be different.",newPasswordConfirmRequired:"New password confirmation is required.",newPasswordConfirmNotMatch:"Entered passwords do not match.",currentProject:"Project: {0}",insufficientPrivileges:"Failed to unlock due to insufficient privileges.",insufficientPrivilegesForLogging:"Failed to unlock since {{user}} has insufficient privileges.",noProjectAccessForLogging:"Failed to unlock due to insufficient privileges: {{user}} does not have access to project {{project}}.",failedUnlockAttemptForLogging:"Failed unlock attempt:",userBreaksLock:'User "{{newUser}}" has unlocked {{userApplication}} originally locked by user "{{currentUser}}".',userUnlocks:'User "{{currentUser}}" has unlocked {{userApplication}}.',insufficientUserPrivileges:"Access was restricted due to insufficient privileges."}},reasonForChange:{reasonForChangeTitle:"Reason for change",messages:{enterChangeReason:"Enter reason for change",reasonRequired:"Reason is required.",reasonTooLong:"Reason is longer than the max length of {{reasonMaxLength}}."}},reasonForStop:{labels:{reasonForStop:"Reason for stop"},messages:{reasonRequired:"Reason is required.",reasonTooLong:"Reason is longer than the max length of {{reasonMaxLength}}."},buttons:{stop:"Stop"}},projectSelection:{labels:{deletedProjects:"Deleted Projects",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"Failed to load project permissions.",userHasAccessedProject:"User {{user}} has accessed project {{project}}.",failedAccessDueToInsufficientPrivileges:"Failed to access {{project}}. User {{user}} has insufficient privileges.",userHasAccessedDeletedProject:"User {{user}} has accessed deleted project {{project}} (ID {{projectId}}).",nothingToShow:"Either no projects are available or you do not have access to any projects. Please contact your administrator.",noConnectionToOLSS:"No connection to the Shared Services server.",invalidUrl:"Component configuration error. API URL is invalid."}},esignatures:{labels:{meaning:"Meaning",comment:"Comment",esign:"E-Sign",revoke:"Revoke"},messages:{meaningRequired:"Meaning is required.",meaningTooltip:"Meaning is predefined for this step and cannot be changed",notValidUser:"User does not have the privilege to sign.",userIsAuthor:"Users are unable to sign worksheets they have modified.",signedAtLevel:"Signed at level {{levelNumber}}, {{levelName}}",revoked:"Signatures successfully revoked",logIncorrectUsernameOrPassword:"Failed to sign {{objectName}}. Incorrect login or password. {{username}}",logNotPermittedToSign:"Failed to sign {{objectName}}. Insufficient privileges: {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"Failed to sign {{objectName}}. Insufficient privileges: {{username}}",logAccountDisabled:"Failed to sign {{objectName}}. Account is disabled: {{username}}",logDetails:"Failed to sign {{objectName}}. Project: {{projectName}}"}},messages:{error:{required:"This field is required.",notANumber:"This input is not a number.",notAnInteger:"This input is not a whole number.",min:"The value must be higher than or equal to {{min}}.",max:"The value must be less than or equal to {{max}}.",notADate:"Invalid date format (yyyy-mm-dd).",requiredBefore:'You cannot enter a "to" date before the "from" date.',requiredAfter:'You cannot enter a "from" date after the "to" date.'}},paginator:{goTo:"Go to",infinite:"...",recordsPerPage:"Items per page"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"Select month",yearSelectionTooltip:"Select year",nextMonthTooltip:"Next month",previousMonthTooltip:"Previous month"},tabs:{delete:"Remove tab"},tree:{loading:"Loading..."},upload:{uploads:"Uploads",cancelAll:"Cancel all",viewAll:"View all uploads",noUploadInProgress:"No upload in progress",moreItems:"+{{number}} additional item(s)"}},data$6={clear:"Borrar",noItemFound:"No se encontraron elementos",from:"De",to:"A",ok:"Aceptar",cancel:"Cancelar",back:"Atrás",next:"Siguiente",save:"Guardar",search:"Buscar",submit:"Enviar",reload:"Recargar",retry:"Reintentar",help:"Ayuda",connectionTimeout:"La conexión a la red es lenta o el servidor está tardando mucho en responder. Inténtelo de nuevo.",cannotConnect:"No se puede conectar al servidor. Compruebe el servidor o la conectividad de la red.",dataLoss:{confirmMessage:"Hay datos que no se han enviado. Estos cambios se perderán. ¿Desea confirmar?"},internalServerError:"Fallo debido a un error interno del servidor",somethingWentWrong:"Algo ha ido mal.",user:"Usuario",category:"Categoría",export:"Exportar",print:"Imprimir",remove:"Eliminar",review:"Revisar",nothingToShow:"Nada que mostrar",pageIsEmpty:"Esta página está vacía",metaNavigation:"Metanavegación",unlock:"Desbloquear",amazon:{logout:"Cerrar sesión",loginFooter:"Inicie sesión con las credenciales de Amazon Cognito",loginPrompt:"Inicio de sesión de AWS Cognito"},auditTrail:{labels:{createdBy:"Creado por",createdAt:"Fecha y hora\n(aaaa-MM-dd)",description:"Descripción",reason:"Motivo del cambio",reviewedBy:"Revisado por",reviewedAt:"Fecha de revisión",reviewComment:"Comentario de revisión",hostname:"Nombre del host",application:"Aplicación",dataVersion:"Versión de datos",project:"Proyecto",category:"Categoría",auditTrail:"Seguimiento de auditoría",user:"Usuario"},buttons:{export:"Exportar",print:"Imprimir",review:"Revisar"},messages:{nothingToShow:"Nada que mostrar",pageIsEmpty:"Esta página está vacía.",noResultsFound:"No se encontraron resultados",connectionLost:"Conexión perdida.",reviewFailed:"Fallo al revisar entradas.",reloadPage:"Recargue la página o consulte la ayuda para obtener más instrucciones.",seeErrorLog:"Consulte el registro de errores del seguimiento de auditoría para obtener más información."}},collection:{columnSelection:{label:"Selección de columna (mostrar/ocultar)",menu:"Configurar columnas",error:"Debe seleccionar al menos una columna visible.",checkUncheckAll:"Marcar todo/Ocultar todo"},export:{filename:"Nombre del archivo",filetype:"Tipo de archivo"},sort:{asc:"Ascendente",addSort:"Añadir tipo",desc:"Descendente",headers:{column:"Columna",direction:"Orden"},menu:"Tipo",sortBy:"Ordenar por",thenBy:"Después por",title:"Orden de tabla",error:{moreThanOnce:"Se ha seleccionado una columna más de una vez",missingRequired:"Falta un valor requerido"}}},connectionLost:{title:"Conexión perdida",subtitle:"Recargue la página o consulte la ayuda para obtener más instrucciones."},file:{browse:"...",selectAFile:"Seleccione un fichero"},instrument:{status:{error:"Error",idle:"Inactivo",injecting:"Inyectando",notReady:"No preparado",offline:"Desconectado",preRun:"Prefuncionamiento",ready:"Preparado",running:"Funcionamiento",standby:"En espera",tune:"Ajuste",warning:"Advertencia"}},layout:{widgets:{add:{above:"ir arriba",below:"ir abajo",left:"a la izquierda",menuLabel:"Añadir un widget",right:"a la derecha"},remove:{confirmation:"Confirme que desea eliminar este widget.",menuLabel:"Eliminar widget"},twoTiles:{balanced:"Equilibrado",left:"Izquierda",menuLabel:"Presentación",right:"Derecha"}}},login:{labels:{changePassword:"Cambiar contraseña",username:"Nombre de usuario",password:"Contraseña",domain:"Dominio",currentPassword:"Contraseña actual",newPassword:"Contraseña nueva",newPasswordConfirmation:"Confirmar contraseña nueva"},buttons:{login:"Iniciar sesión",unlock:"Desbloquear"},messages:{capsLockIsOn:"La tecla mayúsculas está activa.",domainRequired:"Hace falta un dominio.",domainInvalid:"El dominio no es válido.",usernameRequired:"Hace falta un nombre de usuario.",passwordRequired:"Hace falta una contraseña.",currentPasswordRequired:"Hace falta la contraseña actual.",newPasswordRequired:"Hace falta una nueva contraseña.",newPasswordSame:"La contraseña nueva debe ser diferente.",newPasswordConfirmRequired:"Hace falta la confirmación de la nueva contraseña.",newPasswordConfirmNotMatch:"Las contraseñas no coinciden.",currentProject:"Proyecto: {0}",insufficientPrivileges:"No se ha podido desbloquear. No tiene privilegios suficientes.",insufficientPrivilegesForLogging:"No se ha podido desbloquear ya que {{user}} no tiene privilegios suficientes.",noProjectAccessForLogging:"No se ha podido desbloquear. No tiene privilegios suficientes: {{user}} no tiene acceso al proyecto {{project}}.",failedUnlockAttemptForLogging:"Intento de desbloqueo fallido:",userBreaksLock:'El usuario "{{newUser}}" ha desbloqueado {{userApplication}}, bloqueado originalmente por el usuario "{{currentUser}}".',userUnlocks:'El usuario "{{currentUser}}" ha desbloqueado {{userApplication}}.',insufficientUserPrivileges:"Se restringió el acceso por la falta de privilegios suficientes."}},reasonForChange:{reasonForChangeTitle:"Motivo del cambio",messages:{enterChangeReason:"Introduzca el motivo del cambio",reasonRequired:"Hace falta un motivo.",reasonTooLong:"El motivo no puede exceder el máximo de caracteres de {{reasonMaxLength}}."}},reasonForStop:{labels:{reasonForStop:"Motivo de la detención"},messages:{reasonRequired:"Hace falta un motivo.",reasonTooLong:"El motivo no puede exceder el máximo de caracteres de {{reasonMaxLength}}."},buttons:{stop:"Detener"}},projectSelection:{labels:{deletedProjects:"Proyectos borrados",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"Fallo al cargar los permisos del proyecto",userHasAccessedProject:"El usuario {{user}} ha accedido al proyecto {{project}}.",failedAccessDueToInsufficientPrivileges:"Fallo al acceder a {{project}}. El usuario {{user}} no tiene privilegios suficientes.",userHasAccessedDeletedProject:"El usuario {{user}} ha accedido al proyecto borrado {{project}} (ID {{projectId}}).",nothingToShow:"O no hay proyectos disponibles o no tiene acceso a ningún proyecto. Póngase en contacto con su administrador.",noConnectionToOLSS:"No hay conexión con el servidor de servicios compartidos.",invalidUrl:"Error de configuración del componente. URL de API no válida."}},esignatures:{labels:{meaning:"Significado",comment:"Comentario",esign:"Firma electrónica",revoke:"Revocar"},messages:{meaningRequired:"Significado obligatorio",meaningTooltip:"El significado para este paso está predefinido y no se puede modificar",notValidUser:"El usuario no tiene privilegios para firmar.",userIsAuthor:"Los usuarios no pueden firmar fichas de trabajo que han modificado.",signedAtLevel:"Firmado en el nivel {{levelNumber}}, {{levelName}}",revoked:"Firmas correctamente revocadas",logIncorrectUsernameOrPassword:"Fallo al firmar {{objectName}}. Inicio de sesión o contraseña incorrectos. {{username}}",logNotPermittedToSign:"Fallo al firmar {{objectName}}. Privilegios insuficientes: {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"Fallo al firmar {{objectName}}. Privilegios insuficientes: {{username}}",logAccountDisabled:"Fallo al firmar {{objectName}}. La cuenta está desactivada: {{username}}",logDetails:"Fallo al firmar {{objectName}}. Proyecto: {{projectName}}"}},messages:{error:{required:"Este campo es obligatorio.",notANumber:"No ha introducido un número.",notAnInteger:"No ha introducido un número entero.",min:"El valo debe ser mayor o igual a {{min}}.",max:"El valor debe ser menor o igual que {{max}}.",notADate:"Formato de fecha no válido (aaaa-mm-dd).",requiredBefore:'No puede introducir la fecha "hasta" antes que la fecha "desde".',requiredAfter:'No puede introducir la fecha "desde" después de la fecha "hasta".'}},paginator:{goTo:"Ir a",infinite:"...",recordsPerPage:"Elementos por página"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"Seleccione el mes",yearSelectionTooltip:"Seleccione el año",nextMonthTooltip:"Mes siguiente",previousMonthTooltip:"Mes anterior"},tabs:{delete:"Eliminar pestaña"},tree:{loading:"Cargando..."},upload:{uploads:"Ficheros cargados",cancelAll:"Cancelar todo",viewAll:"Ver los ficheros cargados",noUploadInProgress:"No hay cargas en curso",moreItems:"+{{number}} additional item(s)"}},data$5={clear:"Effacer",noItemFound:"Pas de donnée trouvée",from:"De",to:"A",ok:"Ok",cancel:"Annuler",back:"Retour",next:"Suivant",save:"Sauver",search:"Rechercher",submit:"Soumettre",reload:"Recharger",retry:"Ré-essayer",help:"Aide",connectionTimeout:"La connection réseau est lente ou le serveur met trop de temps à répondre. Essayer à nouveau.",cannotConnect:"Impossible de se connecter au serveur. Vérifiez le serveur et/ou la connection réseau.",dataLoss:{confirmMessage:"Il y a des données non soumises, ces changements vont être perdus. Confirmez-vous ?"},internalServerError:"Échec du à une erreur interne du serveur",somethingWentWrong:"Quelque chose s'est mal passé.",user:"Utilisateur",category:"Catégorie",export:"Exporter",print:"Imprimer",remove:"Retirer",review:"Revoir",nothingToShow:"Rien à afficher",pageIsEmpty:"Cette page est vide.",metaNavigation:"Meta Navigation",unlock:"Déverrouiller",amazon:{logout:"Se déconnecter",loginFooter:"Merci de vous connecter avec vos identifiants Amazon Cognito",loginPrompt:"AWS Cognito Connexion"},auditTrail:{labels:{createdBy:"Créé par",createdAt:"Date et heure\n(yyyy-MM-dd)",description:"Description",reason:"Raison de changement",reviewedBy:"Revu par",reviewedAt:"Date de revue",reviewComment:"Commentaire de revue",hostname:"Hostname",application:"Application",dataVersion:"Version de la donnée",project:"Projet",category:"Catégorie",auditTrail:"Audit Trail",user:"Utilisateur"},buttons:{export:"Exporter",print:"Imprimer",review:"Revoir"},messages:{nothingToShow:"Rien à afficher",pageIsEmpty:"Cette page est vide.",noResultsFound:"Aucun résultat trouvé",connectionLost:"Connexion perdue.",reviewFailed:"Échec de la revue des entrées.",reloadPage:"Rechargez la page ou vérifiez l'aide pour de plus amples instructions",seeErrorLog:"Merci de regarder le log d'erreur de l'audit trail pour plus de détails."}},collection:{columnSelection:{label:"Sélection des colonnes (afficher/cacher)",menu:"Configuration des Colonnes",error:"Vous devez sélectionner au moins une colonne visible.",checkUncheckAll:"Afficher tout/Cacher tout"},export:{filename:"Nom du fichier",filetype:"Type du fichier"},sort:{asc:"Ascendant",addSort:"Ajouter un tri",desc:"Descendant",headers:{column:"Colonne",direction:"Ordre"},menu:"Trier",sortBy:"Trier par",thenBy:"Puis par",title:"Tri de la table",error:{moreThanOnce:"Une colonne a été sélectionnée plus d'une fois",missingRequired:"Une valeur obligatoire est manquante"}}},connectionLost:{title:"Connexion Perdue",subtitle:"Rechargez la page ou vérifiez l'aide pour de plus amples instructions"},file:{browse:"...",selectAFile:"Sélectionnez un fichier"},instrument:{status:{error:"Erreur",idle:"En attente",injecting:"Injection en cours",notReady:"Pas prêt",offline:"Déconnecté",preRun:"Pre-run",ready:"Prêt",running:"En cours",standby:"En attente",tune:"Tune",warning:"Warning"}},layout:{widgets:{add:{above:"en haut",below:"en bas",left:"à gauche",menuLabel:"Ajouter un widget",right:"à droite"},remove:{confirmation:"Merci de confirmer que vous souhaitez retirer ce widget",menuLabel:"Retirer le widget"},twoTiles:{balanced:"Balancé",left:"Gauche",menuLabel:"Mise en page",right:"Droite"}}},login:{labels:{changePassword:"Changer le mot de passe",username:"Utilisateur",password:"Mot de passe",domain:"Domaine",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",newPasswordConfirmation:"Confirmer le nouveau mot de passe"},buttons:{login:"Connexion",unlock:"Déverrouiller"},messages:{capsLockIsOn:"Caps Lock est activé.",domainRequired:"Le Domaine est obligatoire.",domainInvalid:"Le Domain n'est pas valide.",usernameRequired:"Le nom d'utilisateur est obligatoire.",passwordRequired:"Le mot de passe est obligatoire.",currentPasswordRequired:"Le mot de passe actuel est obligatoire.",newPasswordRequired:"Le nouveau mot de passe est obligatoire.",newPasswordSame:"Les mots de passe doivent être différents.",newPasswordConfirmRequired:"La confirmation du nouveau mot de passe est obligatoire.",newPasswordConfirmNotMatch:"Les mots de passe entrés ne correspondent pas.",currentProject:"Projet : {0}",insufficientPrivileges:"Échec du déverrouillage à cause d'un manque de permission.",insufficientPrivilegesForLogging:"Échec du déverrouillage car {{user}} n'a pas suffisamment de permissions.",noProjectAccessForLogging:"Échec du déverrouillage du à un manque de permission : {{user}} n'a pas accès au projet  {{project}}.",failedUnlockAttemptForLogging:"Échec de la tentative de déverrouillage :",userBreaksLock:'L\'utilisateur "{{newUser}}" a déverrouillé {{userApplication}} verrouillée initialement pas "{{currentUser}}".',userUnlocks:'L\'utilisateur "{{currentUser}}" a déverrouillé {{userApplication}}.',insufficientUserPrivileges:"L'accès a été limité à cause d'un manque de permissions."}},reasonForChange:{reasonForChangeTitle:"Raison pour le changement",messages:{enterChangeReason:"Entrez une raison pour le changement",reasonRequired:"La raison est obligatoire.",reasonTooLong:"La raison est plus longue que le maximum de {{reasonMaxLength}}."}},reasonForStop:{labels:{reasonForStop:"Raison pour l'arrêt"},messages:{reasonRequired:"La raison est obligatoire.",reasonTooLong:"La raison est plus longue que le maximum de {{reasonMaxLength}}."},buttons:{stop:"Arrêter"}},projectSelection:{labels:{deletedProjects:"Projets Supprimés",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"Échec au chargement des permissions du projet.",userHasAccessedProject:"L'utilisateur {{user}} a accédé au projet {{project}}.",failedAccessDueToInsufficientPrivileges:"Échec de l'accès à {{project}}. L'utilisateur {{user}} n'a pas suffisamment de permissions.",userHasAccessedDeletedProject:"L'utilisateur {{user}} a accédé au projet supprimé {{project}} (ID {{projectId}}).",nothingToShow:"Soit aucun projet n'est disponible ou vous n'avez accès à aucun projet. Merci de contacter votre administrateur.",noConnectionToOLSS:"Aucune connexion au server Shared Services.",invalidUrl:"Erreur de configuration du composant. L'URL de l'API est invalide."}},esignatures:{labels:{meaning:"Acceptation",comment:"Commentaire",esign:"E-Sign",revoke:"Révoquer"},messages:{meaningRequired:"L'acceptation est obligatoire.",meaningTooltip:"L'acceptation est prédéfinie pour cette étape et ne peut pas être changée",notValidUser:"L'utilisateur n'a pas les droits de signer.",userIsAuthor:"Les utilisateurs ne peuvent pas signer des feuilles de travail qu'ils ont modifiées.",signedAtLevel:"Signé au niveau {{levelNumber}}, {{levelName}}",revoked:"Les signatures ont été révoquées avec succès",logIncorrectUsernameOrPassword:"Échec de la signature de {{objectName}}. Nom d'utilisateur ou mot de passe incorrect. {{username}}",logNotPermittedToSign:"Échec de la signature de {{objectName}}. Permissions insuffisantes : {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"Échec de la signature de {{objectName}}. Permissions insuffisantes : {{username}}",logAccountDisabled:"Échec de la signature de {{objectName}}. Compte désactivé : {{username}}",logDetails:"Échec de la signature de {{objectName}}. Projet : {{projectName}}"}},messages:{error:{required:"Ce champs est obligatoire.",notANumber:"Cette entrée n'est pas un nombre.",notAnInteger:"Cette entrée n'est pas un entier.",min:"La valeur doit être supérieure ou égale à {{min}}.",max:"La valeur doit être inférieure ou égale à {{max}}.",notADate:"Format de date invalide (yyyy-mm-dd).",requiredBefore:'Vous ne pouvez pas entrer une date de "Début" avant la date de "fin".',requiredAfter:'Vous ne pouvez pas entrer une date "fin" après la date de "Début".'}},paginator:{goTo:"Aller à",infinite:"...",recordsPerPage:"Entrées par page"},formatter:{decimalSeparator:",",thousandSeparator:""},datepicker:{monthSelectionTooltip:"Sélectionner un mois",yearSelectionTooltip:"Sélectionner une année",nextMonthTooltip:"Mois suivant",previousMonthTooltip:"Mois précédent"},tabs:{delete:"Retirer l'onglet"},tree:{loading:"Chargement..."},upload:{uploads:"Téléchargements",cancelAll:"Annuler tout",viewAll:"Voir tous les téléchargements",noUploadInProgress:"Aucun téléchargement en cours",moreItems:"+{{number}} additional item(s)"}},data$4={clear:"クリア",noItemFound:"項目は見つかりませんでした",from:"開始",to:"終了",ok:"OK",cancel:"キャンセル",back:"戻る",next:"次へ",save:"保存",search:"検索",submit:"キューに追加",reload:"再読み込み",retry:"再試行",help:"ヘルプ",connectionTimeout:"ネットワークが遅いかサーバーの応答に時間がかかり過ぎています。再試行してください。",cannotConnect:"サーバーに接続できません。サーバーおよびネットワーク接続を確認してください。",dataLoss:{confirmMessage:"送信されていないデータがあります。これらの変更は破棄されます。続行しますか?"},internalServerError:"内部サーバーエラーのため失敗しました",somethingWentWrong:"エラーが発生しました。",user:"ユーザー",category:"カテゴリ",export:"エクスポート",print:"印刷",remove:"削除",review:"レビュー",nothingToShow:"表示する項目がありません",pageIsEmpty:"このページは空白です。",metaNavigation:"メタナビゲーション",unlock:"ロック解除",amazon:{logout:"ログアウト",loginFooter:"Amazon Cognito 資格情報でログインしてください",loginPrompt:"AWS Cognito ログイン"},auditTrail:{labels:{createdBy:"作成者",createdAt:"日時\n(yyyy-mm-dd)",description:"説明",reason:"変更理由",reviewedBy:"レビュー実施者",reviewedAt:"レビュー日時",reviewComment:"レビューコメント",hostname:"ホスト名",application:"アプリケーション",dataVersion:"データバージョン",project:"プロジェクト",category:"カテゴリ",auditTrail:"監査証跡",user:"ユーザー"},buttons:{export:"エクスポート",print:"印刷",review:"レビュー"},messages:{nothingToShow:"表示する項目がありません",pageIsEmpty:"このページは空白です。",noResultsFound:"結果が見つかりません",connectionLost:"接続が失われました。",reviewFailed:"エントリのレビューに失敗しました。",reloadPage:"ページを再読み込みするかヘルプで対処方法を確認してください。",seeErrorLog:"詳細については、監査証跡のエラーログを参照してください。"}},collection:{columnSelection:{label:"列の選択 (表示/非表示)",menu:"列の設定",error:"表示する列を少なくとも 1 つ選択してください。",checkUncheckAll:"すべて 選択/選択解除"},export:{filename:"ファイル名",filetype:"ファイルタイプ"},sort:{asc:"昇順",addSort:"並べ替えの追加",desc:"降順",headers:{column:"列",direction:"順序"},menu:"並べ替え",sortBy:"最優先されるキー",thenBy:"次に優先されるキー",title:"表の並べ替え",error:{moreThanOnce:"1 つの列が 2 回以上選択されています",missingRequired:"必要な値が見つかりません"}}},connectionLost:{title:"接続が失われました",subtitle:"ページを再読み込みするかヘルプで対処方法を確認してください。"},file:{browse:"...",selectAFile:"ファイルを選択"},instrument:{status:{error:"エラー",idle:"待機",injecting:"注入中",notReady:"ノットレディ",offline:"オフライン",preRun:"プレラン",ready:"レディ",running:"実行中",standby:"スタンバイ",tune:"チューニング",warning:"警告"}},layout:{widgets:{add:{above:"最上部へ",below:"最下部へ",left:"左へ",menuLabel:"ウィジェットの追加",right:"右へ"},remove:{confirmation:"このウィジェットを削除しますか?",menuLabel:"ウィジェットの削除"},twoTiles:{balanced:"中央揃え",left:"左揃え",menuLabel:"レイアウト",right:"右揃え"}}},login:{labels:{changePassword:"パスワードの変更",username:"ユーザー名",password:"パスワード",domain:"ドメイン",currentPassword:"現在のパスワード",newPassword:"新しいパスワード",newPasswordConfirmation:"パスワードの確認"},buttons:{login:"ログイン",unlock:"ロック解除"},messages:{capsLockIsOn:"CapsLock キーがオンになっています。",domainRequired:"ドメインを入力してください。",domainInvalid:"無効なドメインです。",usernameRequired:"ユーザー名を入力してください。",passwordRequired:"パスワードを入力してください。",currentPasswordRequired:"現在のパスワードを入力してください。",newPasswordRequired:"新しいパスワードを入力してください。",newPasswordSame:"新しいパスワードを古いパスワードと同じにすることはできません。",newPasswordConfirmRequired:"パスワードの確認に入力してください。",newPasswordConfirmNotMatch:"入力されたパスワードが一致しません。",currentProject:"プロジェクト: {0}",insufficientPrivileges:"権限が不足しているためロック解除できません。",insufficientPrivilegesForLogging:"{{user}} の権限が不十分なため、ロックを解除できませんでした。",noProjectAccessForLogging:"権限が不足しているためロック解除できません: {{user}} にはプロジェクト {{project}} へのアクセス権がありません。",failedUnlockAttemptForLogging:"ロック解除に失敗:",userBreaksLock:'ユーザー "{{currentUser}}" によりロックされた {{userApplication}} をユーザー "{{newUser}}" がロック解除しました。',userUnlocks:'ユーザー "{{currentUser}}" が {{userApplication}} をロック解除しました。',insufficientUserPrivileges:"権限が不十分のため、アクセスが制限されました。"}},reasonForChange:{reasonForChangeTitle:"変更理由",messages:{enterChangeReason:"変更理由を入力",reasonRequired:"理由を入力してください。",reasonTooLong:"理由が許可されている最大文字数 {{reasonMaxLength}} よりも長くなっています。"}},reasonForStop:{labels:{reasonForStop:"停止理由"},messages:{reasonRequired:"理由を入力してください。",reasonTooLong:"理由が許可されている最大文字数 {{reasonMaxLength}} よりも長くなっています。"},buttons:{stop:"終了"}},projectSelection:{labels:{deletedProjects:"削除済みプロジェクト",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"プロジェクトのアクセス許可の読み込みに失敗しました。",userHasAccessedProject:"ユーザー {{user}} がプロジェクト {{project}} にアクセスしました。",failedAccessDueToInsufficientPrivileges:"{{project}} へのアクセスに失敗しました。ユーザー {{user}} の権限が不足しています。",userHasAccessedDeletedProject:"ユーザー {{user}} が削除されたプロジェクト {{project}} (ID {{projectId}}) にアクセスしました。",nothingToShow:"利用可能なプロジェクトがないか、プロジェクトにアクセスできません。管理者に連絡してください。",noConnectionToOLSS:"Shared Services サーバーへ接続されていません。",invalidUrl:"コンポーネントのコンフィグレーションエラー。API URL が無効です。"}},esignatures:{labels:{meaning:"理由",comment:"コメント",esign:"電子署名",revoke:"取り消し"},messages:{meaningRequired:"理由を入力してください。",meaningTooltip:"このステップ内容が事前に定義されているため変更できません",notValidUser:"ユーザーには署名権限がありません。",userIsAuthor:"ユーザーは変更したワークシートに署名できません。",signedAtLevel:"レベル {{levelNumber}}, {{levelName}} の署名を適用しました",revoked:"署名が取り消されました",logIncorrectUsernameOrPassword:"{{objectName}} への署名に失敗しました。ユーザー名またはパスワードが間違っています: {{username}}",logNotPermittedToSign:"{{objectName}} への署名に失敗しました。権限が不足しています: {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"{{objectName}} への署名に失敗しました。権限が不足しています: {{username}}",logAccountDisabled:"{{objectName}} への署名に失敗しました。ユーザーアカウントが無効です: {{username}}",logDetails:"{{objectName}} への署名に失敗しました。プロジェクト: {{projectName}}"}},messages:{error:{required:"このフィールドは必須です。",notANumber:"数値を入力してください。",notAnInteger:"整数を入力してください。",min:"値を {{min}} 以上にしてください。",max:"値を {{max}} 以下にしてください。",notADate:"日付の形式が無効です (yyyy-mm-dd)。",requiredBefore:"終了日を開始日よりも前の日付にすることはできません。",requiredAfter:"開始日を終了日よりも後の日付にすることはできません。"}},paginator:{goTo:"移動",infinite:"...",recordsPerPage:"ページのアイテム数"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"月を選択",yearSelectionTooltip:"年を選択",nextMonthTooltip:"来月",previousMonthTooltip:"先月"},tabs:{delete:"タブの削除"},tree:{loading:"読み込み中..."},upload:{uploads:"アップロード",cancelAll:"すべてキャンセル",viewAll:"すべてのアップロードを表示",noUploadInProgress:"アップロード中のものはありません",moreItems:"+{{number}} additional item(s)"}},data$3={clear:"Clear",noItemFound:"No items found",from:"From",to:"To",ok:"Ok",cancel:"Cancel",back:"Back",next:"Next",save:"Save",search:"Search",submit:"Submit",reload:"Reload",retry:"Retry",help:"Help",connectionTimeout:"The network is slow or the server is taking too long to respond. Try again.",cannotConnect:"Cannot connect to the server. Check the server and/or network connectivity.",dataLoss:{confirmMessage:"There are un-submitted data, those changes will be lost. Do you confirm?"},internalServerError:"Failed due to internal server error",somethingWentWrong:"Something went wrong.",user:"User",category:"Category",export:"Export",print:"Print",remove:"Remove",review:"Review",nothingToShow:"Nothing to show",pageIsEmpty:"This page is empty.",metaNavigation:"Meta Navigation",unlock:"Unlock",amazon:{logout:"Log out",loginFooter:"Please log in with Amazon Cognito credentials",loginPrompt:"AWS Cognito Log In"},auditTrail:{labels:{createdBy:"Created by",createdAt:"Date and time\n(yyyy-MM-dd)",description:"Description",reason:"Reason for change",reviewedBy:"Reviewed by",reviewedAt:"Review date",reviewComment:"Review comment",hostname:"Hostname",application:"Application",dataVersion:"Data version",project:"Project",category:"Category",auditTrail:"Audit Trail",user:"User"},buttons:{export:"Export",print:"Print",review:"Review"},messages:{nothingToShow:"Nothing to show",pageIsEmpty:"This page is empty.",noResultsFound:"No results found",connectionLost:"Connection lost.",reviewFailed:"Failed to review entries.",reloadPage:"Reload the page or check the help for further instructions.",seeErrorLog:"Please see the audit trail error log for more details."}},collection:{columnSelection:{label:"Column selection (show/hide)",menu:"Configure Columns",error:"You must select at least one visible column.",checkUncheckAll:"Check all/Hide all"},export:{filename:"File Name",filetype:"File Type"},sort:{asc:"Ascending",addSort:"Add sort",desc:"Descending",headers:{column:"Column",direction:"Order"},menu:"Sort",sortBy:"Sort by",thenBy:"Then by",title:"Table sort",error:{moreThanOnce:"A column has been selected more than once",missingRequired:"A required value is missing"}}},connectionLost:{title:"Connection Lost",subtitle:"Reload the page or check the help for further instructions."},file:{browse:"...",selectAFile:"Select a file"},instrument:{status:{error:"Error",idle:"Idle",injecting:"Injecting",notReady:"Not ready",offline:"Offline",preRun:"Pre-run",ready:"Ready",running:"Running",standby:"Standby",tune:"Tune",warning:"Warning"}},layout:{widgets:{add:{above:"to the top",below:"to the bottom",left:"to the left",menuLabel:"Add a widget",right:"to the right"},remove:{confirmation:"Please confirm that you want to remove this widget?",menuLabel:"Remove widget"},twoTiles:{balanced:"Balanced",left:"Left",menuLabel:"Layout",right:"Right"}}},login:{labels:{changePassword:"Change Password",username:"Username",password:"Password",domain:"Domain",currentPassword:"Current Password",newPassword:"New Password",newPasswordConfirmation:"Confirm New Password"},buttons:{login:"Log in",unlock:"Unlock"},messages:{capsLockIsOn:"Caps Lock is on.",domainRequired:"Domain is required.",domainInvalid:"Domain is not valid.",usernameRequired:"Username is required.",passwordRequired:"Password is required.",currentPasswordRequired:"Current password is required.",newPasswordRequired:"New password is required.",newPasswordSame:"New password must be different.",newPasswordConfirmRequired:"New password confirmation is required.",newPasswordConfirmNotMatch:"Entered passwords do not match.",currentProject:"Project: {0}",insufficientPrivileges:"Failed to unlock due to insufficient privileges.",insufficientPrivilegesForLogging:"Failed to unlock since {{user}} has insufficient privileges.",noProjectAccessForLogging:"Failed to unlock due to insufficient privileges: {{user}} does not have access to project {{project}}.",failedUnlockAttemptForLogging:"Failed unlock attempt:",userBreaksLock:'User "{{newUser}}" has unlocked {{userApplication}} originally locked by user "{{currentUser}}".',userUnlocks:'User "{{currentUser}}" has unlocked {{userApplication}}.',insufficientUserPrivileges:"Access was restricted due to insufficient privileges."}},reasonForChange:{reasonForChangeTitle:"Reason for change",messages:{enterChangeReason:"Enter reason for change",reasonRequired:"Reason is required.",reasonTooLong:"Reason is longer than the max length of {{reasonMaxLength}}."}},reasonForStop:{labels:{reasonForStop:"Reason for stop"},messages:{reasonRequired:"Reason is required.",reasonTooLong:"Reason is longer than the max length of {{reasonMaxLength}}."},buttons:{stop:"Stop"}},projectSelection:{labels:{deletedProjects:"Deleted Projects",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"Failed to load project permissions.",userHasAccessedProject:"User {{user}} has accessed project {{project}}.",failedAccessDueToInsufficientPrivileges:"Failed to access {{project}}. User {{user}} has insufficient privileges.",userHasAccessedDeletedProject:"User {{user}} has accessed deleted project {{project}} (ID {{projectId}}).",nothingToShow:"Either no projects are available or you do not have access to any projects. Please contact your administrator.",noConnectionToOLSS:"No connection to the Shared Services server.",invalidUrl:"Component configuration error. API URL is invalid."}},esignatures:{labels:{meaning:"Meaning",comment:"Comment",esign:"E-Sign",revoke:"Revoke"},messages:{meaningRequired:"Meaning is required.",meaningTooltip:"Meaning is predefined for this step and cannot be changed",notValidUser:"User does not have the privilege to sign.",userIsAuthor:"Users are unable to sign worksheets they have modified.",signedAtLevel:"Signed at level {{levelNumber}}, {{levelName}}",revoked:"Signatures successfully revoked",logIncorrectUsernameOrPassword:"Failed to sign {{objectName}}. Incorrect login or password. {{username}}",logNotPermittedToSign:"Failed to sign {{objectName}}. Insufficient privileges: {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"Failed to sign {{objectName}}. Insufficient privileges: {{username}}",logAccountDisabled:"Failed to sign {{objectName}}. Account is disabled: {{username}}",logDetails:"Failed to sign {{objectName}}. Project: {{projectName}}"}},messages:{error:{required:"This field is required.",notANumber:"This input is not a number.",notAnInteger:"This input is not a whole number.",min:"The value must be higher than or equal to {{min}}.",max:"The value must be less than or equal to {{max}}.",notADate:"Invalid date format (yyyy-mm-dd).",requiredBefore:'You cannot enter a "to" date before the "from" date.',requiredAfter:'You cannot enter a "from" date after the "to" date.'}},paginator:{goTo:"Go to",infinite:"...",recordsPerPage:"Items per page"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"Select month",yearSelectionTooltip:"Select year",nextMonthTooltip:"Next month",previousMonthTooltip:"Previous month"},tabs:{delete:"Remove tab"},tree:{loading:"Loading..."},upload:{uploads:"Uploads",cancelAll:"Cancel all",viewAll:"View all uploads",noUploadInProgress:"No upload in progress",moreItems:"+{{number}} additional item(s)"}},data$2={clear:"Limpar",noItemFound:"Nenhum item encontrado",from:"De",to:"Até",ok:"OK",cancel:"Cancelar",back:"Voltar",next:"Avançar",save:"Salvar",search:"Pesquisar",submit:"Enviar",reload:"Recarregar",retry:"Tentar novamente",help:"Ajuda",connectionTimeout:"A rede está lenta ou o servidor está demorando muito para responder. Tente novamente.",cannotConnect:"Não é possível conectar ao servidor. Verifique o servidor e/ou a conectividade da rede.",dataLoss:{confirmMessage:"Existem dados não enviados, essas alterações serão perdidas. Você confirma?"},internalServerError:"Falha devido ao erro interno do servidor",somethingWentWrong:"Algo deu errado.",user:"Usuário",category:"Categoria",export:"Exportar",print:"Imprimir",remove:"Remover",review:"Revisar",nothingToShow:"Nada para exibir",pageIsEmpty:"Esta página está vazia.",metaNavigation:"Meta navegação",unlock:"Desbloquear",amazon:{logout:"Sair",loginFooter:"Faça login com credenciais do Amazon Cognito",loginPrompt:"AWS Cognito Login"},auditTrail:{labels:{createdBy:"Criado por",createdAt:"Data e hora\n(aaaa-mm-dd)",description:"Descrição",reason:"Razão para alterar",reviewedBy:"Revisado por",reviewedAt:"Data de revisão",reviewComment:"Comentário de revisão",hostname:"Hostname",application:"Aplicativo",dataVersion:"Versão de dados",project:"Projeto",category:"Categoria",auditTrail:"Registro de Auditoria",user:"Usuário"},buttons:{export:"Exportar",print:"Imprimir",review:"Revisar"},messages:{nothingToShow:"Nada para exibir",pageIsEmpty:"Esta página está vazia.",noResultsFound:"Nenhum resultado encontrado",connectionLost:"Conexão perdida.",reviewFailed:"Falha ao revisar as entradas.",reloadPage:"Recarregue a página ou verifique a ajuda para obter mais instruções.",seeErrorLog:"Consulte o log de erros do registro de auditoria para obter mais detalhes."}},collection:{columnSelection:{label:"Seleção de coluna (exibir/ocultar)",menu:"Configurar Colunas",error:"Você deve selecionar pelo menos uma coluna visível.",checkUncheckAll:"Marcar tudo/Ocultar tudo"},export:{filename:"Nome do Arquivo",filetype:"Tipo de Arquivo"},sort:{asc:"Ascendente",addSort:"Adicionar ordem",desc:"Descendente",headers:{column:"Coluna",direction:"Ordem"},menu:"Ordenar",sortBy:"Ordenar por",thenBy:"Então por",title:"Ordem da tabela",error:{moreThanOnce:"Uma coluna foi selecionada mais de uma vez",missingRequired:"Um valor obrigatório está faltando"}}},connectionLost:{title:"Conexão Perdida",subtitle:"Recarregue a página ou verifique a ajuda para obter mais instruções."},file:{browse:"...",selectAFile:"Selecione um arquivo"},instrument:{status:{error:"Erro",idle:"Ocioso",injecting:"Injetando",notReady:"Não pronto",offline:"Offline",preRun:"Pré-corrida",ready:"Pronto",running:"Correndo",standby:"Em espera",tune:"Tune",warning:"Aviso"}},layout:{widgets:{add:{above:"para o topo",below:"para baixo",left:"para a esquerda",menuLabel:"Adicionar um widget",right:"para a direita"},remove:{confirmation:"Confirma que deseja remover este widget?",menuLabel:"Remover widget"},twoTiles:{balanced:"Equilibrado",left:"Esquerdo",menuLabel:"Layout",right:"Direito"}}},login:{labels:{changePassword:"Alterar Senha",username:"Nome do usuário",password:"Senha",domain:"Domínio",currentPassword:"Senha Atual",newPassword:"Nova Senha",newPasswordConfirmation:"Confirme a Nova Senha"},buttons:{login:"Log in",unlock:"Desbloquear"},messages:{capsLockIsOn:"Caps Lock está ativado.",domainRequired:"O domínio é obrigatório.",domainInvalid:"O domínio não é válido.",usernameRequired:"Nome de usuário é requerido.",passwordRequired:"Senha requerida.",currentPasswordRequired:"A senha atual é necessária.",newPasswordRequired:"Nova senha é requerida.",newPasswordSame:"A nova senha deve ser diferente.",newPasswordConfirmRequired:"Confirmação da nova senha é requerida.",newPasswordConfirmNotMatch:"As senhas inseridas não coincidem.",currentProject:"Projeto: {0}",insufficientPrivileges:"Falha ao desbloquear devido a privilégios insuficientes.",insufficientPrivilegesForLogging:"Falha ao desbloquear porque {{user}} não tem privilégios suficientes.",noProjectAccessForLogging:"Falha ao desbloquear devido a privilégios insuficientes: {{user}} não tem acesso ao projeto {{project}}.",failedUnlockAttemptForLogging:"Falha ao tentar desbloquear:",userBreaksLock:'O usuário "{{newUser}}" desbloqueou {{userApplication}} originalmente bloqueado pelo usuário "{{currentUser}}".',userUnlocks:'O usuário "{{currentUser}}" desbloqueou {{userApplication}}.',insufficientUserPrivileges:"O acesso foi restrito devido a privilégios insuficientes."}},reasonForChange:{reasonForChangeTitle:"Razão para alterar",messages:{enterChangeReason:"Insira a razão para alterar",reasonRequired:"A razão é obrigatória.",reasonTooLong:"A razão é mais longa do que o comprimento máximo de {{reasonMaxLength}}."}},reasonForStop:{labels:{reasonForStop:"Razão para parar"},messages:{reasonRequired:"A razão é obrigatória.",reasonTooLong:"A razão é mais longa do que o comprimento máximo de {{reasonMaxLength}}."},buttons:{stop:"Parar"}},projectSelection:{labels:{deletedProjects:"Projetos Excluídos",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"Falha ao carregar as permissões do projeto.",userHasAccessedProject:"O usuário {{user}} acessou o projeto {{project}}.",failedAccessDueToInsufficientPrivileges:"Falha ao acessar {{project}}. O usuário {{user}} tem privilégios insuficientes.",userHasAccessedDeletedProject:"O usuário {{user}} acessou o projeto excluído {{project}} (ID {{projectId}}).",nothingToShow:"Nenhum projeto está disponível ou você não tem acesso a nenhum projeto. Entre em contato com o seu administrador.",noConnectionToOLSS:"Sem conexão com o servidor de Serviços Compartilhados.",invalidUrl:"Erro de configuração do componente. URL da API é inválido."}},esignatures:{labels:{meaning:"Motivo",comment:"Comentário",esign:"Assinatura eletrônica",revoke:"Revogar"},messages:{meaningRequired:"O motivo é necessário.",meaningTooltip:"O motivo é predefinido para esta etapa e não pode ser alterado",notValidUser:"O usuário não tem o privilégio de assinar.",userIsAuthor:"Não foi possível os usuários assinarem as planilhas que modificaram.",signedAtLevel:"Assinado no nível {{levelNumber}}, {{levelName}}",revoked:"Assinaturas revogadas com sucesso",logIncorrectUsernameOrPassword:"Falha ao assinar {{objectName}}. Login ou senha incorreto. {{username}}",logNotPermittedToSign:"Falha ao assinar {{objectName}}. Privilégios insuficientes: {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"Falha ao assinar {{objectName}}. Privilégios insuficientes: {{username}}",logAccountDisabled:"Falha ao assinar {{objectName}}. A conta está desativada: {{username}}",logDetails:"Falha ao assinar {{objectName}}. Projeto: {{projectName}}"}},messages:{error:{required:"Este campo é obrigatório.",notANumber:"Esta entrada não é um número.",notAnInteger:"Esta entrada não é um número inteiro.",min:"O valor deve ser maior ou igual a {{min}}.",max:"O valor deve ser menor ou igual a {{max}}.",notADate:"Formato de data inválido (aaaa-mm-dd).",requiredBefore:'Você não pode inserir uma data "até" antes da data "de".',requiredAfter:'Você não pode inserir uma data "de" após a data "até".'}},paginator:{goTo:"Vá para",infinite:"...",recordsPerPage:"Itens por página"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"Selecione o mês",yearSelectionTooltip:"Selecione o ano",nextMonthTooltip:"Próximo mês",previousMonthTooltip:"Mês anterior"},tabs:{delete:"Remover guia"},tree:{loading:"Carregando..."},upload:{uploads:"Uploads",cancelAll:"Cancelar tudo",viewAll:"Ver todos os uploads",noUploadInProgress:"Nenhum upload em andamento",moreItems:"+{{number}} additional item(s)"}},data$1={clear:"Очистить",noItemFound:"Ничего не найдено",from:"От",to:"До",ok:"OK",cancel:"Отмена",back:"Назад",next:"Далее",save:"Сохранить",search:"Поиск",submit:"Заявить",reload:"Перезагрузить",retry:"Повторить",help:"Справка",connectionTimeout:"Низкая скорость сети или сервер долго отвечает. Попробуйте снова.",cannotConnect:"Невозможно подключиться к серверу. Проверьте сервер и/или подключение сети.",dataLoss:{confirmMessage:"Есть не заявленные данные, эти изменения будут потеряны. Вы подтверждаете?"},internalServerError:"Внутренняя ошибка сервера",somethingWentWrong:"Ошибка.",user:"Пользователь",category:"Категория",export:"Экспорт",print:"Печать",remove:"Удалить",review:"Обзор",nothingToShow:"Нечего показать",pageIsEmpty:"Страница пуста.",metaNavigation:"Мета навигация",unlock:"Разблокировать",amazon:{logout:"Выход",loginFooter:"Войдите с учетной записью Amazon Cognito",loginPrompt:"Вход AWS Cognito"},auditTrail:{labels:{createdBy:"Создал",createdAt:"Дата и время\n(дд-мм-гггг)",description:"Описание",reason:"Причина изменения",reviewedBy:"Просмотрел",reviewedAt:"Дата просмотра",reviewComment:"Комментарий просмотра",hostname:"Имя хоста",application:"Применение",dataVersion:"Версия данных",project:"Проект",category:"Категория",auditTrail:"Протокол ревизии",user:"Пользователь"},buttons:{export:"Экспорт",print:"Печать",review:"Обзор"},messages:{nothingToShow:"Нечего показать",pageIsEmpty:"Страница пуста.",noResultsFound:"Результат не найден",connectionLost:"Потеря подключения.",reviewFailed:"Сбой просмотра записей.",reloadPage:"Перезагрузите страницу или проверьте справку для дополнительных инструкций.",seeErrorLog:"Подробности смотрите в журнале ошибок протокола ревизии."}},collection:{columnSelection:{label:"Выбор столбцов (показать/скрыть)",menu:"Конфигурация столбцов",error:"Вы должны выбрать хотя бы однин видимый столбец.",checkUncheckAll:"Выделить все/Скрыть все"},export:{filename:"Имя файла",filetype:"Тип файла"},sort:{asc:"По возрастанию",addSort:"Добавить сортировку",desc:"По убыванию",headers:{column:"Столбец",direction:"Порядок"},menu:"Сортировка",sortBy:"Сортировать по",thenBy:"Затем по",title:"Сортировка таблицы",error:{moreThanOnce:"Столбец выбран несколько раз",missingRequired:"Отсутствует требуемое значение"}}},connectionLost:{title:"Подключение потеряно",subtitle:"Перезагрузите страницу или проверьте справку для дополнительных инструкций."},file:{browse:"...",selectAFile:"Выбор файла"},instrument:{status:{error:"Ошибка",idle:"Бездействие",injecting:"Ввод пробы",notReady:"Не готов",offline:"Автономно",preRun:"Предв. цикл",ready:"Ready",running:"Выполняется",standby:"Ожидание",tune:"Настройка",warning:"Warning"}},layout:{widgets:{add:{above:"наверх",below:"вниз",left:"влево",menuLabel:"Добавить виджет",right:"справа"},remove:{confirmation:"Подтверждаете удаление виджета?",menuLabel:"УУдалить виджет"},twoTiles:{balanced:"Сбалансировано",left:"Левый",menuLabel:"Макет",right:"Правый"}}},login:{labels:{changePassword:"Сменить пароль",username:"Пользователь",password:"Пароль",domain:"Домен",currentPassword:"Текущий пароль",newPassword:"Новый пароль",newPasswordConfirmation:"Подтверждение пароля"},buttons:{login:"Ок",unlock:"Разблокировать"},messages:{capsLockIsOn:"Включен Caps Lock.",domainRequired:"Требуется домен.",domainInvalid:"Неверный домен.",usernameRequired:"Требуется имя пользователя.",passwordRequired:"Требуется пароль.",currentPasswordRequired:"Требуется текущий пароль.",newPasswordRequired:"Требуется новый пароль.",newPasswordSame:"Новый пароль должен отличаться от старого.",newPasswordConfirmRequired:"Требуется подтверждение нового пароля.",newPasswordConfirmNotMatch:"Пароли не совпадают.",currentProject:"Проект: {0}",insufficientPrivileges:"Сбой разблокировки, недостаточно прав.",insufficientPrivilegesForLogging:"Сбой разблокировки, у {{user}} нет прав.",noProjectAccessForLogging:"Сбой разблокировки, недостаточно прав: {{user}} нет доступа к проекту {{project}}.",failedUnlockAttemptForLogging:"Сбой попытки разблокировки:",userBreaksLock:'Пользователь "{{newUser}}" разблокировал прииложение {{userApplication}} заблокированное пользователем "{{currentUser}}".',userUnlocks:'Пользователь "{{currentUser}}" разблокировал {{userApplication}}.',insufficientUserPrivileges:"Доступ ограничен из-за отсутствия прав."}},reasonForChange:{reasonForChangeTitle:"Причина изменения",messages:{enterChangeReason:"Введите причину для замены",reasonRequired:"Требуется причина.",reasonTooLong:"Причина длиннее чем макс длина {{reasonMaxLength}}."}},reasonForStop:{labels:{reasonForStop:"Причина остановки"},messages:{reasonRequired:"Требуется причина.",reasonTooLong:"Причина длиннее чем макс длина {{reasonMaxLength}}."},buttons:{stop:"Остановить"}},projectSelection:{labels:{deletedProjects:"Удаленные проекты",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"Сбой загрузки прав проекта.",userHasAccessedProject:"Пользователь {{user}} имеет доступ к проекту {{project}}.",failedAccessDueToInsufficientPrivileges:"Сбой доступа к {{project}}. У пользователя {{user}} нет прав.",userHasAccessedDeletedProject:"Пользователь {{user}} получил доступ к удаленному проекту {{project}} (ID {{projectId}}).",nothingToShow:"Либо нет проектов, либо у вас нет доступа к проектам. Обратитесь к своему администратору.",noConnectionToOLSS:"Нет подключения к серверу Общих служб.",invalidUrl:"Ошибка конфигурация компонента. Неверный API URL."}},esignatures:{labels:{meaning:"Значение",comment:"Комментарий",esign:"E-Подпись",revoke:"Отозвать"},messages:{meaningRequired:"Требуется значение.",meaningTooltip:"Значение предопределено для этого шага и не может быть изменено",notValidUser:"У пользователя нет прав подписи.",userIsAuthor:"Пользователи не могут подписать измененные рабочие листы.",signedAtLevel:"Подписано на уровне {{levelNumber}}, {{levelName}}",revoked:"Подписи успешно отозваны",logIncorrectUsernameOrPassword:"Сбой подписи {{objectName}}. Неверный логин или пароль. {{username}}",logNotPermittedToSign:"Сбой подписи {{objectName}}. Недостаточно прав: {{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"Сбой подписи {{objectName}}. Недостаточно прав: {{username}}",logAccountDisabled:"Сбой подписи {{objectName}}. Учетная запись отключена: {{username}}",logDetails:"Сбой подписи {{objectName}}. Проект: {{projectName}}"}},messages:{error:{required:"Требуется это поле.",notANumber:"Значение не число.",notAnInteger:"Значение не полное число.",min:"Значение должно быть больше или равно {{min}}.",max:"Значение должно быть меньше или равно {{max}}.",notADate:"Неверный формат даты (дд-мм-гггг).",requiredBefore:'Вы не можете ввести дату "до" перед датой "от".',requiredAfter:'Вы не можете ввести дату "от" после даты "до".'}},paginator:{goTo:"Перейти в",infinite:"...",recordsPerPage:"Пункты на страницу"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"Выбор месяца",yearSelectionTooltip:"Выбор года",nextMonthTooltip:"Следующий месяц",previousMonthTooltip:"Предыдущий месяц"},tabs:{delete:"Remove tab"},tree:{loading:"Загрузка..."},upload:{uploads:"Загрузки",cancelAll:"Отменить все",viewAll:"Обзор все загрузок",noUploadInProgress:"Загрузка не выполняется",moreItems:"+{{number}} additional item(s)"}},data={clear:"清除",noItemFound:"未找到任何项目",from:"从",to:"到",ok:"确定",cancel:"取消",back:"上一步",next:"下一步",save:"保存",search:"检索",submit:"提交",reload:"重新调用",retry:"重试",help:"帮助",connectionTimeout:"网络很慢或服务器响应花费过长时间。请重试。",cannotConnect:"无法连接到服务器。请检查服务器和/或网络连接。",dataLoss:{confirmMessage:"存在未提交的数据，这些更改将丢失。你确认继续吗？"},internalServerError:"由于内部服务器错误导致的失败",somethingWentWrong:"出现问题。",user:"用户",category:"类别",export:"导出",print:"打印",remove:"移除",review:"复核",nothingToShow:"没有要显示的内容",pageIsEmpty:"此页为空白。",metaNavigation:"元导航",unlock:"解锁",amazon:{logout:"注销",loginFooter:"请使用 Amazon Cognito 凭据登录",loginPrompt:"AWS Cognito 登录"},auditTrail:{labels:{createdBy:"创建人",createdAt:"日期时间\n（yyyy年mm月dd日）",description:"说明",reason:"更改原因",reviewedBy:"复核人",reviewedAt:"复核日期",reviewComment:"复核注释",hostname:"主机名",application:"应用",dataVersion:"数据版本",project:"项目",category:"类别",auditTrail:"审计跟踪",user:"用户"},buttons:{export:"导出",print:"打印",review:"复核"},messages:{nothingToShow:"没有要显示的内容",pageIsEmpty:"此页为空白。",noResultsFound:"未找到结果",connectionLost:"连接丢失。",reviewFailed:"无法复核条目。",reloadPage:"重新加载页面或查看帮助以获取更多说明。",seeErrorLog:"详情请参见审计跟踪错误日志。"}},collection:{columnSelection:{label:"列选择（显示/隐藏）",menu:"配置列",error:"您必须至少选择一个可见列。",checkUncheckAll:"全部选中/全部隐藏"},export:{filename:"文件名称",filetype:"文件类型"},sort:{asc:"升序",addSort:"添加排序",desc:"降序",headers:{column:"列",direction:"顺序"},menu:"排序",sortBy:"排序方式",thenBy:"然后按",title:"表排序",error:{moreThanOnce:"一列已被多次选择",missingRequired:"缺少所需的值"}}},connectionLost:{title:"连接丢失",subtitle:"重新调用页面或查看帮助以获取更多说明。"},file:{browse:"...",selectAFile:"选择文件"},instrument:{status:{error:"错误",idle:"空闲",injecting:"正在进样",notReady:"未就绪",offline:"离线",preRun:"预运行",ready:"就绪",running:"正在运行",standby:"待机",tune:"调谐",warning:"警告"}},layout:{widgets:{add:{above:"至顶部",below:"至底部",left:"至左侧",menuLabel:"添加小部件",right:"至右侧"},remove:{confirmation:"请确认您想移除此小部件？",menuLabel:"移除小部件"},twoTiles:{balanced:"平衡",left:"左",menuLabel:"布局",right:"右"}}},login:{labels:{changePassword:"更改密码",username:"用户名",password:"密码",domain:"域",currentPassword:"当前密码",newPassword:"新密码",newPasswordConfirmation:"确认新密码"},buttons:{login:"登录",unlock:"解锁"},messages:{capsLockIsOn:"大小写锁定开。",domainRequired:"需要域。",domainInvalid:"域无效。",usernameRequired:"需要用户名。",passwordRequired:"需要密码。",currentPasswordRequired:"需要当前密码。",newPasswordRequired:"需要新密码。",newPasswordSame:"新密码必须不同。",newPasswordConfirmRequired:"需要确认新密码。",newPasswordConfirmNotMatch:"输入的密码不匹配。",currentProject:"项目：{0}",insufficientPrivileges:"由于权限不够，无法解锁。",insufficientPrivilegesForLogging:"由于 {{user}} 的权限不足，解锁失败。",noProjectAccessForLogging:"由于权限不足而无法解锁： {{user}} 没有权限访问项目 {{project}}。",failedUnlockAttemptForLogging:"失败的解锁尝试：",userBreaksLock:'用户 "{{newUser}}" 已解锁之前由用户 "{{currentUser}}"锁定的 {{userApplication}}。',userUnlocks:'用户 "{{currentUser}}" 已解锁 {{userApplication}}。',insufficientUserPrivileges:"由于权限不足，访问受到限制。"}},reasonForChange:{reasonForChangeTitle:"更改原因",messages:{enterChangeReason:"输入更改原因",reasonRequired:"需要原因。",reasonTooLong:"原因长于最大长度 {{reasonMaxLength}}。"}},reasonForStop:{labels:{reasonForStop:"停止原因"},messages:{reasonRequired:"需要原因。",reasonTooLong:"原因长于最大长度 {{reasonMaxLength}}。"},buttons:{stop:"停止"}},projectSelection:{labels:{deletedProjects:"删除的项目",projectTitle:"{{name}} (ID {{id}})"},messages:{failedToLoadPermissions:"无法调用项目许可。",userHasAccessedProject:"用户 {{user}} 已访问项目 {{project}}。",failedAccessDueToInsufficientPrivileges:"无法访问 {{project}}。用户 {{user}} 没有足够的权限。",userHasAccessedDeletedProject:"用户 {{user}} 已访问删除的项目 {{project}} (ID {{projectId}})。",nothingToShow:"要么没有项目要么您没有任何项目的权限。请联系您的管理员。",noConnectionToOLSS:"未连接到 Shared Service 服务器。",invalidUrl:"组件配置错误。API URL 无效。"}},esignatures:{labels:{meaning:"意图",comment:"注释",esign:"电子签名",revoke:"撤销"},messages:{meaningRequired:"需要意图。",meaningTooltip:"此步骤的含义是预定义的，无法更改",notValidUser:"用户没有权限签名。",userIsAuthor:"用户无法签名已修改的工作表。",signedAtLevel:"在级别 {{levelNumber}} 签名，{{levelName}}",revoked:"签名已成功撤销",logIncorrectUsernameOrPassword:"无法签名 {{objectName}}。用户名或密码不正确。{{username}}",logNotPermittedToSign:"无法签名 {{objectName}}。没有足够的权限：{{fullName}} ({{username}})",logNotPermittedToSignNoFullName:"无法签名 {{objectName}}。没有足够的权限：{{username}}",logAccountDisabled:"无法签名 {{objectName}}。账户已被禁用：{{username}}",logDetails:"无法签名 {{objectName}}。项目：{{projectName}}"}},messages:{error:{required:"此字段是必填项。",notANumber:"此输入不是数字。",notAnInteger:"此输入不是整数。",min:"值必须大于或等于 {{min}}。",max:"值必须小于或等于 {{max}}。",notADate:"无效日期格式 (yyyy年mm月dd日)。",requiredBefore:"无法在“到”日期栏中输入早于“从”日期栏中的日期。",requiredAfter:"无法在“从”日期栏中输入晚于“到”日期栏中的日期。"}},paginator:{goTo:"转至",infinite:"...",recordsPerPage:"每页项目"},formatter:{decimalSeparator:".",thousandSeparator:","},datepicker:{monthSelectionTooltip:"选择月份",yearSelectionTooltip:"选择年",nextMonthTooltip:"下个月",previousMonthTooltip:"上个月"},tabs:{delete:"移除选项卡"},tree:{loading:"正在调用 ..."},upload:{uploads:"上传",cancelAll:"全部取消",viewAll:"查看所有上传",noUploadInProgress:"无正在进行的上传",moreItems:"+{{number}} additional item(s)"}};class LocaleService{translateService;localesMapping=[];constructor(translateService,additionalMapping){this.translateService=translateService,this.registerMapping("en-US","en"),this.registerMapping("zh-CN","zh-HANS"),this.registerMapping("ja","ja-JP"),this.registerMapping("pt-BR","pt-BR"),this.registerMapping("ru","ru-RU"),this.registerMapping("es","es-ES"),this.registerMapping("fr","fr-FR"),this.registerMapping("nl","nl-NL"),additionalMapping&&additionalMapping.forEach(((awfLocale,browserLocale)=>{this.registerMapping(browserLocale,awfLocale)}))}_registerTranslations(){this.translateService.defaultLang||(this.translateService.setTranslation("en",data$7,!0),this.translateService.setTranslation("zh-HANS",data,!0),this.translateService.setTranslation("ja-JP",data$4,!0),this.translateService.setTranslation("pt-BR",data$2,!0),this.translateService.setTranslation("ru-RU",data$1,!0),this.translateService.setTranslation("es-ES",data$6,!0),this.translateService.setTranslation("fr-FR",data$5,!0),this.translateService.setTranslation("nl-NL",data$3,!0),this.translateService.setDefaultLang("en"),this.translateService.use(this.getAWFLocaleFromBrowser())),(0,common.registerLocaleData)(en,"en"),(0,common.registerLocaleData)(zh_Hans,"zh"),(0,common.registerLocaleData)(ja,"ja"),(0,common.registerLocaleData)(pt,"pt"),(0,common.registerLocaleData)(ru,"ru"),(0,common.registerLocaleData)(es,"es"),(0,common.registerLocaleData)(fr,"fr"),(0,common.registerLocaleData)(nl,"nl"),translate_service_awfTranslateService.init(),this.translateService.onLangChange.subscribe((langEvent=>{try{translate_service_awfTranslateService.setLocale(this.awfLangCodeToIsoLangCode(langEvent.lang))}catch(e){console.error(`Unable to load locale '${langEvent.lang}' for AWF-WC Components`,e)}}))}getAWFLocaleFromBrowser(){return this.translateLocaleToAWFLocale(this.getBrowserLocale())}translateLocaleToAWFLocale(browserLocale){let awfMapping=this.localesMapping.find((value=>value[0]===browserLocale));awfMapping||(awfMapping=this.localesMapping.map((value=>[value[0].substring(0,2),value[1]])).find((value=>value[0]===browserLocale.substring(0,2))));let awfLocale="en";return awfMapping&&(awfLocale=awfMapping[1]),awfLocale}registerMapping(browserLocale,awfLocale){this.localesMapping.push([browserLocale,awfLocale])}getBrowserLocale(){return navigator.language}awfLangCodeToIsoLangCode(awfLangCode){return"en"===awfLangCode?"en-US":awfLangCode}static ɵfac=function LocaleService_Factory(t){return new(t||LocaleService)(core["ɵɵinject"](TranslateService),core["ɵɵinject"]("additionalMapping"))};static ɵprov=core["ɵɵdefineInjectable"]({token:LocaleService,factory:LocaleService.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](LocaleService,[{type:core.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:TranslateService},{type:void 0,decorators:[{type:core.Inject,args:["additionalMapping"]}]}]}),null);class SharedTranslateModule{localeService;constructor(localeService){this.localeService=localeService,localeService._registerTranslations()}static forRoot(additionalMapping){return{ngModule:SharedTranslateModule,providers:[LocaleService,{provide:"additionalMapping",useValue:additionalMapping}]}}static ɵfac=function SharedTranslateModule_Factory(t){return new(t||SharedTranslateModule)(core["ɵɵinject"](LocaleService))};static ɵmod=core["ɵɵdefineNgModule"]({type:SharedTranslateModule,declarations:[LocaleFontDirective],imports:[TranslateModule],exports:[TranslatePipe,TranslateDirective,LocaleFontDirective]});static ɵinj=core["ɵɵdefineInjector"]({providers:[LocaleService],imports:[TranslateModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SharedTranslateModule,[{type:core.NgModule,args:[{imports:[TranslateModule],declarations:[LocaleFontDirective],exports:[TranslatePipe,TranslateDirective,LocaleFontDirective],providers:[LocaleService]}]}],(function(){return[{type:LocaleService}]}),null);const _c0=["span"],_c1=function(a0,a1,a2,a3){return{"awf-top-inside":a0,"awf-top-above":a1,"awf-left":a2,"awf-disabled":a3}};function LabelComponent_span_0_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"span",1,2),core["ɵɵtext"](2),core["ɵɵelementEnd"]()),2&rf){const ctx_r0=core["ɵɵnextContext"]();core["ɵɵproperty"]("ngStyle",ctx_r0.getStyle())("ngClass",core["ɵɵpureFunction4"](3,_c1,"top"===ctx_r0.position&&!(ctx_r0.hostHasFocus||ctx_r0.hostHasValue),"top"===ctx_r0.position&&(ctx_r0.hostHasFocus||ctx_r0.hostHasValue),"left"===ctx_r0.position,ctx_r0.disabled)),core["ɵɵadvance"](2),core["ɵɵtextInterpolate"](ctx_r0.value)}}class LabelComponent{span;get isLeft(){return"left"===this.position}value="";position="top";hostHasFocus;hostHasValue;widthOffset="11px";disabled=!1;constructor(){}getStyle(){return!this.span||"top"!==this.position||this.hostHasFocus||this.hostHasValue?{}:{"padding-right":`calc( 12px + ${this.widthOffset})`}}static ɵfac=function LabelComponent_Factory(t){return new(t||LabelComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:LabelComponent,selectors:[["ag-label"]],viewQuery:function LabelComponent_Query(rf,ctx){if(1&rf&&core["ɵɵviewQuery"](_c0,5),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.span=_t.first)}},hostVars:2,hostBindings:function LabelComponent_HostBindings(rf,ctx){2&rf&&core["ɵɵclassProp"]("awf-left",ctx.isLeft)},inputs:{value:"value",position:"position",hostHasFocus:"hostHasFocus",hostHasValue:"hostHasValue",widthOffset:"widthOffset",disabled:"disabled"},decls:1,vars:1,consts:[[3,"ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["span",""]],template:function LabelComponent_Template(rf,ctx){1&rf&&core["ɵɵtemplate"](0,LabelComponent_span_0_Template,3,8,"span",0),2&rf&&core["ɵɵproperty"]("ngIf",ctx.value)},dependencies:[common.NgClass,common.NgIf,common.NgStyle],styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:flex;max-width:100%}:host(.has-error) .awf-top-inside,:host(.has-error) .awf-top-above,:host(.has-error) .awf-left{color:var(--at-red)!important}:host(.awf-required) span:after{content:" *"}:host(.awf-mouse-over) span{color:var(--at-blue-shade)}:host(.awf-left){width:var(--ag-label-width);margin-top:auto;margin-bottom:auto}span{line-height:1.5}span.awf-top-inside{padding-left:var(--ag-label-padding-left, 0)}.awf-left{display:block;margin-right:1rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:var(--ag-label-font-size, .875rem);color:var(--at-dark-navy)}.awf-left.awf-disabled,.awf-top-above.awf-disabled{color:var(--at-gray)}.awf-top-inside{position:absolute;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;width:calc(100% - 2 * var(--ag-input-padding-left, .5rem));top:var(--ag-label-top, 22px);left:var(--ag-input-padding-left, .5rem);font-weight:400;font-style:italic;color:var(--at-gray-medium);transition:all .15s cubic-bezier(0,0,.2,1);pointer-events:none;flex-wrap:nowrap;z-index:2;font-size:var(--ag-label-font-size, .875rem)}.awf-top-above{position:absolute;left:.125rem;top:0;font-size:.6875rem;font-style:normal;opacity:1;color:var(--at-dark-navy);transition:all .15s cubic-bezier(0,0,.2,1);z-index:2;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n'],encapsulation:3})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](LabelComponent,[{type:core.Component,args:[{selector:"ag-label",encapsulation:core.ViewEncapsulation.ShadowDom,template:"\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2020-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n\r\n<span\r\n    #span\r\n    *ngIf=\"value\"\r\n    [ngStyle]=\"getStyle()\"\r\n    [ngClass]=\"{\r\n        'awf-top-inside': position === 'top' && !(hostHasFocus || hostHasValue),\r\n        'awf-top-above': position === 'top' && (hostHasFocus || hostHasValue),\r\n        'awf-left': position === 'left',\r\n        'awf-disabled': disabled\r\n}\">{{value}}</span>\r\n",styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:flex;max-width:100%}:host(.has-error) .awf-top-inside,:host(.has-error) .awf-top-above,:host(.has-error) .awf-left{color:var(--at-red)!important}:host(.awf-required) span:after{content:" *"}:host(.awf-mouse-over) span{color:var(--at-blue-shade)}:host(.awf-left){width:var(--ag-label-width);margin-top:auto;margin-bottom:auto}span{line-height:1.5}span.awf-top-inside{padding-left:var(--ag-label-padding-left, 0)}.awf-left{display:block;margin-right:1rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:var(--ag-label-font-size, .875rem);color:var(--at-dark-navy)}.awf-left.awf-disabled,.awf-top-above.awf-disabled{color:var(--at-gray)}.awf-top-inside{position:absolute;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;width:calc(100% - 2 * var(--ag-input-padding-left, .5rem));top:var(--ag-label-top, 22px);left:var(--ag-input-padding-left, .5rem);font-weight:400;font-style:italic;color:var(--at-gray-medium);transition:all .15s cubic-bezier(0,0,.2,1);pointer-events:none;flex-wrap:nowrap;z-index:2;font-size:var(--ag-label-font-size, .875rem)}.awf-top-above{position:absolute;left:.125rem;top:0;font-size:.6875rem;font-style:normal;opacity:1;color:var(--at-dark-navy);transition:all .15s cubic-bezier(0,0,.2,1);z-index:2;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n']}]}],(function(){return[]}),{span:[{type:core.ViewChild,args:["span",{static:!1}]}],isLeft:[{type:core.HostBinding,args:["class.awf-left"]}],value:[{type:core.Input}],position:[{type:core.Input}],hostHasFocus:[{type:core.Input}],hostHasValue:[{type:core.Input}],widthOffset:[{type:core.Input}],disabled:[{type:core.Input}]});class LabelModule{static ɵfac=function LabelModule_Factory(t){return new(t||LabelModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:LabelModule,declarations:[LabelComponent],imports:[common.CommonModule,FormsModule,ReactiveFormsModule],exports:[LabelComponent]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule,FormsModule,ReactiveFormsModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](LabelModule,[{type:core.NgModule,args:[{imports:[common.CommonModule,FormsModule,ReactiveFormsModule],exports:[LabelComponent],declarations:[LabelComponent]}]}],null,null);class ErrorMessageDirective{static ɵfac=function ErrorMessageDirective_Factory(t){return new(t||ErrorMessageDirective)};static ɵdir=core["ɵɵdefineDirective"]({type:ErrorMessageDirective,selectors:[["","agErrorMessage",""]],hostAttrs:[1,"has-error"]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ErrorMessageDirective,[{type:core.Directive,args:[{selector:"[agErrorMessage]",host:{class:"has-error"}}]}],null,null);class ErrorMessageModule{static ɵfac=function ErrorMessageModule_Factory(t){return new(t||ErrorMessageModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:ErrorMessageModule,declarations:[ErrorMessageDirective],imports:[common.CommonModule,LabelModule],exports:[ErrorMessageDirective]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule,LabelModule]})}function LinearFieldComponent_ng_container_4_Template(rf,ctx){1&rf&&core["ɵɵelementContainer"](0)}function LinearFieldComponent_div_5_div_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",10),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf){const error_r6=ctx.$implicit;core["ɵɵadvance"](1),core["ɵɵtextInterpolate1"](" ",error_r6," ")}}function LinearFieldComponent_div_5_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",8),core["ɵɵtemplate"](1,LinearFieldComponent_div_5_div_1_Template,2,1,"div",9),core["ɵɵelementEnd"]()),2&rf){const ctx_r1=core["ɵɵnextContext"]();core["ɵɵadvance"](1),core["ɵɵproperty"]("ngForOf",ctx_r1.errors)}}function LinearFieldComponent_div_6_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",11)(1,"div"),core["ɵɵtext"](2),core["ɵɵelementEnd"]()()),2&rf){const ctx_r2=core["ɵɵnextContext"]();core["ɵɵadvance"](2),core["ɵɵtextInterpolate1"](" ",ctx_r2.warning," ")}}function LinearFieldComponent_ng_template_7_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div"),core["ɵɵtext"](1,"No field defined!"),core["ɵɵelementEnd"]())}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ErrorMessageModule,[{type:core.NgModule,args:[{imports:[common.CommonModule,LabelModule],declarations:[ErrorMessageDirective],exports:[ErrorMessageDirective]}]}],null,null);class InputErrorService{canDisplayError(errorKey,inputElement,form){if(isNullOrUndefined(inputElement)||isNullOrUndefined(inputElement.errors))return!1;let canDisplayError=!isNullOrUndefined(inputElement.errors[errorKey]);return canDisplayError="required"===errorKey?canDisplayError&&(this.needsToDisplayRequiredError(inputElement,form)||this.isDirty(inputElement)):canDisplayError&&this.isDirty(inputElement),canDisplayError}isDirty(inputElement){return!!inputElement&&(inputElement.invalid&&(inputElement.dirty||inputElement.touched))}needsToDisplayRequiredError(inputElement,form){return isNullOrUndefined(form)?this.isDirty(inputElement):form.submitted}static ɵfac=function InputErrorService_Factory(t){return new(t||InputErrorService)};static ɵprov=core["ɵɵdefineInjectable"]({token:InputErrorService,factory:InputErrorService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputErrorService,[{type:core.Injectable}],null,null);class LinearFieldComponent{label=null;fieldTemplate;labelPosition="left";hasFocus=!1;hasMouseOver=!1;hasPrependIcon=!1;hasAppendIcon=!1;hostHasValue=!1;required=!1;errors=[];warning;widthOffset="11px";disabled=!1;constructor(){}hasErrors(){return this.errors&&this.errors.length>0}static ɵfac=function LinearFieldComponent_Factory(t){return new(t||LinearFieldComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:LinearFieldComponent,selectors:[["ag-linear-field"]],inputs:{label:"label",fieldTemplate:"fieldTemplate",labelPosition:"labelPosition",hasFocus:"hasFocus",hasMouseOver:"hasMouseOver",hasPrependIcon:"hasPrependIcon",hasAppendIcon:"hasAppendIcon",hostHasValue:"hostHasValue",required:"required",errors:"errors",warning:"warning",widthOffset:"widthOffset",disabled:"disabled"},decls:9,vars:31,consts:[[1,"awf-container"],[1,"label-layout"],[3,"value","position","hostHasFocus","hostHasValue","widthOffset","disabled"],[1,"awf-field-wrapper"],[4,"ngTemplateOutlet"],["class","error-messages helper-messages",4,"ngIf"],["class","warning-messages helper-messages",4,"ngIf"],["defaultField",""],[1,"error-messages","helper-messages"],["agErrorMessage","",4,"ngFor","ngForOf"],["agErrorMessage",""],[1,"warning-messages","helper-messages"]],template:function LinearFieldComponent_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",0)(1,"div",1),core["ɵɵelement"](2,"ag-label",2),core["ɵɵelementStart"](3,"div",3),core["ɵɵtemplate"](4,LinearFieldComponent_ng_container_4_Template,1,0,"ng-container",4),core["ɵɵelementEnd"]()(),core["ɵɵtemplate"](5,LinearFieldComponent_div_5_Template,2,1,"div",5),core["ɵɵtemplate"](6,LinearFieldComponent_div_6_Template,3,1,"div",6),core["ɵɵelementEnd"](),core["ɵɵtemplate"](7,LinearFieldComponent_ng_template_7_Template,2,0,"ng-template",null,7,core["ɵɵtemplateRefExtractor"])),2&rf){const _r3=core["ɵɵreference"](8);core["ɵɵclassProp"]("awf-label-on-top","top"===ctx.labelPosition)("awf-label-on-left","left"===ctx.labelPosition)("awf-mouse-over",ctx.hasFocus||ctx.hasMouseOver)("inputLeftIcon",ctx.hasPrependIcon)("inputRightIcon",ctx.hasAppendIcon)("awf-required",ctx.required)("has-error",ctx.hasErrors()),core["ɵɵadvance"](2),core["ɵɵclassProp"]("has-error",ctx.hasErrors())("awf-required",ctx.required)("awf-mouse-over",ctx.hasFocus||ctx.hasMouseOver)("inputLeftIcon",ctx.hasPrependIcon),core["ɵɵproperty"]("value",ctx.label)("position",ctx.labelPosition)("hostHasFocus",ctx.hasFocus)("hostHasValue",ctx.hostHasValue)("widthOffset",ctx.widthOffset)("disabled",ctx.disabled),core["ɵɵadvance"](2),core["ɵɵproperty"]("ngTemplateOutlet",ctx.fieldTemplate?ctx.fieldTemplate:_r3),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx.hasErrors()),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx.warning&&!ctx.hasErrors())}},dependencies:[common.NgForOf,common.NgIf,common.NgTemplateOutlet,ErrorMessageDirective,LabelComponent],styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:block}.awf-container{position:relative;padding-bottom:var(--ag-linear-field-container-padding-bottom, 16px);margin-bottom:var(--ag-linear-field-container-margin-bottom, 8px)}.awf-container.awf-label-on-left{margin-bottom:4px}.awf-container.awf-label-on-left .label-layout{display:flex}.awf-container.awf-label-on-left .helper-messages{padding-left:0}.awf-container.awf-label-on-top{display:block;padding-top:var(--ag-linear-field-container-padding-top, 16px)}.awf-container .awf-field-wrapper{flex:auto;min-width:0}.awf-container .awf-field-wrapper .input-group{max-width:100%}.awf-container .d-flex{align-items:flex-start}.has-error{color:var(--at-red);--ag-datepicker-background-color: var(--at-red-light);--ag-datepicker-border-color: var(--at-red);--ag-datepicker-text-color: var(--at-red);--ag-file-selector-background-color: var(--at-red-light);--ag-file-selector-border-color: var(--at-red);--ag-input-tree-background-color: var(--at-red-light);--ag-input-tree-border-color: var(--at-red);--ag-value-unit-background-color: var(--at-red-light);--ag-value-unit-border-color: var(--at-red);--ag-value-unit-text-color: var(--at-red);--ag-select-placeholder-color: var(--at-gray-3q-dark)}.error-messages,.warning-messages{padding:0 5px 0 2px;position:absolute;width:100%;font-size:.875rem;line-height:1rem;display:var(--ag-input-message-display, block)}.warning-messages{color:var(--at-blue)}.inputLeftIcon{--ag-label-padding-left: var(--ag-label-left-icon-padding-left, 27px)}\n'],encapsulation:3})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](LinearFieldComponent,[{type:core.Component,args:[{selector:"ag-linear-field",encapsulation:core.ViewEncapsulation.ShadowDom,template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2020-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n\r\n<div class="awf-container"\r\n     [class.awf-label-on-top]="labelPosition === \'top\'"\r\n     [class.awf-label-on-left]="labelPosition === \'left\'"\r\n     [class.awf-mouse-over]="hasFocus || hasMouseOver"\r\n     [class.inputLeftIcon]="hasPrependIcon"\r\n     [class.inputRightIcon]="hasAppendIcon"\r\n     [class.awf-required]="required"\r\n     [class.has-error]="hasErrors()">\r\n\r\n    <div class="label-layout">\r\n        <ag-label [value]="label"\r\n                  [position]="labelPosition"\r\n                  [hostHasFocus]="hasFocus"\r\n                  [hostHasValue]="hostHasValue"\r\n                  [widthOffset]="widthOffset"\r\n                  [class.has-error]="hasErrors()"\r\n                  [class.awf-required]="required"\r\n                  [class.awf-mouse-over]="hasFocus || hasMouseOver"\r\n                  [class.inputLeftIcon]="hasPrependIcon"\r\n                  [disabled]="disabled">\r\n        </ag-label>\r\n\r\n        <div class="awf-field-wrapper">\r\n            <ng-container *ngTemplateOutlet="fieldTemplate ? fieldTemplate : defaultField"></ng-container>\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="hasErrors()"\r\n         class="error-messages helper-messages">\r\n        <div *ngFor="let error of errors"\r\n             agErrorMessage>\r\n            {{error}}\r\n        </div>\r\n    </div>\r\n\r\n    <div *ngIf="warning && !hasErrors()"\r\n         class="warning-messages helper-messages">\r\n        <div>\r\n            {{warning}}\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<ng-template #defaultField>\r\n    <div>No field defined!</div>\r\n</ng-template>\r\n',styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:block}.awf-container{position:relative;padding-bottom:var(--ag-linear-field-container-padding-bottom, 16px);margin-bottom:var(--ag-linear-field-container-margin-bottom, 8px)}.awf-container.awf-label-on-left{margin-bottom:4px}.awf-container.awf-label-on-left .label-layout{display:flex}.awf-container.awf-label-on-left .helper-messages{padding-left:0}.awf-container.awf-label-on-top{display:block;padding-top:var(--ag-linear-field-container-padding-top, 16px)}.awf-container .awf-field-wrapper{flex:auto;min-width:0}.awf-container .awf-field-wrapper .input-group{max-width:100%}.awf-container .d-flex{align-items:flex-start}.has-error{color:var(--at-red);--ag-datepicker-background-color: var(--at-red-light);--ag-datepicker-border-color: var(--at-red);--ag-datepicker-text-color: var(--at-red);--ag-file-selector-background-color: var(--at-red-light);--ag-file-selector-border-color: var(--at-red);--ag-input-tree-background-color: var(--at-red-light);--ag-input-tree-border-color: var(--at-red);--ag-value-unit-background-color: var(--at-red-light);--ag-value-unit-border-color: var(--at-red);--ag-value-unit-text-color: var(--at-red);--ag-select-placeholder-color: var(--at-gray-3q-dark)}.error-messages,.warning-messages{padding:0 5px 0 2px;position:absolute;width:100%;font-size:.875rem;line-height:1rem;display:var(--ag-input-message-display, block)}.warning-messages{color:var(--at-blue)}.inputLeftIcon{--ag-label-padding-left: var(--ag-label-left-icon-padding-left, 27px)}\n']}]}],(function(){return[]}),{label:[{type:core.Input}],fieldTemplate:[{type:core.Input}],labelPosition:[{type:core.Input}],hasFocus:[{type:core.Input}],hasMouseOver:[{type:core.Input}],hasPrependIcon:[{type:core.Input}],hasAppendIcon:[{type:core.Input}],hostHasValue:[{type:core.Input}],required:[{type:core.Input}],errors:[{type:core.Input}],warning:[{type:core.Input}],widthOffset:[{type:core.Input}],disabled:[{type:core.Input}]});class LinearFieldModule{static ɵfac=function LinearFieldModule_Factory(t){return new(t||LinearFieldModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:LinearFieldModule,declarations:[LinearFieldComponent],imports:[common.CommonModule,ErrorMessageModule,LabelModule],exports:[LinearFieldComponent]});static ɵinj=core["ɵɵdefineInjector"]({providers:[InputErrorService],imports:[common.CommonModule,ErrorMessageModule,LabelModule]})}function coerceBooleanProperty(value){return null!=value&&"false"!=`${value}`}function coerceNumberProperty(value,fallbackValue=0){return function _isNumberValue(value){return!isNaN(parseFloat(value))&&!isNaN(Number(value))}(value)?Number(value):fallbackValue}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](LinearFieldModule,[{type:core.NgModule,args:[{imports:[common.CommonModule,ErrorMessageModule,LabelModule],declarations:[LinearFieldComponent],exports:[LinearFieldComponent],providers:[InputErrorService]}]}],null,null);var agilent_ui_element_icon=__webpack_require__("./node_modules/@agilent/ui-element/fesm2022/agilent-ui-element-icon.mjs");class DensityUpdaterService{constructor(){}getDropdownItemFontSize(nativeElement,oldFontSize,labelFontSize){const currentFontSize=getComputedStyle(nativeElement).getPropertyValue(labelFontSize);if(currentFontSize!==oldFontSize)switch(currentFontSize.trim()){case"0.75rem":document.documentElement.style.setProperty("--ag-dropdown-item-font-size","0.75rem");break;case"1rem":document.documentElement.style.setProperty("--ag-dropdown-item-font-size","1rem");break;default:document.documentElement.style.setProperty("--ag-dropdown-item-font-size","0.875rem")}return currentFontSize}static ɵfac=function DensityUpdaterService_Factory(t){return new(t||DensityUpdaterService)};static ɵprov=core["ɵɵdefineInjectable"]({token:DensityUpdaterService,factory:DensityUpdaterService.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DensityUpdaterService,[{type:core.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null);class DropdownUtil{constructor(){}onSpaceDown(event){return"Space"!==event.code||(event.stopPropagation(),event.preventDefault(),!1)}static ɵfac=function DropdownUtil_Factory(t){return new(t||DropdownUtil)};static ɵprov=core["ɵɵdefineInjectable"]({token:DropdownUtil,factory:DropdownUtil.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DropdownUtil,[{type:core.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null);var agilent_ui_element_utils_LabelPosition;!function(LabelPosition){LabelPosition.LEFT="left",LabelPosition.RIGHT="right",LabelPosition.TOP="top",LabelPosition.BOTTOM="bottom"}(agilent_ui_element_utils_LabelPosition||(agilent_ui_element_utils_LabelPosition={}));class NumberFormatService{subscriptions=new Subscription.w0;translations;constructor(translateService){this.subscriptions.add(translateService.stream(["formatter.decimalSeparator","formatter.thousandSeparator"]).subscribe((translations=>this.translations=translations)))}ngOnDestroy(){this.subscriptions.unsubscribe()}format(value,precision,scientificNotation,thousandSeparator){let displayNumber=value;if(void 0!==displayNumber&&""!==displayNumber&&null!==displayNumber&&!isNaN(displayNumber)){const hasMoreThanSixDigits=Math.abs(displayNumber)>=1e6||Math.abs(displayNumber)<=1e-5;if(scientificNotation&&0!==displayNumber&&hasMoreThanSixDigits)return this.toScientificNotation(displayNumber,precision);if(displayNumber=this.roundToPrecision(displayNumber,precision),thousandSeparator)return this.formatWithThousandSeparator(displayNumber)}return displayNumber}formatWithThousandSeparator(value){const decimalSeparator=this.translations["formatter.decimalSeparator"],thousandSeparator=this.translations["formatter.thousandSeparator"],parts=value.toString().split(decimalSeparator);return parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,thousandSeparator),parts.join(decimalSeparator)}toScientificNotation(number,precision){let formatted;formatted=void 0!==precision?Number(number).toExponential(precision):Number(number).toExponential();const parts=formatted.split("e");return parts[0]=this.roundToPrecision(parts[0],precision),`${parts[0]}e${parts[1]}`}roundToPrecision(value,precision){let roundedValue=value.toString();if(void 0!==precision&&""!==precision){const precisionFactor=Math.pow(10,precision);roundedValue=(Math.round(value*precisionFactor)/precisionFactor).toString(),roundedValue=(+roundedValue).toFixed(precision)}else roundedValue.endsWith(".")&&(roundedValue=roundedValue.substring(0,roundedValue.length-1));const decimalSeparator=this.translations["formatter.decimalSeparator"];return roundedValue=roundedValue.replace(".",decimalSeparator),roundedValue}static ɵfac=function NumberFormatService_Factory(t){return new(t||NumberFormatService)(core["ɵɵinject"](TranslateService))};static ɵprov=core["ɵɵdefineInjectable"]({token:NumberFormatService,factory:NumberFormatService.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NumberFormatService,[{type:core.Injectable,args:[{providedIn:"root"}]}],(function(){return[{type:TranslateService}]}),null);class TreeNode{id;expanded=!1;path="";displayed=!0;data;parentId;level;constructor(id,path,data){this.id=id,this.path=path,this.data=data}}class TreeUtil{constructor(){}computeTreeModel(data,idKey,labelKey,childrenKey){const treeModel=[];return data.forEach((node=>toTreeModel(node,"",void 0))),treeModel;function toTreeModel(node,parentPath,parentId,level=1){if(treeModel.push(new TreeNode(node[idKey],parentPath,node)),treeModel[treeModel.length-1].parentId=parentId,treeModel[treeModel.length-1].level=level,node[childrenKey]&&null!==node[childrenKey]){const path=function computePath(parentPath,parentLabel){if(""===parentPath)return parentLabel;return`${parentPath}/${parentLabel}`}(parentPath,node[labelKey]);node[childrenKey].forEach((child=>toTreeModel(child,path,node.id,level+1)))}}}computeDisplayedText(treeModel,node,idKey,labelKey){const path=treeModel.find((item=>item.id===node[idKey])).path;return""===path?node[labelKey]:`${node[labelKey]} (${path})`}filterTreeModel(treeModel,filterText,labelKey,childrenKey){function containsDisplayedText(node){let containsText=node[labelKey].toLowerCase().indexOf(filterText.toLowerCase())>-1;return!containsText&&node[childrenKey]&&(containsText=node[childrenKey].some((child=>containsDisplayedText(child)))),containsText}treeModel.forEach((item=>item.displayed=containsDisplayedText(item.data)))}static ɵfac=function TreeUtil_Factory(t){return new(t||TreeUtil)};static ɵprov=core["ɵɵdefineInjectable"]({token:TreeUtil,factory:TreeUtil.ɵfac,providedIn:"root"})}var UploadStatus;("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TreeUtil,[{type:core.Injectable,args:[{providedIn:"root"}]}],(function(){return[]}),null),function(UploadStatus){UploadStatus[UploadStatus.PENDING=0]="PENDING",UploadStatus[UploadStatus.IN_PROGRESS=1]="IN_PROGRESS",UploadStatus[UploadStatus.SUCCESS=2]="SUCCESS",UploadStatus[UploadStatus.ERROR=3]="ERROR"}(UploadStatus||(UploadStatus={}));const NGX_MASK_CONFIG=new core.InjectionToken("ngx-mask config"),NEW_CONFIG=new core.InjectionToken("new ngx-mask config"),INITIAL_CONFIG=new core.InjectionToken("initial ngx-mask config"),initialConfig={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:value=>value,outputTransformFn:value=>value,maskFilled:new core.EventEmitter,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},timeMasks=["Hh:m0:s0","Hh:m0","m0:s0"],withoutValidation=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];class NgxMaskApplierService{constructor(){this._config=(0,core.inject)(NGX_MASK_CONFIG),this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.hiddenInput=this._config.hiddenInput,this.clearIfNotMatch=this._config.clearIfNotMatch,this.specialCharacters=this._config.specialCharacters,this.patterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime,this.leadZero=this._config.leadZero,this.apm=this._config.apm,this.inputTransformFn=this._config.inputTransformFn,this.outputTransformFn=this._config.outputTransformFn,this.keepCharacterPositions=this._config.keepCharacterPositions,this._shift=new Set,this.plusOnePosition=!1,this.maskExpression="",this.actualValue="",this.showKeepCharacterExp="",this.shownMaskExpression="",this.deletedSpecialCharacter=!1,this._formatWithSeparators=(str,thousandSeparatorChar,decimalChars,precision)=>{let x=[],decimalChar="";if(Array.isArray(decimalChars)){const regExp=new RegExp(decimalChars.map((v=>"[\\^$.|?*+()".indexOf(v)>=0?`\\${v}`:v)).join("|"));x=str.split(regExp),decimalChar=str.match(regExp)?.[0]??""}else x=str.split(decimalChars),decimalChar=decimalChars;const decimals=x.length>1?`${decimalChar}${x[1]}`:"";let res=x[0]??"";const separatorLimit=this.separatorLimit.replace(/\s/g,"");separatorLimit&&+separatorLimit&&(res="-"===res[0]?`-${res.slice(1,res.length).slice(0,separatorLimit.length)}`:res.slice(0,separatorLimit.length));const rgx=/(\d+)(\d{3})/;for(;thousandSeparatorChar&&rgx.test(res);)res=res.replace(rgx,"$1"+thousandSeparatorChar+"$2");return void 0===precision?res+decimals:0===precision?res:res+decimals.substring(0,precision+1)},this.percentage=str=>{const sanitizedStr=str.replace(",","."),value=Number(sanitizedStr);return!isNaN(value)&&value>=0&&value<=100},this.getPrecision=maskExpression=>{const x=maskExpression.split(".");return x.length>1?Number(x[x.length-1]):1/0},this.checkAndRemoveSuffix=inputValue=>{for(let i=this.suffix?.length-1;i>=0;i--){const substr=this.suffix.substring(i,this.suffix?.length);if(inputValue.includes(substr)&&i!==this.suffix?.length-1&&(i-1<0||!inputValue.includes(this.suffix.substring(i-1,this.suffix?.length))))return inputValue.replace(substr,"")}return inputValue},this.checkInputPrecision=(inputValue,precision,decimalMarker)=>{if(precision<1/0){if(Array.isArray(decimalMarker)){const marker=decimalMarker.find((dm=>dm!==this.thousandSeparator));decimalMarker=marker||decimalMarker[0]}const precisionRegEx=new RegExp(this._charToRegExpExpression(decimalMarker)+`\\d{${precision}}.*$`),precisionMatch=inputValue.match(precisionRegEx),precisionMatchLength=(precisionMatch&&precisionMatch[0]?.length)??0;if(precisionMatchLength-1>precision){const diff=precisionMatchLength-1-precision;inputValue=inputValue.substring(0,inputValue.length-diff)}0===precision&&this._compareOrIncludes(inputValue[inputValue.length-1],decimalMarker,this.thousandSeparator)&&(inputValue=inputValue.substring(0,inputValue.length-1))}return inputValue}}applyMaskWithPattern(inputValue,maskAndPattern){const[mask,customPattern]=maskAndPattern;return this.customPattern=customPattern,this.applyMask(inputValue,mask)}applyMask(inputValue,maskExpression,position=0,justPasted=!1,backspaced=!1,cb=(()=>{})){if(!maskExpression||"string"!=typeof inputValue)return"";let cursor=0,result="",multi=!1,backspaceShift=!1,shift=1,stepBack=!1;inputValue.slice(0,this.prefix.length)===this.prefix&&(inputValue=inputValue.slice(this.prefix.length,inputValue.length)),this.suffix&&inputValue?.length>0&&(inputValue=this.checkAndRemoveSuffix(inputValue)),"("===inputValue&&this.prefix&&(inputValue="");const inputArray=inputValue.toString().split("");if(this.allowNegativeNumbers&&"-"===inputValue.slice(cursor,cursor+1)&&(result+=inputValue.slice(cursor,cursor+1)),"IP"===maskExpression){const valuesIP=inputValue.split(".");this.ipError=this._validIP(valuesIP),maskExpression="099.099.099.099"}const arr=[];for(let i=0;i<inputValue.length;i++)inputValue[i]?.match("\\d")&&arr.push(inputValue[i]??"");if("CPF_CNPJ"===maskExpression&&(this.cpfCnpjError=11!==arr.length&&14!==arr.length,maskExpression=arr.length>11?"00.000.000/0000-00":"000.000.000-00"),maskExpression.startsWith("percent")){if(inputValue.match("[a-z]|[A-Z]")||inputValue.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!backspaced){inputValue=this._stripToDecimal(inputValue);const precision=this.getPrecision(maskExpression);inputValue=this.checkInputPrecision(inputValue,precision,this.decimalMarker)}const decimalMarker="string"==typeof this.decimalMarker?this.decimalMarker:".";if(inputValue.indexOf(decimalMarker)>0&&!this.percentage(inputValue.substring(0,inputValue.indexOf(decimalMarker)))){let base=inputValue.substring(0,inputValue.indexOf(decimalMarker)-1);this.allowNegativeNumbers&&"-"===inputValue.slice(cursor,cursor+1)&&!backspaced&&(base=inputValue.substring(0,inputValue.indexOf(decimalMarker))),inputValue=`${base}${inputValue.substring(inputValue.indexOf(decimalMarker),inputValue.length)}`}let value="";value=this.allowNegativeNumbers&&"-"===inputValue.slice(cursor,cursor+1)?inputValue.slice(cursor+1,cursor+inputValue.length):inputValue,result=this.percentage(value)?this._splitPercentZero(inputValue):this._splitPercentZero(inputValue.substring(0,inputValue.length-1))}else if(maskExpression.startsWith("separator")){(inputValue.match("[wа-яА-Я]")||inputValue.match("[ЁёА-я]")||inputValue.match("[a-z]|[A-Z]")||inputValue.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||inputValue.match("[^A-Za-z0-9,]"))&&(inputValue=this._stripToDecimal(inputValue));const precision=this.getPrecision(maskExpression),decimalMarker=Array.isArray(this.decimalMarker)?".":this.decimalMarker;0===precision?inputValue=this.allowNegativeNumbers?inputValue.length>2&&"-"===inputValue[0]&&"0"===inputValue[1]&&inputValue[2]!==this.thousandSeparator&&","!==inputValue[2]&&"."!==inputValue[2]?"-"+inputValue.slice(2,inputValue.length):"0"===inputValue[0]&&inputValue.length>1&&inputValue[1]!==this.thousandSeparator&&","!==inputValue[1]&&"."!==inputValue[1]?inputValue.slice(1,inputValue.length):inputValue:inputValue.length>1&&"0"===inputValue[0]&&inputValue[1]!==this.thousandSeparator&&","!==inputValue[1]&&"."!==inputValue[1]?inputValue.slice(1,inputValue.length):inputValue:(inputValue[0]===decimalMarker&&inputValue.length>1&&(inputValue="0"+inputValue.slice(0,inputValue.length+1),this.plusOnePosition=!0),"0"===inputValue[0]&&inputValue[1]!==decimalMarker&&inputValue[1]!==this.thousandSeparator&&(inputValue=inputValue.length>1?inputValue.slice(0,1)+decimalMarker+inputValue.slice(1,inputValue.length+1):inputValue,this.plusOnePosition=!0),!this.allowNegativeNumbers||"-"!==inputValue[0]||inputValue[1]!==decimalMarker&&"0"!==inputValue[1]||(inputValue=inputValue[1]===decimalMarker&&inputValue.length>2?inputValue.slice(0,1)+"0"+inputValue.slice(1,inputValue.length):"0"===inputValue[1]&&inputValue.length>2&&inputValue[2]!==decimalMarker?inputValue.slice(0,2)+decimalMarker+inputValue.slice(2,inputValue.length):inputValue,this.plusOnePosition=!0)),backspaced&&("0"!==inputValue[0]||inputValue[1]!==this.decimalMarker||"0"!==inputValue[position]&&inputValue[position]!==this.decimalMarker||(inputValue=inputValue.slice(2,inputValue.length)),"-"!==inputValue[0]||"0"!==inputValue[1]||inputValue[2]!==this.decimalMarker||"0"!==inputValue[position]&&inputValue[position]!==this.decimalMarker||(inputValue="-"+inputValue.slice(3,inputValue.length)),inputValue=this._compareOrIncludes(inputValue[inputValue.length-1],this.decimalMarker,this.thousandSeparator)?inputValue.slice(0,inputValue.length-1):inputValue);const thousandSeparatorCharEscaped=this._charToRegExpExpression(this.thousandSeparator);let invalidChars='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(thousandSeparatorCharEscaped,"");if(Array.isArray(this.decimalMarker))for(const marker of this.decimalMarker)invalidChars=invalidChars.replace(this._charToRegExpExpression(marker),"");else invalidChars=invalidChars.replace(this._charToRegExpExpression(this.decimalMarker),"");const invalidCharRegexp=new RegExp("["+invalidChars+"]");inputValue.match(invalidCharRegexp)&&(inputValue=inputValue.substring(0,inputValue.length-1));const strForSep=(inputValue=this.checkInputPrecision(inputValue,precision,this.decimalMarker)).replace(new RegExp(thousandSeparatorCharEscaped,"g"),"");result=this._formatWithSeparators(strForSep,this.thousandSeparator,this.decimalMarker,precision);const commaShift=result.indexOf(",")-inputValue.indexOf(","),shiftStep=result.length-inputValue.length;if(shiftStep>0&&result[position]!==this.thousandSeparator){backspaceShift=!0;let _shift=0;do{this._shift.add(position+_shift),_shift++}while(_shift<shiftStep)}else result[position-1]===this.decimalMarker||-4===shiftStep||-3===shiftStep||","===result[position]?(this._shift.clear(),this._shift.add(position-1)):0!==commaShift&&position>0&&!(result.indexOf(",")>=position&&position>3)||!(result.indexOf(".")>=position&&position>3)&&shiftStep<=0?(this._shift.clear(),backspaceShift=!0,shift=shiftStep,position+=shiftStep,this._shift.add(position)):this._shift.clear()}else for(let i=0,inputSymbol=inputArray[0];i<inputArray.length&&cursor!==maskExpression.length;i++,inputSymbol=inputArray[i]??""){const symbolStarInPattern="*"in this.patterns;if(this._checkSymbolMask(inputSymbol,maskExpression[cursor]??"")&&"?"===maskExpression[cursor+1])result+=inputSymbol,cursor+=2;else if("*"===maskExpression[cursor+1]&&multi&&this._checkSymbolMask(inputSymbol,maskExpression[cursor+2]??""))result+=inputSymbol,cursor+=3,multi=!1;else if(this._checkSymbolMask(inputSymbol,maskExpression[cursor]??"")&&"*"===maskExpression[cursor+1]&&!symbolStarInPattern)result+=inputSymbol,multi=!0;else if("?"===maskExpression[cursor+1]&&this._checkSymbolMask(inputSymbol,maskExpression[cursor+2]??""))result+=inputSymbol,cursor+=3;else if(this._checkSymbolMask(inputSymbol,maskExpression[cursor]??"")){if("H"===maskExpression[cursor]&&(this.apm?Number(inputSymbol)>9:Number(inputSymbol)>2)){position=this.leadZeroDateTime?position:position+1,cursor+=1,this._shiftStep(maskExpression,cursor,inputArray.length),i--,this.leadZeroDateTime&&(result+="0");continue}if("h"===maskExpression[cursor]&&(this.apm?1===result.length&&Number(result)>1||"1"===result&&Number(inputSymbol)>2||1===inputValue.slice(cursor-1,cursor).length&&Number(inputValue.slice(cursor-1,cursor))>2||"1"===inputValue.slice(cursor-1,cursor)&&Number(inputSymbol)>2:"2"===result&&Number(inputSymbol)>3||("2"===result.slice(cursor-2,cursor)||"2"===result.slice(cursor-3,cursor)||"2"===result.slice(cursor-4,cursor)||"2"===result.slice(cursor-1,cursor))&&Number(inputSymbol)>3&&cursor>10)){position+=1,cursor+=1,i--;continue}if(("m"===maskExpression[cursor]||"s"===maskExpression[cursor])&&Number(inputSymbol)>5){position=this.leadZeroDateTime?position:position+1,cursor+=1,this._shiftStep(maskExpression,cursor,inputArray.length),i--,this.leadZeroDateTime&&(result+="0");continue}const daysCount=31,inputValueCursor=inputValue[cursor],inputValueCursorPlusOne=inputValue[cursor+1],inputValueCursorPlusTwo=inputValue[cursor+2],inputValueCursorMinusOne=inputValue[cursor-1],inputValueCursorMinusTwo=inputValue[cursor-2],inputValueCursorMinusThree=inputValue[cursor-3],inputValueSliceMinusThreeMinusOne=inputValue.slice(cursor-3,cursor-1),inputValueSliceMinusOnePlusOne=inputValue.slice(cursor-1,cursor+1),inputValueSliceCursorPlusTwo=inputValue.slice(cursor,cursor+2),inputValueSliceMinusTwoCursor=inputValue.slice(cursor-2,cursor);if("d"===maskExpression[cursor]){const maskStartWithMonth="M0"===maskExpression.slice(0,2),startWithMonthInput="M0"===maskExpression.slice(0,2)&&this.specialCharacters.includes(inputValueCursorMinusTwo);if(Number(inputSymbol)>3&&this.leadZeroDateTime||!maskStartWithMonth&&(Number(inputValueSliceCursorPlusTwo)>daysCount||Number(inputValueSliceMinusOnePlusOne)>daysCount||this.specialCharacters.includes(inputValueCursorPlusOne))||(startWithMonthInput?Number(inputValueSliceMinusOnePlusOne)>daysCount||!this.specialCharacters.includes(inputValueCursor)&&this.specialCharacters.includes(inputValueCursorPlusTwo)||this.specialCharacters.includes(inputValueCursor):Number(inputValueSliceCursorPlusTwo)>daysCount||this.specialCharacters.includes(inputValueCursorPlusOne))){position=this.leadZeroDateTime?position:position+1,cursor+=1,this._shiftStep(maskExpression,cursor,inputArray.length),i--,this.leadZeroDateTime&&(result+="0");continue}}if("M"===maskExpression[cursor]){const monthsCount=12,withoutDays=0===cursor&&(Number(inputSymbol)>2||Number(inputValueSliceCursorPlusTwo)>monthsCount||this.specialCharacters.includes(inputValueCursorPlusOne)),specialChart=maskExpression.slice(cursor+2,cursor+3),day1monthInput=inputValueSliceMinusThreeMinusOne.includes(specialChart)&&(this.specialCharacters.includes(inputValueCursorMinusTwo)&&Number(inputValueSliceMinusOnePlusOne)>monthsCount&&!this.specialCharacters.includes(inputValueCursor)||this.specialCharacters.includes(inputValueCursor)||this.specialCharacters.includes(inputValueCursorMinusThree)&&Number(inputValueSliceMinusTwoCursor)>monthsCount&&!this.specialCharacters.includes(inputValueCursorMinusOne)||this.specialCharacters.includes(inputValueCursorMinusOne)),day2monthInput=Number(inputValueSliceMinusThreeMinusOne)<=daysCount&&!this.specialCharacters.includes(inputValueSliceMinusThreeMinusOne)&&this.specialCharacters.includes(inputValueCursorMinusOne)&&(Number(inputValueSliceCursorPlusTwo)>monthsCount||this.specialCharacters.includes(inputValueCursorPlusOne)),day2monthInputDot=Number(inputValueSliceCursorPlusTwo)>monthsCount&&5===cursor||this.specialCharacters.includes(inputValueCursorPlusOne)&&5===cursor,day1monthPaste=Number(inputValueSliceMinusThreeMinusOne)>daysCount&&!this.specialCharacters.includes(inputValueSliceMinusThreeMinusOne)&&!this.specialCharacters.includes(inputValueSliceMinusTwoCursor)&&Number(inputValueSliceMinusTwoCursor)>monthsCount,day2monthPaste=Number(inputValueSliceMinusThreeMinusOne)<=daysCount&&!this.specialCharacters.includes(inputValueSliceMinusThreeMinusOne)&&!this.specialCharacters.includes(inputValueCursorMinusOne)&&Number(inputValueSliceMinusOnePlusOne)>monthsCount;if(Number(inputSymbol)>1&&this.leadZeroDateTime||withoutDays||day1monthInput||day2monthPaste||day1monthPaste||day2monthInput||day2monthInputDot&&!this.leadZeroDateTime){position=this.leadZeroDateTime?position:position+1,cursor+=1,this._shiftStep(maskExpression,cursor,inputArray.length),i--,this.leadZeroDateTime&&(result+="0");continue}}result+=inputSymbol,cursor++}else" "===inputSymbol&&" "===maskExpression[cursor]||"/"===inputSymbol&&"/"===maskExpression[cursor]?(result+=inputSymbol,cursor++):-1!==this.specialCharacters.indexOf(maskExpression[cursor]??"")?(result+=maskExpression[cursor],cursor++,this._shiftStep(maskExpression,cursor,inputArray.length),i--):"9"===maskExpression[cursor]&&this.showMaskTyped?this._shiftStep(maskExpression,cursor,inputArray.length):this.patterns[maskExpression[cursor]??""]&&this.patterns[maskExpression[cursor]??""]?.optional?(!inputArray[cursor]||"099.099.099.099"===maskExpression||"000.000.000-00"===maskExpression||"00.000.000/0000-00"===maskExpression||maskExpression.match(/^9+\.0+$/)||this.patterns[maskExpression[cursor]??""]?.optional||(result+=inputArray[cursor]),maskExpression.includes("9*")&&maskExpression.includes("0*")&&cursor++,cursor++,i--):"*"===this.maskExpression[cursor+1]&&this._findSpecialChar(this.maskExpression[cursor+2]??"")&&this._findSpecialChar(inputSymbol)===this.maskExpression[cursor+2]&&multi||"?"===this.maskExpression[cursor+1]&&this._findSpecialChar(this.maskExpression[cursor+2]??"")&&this._findSpecialChar(inputSymbol)===this.maskExpression[cursor+2]&&multi?(cursor+=3,result+=inputSymbol):this.showMaskTyped&&this.specialCharacters.indexOf(inputSymbol)<0&&inputSymbol!==this.placeHolderCharacter&&1===this.placeHolderCharacter.length&&(stepBack=!0)}result.length+1===maskExpression.length&&-1!==this.specialCharacters.indexOf(maskExpression[maskExpression.length-1]??"")&&(result+=maskExpression[maskExpression.length-1]);let newPosition=position+1;for(;this._shift.has(newPosition);)shift++,newPosition++;let actualShift=justPasted&&!maskExpression.startsWith("separator")?cursor:this._shift.has(position)?shift:0;stepBack&&actualShift--,cb(actualShift,backspaceShift),shift<0&&this._shift.clear();let onlySpecial=!1;backspaced&&(onlySpecial=inputArray.every((char=>this.specialCharacters.includes(char))));let res=`${this.prefix}${onlySpecial?"":result}${this.showMaskTyped?"":this.suffix}`;if(0===result.length&&(res=this.dropSpecialCharacters?`${result}`:`${this.prefix}${result}`),result.includes("-")&&this.prefix&&this.allowNegativeNumbers){if(backspaced&&"-"===result)return"";res=`-${this.prefix}${result.split("-").join("")}${this.suffix}`}return res}_findDropSpecialChar(inputSymbol){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find((val=>val===inputSymbol)):this._findSpecialChar(inputSymbol)}_findSpecialChar(inputSymbol){return this.specialCharacters.find((val=>val===inputSymbol))}_checkSymbolMask(inputSymbol,maskSymbol){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[maskSymbol]?.pattern&&this.patterns[maskSymbol]?.pattern.test(inputSymbol))??!1}_stripToDecimal(str){return str.split("").filter(((i,idx)=>{const isDecimalMarker="string"==typeof this.decimalMarker?i===this.decimalMarker:this.decimalMarker.includes(i);return i.match("^-?\\d")||i===this.thousandSeparator||isDecimalMarker||"-"===i&&0===idx&&this.allowNegativeNumbers})).join("")}_charToRegExpExpression(char){if(char){return" "===char?"\\s":"[\\^$.|?*+()".indexOf(char)>=0?`\\${char}`:char}return char}_shiftStep(maskExpression,cursor,inputLength){const shiftStep=/[*?]/g.test(maskExpression.slice(0,cursor))?inputLength:cursor;this._shift.add(shiftStep+this.prefix.length||0)}_compareOrIncludes(value,comparedValue,excludedValue){return Array.isArray(comparedValue)?comparedValue.filter((v=>v!==excludedValue)).includes(value):value===comparedValue}_validIP(valuesIP){return!(4===valuesIP.length&&!valuesIP.some(((value,index)=>valuesIP.length!==index+1?""===value||Number(value)>255:""===value||Number(value.substring(0,3))>255)))}_splitPercentZero(value){const decimalIndex="string"==typeof this.decimalMarker?value.indexOf(this.decimalMarker):value.indexOf(".");if(-1===decimalIndex){const parsedValue=parseInt(value,10);return isNaN(parsedValue)?"":parsedValue.toString()}{const integerPart=parseInt(value.substring(0,decimalIndex),10),decimalPart=value.substring(decimalIndex+1),integerString=isNaN(integerPart)?"":integerPart.toString(),decimal="string"==typeof this.decimalMarker?this.decimalMarker:".";return""===integerString?"":integerString+decimal+decimalPart}}static#_=this.ɵfac=function NgxMaskApplierService_Factory(t){return new(t||NgxMaskApplierService)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:NgxMaskApplierService,factory:NgxMaskApplierService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgxMaskApplierService,[{type:core.Injectable}],null,null);class NgxMaskService extends NgxMaskApplierService{constructor(){super(...arguments),this.isNumberValue=!1,this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this._maskExpressionArray=[],this.triggerOnMaskChange=!1,this._previousValue="",this._currentValue="",this._emitValue=!1,this.onChange=_=>{},this._elementRef=(0,core.inject)(core.ElementRef,{optional:!0}),this.document=(0,core.inject)(common.DOCUMENT),this._config=(0,core.inject)(NGX_MASK_CONFIG),this._renderer=(0,core.inject)(core.Renderer2,{optional:!0})}applyMask(inputValue,maskExpression,position=0,justPasted=!1,backspaced=!1,cb=(()=>{})){if(!maskExpression)return inputValue!==this.actualValue?this.actualValue:inputValue;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(inputValue||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(inputValue||"#")),!inputValue&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown+this.suffix;const getSymbol=inputValue&&"number"==typeof this.selStart?inputValue[this.selStart]??"":"";let newInputValue="";if(void 0!==this.hiddenInput&&!this.writingValue){let actualResult=inputValue&&1===inputValue.length?inputValue.split(""):this.actualValue.split("");"object"==typeof this.selStart&&"object"==typeof this.selEnd?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):""!==inputValue&&actualResult.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(inputValue.length>actualResult.length?actualResult.splice(this.selStart,0,getSymbol):inputValue.length<actualResult.length&&(actualResult.length-inputValue.length==1?backspaced?actualResult.splice(this.selStart-1,1):actualResult.splice(inputValue.length-1,1):actualResult.splice(this.selStart,this.selEnd-this.selStart))):actualResult=[],this.showMaskTyped&&(this.hiddenInput||(inputValue=this.removeMask(inputValue))),newInputValue=this.actualValue.length&&actualResult.length<=inputValue.length?this.shiftTypedSymbols(actualResult.join("")):inputValue}if(!justPasted||!this.hiddenInput&&this.hiddenInput||(newInputValue=inputValue),backspaced&&-1!==this.specialCharacters.indexOf(this.maskExpression[position]??"")&&this.showMaskTyped&&(newInputValue=this._currentValue),this.deletedSpecialCharacter&&position&&(this.specialCharacters.includes(this.actualValue.slice(position,position+1))?position+=1:"M0"!==maskExpression.slice(position-1,position+1)&&(position-=2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&1===this.placeHolderCharacter.length&&!this.leadZeroDateTime&&(inputValue=this.removeMask(inputValue)),newInputValue=this.maskChanged?inputValue:Boolean(newInputValue)&&newInputValue.length?newInputValue:inputValue,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!justPasted){const value=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(value),this.actualValue?this.actualValue:this.prefix+this.maskIsShown+this.suffix}const result=super.applyMask(newInputValue,maskExpression,position,justPasted,backspaced,cb);if(this.actualValue=this.getActualValue(result),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.specialCharacters=this.specialCharacters.filter((item=>!this._compareOrIncludes(item,this.decimalMarker,this.thousandSeparator)))),(result||""===result)&&(this._previousValue=this._currentValue,this._currentValue=result,this._emitValue=this._previousValue!==this._currentValue||this.maskChanged||this._previousValue===this._currentValue&&justPasted),this._emitValue&&this.formControlResult(result),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?backspaced?this.hideInput(result,this.maskExpression):this.hideInput(result,this.maskExpression)+this.maskIsShown.slice(result.length):result;const resLen=result.length,prefNmask=this.prefix+this.maskIsShown+this.suffix;if(this.maskExpression.includes("H")){const countSkipedSymbol=this._numberSkipedSymbols(result);return result+prefNmask.slice(resLen+countSkipedSymbol)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?result+prefNmask:result+prefNmask.slice(resLen)}_numberSkipedSymbols(value){const regex=/(^|\D)(\d\D)/g;let match=regex.exec(value),countSkipedSymbol=0;for(;null!=match;)countSkipedSymbol+=1,match=regex.exec(value);return countSkipedSymbol}applyValueChanges(position,justPasted,backspaced,cb=(()=>{})){const formElement=this._elementRef?.nativeElement;formElement&&(formElement.value=this.applyMask(formElement.value,this.maskExpression,position,justPasted,backspaced,cb),formElement!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(inputValue,maskExpression){return inputValue.split("").map(((curr,index)=>this.patterns&&this.patterns[maskExpression[index]??""]&&this.patterns[maskExpression[index]??""]?.symbol?this.patterns[maskExpression[index]??""]?.symbol:curr)).join("")}getActualValue(res){const compare=res.split("").filter(((symbol,i)=>{const maskChar=this.maskExpression[i]??"";return this._checkSymbolMask(symbol,maskChar)||this.specialCharacters.includes(maskChar)&&symbol===maskChar}));return compare.join("")===res?compare.join(""):res}shiftTypedSymbols(inputValue){let symbolToReplace="";return(inputValue&&inputValue.split("").map(((currSymbol,index)=>{if(this.specialCharacters.includes(inputValue[index+1]??"")&&inputValue[index+1]!==this.maskExpression[index+1])return symbolToReplace=currSymbol,inputValue[index+1];if(symbolToReplace.length){const replaceSymbol=symbolToReplace;return symbolToReplace="",replaceSymbol}return currSymbol}))||[]).join("")}numberToString(value){return!value&&0!==value||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith("separator")&&this.separatorLimit.length>14&&String(value).length>14?String(value):Number(value).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace("/-/","-")}showMaskInInput(inputVal){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(inputVal){if("IP"===this.maskExpression)return this._checkForIp(inputVal);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(inputVal)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const formElement=this._elementRef?.nativeElement;formElement&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==formElement.value.replace(this.placeHolderCharacter,"").length&&(this.formElementProperty=["value",""],this.applyMask("",this.maskExpression))}set formElementProperty([name,value]){this._renderer&&this._elementRef&&Promise.resolve().then((()=>this._renderer?.setProperty(this._elementRef?.nativeElement,name,value)))}checkDropSpecialCharAmount(mask){return mask.split("").filter((item=>this._findDropSpecialChar(item))).length}removeMask(inputValue){return this._removeMask(this._removeSuffix(this._removePrefix(inputValue)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(inputVal){if("#"===inputVal)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const arr=[];for(let i=0;i<inputVal.length;i++){const value=inputVal[i]??"";value&&(value.match("\\d")&&arr.push(value))}return arr.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:arr.length>3&&arr.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:arr.length>6&&arr.length<=9?this.placeHolderCharacter:(arr.length>9&&arr.length,"")}_checkForCpfCnpj(inputVal){const cpf=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,cnpj=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===inputVal)return cpf;const arr=[];for(let i=0;i<inputVal.length;i++){const value=inputVal[i]??"";value&&(value.match("\\d")&&arr.push(value))}return arr.length<=3?cpf.slice(arr.length,cpf.length):arr.length>3&&arr.length<=6?cpf.slice(arr.length+1,cpf.length):arr.length>6&&arr.length<=9?cpf.slice(arr.length+2,cpf.length):arr.length>9&&arr.length<11?cpf.slice(arr.length+3,cpf.length):11===arr.length?"":12===arr.length?17===inputVal.length?cnpj.slice(16,cnpj.length):cnpj.slice(15,cnpj.length):arr.length>12&&arr.length<=14?cnpj.slice(arr.length+4,cnpj.length):""}_getActiveElement(document=this.document){const shadowRootEl=document?.activeElement?.shadowRoot;return shadowRootEl?.activeElement?this._getActiveElement(shadowRootEl):document.activeElement}formControlResult(inputValue){if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged)return this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(inputValue)))))),void(this.maskChanged=!1);Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(inputValue)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===inputValue?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(inputValue)))))):this.onChange(this.outputTransformFn(this._toNumber(inputValue)))}_toNumber(value){if(!this.isNumberValue||""===value)return value;if(this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters))return value;if(String(value).length>16&&this.separatorLimit.length>14)return String(value);const num=Number(value);if(this.maskExpression.startsWith("separator")&&Number.isNaN(num)){const val=String(value).replace(",",".");return Number(val)}return Number.isNaN(num)?value:num}_removeMask(value,specialCharactersForRemove){return this.maskExpression.startsWith("percent")&&value.includes(".")?value:value?value.replace(this._regExpForRemove(specialCharactersForRemove),""):value}_removePrefix(value){return this.prefix&&value?value.replace(this.prefix,""):value}_removeSuffix(value){return this.suffix&&value?value.replace(this.suffix,""):value}_retrieveSeparatorValue(result){let specialCharacters=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter((v=>this.dropSpecialCharacters.includes(v))):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&result.includes(" ")&&this.maskExpression.includes("*")&&(specialCharacters=specialCharacters.filter((char=>" "!==char))),this._removeMask(result,specialCharacters)}_regExpForRemove(specialCharactersForRemove){return new RegExp(specialCharactersForRemove.map((item=>`\\${item}`)).join("|"),"gi")}_replaceDecimalMarkerToDot(value){const markers=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return value.replace(this._regExpForRemove(markers),".")}_checkSymbols(result){if(""===result)return result;this.maskExpression.startsWith("percent")&&","===this.decimalMarker&&(result=result.replace(",","."));const separatorPrecision=this._retrieveSeparatorPrecision(this.maskExpression),separatorValue=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(result));return this.isNumberValue&&separatorPrecision?result===this.decimalMarker?null:this.separatorLimit.length>14?String(separatorValue):this._checkPrecision(this.maskExpression,separatorValue):separatorValue}_checkPatternForSpace(){for(const key in this.patterns)if(this.patterns[key]&&this.patterns[key]?.hasOwnProperty("pattern")){const patternString=this.patterns[key]?.pattern.toString(),pattern=this.patterns[key]?.pattern;if(patternString?.includes(" ")&&pattern?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(maskExpretion){const matcher=maskExpretion.match(new RegExp("^separator\\.([^d]*)"));return matcher?Number(matcher[1]):null}_checkPrecision(separatorExpression,separatorValue){const separatorPrecision=separatorExpression.slice(10,11);return separatorExpression.indexOf("2")>0||this.leadZero&&Number(separatorPrecision)>1?(","===this.decimalMarker&&this.leadZero&&(separatorValue=separatorValue.replace(",",".")),this.leadZero?Number(separatorValue).toFixed(Number(separatorPrecision)):Number(separatorValue).toFixed(2)):this.numberToString(separatorValue)}_repeatPatternSymbols(maskExp){return maskExp.match(/{[0-9]+}/)&&maskExp.split("").reduce(((accum,currVal,index)=>{if(this._start="{"===currVal?index:this._start,"}"!==currVal)return this._findSpecialChar(currVal)?accum+currVal:accum;this._end=index;const repeatNumber=Number(maskExp.slice(this._start+1,this._end)),replaceWith=new Array(repeatNumber+1).join(maskExp[this._start-1]);if(maskExp.slice(0,this._start).length>1&&maskExp.includes("S")){const symbols=maskExp.slice(0,this._start-1);return symbols.includes("{")?accum+replaceWith:symbols+accum+replaceWith}return accum+replaceWith}),"")||maskExp}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}static#_=this.ɵfac=function(){let ɵNgxMaskService_BaseFactory;return function NgxMaskService_Factory(t){return(ɵNgxMaskService_BaseFactory||(ɵNgxMaskService_BaseFactory=core["ɵɵgetInheritedFactory"](NgxMaskService)))(t||NgxMaskService)}}();static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:NgxMaskService,factory:NgxMaskService.ɵfac})}function _configFactory(){const initConfig=(0,core.inject)(INITIAL_CONFIG),configValue=(0,core.inject)(NEW_CONFIG);return configValue instanceof Function?{...initConfig,...configValue()}:{...initConfig,...configValue}}function provideNgxMask(configValue){return[{provide:NEW_CONFIG,useValue:configValue},{provide:INITIAL_CONFIG,useValue:initialConfig},{provide:NGX_MASK_CONFIG,useFactory:_configFactory},NgxMaskService]}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgxMaskService,[{type:core.Injectable}],null,null);class NgxMaskDirective{constructor(){this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.leadZero=null,this.triggerOnMaskChange=null,this.apm=null,this.inputTransformFn=null,this.outputTransformFn=null,this.keepCharacterPositions=null,this.maskFilled=new core.EventEmitter,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this._isFocused=!1,this._isComposing=!1,this.document=(0,core.inject)(common.DOCUMENT),this._maskService=(0,core.inject)(NgxMaskService,{self:!0}),this._config=(0,core.inject)(NGX_MASK_CONFIG),this.onChange=_=>{},this.onTouch=()=>{}}ngOnChanges(changes){const{maskExpression,specialCharacters,patterns,prefix,suffix,thousandSeparator,decimalMarker,dropSpecialCharacters,hiddenInput,showMaskTyped,placeHolderCharacter,shownMaskExpression,showTemplate,clearIfNotMatch,validation,separatorLimit,allowNegativeNumbers,leadZeroDateTime,leadZero,triggerOnMaskChange,apm,inputTransformFn,outputTransformFn,keepCharacterPositions}=changes;if(maskExpression&&(maskExpression.currentValue===maskExpression.previousValue||maskExpression.firstChange||(this._maskService.maskChanged=!0),maskExpression.currentValue&&maskExpression.currentValue.split("||").length>1?(this._maskExpressionArray=maskExpression.currentValue.split("||").sort(((a,b)=>a.length-b.length)),this._setMask()):(this._maskExpressionArray=[],this._maskValue=maskExpression.currentValue||"",this._maskService.maskExpression=this._maskValue)),specialCharacters){if(!specialCharacters.currentValue||!Array.isArray(specialCharacters.currentValue))return;this._maskService.specialCharacters=specialCharacters.currentValue||[]}allowNegativeNumbers&&(this._maskService.allowNegativeNumbers=allowNegativeNumbers.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter((c=>"-"!==c)))),patterns&&patterns.currentValue&&(this._maskService.patterns=patterns.currentValue),apm&&apm.currentValue&&(this._maskService.apm=apm.currentValue),prefix&&(this._maskService.prefix=prefix.currentValue),suffix&&(this._maskService.suffix=suffix.currentValue),thousandSeparator&&(this._maskService.thousandSeparator=thousandSeparator.currentValue),decimalMarker&&(this._maskService.decimalMarker=decimalMarker.currentValue),dropSpecialCharacters&&(this._maskService.dropSpecialCharacters=dropSpecialCharacters.currentValue),hiddenInput&&(this._maskService.hiddenInput=hiddenInput.currentValue),showMaskTyped&&(this._maskService.showMaskTyped=showMaskTyped.currentValue,!1===showMaskTyped.previousValue&&!0===showMaskTyped.currentValue&&this._isFocused&&requestAnimationFrame((()=>{this._maskService._elementRef?.nativeElement.click()}))),placeHolderCharacter&&(this._maskService.placeHolderCharacter=placeHolderCharacter.currentValue),shownMaskExpression&&(this._maskService.shownMaskExpression=shownMaskExpression.currentValue),showTemplate&&(this._maskService.showTemplate=showTemplate.currentValue),clearIfNotMatch&&(this._maskService.clearIfNotMatch=clearIfNotMatch.currentValue),validation&&(this._maskService.validation=validation.currentValue),separatorLimit&&(this._maskService.separatorLimit=separatorLimit.currentValue),leadZeroDateTime&&(this._maskService.leadZeroDateTime=leadZeroDateTime.currentValue),leadZero&&(this._maskService.leadZero=leadZero.currentValue),triggerOnMaskChange&&(this._maskService.triggerOnMaskChange=triggerOnMaskChange.currentValue),inputTransformFn&&(this._maskService.inputTransformFn=inputTransformFn.currentValue),outputTransformFn&&(this._maskService.outputTransformFn=outputTransformFn.currentValue),keepCharacterPositions&&(this._maskService.keepCharacterPositions=keepCharacterPositions.currentValue),this._applyMask()}validate({value}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(value);if(this._maskService.cpfCnpjError)return this._createValidationError(value);if(this._maskValue.startsWith("separator"))return null;if(withoutValidation.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(timeMasks.includes(this._maskValue))return this._validateTime(value);if(value&&value.toString().length>=1){let counterOfOpt=0;if(this._maskValue.startsWith("percent"))return null;for(const key in this._maskService.patterns)if(this._maskService.patterns[key]?.optional){if(this._maskValue.indexOf(key)!==this._maskValue.lastIndexOf(key)){const opt=this._maskValue.split("").filter((i=>i===key)).join("");counterOfOpt+=opt.length}else-1!==this._maskValue.indexOf(key)&&counterOfOpt++;if(-1!==this._maskValue.indexOf(key)&&value.toString().length>=this._maskValue.indexOf(key))return null;if(counterOfOpt===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&value.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4)return null;if(this._maskValue.indexOf("*")>1&&value.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&value.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(value);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){value="number"==typeof value?String(value):value;const array=this._maskValue.split("*"),length=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkDropSpecialCharAmount(this._maskValue)-counterOfOpt:this.prefix?this._maskValue.length+this.prefix.length-counterOfOpt:this._maskValue.length-counterOfOpt;if(1===array.length&&value.toString().length<length)return this._createValidationError(value);if(array.length>1){const lastIndexArray=array[array.length-1];if(lastIndexArray&&this._maskService.specialCharacters.includes(lastIndexArray[0])&&String(value).includes(lastIndexArray[0]??"")&&!this.dropSpecialCharacters){const special=value.split(lastIndexArray[0]);return special[special.length-1].length===lastIndexArray.length-1?null:this._createValidationError(value)}return(lastIndexArray&&!this._maskService.specialCharacters.includes(lastIndexArray[0])||!lastIndexArray||this._maskService.dropSpecialCharacters)&&value.length>=length-1?null:this._createValidationError(value)}}if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null}return value?(this.maskFilled.emit(),null):null}onPaste(){this._justPasted=!0}onFocus(){this._isFocused=!0}onModelChange(value){""!==value&&null!=value||!this._maskService.actualValue||(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(e){if(this._isComposing)return;const el=e.target,transformedValue=this._maskService.inputTransformFn(el.value);if("number"!==el.type)if("string"==typeof transformedValue||"number"==typeof transformedValue){if(el.value=transformedValue.toString(),this._inputValue=el.value,this._setMask(),!this._maskValue)return void this.onChange(el.value);let position=1===el.selectionStart?el.selectionStart+this._maskService.prefix.length:el.selectionStart;if(this.showMaskTyped&&this.keepCharacterPositions&&1===this._maskService.placeHolderCharacter.length){const inputSymbol=el.value.slice(position-1,position),prefixLength=this.prefix.length,checkSymbols=this._maskService._checkSymbolMask(inputSymbol,this._maskService.maskExpression[position-1-prefixLength]??""),checkSpecialCharacter=this._maskService._checkSymbolMask(inputSymbol,this._maskService.maskExpression[position+1-prefixLength]??""),selectRangeBackspace=this._maskService.selStart===this._maskService.selEnd,selStart=Number(this._maskService.selStart)-prefixLength??"",selEnd=Number(this._maskService.selEnd)-prefixLength??"";if("Backspace"===this._code)if(selectRangeBackspace){if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(position-this.prefix.length,position+1-this.prefix.length))&&selectRangeBackspace)if(1===selStart&&this.prefix)this._maskService.actualValue=this.prefix+this._maskService.placeHolderCharacter+el.value.split(this.prefix).join("").split(this.suffix).join("")+this.suffix,position-=1;else{const part1=el.value.substring(0,position),part2=el.value.substring(position);this._maskService.actualValue=part1+this._maskService.placeHolderCharacter+part2}}else this._maskService.selStart===prefixLength?this._maskService.actualValue=this.prefix+this._maskService.maskIsShown.slice(0,selEnd)+this._inputValue.split(this.prefix).join(""):this._maskService.selStart===this._maskService.maskIsShown.length+prefixLength?this._maskService.actualValue=this._inputValue+this._maskService.maskIsShown.slice(selStart,selEnd):this._maskService.actualValue=this.prefix+this._inputValue.split(this.prefix).join("").slice(0,selStart)+this._maskService.maskIsShown.slice(selStart,selEnd)+this._maskService.actualValue.slice(selEnd+prefixLength,this._maskService.maskIsShown.length+prefixLength)+this.suffix;"Backspace"!==this._code&&(checkSymbols||checkSpecialCharacter||!selectRangeBackspace?this._maskService.specialCharacters.includes(el.value.slice(position,position+1))&&checkSpecialCharacter&&!this._maskService.specialCharacters.includes(el.value.slice(position+1,position+2))?(this._maskService.actualValue=el.value.slice(0,position-1)+el.value.slice(position,position+1)+inputSymbol+el.value.slice(position+2),position+=1):checkSymbols?1===el.value.length&&1===position?this._maskService.actualValue=this.prefix+inputSymbol+this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)+this.suffix:this._maskService.actualValue=el.value.slice(0,position-1)+inputSymbol+el.value.slice(position+1).split(this.suffix).join("")+this.suffix:this.prefix&&1===el.value.length&&position-prefixLength==1&&this._maskService._checkSymbolMask(el.value,this._maskService.maskExpression[position-1-prefixLength]??"")&&(this._maskService.actualValue=this.prefix+el.value+this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)+this.suffix):position=Number(el.selectionStart)-1)}let caretShift=0,backspaceShift=!1;if("Delete"===this._code&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue.length>=this._maskService.maskExpression.length-1&&"Backspace"!==this._code&&"d0/M0/0000"===this._maskService.maskExpression&&position<10){const inputSymbol=this._inputValue.slice(position-1,position);el.value=this._inputValue.slice(0,position-1)+inputSymbol+this._inputValue.slice(position+1)}if("d0/M0/0000"===this._maskService.maskExpression&&this.leadZeroDateTime&&(position<3&&Number(el.value)>31&&Number(el.value)<40||5===position&&Number(el.value.slice(3,5))>12)&&(position+=2),"Hh:m0:s0"===this._maskService.maskExpression&&this.apm&&(this._justPasted&&"00"===el.value.slice(0,2)&&(el.value=el.value.slice(1,2)+el.value.slice(2,el.value.length)),el.value="00"===el.value?"0":el.value),this._maskService.applyValueChanges(position,this._justPasted,"Backspace"===this._code||"Delete"===this._code,((shift,_backspaceShift)=>{this._justPasted=!1,caretShift=shift,backspaceShift=_backspaceShift})),this._getActiveElement()!==el)return;this._maskService.plusOnePosition&&(position+=1,this._maskService.plusOnePosition=!1),this._maskExpressionArray.length&&(position="Backspace"===this._code?this.specialCharacters.includes(this._inputValue.slice(position-1,position))?position-1:position:1===el.selectionStart?el.selectionStart+this._maskService.prefix.length:el.selectionStart),this._position=1===this._position&&1===this._inputValue.length?null:this._position;let positionToApply=this._position?this._inputValue.length+position+caretShift:position+("Backspace"!==this._code||backspaceShift?caretShift:0);positionToApply>this._getActualInputLength()&&(positionToApply=el.value===this._maskService.decimalMarker&&1===el.value.length?this._getActualInputLength()+1:this._getActualInputLength()),positionToApply<0&&(positionToApply=0),el.setSelectionRange(positionToApply,positionToApply),this._position=null}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof transformedValue);else{if(!this._maskValue)return void this.onChange(el.value);this._maskService.applyValueChanges(el.value.length,this._justPasted,"Backspace"===this._code||"Delete"===this._code)}}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,this._justPasted=!0,this.onInput(e)}onBlur(e){if(this._maskValue){const el=e.target;if(this.leadZero&&el.value.length>0&&"string"==typeof this.decimalMarker){const maskExpression=this._maskService.maskExpression,precision=Number(this._maskService.maskExpression.slice(maskExpression.length-1,maskExpression.length));if(precision>1){el.value=this.suffix?el.value.split(this.suffix).join(""):el.value;const decimalPart=el.value.split(this.decimalMarker)[1];el.value=el.value.includes(this.decimalMarker)?el.value+"0".repeat(precision-decimalPart.length)+this.suffix:el.value+this.decimalMarker+"0".repeat(precision)+this.suffix,this._maskService.actualValue=el.value}}this._maskService.clearIfNotMatchFn()}this._isFocused=!1,this.onTouch()}onClick(e){if(!this._maskValue)return;const el=e.target;null!==el&&null!==el.selectionStart&&el.selectionStart===el.selectionEnd&&el.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&!this.keepCharacterPositions&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),el.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===el.value?(el.focus(),el.setSelectionRange(0,0)):el.selectionStart>this._maskService.actualValue.length&&el.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const nextValue=el&&(el.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:el.value);el&&el.value!==nextValue&&(el.value=nextValue),el&&"number"!==el.type&&(el.selectionStart||el.selectionEnd)<=this._maskService.prefix.length?el.selectionStart=this._maskService.prefix.length:el&&el.selectionEnd>this._getActualInputLength()&&(el.selectionEnd=this._getActualInputLength())}onKeyDown(e){if(!this._maskValue)return;if(this._isComposing)return void("Enter"===e.key&&this.onCompositionEnd(e));this._code=e.code?e.code:e.key;const el=e.target;if(this._inputValue=el.value,this._setMask(),"number"!==el.type){if("ArrowUp"===e.key&&e.preventDefault(),"ArrowLeft"===e.key||"Backspace"===e.key||"Delete"===e.key){if("Backspace"===e.key&&0===el.value.length&&(el.selectionStart=el.selectionEnd),"Backspace"===e.key&&0!==el.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&el.selectionStart<=this.prefix.length)el.setSelectionRange(this.prefix.length,el.selectionEnd);else if(this._inputValue.length!==el.selectionStart&&1!==el.selectionStart)for(;this.specialCharacters.includes((this._inputValue[el.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&el.selectionStart>this.prefix.length||0===this.prefix.length);)el.setSelectionRange(el.selectionStart-1,el.selectionEnd);this.checkSelectionOnDeletion(el),this._maskService.prefix.length&&el.selectionStart<=this._maskService.prefix.length&&el.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const cursorStart=el.selectionStart;"Backspace"!==e.key||el.readOnly||0!==cursorStart||el.selectionEnd!==el.value.length||0===el.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<el.selectionStart?el.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):("KeyA"===e.code&&e.ctrlKey||"KeyA"===e.code&&e.metaKey)&&(el.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=el.selectionStart,this._maskService.selEnd=el.selectionEnd}}writeValue(controlValue){var _this=this;return(0,asyncToGenerator.Z)((function*(){if("object"==typeof controlValue&&null!==controlValue&&"value"in controlValue&&("disable"in controlValue&&_this.setDisabledState(Boolean(controlValue.disable)),controlValue=controlValue.value),null!==controlValue&&(controlValue=_this.inputTransformFn?_this.inputTransformFn(controlValue):controlValue),"string"==typeof controlValue||"number"==typeof controlValue||null==controlValue){null!=controlValue&&""!==controlValue||(_this._maskService._currentValue="",_this._maskService._previousValue="");let inputValue=controlValue;if("number"==typeof inputValue||_this._maskValue.startsWith("separator")){inputValue=String(inputValue);const localeDecimalMarker=_this._maskService.currentLocaleDecimalMarker();Array.isArray(_this._maskService.decimalMarker)||(inputValue=_this._maskService.decimalMarker!==localeDecimalMarker?inputValue.replace(localeDecimalMarker,_this._maskService.decimalMarker):inputValue),_this._maskService.leadZero&&inputValue&&_this.maskExpression&&!1!==_this.dropSpecialCharacters&&(inputValue=_this._maskService._checkPrecision(_this._maskService.maskExpression,inputValue)),","===_this._maskService.decimalMarker&&(inputValue=inputValue.toString().replace(".",",")),_this.maskExpression?.startsWith("separator")&&_this.leadZero&&requestAnimationFrame((()=>{_this._maskService.applyMask(inputValue?.toString()??"",_this._maskService.maskExpression)})),_this._maskService.isNumberValue=!0}"string"!=typeof inputValue&&(inputValue=""),_this._inputValue=inputValue,_this._setMask(),inputValue&&_this._maskService.maskExpression||_this._maskService.maskExpression&&(_this._maskService.prefix||_this._maskService.showMaskTyped)?("function"!=typeof _this.inputTransformFn&&(_this._maskService.writingValue=!0),_this._maskService.formElementProperty=["value",_this._maskService.applyMask(inputValue,_this._maskService.maskExpression)],"function"!=typeof _this.inputTransformFn&&(_this._maskService.writingValue=!1)):_this._maskService.formElementProperty=["value",inputValue],_this._inputValue=inputValue}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof controlValue)}))()}registerOnChange(fn){this._maskService.onChange=this.onChange=fn}registerOnTouched(fn){this.onTouch=fn}_getActiveElement(document=this.document){const shadowRootEl=document?.activeElement?.shadowRoot;return shadowRootEl?.activeElement?this._getActiveElement(shadowRootEl):document.activeElement}checkSelectionOnDeletion(el){el.selectionStart=Math.min(Math.max(this.prefix.length,el.selectionStart),this._inputValue.length-this.suffix.length),el.selectionEnd=Math.min(Math.max(this.prefix.length,el.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(isDisabled){this._maskService.formElementProperty=["disabled",isDisabled]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(value){const rowMaskLen=this._maskValue.split("").filter((s=>":"!==s)).length;return value&&(0==+(value[value.length-1]??-1)&&value.length<rowMaskLen||value.length<=rowMaskLen-2)?this._createValidationError(value):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(actualValue){return{mask:{requiredMask:this._maskValue,actualValue}}}_setMask(){this._maskExpressionArray.some((mask=>{if(mask.split("").some((char=>this._maskService.specialCharacters.includes(char)))&&this._inputValue&&!mask.includes("S")||mask.includes("{")){const test=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(mask)?.length;if(test)return this._maskValue=this.maskExpression=this._maskService.maskExpression=mask.includes("{")?this._maskService._repeatPatternSymbols(mask):mask,test;{const expression=this._maskExpressionArray[this._maskExpressionArray.length-1]??"";this._maskValue=this.maskExpression=this._maskService.maskExpression=expression.includes("{")?this._maskService._repeatPatternSymbols(expression):expression}}else{const check=this._maskService.removeMask(this._inputValue)?.split("").every(((character,index)=>{const indexMask=mask.charAt(index);return this._maskService._checkSymbolMask(character,indexMask)}));if(check)return this._maskValue=this.maskExpression=this._maskService.maskExpression=mask,check}}))}static#_=this.ɵfac=function NgxMaskDirective_Factory(t){return new(t||NgxMaskDirective)};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgxMaskDirective,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function NgxMaskDirective_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("paste",(function NgxMaskDirective_paste_HostBindingHandler(){return ctx.onPaste()}))("focus",(function NgxMaskDirective_focus_HostBindingHandler($event){return ctx.onFocus($event)}))("ngModelChange",(function NgxMaskDirective_ngModelChange_HostBindingHandler($event){return ctx.onModelChange($event)}))("input",(function NgxMaskDirective_input_HostBindingHandler($event){return ctx.onInput($event)}))("compositionstart",(function NgxMaskDirective_compositionstart_HostBindingHandler($event){return ctx.onCompositionStart($event)}))("compositionend",(function NgxMaskDirective_compositionend_HostBindingHandler($event){return ctx.onCompositionEnd($event)}))("blur",(function NgxMaskDirective_blur_HostBindingHandler($event){return ctx.onBlur($event)}))("click",(function NgxMaskDirective_click_HostBindingHandler($event){return ctx.onClick($event)}))("keydown",(function NgxMaskDirective_keydown_HostBindingHandler($event){return ctx.onKeyDown($event)}))},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",leadZero:"leadZero",triggerOnMaskChange:"triggerOnMaskChange",apm:"apm",inputTransformFn:"inputTransformFn",outputTransformFn:"outputTransformFn",keepCharacterPositions:"keepCharacterPositions"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[core["ɵɵProvidersFeature"]([{provide:NG_VALUE_ACCESSOR,useExisting:NgxMaskDirective,multi:!0},{provide:NG_VALIDATORS,useExisting:NgxMaskDirective,multi:!0},NgxMaskService]),core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgxMaskDirective,[{type:core.Directive,args:[{selector:"input[mask], textarea[mask]",standalone:!0,providers:[{provide:NG_VALUE_ACCESSOR,useExisting:NgxMaskDirective,multi:!0},{provide:NG_VALIDATORS,useExisting:NgxMaskDirective,multi:!0},NgxMaskService],exportAs:"mask,ngxMask"}]}],null,{maskExpression:[{type:core.Input,args:["mask"]}],specialCharacters:[{type:core.Input}],patterns:[{type:core.Input}],prefix:[{type:core.Input}],suffix:[{type:core.Input}],thousandSeparator:[{type:core.Input}],decimalMarker:[{type:core.Input}],dropSpecialCharacters:[{type:core.Input}],hiddenInput:[{type:core.Input}],showMaskTyped:[{type:core.Input}],placeHolderCharacter:[{type:core.Input}],shownMaskExpression:[{type:core.Input}],showTemplate:[{type:core.Input}],clearIfNotMatch:[{type:core.Input}],validation:[{type:core.Input}],separatorLimit:[{type:core.Input}],allowNegativeNumbers:[{type:core.Input}],leadZeroDateTime:[{type:core.Input}],leadZero:[{type:core.Input}],triggerOnMaskChange:[{type:core.Input}],apm:[{type:core.Input}],inputTransformFn:[{type:core.Input}],outputTransformFn:[{type:core.Input}],keepCharacterPositions:[{type:core.Input}],maskFilled:[{type:core.Output}],onPaste:[{type:core.HostListener,args:["paste"]}],onFocus:[{type:core.HostListener,args:["focus",["$event"]]}],onModelChange:[{type:core.HostListener,args:["ngModelChange",["$event"]]}],onInput:[{type:core.HostListener,args:["input",["$event"]]}],onCompositionStart:[{type:core.HostListener,args:["compositionstart",["$event"]]}],onCompositionEnd:[{type:core.HostListener,args:["compositionend",["$event"]]}],onBlur:[{type:core.HostListener,args:["blur",["$event"]]}],onClick:[{type:core.HostListener,args:["click",["$event"]]}],onKeyDown:[{type:core.HostListener,args:["keydown",["$event"]]}]});class NgxMaskPipe{constructor(){this.defaultOptions={},this._maskService=(0,core.inject)(NgxMaskService),this._maskExpressionArray=[],this.mask=""}transform(value,mask,{patterns,...config}={}){const currentConfig={maskExpression:mask,...this.defaultOptions,...config,patterns:{...this._maskService.patterns,...patterns}};if(Object.entries(currentConfig).forEach((([key,value])=>{this._maskService[key]=value})),mask.includes("||"))return mask.split("||").length>1?(this._maskExpressionArray=mask.split("||").sort(((a,b)=>a.length-b.length)),this._setMask(value),this._maskService.applyMask(`${value}`,this.mask)):(this._maskExpressionArray=[],this._maskService.applyMask(`${value}`,this.mask));if(mask.includes("{"))return this._maskService.applyMask(`${value}`,this._maskService._repeatPatternSymbols(mask));if(mask.startsWith("separator")){config.decimalMarker&&(this._maskService.decimalMarker=config.decimalMarker),config.thousandSeparator&&(this._maskService.thousandSeparator=config.thousandSeparator),config.leadZero&&(this._maskService.leadZero=config.leadZero),value=String(value);const localeDecimalMarker=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(value=this._maskService.decimalMarker!==localeDecimalMarker?value.replace(localeDecimalMarker,this._maskService.decimalMarker):value),this._maskService.leadZero&&value&&!1!==this._maskService.dropSpecialCharacters&&(value=this._maskService._checkPrecision(mask,value)),","===this._maskService.decimalMarker&&(value=value.toString().replace(".",",")),this._maskService.isNumberValue=!0}return null==value?this._maskService.applyMask("",mask):this._maskService.applyMask(`${value}`,mask)}_setMask(value){this._maskExpressionArray.length>0&&this._maskExpressionArray.some((mask=>{const test=this._maskService.removeMask(value)?.length<=this._maskService.removeMask(mask)?.length;if(value&&test)return this.mask=mask,test;{const expression=this._maskExpressionArray[this._maskExpressionArray.length-1]??"";this.mask=expression}}))}static#_=this.ɵfac=function NgxMaskPipe_Factory(t){return new(t||NgxMaskPipe)};static#_2=this.ɵpipe=core["ɵɵdefinePipe"]({name:"mask",type:NgxMaskPipe,pure:!0,standalone:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgxMaskPipe,[{type:core.Pipe,args:[{name:"mask",pure:!0,standalone:!0}]}],null,null);class AgilentTooltipDirective{elementRef;renderer;static OPEN_STATE_TRACKER=[];tooltipContent;tooltipPlacement="auto";tooltipOpenEvent="mouseenter";tooltipCloseEvent="mouseleave";disableTooltip=!1;shouldOpen=!1;registeredShowTooltip;registeredHideTooltip;tooltip;constructor(elementRef,renderer){this.elementRef=elementRef,this.renderer=renderer,this.tooltip=document.createElement("awf-tooltip"),this.renderer.setProperty(this.tooltip,"refElement",this.elementRef.nativeElement),this.renderer.setProperty(this.tooltip,"tip",!0),this.renderer.setProperty(this.tooltip,"manualToggle",!0),this.renderer.setProperty(this.tooltip,"appendToBody",!0),this.renderer.addClass(this.tooltip,"awf-tooltip")}ngOnInit(){const parent=this.elementRef.nativeElement.parentNode;this.registeredShowTooltip=this.showTooltip.bind(this),this.registeredHideTooltip=this.hideTooltip.bind(this),this.elementRef.nativeElement.addEventListener(this.tooltipOpenEvent,this.registeredShowTooltip),this.elementRef.nativeElement.addEventListener(this.tooltipCloseEvent,this.registeredHideTooltip),this.renderer.appendChild(parent,this.tooltip)}ngOnDestroy(){this.elementRef.nativeElement.removeEventListener(this.tooltipOpenEvent,this.registeredShowTooltip),this.elementRef.nativeElement.removeEventListener(this.tooltipCloseEvent,this.registeredHideTooltip),this.tooltip.remove()}ngOnChanges(changes){changes.tooltipPlacement&&this.renderer.setProperty(this.tooltip,"placement",this.tooltipPlacement),changes.tooltipContent&&this.renderer.setProperty(this.tooltip,"message",this.tooltipContent),changes.disableTooltip&&this.renderer.setProperty(this.tooltip,"disabled",this.disableTooltip)}open(){this.tooltip.showTooltip()}close(){this.tooltip.hideTooltip()}showTooltip(){this.shouldOpen=!0;const delay=AgilentTooltipDirective.OPEN_STATE_TRACKER.length>0?0:500;setTimeout((()=>{this.shouldOpen&&(this.tooltip.showTooltip(),AgilentTooltipDirective.OPEN_STATE_TRACKER.push("open"))}),delay)}hideTooltip(){this.shouldOpen=!1,this.tooltip.hideTooltip(),setTimeout((()=>AgilentTooltipDirective.OPEN_STATE_TRACKER.pop()),50)}static ɵfac=function AgilentTooltipDirective_Factory(t){return new(t||AgilentTooltipDirective)(core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2))};static ɵdir=core["ɵɵdefineDirective"]({type:AgilentTooltipDirective,selectors:[["","agTooltip",""]],inputs:{tooltipContent:"tooltipContent",tooltipPlacement:"tooltipPlacement",tooltipOpenEvent:"tooltipOpenEvent",tooltipCloseEvent:"tooltipCloseEvent",disableTooltip:"disableTooltip"},exportAs:["awfTooltipDirective"],features:[core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AgilentTooltipDirective,[{type:core.Directive,args:[{selector:"[agTooltip]",exportAs:"awfTooltipDirective"}]}],(function(){return[{type:core.ElementRef},{type:core.Renderer2}]}),{tooltipContent:[{type:core.Input}],tooltipPlacement:[{type:core.Input}],tooltipOpenEvent:[{type:core.Input}],tooltipCloseEvent:[{type:core.Input}],disableTooltip:[{type:core.Input}]});class TooltipModule{static ɵfac=function TooltipModule_Factory(t){return new(t||TooltipModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:TooltipModule,declarations:[AgilentTooltipDirective],imports:[common.CommonModule],exports:[AgilentTooltipDirective]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](TooltipModule,[{type:core.NgModule,args:[{imports:[common.CommonModule],exports:[AgilentTooltipDirective],declarations:[AgilentTooltipDirective]}]}],null,null);const agilent_ui_element_icon_button_c0=["button"],agilent_ui_element_icon_button_c1=function(){return{disabled:"disabled"}};class IconButtonComponent{tooltipContent;tooltipPlacement="auto";disabled=!1;raw;name;url;src;active=!1;clicked=new core.EventEmitter;button;constructor(){}buttonClicked(){this.clicked.emit()}static ɵfac=function IconButtonComponent_Factory(t){return new(t||IconButtonComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:IconButtonComponent,selectors:[["ag-icon-button"]],viewQuery:function IconButtonComponent_Query(rf,ctx){if(1&rf&&core["ɵɵviewQuery"](agilent_ui_element_icon_button_c0,5),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.button=_t.first)}},inputs:{tooltipContent:"tooltipContent",tooltipPlacement:"tooltipPlacement",disabled:"disabled",raw:"raw",name:"name",url:"url",src:"src",active:"active"},outputs:{clicked:"clicked"},decls:4,vars:10,consts:[["agTooltip","",3,"tooltipContent","tooltipPlacement","ngClass"],[1,"awf-icon-button",3,"disabled","click"],["button",""],[3,"name","raw","url"]],template:function IconButtonComponent_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div",0)(1,"button",1,2),core["ɵɵlistener"]("click",(function IconButtonComponent_Template_button_click_1_listener(){return ctx.buttonClicked()})),core["ɵɵelement"](3,"awf-icon-ng",3),core["ɵɵelementEnd"]()()),2&rf&&(core["ɵɵproperty"]("tooltipContent",ctx.tooltipContent)("tooltipPlacement",ctx.tooltipPlacement)("ngClass",core["ɵɵpureFunction0"](9,agilent_ui_element_icon_button_c1)),core["ɵɵadvance"](1),core["ɵɵclassProp"]("active",ctx.active),core["ɵɵproperty"]("disabled",ctx.disabled),core["ɵɵadvance"](2),core["ɵɵproperty"]("name",ctx.name)("raw",ctx.raw)("url",ctx.url))},dependencies:[common.NgClass,agilent_ui_element_icon.oJ,AgilentTooltipDirective],styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2021-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n *//*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:inline-block;position:relative;max-width:var(--ag-icon-button-dimension, 2rem);max-height:var(--ag-icon-button-dimension, 2rem)}.awf-icon-button{height:var(--ag-icon-button-dimension, 2rem);width:var(--ag-icon-button-dimension, 2rem);display:inline-flex;align-items:center;justify-content:center;background-color:transparent;border:0;border-radius:0;color:var(--at-dark-navy);--awf-icon-color: var(--at-dark-navy);cursor:pointer}.awf-icon-button:hover{background-color:var(--ag-icon-button-hover-bg-color, var(--at-blue-soft))}.awf-icon-button:not(:hover):active,.awf-icon-button:not(:hover).active{background-color:var(--at-blue-medium)}.awf-icon-button:focus-visible,.awf-icon-button:focus{outline:none!important;box-shadow:none}.awf-icon-button:focus-visible{border:1px solid var(--at-blue-shade)}.awf-icon-button[disabled]{cursor:not-allowed;--awf-icon-color: var(--at-gray)}.awf-icon-button[disabled]:hover,.awf-icon-button[disabled]:active,.awf-icon-button[disabled].active{background-color:transparent}ag-icon,awf-icon-ng{--awf-icon-size: var(--ag-icon-button-font-size, 1.5rem)}\n'],encapsulation:3})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](IconButtonComponent,[{type:core.Component,args:[{selector:"ag-icon-button",encapsulation:core.ViewEncapsulation.ShadowDom,template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2021-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n\r\n<div agTooltip [tooltipContent]="tooltipContent" [tooltipPlacement]="tooltipPlacement" [ngClass]="{ disabled: \'disabled\' }">\r\n    <button #button\r\n            class="awf-icon-button"\r\n            [class.active]="active"\r\n            [disabled]="disabled"\r\n            (click)="buttonClicked()">\r\n        <awf-icon-ng [name]="name" [raw]="raw" [url]="url"></awf-icon-ng>\r\n    </button>\r\n</div>\r\n',styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2021-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n *//*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:inline-block;position:relative;max-width:var(--ag-icon-button-dimension, 2rem);max-height:var(--ag-icon-button-dimension, 2rem)}.awf-icon-button{height:var(--ag-icon-button-dimension, 2rem);width:var(--ag-icon-button-dimension, 2rem);display:inline-flex;align-items:center;justify-content:center;background-color:transparent;border:0;border-radius:0;color:var(--at-dark-navy);--awf-icon-color: var(--at-dark-navy);cursor:pointer}.awf-icon-button:hover{background-color:var(--ag-icon-button-hover-bg-color, var(--at-blue-soft))}.awf-icon-button:not(:hover):active,.awf-icon-button:not(:hover).active{background-color:var(--at-blue-medium)}.awf-icon-button:focus-visible,.awf-icon-button:focus{outline:none!important;box-shadow:none}.awf-icon-button:focus-visible{border:1px solid var(--at-blue-shade)}.awf-icon-button[disabled]{cursor:not-allowed;--awf-icon-color: var(--at-gray)}.awf-icon-button[disabled]:hover,.awf-icon-button[disabled]:active,.awf-icon-button[disabled].active{background-color:transparent}ag-icon,awf-icon-ng{--awf-icon-size: var(--ag-icon-button-font-size, 1.5rem)}\n']}]}],(function(){return[]}),{tooltipContent:[{type:core.Input}],tooltipPlacement:[{type:core.Input}],disabled:[{type:core.Input}],raw:[{type:core.Input}],name:[{type:core.Input}],url:[{type:core.Input}],src:[{type:core.Input}],active:[{type:core.Input}],clicked:[{type:core.Output}],button:[{type:core.ViewChild,args:["button",{static:!1}]}]});class IconButtonModule{static ɵfac=function IconButtonModule_Factory(t){return new(t||IconButtonModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:IconButtonModule,declarations:[IconButtonComponent],imports:[common.CommonModule,agilent_ui_element_icon.QX,TooltipModule],exports:[IconButtonComponent]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule,agilent_ui_element_icon.QX,TooltipModule]})}function InputWrapperComponent_ng_container_0_Template(rf,ctx){1&rf&&core["ɵɵelementContainer"](0)}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](IconButtonModule,[{type:core.NgModule,args:[{imports:[common.CommonModule,agilent_ui_element_icon.QX,TooltipModule],exports:[IconButtonComponent],declarations:[IconButtonComponent]}]}],null,null);const agilent_ui_element_input_c0=["inputModel"],agilent_ui_element_input_c1=["inputElement"],_c2=function(a0,a1){return{"clickable-icon":a0,"disabled-icon":a1}};function InputComponent_ng_template_1_ng_template_1_div_1_Template(rf,ctx){if(1&rf){const _r9=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"div",9)(1,"awf-icon-ng",10),core["ɵɵlistener"]("mouseenter",(function InputComponent_ng_template_1_ng_template_1_div_1_Template_awf_icon_ng_mouseenter_1_listener(){core["ɵɵrestoreView"](_r9);const ctx_r8=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r8.hasMouseOver=!0)}))("mouseleave",(function InputComponent_ng_template_1_ng_template_1_div_1_Template_awf_icon_ng_mouseleave_1_listener(){core["ɵɵrestoreView"](_r9);const ctx_r10=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r10.hasMouseOver=!1)}))("click",(function InputComponent_ng_template_1_ng_template_1_div_1_Template_awf_icon_ng_click_1_listener(){core["ɵɵrestoreView"](_r9);const ctx_r11=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r11.prependIconDoClick())})),core["ɵɵelementEnd"]()()}if(2&rf){const ctx_r4=core["ɵɵnextContext"](3);core["ɵɵadvance"](1),core["ɵɵproperty"]("name",ctx_r4.prependIconName)("raw",ctx_r4.prependIconRaw)("ngClass",core["ɵɵpureFunction2"](4,_c2,ctx_r4.showIncrementButtons,!ctx_r4.isPrependIconEnabled())),core["ɵɵattribute"]("tabindex",ctx_r4.showIncrementButtons?0:-1)}}function InputComponent_ng_template_1_ng_template_1_input_2_Template(rf,ctx){if(1&rf){const _r15=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"input",11,12),core["ɵɵlistener"]("ngModelChange",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_ngModelChange_0_listener($event){core["ɵɵrestoreView"](_r15);const ctx_r14=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r14.value=$event)}))("focus",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_focus_0_listener(){core["ɵɵrestoreView"](_r15);const ctx_r16=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r16.onFocus())}))("blur",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_blur_0_listener(){core["ɵɵrestoreView"](_r15);const ctx_r17=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r17.onInputBlur())}))("mouseenter",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_mouseenter_0_listener(){core["ɵɵrestoreView"](_r15);const ctx_r18=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r18.hasMouseOver=!0)}))("mouseleave",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_mouseleave_0_listener(){core["ɵɵrestoreView"](_r15);const ctx_r19=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r19.hasMouseOver=!1)}))("keydown.enter",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_keydown_enter_0_listener(){core["ɵɵrestoreView"](_r15);const ctx_r20=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r20.onEnterPress())}))("keydown",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_keydown_0_listener($event){core["ɵɵrestoreView"](_r15);const ctx_r21=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r21.onKeyDown($event))}))("input",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_input_0_listener($event){core["ɵɵrestoreView"](_r15);const ctx_r22=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r22.onInputChange($event.target.value))}))("ngModelChange",(function InputComponent_ng_template_1_ng_template_1_input_2_Template_input_ngModelChange_0_listener(){core["ɵɵrestoreView"](_r15);const ctx_r23=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r23.onNgModelChange())})),core["ɵɵelementEnd"]()}if(2&rf){const ctx_r5=core["ɵɵnextContext"](3);core["ɵɵproperty"]("agNumberAlignOnRight",ctx_r5.alignContentOnRight)("agNumberValidator",ctx_r5.isNumeric())("agType",ctx_r5.valueType)("required",ctx_r5.required)("agMin",ctx_r5.min)("agMax",ctx_r5.max)("precision",ctx_r5.precision)("scientificNotation",ctx_r5.scientificNotation)("thousandSeparator",ctx_r5.thousandSeparator)("placeholder",ctx_r5.placeholder)("disabled",ctx_r5.disabled)("agMask",ctx_r5.mask)("ngModel",ctx_r5.value),core["ɵɵattribute"]("autocomplete",ctx_r5.allowsAutocomplete?null:"off")("id",ctx_r5.getInnerInputId())("maxlength",ctx_r5.maxlength)}}function InputComponent_ng_template_1_ng_template_1_textarea_3_Template(rf,ctx){if(1&rf){const _r27=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"textarea",13,12),core["ɵɵlistener"]("ngModelChange",(function InputComponent_ng_template_1_ng_template_1_textarea_3_Template_textarea_ngModelChange_0_listener($event){core["ɵɵrestoreView"](_r27);const ctx_r26=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r26.value=$event)}))("ngModelChange",(function InputComponent_ng_template_1_ng_template_1_textarea_3_Template_textarea_ngModelChange_0_listener(){core["ɵɵrestoreView"](_r27);const ctx_r28=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r28.onNgModelChange())}))("focus",(function InputComponent_ng_template_1_ng_template_1_textarea_3_Template_textarea_focus_0_listener(){core["ɵɵrestoreView"](_r27);const ctx_r29=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r29.hasFocus=!0)}))("blur",(function InputComponent_ng_template_1_ng_template_1_textarea_3_Template_textarea_blur_0_listener(){core["ɵɵrestoreView"](_r27);const ctx_r30=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r30.onBlur())}))("mouseenter",(function InputComponent_ng_template_1_ng_template_1_textarea_3_Template_textarea_mouseenter_0_listener(){core["ɵɵrestoreView"](_r27);const ctx_r31=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r31.hasMouseOver=!0)}))("mouseleave",(function InputComponent_ng_template_1_ng_template_1_textarea_3_Template_textarea_mouseleave_0_listener(){core["ɵɵrestoreView"](_r27);const ctx_r32=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r32.hasMouseOver=!1)})),core["ɵɵelementEnd"]()}if(2&rf){const ctx_r6=core["ɵɵnextContext"](3);core["ɵɵstyleProp"]("height",ctx_r6.height?ctx_r6.height:null,"px"),core["ɵɵproperty"]("ngModel",ctx_r6.value)("required",ctx_r6.required)("placeholder",ctx_r6.placeholder)("disabled",ctx_r6.disabled)("maxlength",ctx_r6.maxlength),core["ɵɵattribute"]("id",ctx_r6.getInnerInputId())}}function InputComponent_ng_template_1_ng_template_1_div_4_Template(rf,ctx){if(1&rf){const _r34=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"div",14)(1,"awf-icon-ng",15),core["ɵɵlistener"]("mouseenter",(function InputComponent_ng_template_1_ng_template_1_div_4_Template_awf_icon_ng_mouseenter_1_listener(){core["ɵɵrestoreView"](_r34);const ctx_r33=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r33.hasMouseOver=!0)}))("mouseleave",(function InputComponent_ng_template_1_ng_template_1_div_4_Template_awf_icon_ng_mouseleave_1_listener(){core["ɵɵrestoreView"](_r34);const ctx_r35=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r35.hasMouseOver=!1)}))("click",(function InputComponent_ng_template_1_ng_template_1_div_4_Template_awf_icon_ng_click_1_listener(){core["ɵɵrestoreView"](_r34);const ctx_r36=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r36.appendIconDoClick())})),core["ɵɵelementEnd"]()()}if(2&rf){const ctx_r7=core["ɵɵnextContext"](3);core["ɵɵadvance"](1),core["ɵɵproperty"]("name",ctx_r7.appendIconName)("raw",ctx_r7.appendIconRaw)("ngClass",core["ɵɵpureFunction2"](4,_c2,ctx_r7.showIncrementButtons,!ctx_r7.isAppendIconEnabled())),core["ɵɵattribute"]("tabindex",ctx_r7.showIncrementButtons?0:-1)}}function InputComponent_ng_template_1_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",4),core["ɵɵtemplate"](1,InputComponent_ng_template_1_ng_template_1_div_1_Template,2,7,"div",5),core["ɵɵtemplate"](2,InputComponent_ng_template_1_ng_template_1_input_2_Template,3,16,"input",6),core["ɵɵtemplate"](3,InputComponent_ng_template_1_ng_template_1_textarea_3_Template,3,8,"textarea",7),core["ɵɵtemplate"](4,InputComponent_ng_template_1_ng_template_1_div_4_Template,2,7,"div",8),core["ɵɵelementEnd"]()),2&rf){const ctx_r3=core["ɵɵnextContext"](2);core["ɵɵclassProp"]("disabled",ctx_r3.disabled),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx_r3.prependIcon||ctx_r3.showIncrementButtons),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf","multiline"!=ctx_r3.valueType),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf","multiline"==ctx_r3.valueType),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx_r3.appendIcon||ctx_r3.showIncrementButtons)}}function InputComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"ag-input-wrapper",2),core["ɵɵtemplate"](1,InputComponent_ng_template_1_ng_template_1_Template,5,6,"ng-template",null,3,core["ɵɵtemplateRefExtractor"]),core["ɵɵelementEnd"]()),2&rf){const _r2=core["ɵɵreference"](2),ctx_r1=core["ɵɵnextContext"]();core["ɵɵclassProp"]("has-error",ctx_r1.errors.length>0)("awf-mouse-over",!ctx_r1.disabled&&ctx_r1.hasMouseOver)("has-focus",ctx_r1.hasFocus),core["ɵɵproperty"]("templateRef",_r2)}}var agilent_ui_element_input_InputType;!function(InputType){InputType.TEXT="text",InputType.MULTILINE="multiline",InputType.NUMBER="number",InputType.INTEGER="integer",InputType.PASSWORD="password",InputType.FILE="file"}(agilent_ui_element_input_InputType||(agilent_ui_element_input_InputType={}));const POSITIVE_NUMERIC=new RegExp("[^\\d.]","g"),POSITIVE_INTEGER=new RegExp("[^\\d]","g"),NUMERIC=new RegExp("[^\\d\\-.]","g"),INTEGER=new RegExp("[^\\d\\-]","g"),SCIENTIFIC_NOTATION=new RegExp("[^\\d+\\-eE.]","g");class InputCharacterAllowService{excludeNonNumericCharacters(value,scientificNotation=!1,type,min){return value.replace(this.getRegExp(scientificNotation,type,min),"")}getRegExp(scientificNotation=!1,type,min){return scientificNotation?SCIENTIFIC_NOTATION:min>=0?type===agilent_ui_element_input_InputType.INTEGER?POSITIVE_INTEGER:POSITIVE_NUMERIC:type===agilent_ui_element_input_InputType.INTEGER?INTEGER:NUMERIC}static ɵfac=function InputCharacterAllowService_Factory(t){return new(t||InputCharacterAllowService)};static ɵprov=core["ɵɵdefineInjectable"]({token:InputCharacterAllowService,factory:InputCharacterAllowService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputCharacterAllowService,[{type:core.Injectable}],null,null);class DisplayNumberPipe{numberFormatter;constructor(numberFormatter){this.numberFormatter=numberFormatter}transform(value,precision,scientificNotation,thousandSeparator){return this.numberFormatter.format(value,precision,scientificNotation,thousandSeparator)}static ɵfac=function DisplayNumberPipe_Factory(t){return new(t||DisplayNumberPipe)(core["ɵɵdirectiveInject"](NumberFormatService,16))};static ɵpipe=core["ɵɵdefinePipe"]({name:"displayNumber",type:DisplayNumberPipe,pure:!0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](DisplayNumberPipe,[{type:core.Pipe,args:[{name:"displayNumber"}]}],(function(){return[{type:NumberFormatService}]}),null);class InputDirectiveService{maskService;justPasted;keyCode;start;end;constructor(maskService){this.maskService=maskService}handleEvent(event){const input=event.target,selectionPosition=1===input.selectionStart?input.selectionStart+this.maskService.prefix.length:input.selectionStart;let caretShift=0,backspaceShift=!1;input.value=this.applyMask(input.value,this.maskService.maskExpression,selectionPosition,this.justPasted,"Backspace"===this.keyCode,((shift,_backspaceShift)=>{this.justPasted=!1,caretShift=shift,backspaceShift=_backspaceShift}));let positionToApply=selectionPosition+("Backspace"!==this.keyCode||backspaceShift?caretShift:0);positionToApply>this.getActualInputLength()&&(positionToApply=this.getActualInputLength()),input.setSelectionRange(positionToApply,positionToApply)}applyMask(inputValue,maskExpression,position=0,justPasted=!1,backspaced=!1,cb=(()=>{})){return maskExpression||(maskExpression=this.maskService.maskExpression),this.maskService.applyMask(inputValue,maskExpression,position,justPasted,backspaced,cb)}updateMask(mask){this.maskService.maskExpression=this.repeatPatternSymbols(mask)}repeatPatternSymbols(maskExp){return maskExp.match(/{[0-9]+}/)&&maskExp.split("").reduce(((accum,currval,index)=>{if(this.start="{"===currval?index:this.start,"}"!==currval)return this.maskService._findSpecialChar(currval)?accum+currval:accum;this.end=index;const repeatNumber=Number(maskExp.slice(this.start+1,this.end));return accum+new Array(repeatNumber+1).join(maskExp[this.start-1])}),"")||maskExp}getActualInputLength(){return this.maskService.actualValue.length||this.maskService.actualValue.length+this.maskService.prefix.length}static ɵfac=function InputDirectiveService_Factory(t){return new(t||InputDirectiveService)(core["ɵɵinject"](NgxMaskService))};static ɵprov=core["ɵɵdefineInjectable"]({token:InputDirectiveService,factory:InputDirectiveService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputDirectiveService,[{type:core.Injectable}],(function(){return[{type:NgxMaskService}]}),null);const AG_INPUT_DIRECTIVE_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>InputDirective)),multi:!0};class InputDirective{_elementRef;_renderer;displayNumberPipe;inputDirectiveService;characterAllowService;get isNumber(){return this.agNumberAlignOnRight?"right":"left"}value;viewValue;_type=agilent_ui_element_input_InputType.TEXT;_precision;_scientificNotation;_thousandSeparator;_agNumberAlignOnRight;set precision(precision){this._precision=precision}get precision(){return this._type===agilent_ui_element_input_InputType.INTEGER?0:this._precision}changeFunction=()=>{};touchedFunction=()=>{};get agType(){return this._type}set agType(value){this.overrideNativeType(value)}get scientificNotation(){return this._scientificNotation}set scientificNotation(value){this._scientificNotation=coerceBooleanProperty(value)}get thousandSeparator(){return this._thousandSeparator}set thousandSeparator(value){this._thousandSeparator=coerceBooleanProperty(value)}mask;min;subscription;constructor(_elementRef,_renderer,displayNumberPipe,inputDirectiveService,characterAllowService,translateService){this._elementRef=_elementRef,this._renderer=_renderer,this.displayNumberPipe=displayNumberPipe,this.inputDirectiveService=inputDirectiveService,this.characterAllowService=characterAllowService,this.subscription=translateService.onLangChange.subscribe((()=>{this.updateAndDrawViewValue()}))}ngOnDestroy(){this.subscription.unsubscribe()}writeValue(value){this.value=value,this.updateAndDrawViewValue()}onChange(event){const input=event.target;let value=input.value;this.isNumeric()?(value=this.characterAllowService.excludeNonNumericCharacters(input.value,this._scientificNotation,this.agType,this.min),value!==input.value&&(input.value=value)):this.mask&&(this.inputDirectiveService.handleEvent(event),value=input.value),this.changeFunction(value),this.value=value,this.viewValue=this.filterValue(value)}onPaste(){this.inputDirectiveService.justPasted=!0}onKeyDown($event){this.inputDirectiveService.keyCode=$event.code?$event.code:$event.key}onTouched(){this.touchedFunction(),this.drawViewValue()}onFocus(){const normalizedValue=null==this.value?"":this.value;this._renderer.setProperty(this._elementRef.nativeElement,"value",normalizedValue)}registerOnChange(newOnChangeFunction){this.changeFunction=newOnChangeFunction}registerOnTouched(newOnTouchFunction){this.touchedFunction=newOnTouchFunction}setDisabledState(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",isDisabled)}ngOnChanges(changes){if(changes.mask){const oldValue=this.value||"";this.inputDirectiveService.updateMask(changes.mask.currentValue||""),this.value=this.inputDirectiveService.applyMask(this.value),oldValue!==this.value&&this.callChangeFunctionOnNextTick()}this.updateAndDrawViewValue()}set agNumberAlignOnRight(val){this._agNumberAlignOnRight=val}get agNumberAlignOnRight(){return!!this.isNumeric()&&(void 0===this._agNumberAlignOnRight||this._agNumberAlignOnRight)}drawViewValue(){const normalizedValue=null==this.viewValue?"":this.viewValue;this._renderer.setProperty(this._elementRef.nativeElement,"value",normalizedValue)}updateAndDrawViewValue(){this.viewValue=this.filterValue(this.value),this.drawViewValue()}overrideNativeType(value){this._type=value||agilent_ui_element_input_InputType.TEXT,value===agilent_ui_element_input_InputType.FILE||value===agilent_ui_element_input_InputType.PASSWORD?this._renderer.setProperty(this._elementRef.nativeElement,"type",value):this._renderer.setProperty(this._elementRef.nativeElement,"type","text")}filterValue(val){let normalizedValue=null==val?"":val;return this.isNumeric()&&this._elementRef.nativeElement.classList.contains("ng-valid")&&(normalizedValue=this.displayNumberPipe.transform(normalizedValue,this.precision,this.scientificNotation,this.thousandSeparator)),normalizedValue}callChangeFunctionOnNextTick(){setTimeout((()=>{this.changeFunction(this.value)}))}isNumeric(){return[agilent_ui_element_input_InputType.NUMBER,agilent_ui_element_input_InputType.INTEGER].includes(this._type)}static ɵfac=function InputDirective_Factory(t){return new(t||InputDirective)(core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](DisplayNumberPipe),core["ɵɵdirectiveInject"](InputDirectiveService),core["ɵɵdirectiveInject"](InputCharacterAllowService),core["ɵɵdirectiveInject"](TranslateService))};static ɵdir=core["ɵɵdefineDirective"]({type:InputDirective,selectors:[["input","agInput",""]],hostVars:2,hostBindings:function InputDirective_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("input",(function InputDirective_input_HostBindingHandler($event){return ctx.onChange($event)}))("change",(function InputDirective_change_HostBindingHandler($event){return ctx.onChange($event)}))("paste",(function InputDirective_paste_HostBindingHandler(){return ctx.onPaste()}))("keydown",(function InputDirective_keydown_HostBindingHandler($event){return ctx.onKeyDown($event)}))("blur",(function InputDirective_blur_HostBindingHandler(){return ctx.onTouched()}))("focus",(function InputDirective_focus_HostBindingHandler(){return ctx.onFocus()})),2&rf&&core["ɵɵstyleProp"]("text-align",ctx.isNumber)},inputs:{precision:"precision",agType:"agType",scientificNotation:"scientificNotation",thousandSeparator:"thousandSeparator",mask:["agMask","mask"],min:["agMin","min"],agNumberAlignOnRight:"agNumberAlignOnRight"},features:[core["ɵɵProvidersFeature"]([AG_INPUT_DIRECTIVE_VALUE_ACCESSOR,InputDirectiveService,DisplayNumberPipe]),core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputDirective,[{type:core.Directive,args:[{selector:"input[agInput]",providers:[AG_INPUT_DIRECTIVE_VALUE_ACCESSOR,InputDirectiveService,DisplayNumberPipe]}]}],(function(){return[{type:core.ElementRef},{type:core.Renderer2},{type:DisplayNumberPipe},{type:InputDirectiveService},{type:InputCharacterAllowService},{type:TranslateService}]}),{isNumber:[{type:core.HostBinding,args:["style.text-align"]}],precision:[{type:core.Input}],agType:[{type:core.Input}],scientificNotation:[{type:core.Input}],thousandSeparator:[{type:core.Input}],mask:[{type:core.Input,args:["agMask"]}],min:[{type:core.Input,args:["agMin"]}],onChange:[{type:core.HostListener,args:["input",["$event"]]},{type:core.HostListener,args:["change",["$event"]]}],onPaste:[{type:core.HostListener,args:["paste"]}],onKeyDown:[{type:core.HostListener,args:["keydown",["$event"]]}],onTouched:[{type:core.HostListener,args:["blur"]}],onFocus:[{type:core.HostListener,args:["focus"]}],agNumberAlignOnRight:[{type:core.Input}]});class InputWrapperComponent{templateRef;constructor(){}static ɵfac=function InputWrapperComponent_Factory(t){return new(t||InputWrapperComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:InputWrapperComponent,selectors:[["ag-input-wrapper"]],inputs:{templateRef:"templateRef"},decls:1,vars:1,consts:[[4,"ngTemplateOutlet"]],template:function InputWrapperComponent_Template(rf,ctx){1&rf&&core["ɵɵtemplate"](0,InputWrapperComponent_ng_container_0_Template,1,0,"ng-container",0),2&rf&&core["ɵɵproperty"]("ngTemplateOutlet",ctx.templateRef)},dependencies:[common.NgTemplateOutlet],styles:['@charset "UTF-8";:host{display:block}.ng-option-label,.awf-dropdown-menu{font-size:var(--ag-dropdown-item-font-size, .875rem)!important}.awf-form-low-density,.awf-density-low{--ag-label-font-size: 1rem;--ag-label-padding-top: .531rem;--ag-label-top: 24px;--ag-linear-field-container-margin-bottom: 12px;--ag-label-left-icon-padding-left: 35px}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-paginator,.awf-density-low ag-icon-button,.awf-density-low ag-paginator{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-icon-button,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-input,.awf-form-low-density ag-input-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-input,.awf-density-low ag-input-wc,.awf-density-low ag-paginator{--ag-input-font-size: 1rem;--ag-input-height: 2.375rem;--ag-input-padding-left: .75rem;--ag-input-padding-right: .75rem;--ag-input-icon-font-size: 2rem}.awf-form-low-density ag-button,.awf-form-low-density awf-button-ng,.awf-form-low-density ag-button-wc,.awf-form-low-density ag-button-group,.awf-form-low-density ag-file-selector,.awf-form-low-density ag-paginator,.awf-density-low ag-button,.awf-density-low awf-button-ng,.awf-density-low ag-button-wc,.awf-density-low ag-button-group,.awf-density-low ag-file-selector,.awf-density-low ag-paginator{--ag-button-font-size: 1rem;--ag-button-height: 2.5rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .5rem;--ag-button-children-margin: 1rem;--ag-button-padding: 0 16px}.awf-form-low-density ag-paginator,.awf-density-low ag-paginator{--ag-paginator-margin-left: .75rem}.awf-form-low-density awf-checkbox-ng,.awf-form-low-density ag-checkbox,.awf-density-low awf-checkbox-ng,.awf-density-low ag-checkbox{--ag-checkbox-font-size: 1rem;--ag-checkbox-icon-font-size: 1.25rem;--ag-checkbox-size: 1.25rem}.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-datepicker-input-font-size: 1rem;--ag-datepicker-input-height: 2.375rem;--ag-datepicker-input-padding-left: .75rem;--ag-datepicker-input-padding-right: .75rem}.awf-form-low-density ag-date-range-picker,.awf-form-low-density awf-date-range-picker-ng,.awf-density-low ag-date-range-picker,.awf-density-low awf-date-range-picker-ng{--ag-date-range-picker-input-width: 12.8125rem}.awf-form-low-density ag-file-selector,.awf-density-low ag-file-selector{--ag-file-selector-input-height: 2.375rem;--ag-file-selector-input-font-size: 1rem;--ag-file-selector-padding-left: .75rem;--ag-file-selector-clear-top: 9px;--ag-file-selector-browse-top-padding: 9px;--ag-file-selector-browse-right-padding: .75rem}.awf-form-low-density ag-input-tree,.awf-density-low ag-input-tree{--ag-input-tree-height: 2.375rem;--ag-input-tree-font-size: 1rem;--ag-input-tree-padding-left: .75rem;--ag-input-tree-padding-right: .75rem}.awf-form-low-density ag-select,.awf-form-low-density ag-select-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-select,.awf-density-low ag-select-wc,.awf-density-low ag-paginator{--ag-select-padding-left: .75rem;--ag-select-height: 2.5rem;--ag-select-clear-top: .75rem;--ag-select-value-font-size: 1rem;--ag-select-value-multiple-value-height: 1.875rem}.awf-form-low-density ag-value-unit,.awf-density-low ag-value-unit{--ag-value-unit-height: 2.375rem;--ag-value-unit-padding-left: .75rem}.awf-form-low-density ag-value-unit,.awf-form-low-density ag-value-unit .ng-select-container,.awf-density-low ag-value-unit,.awf-density-low ag-value-unit .ng-select-container{--ag-select-height: 2.375rem;--ag-value-unit-font-size: 1rem;--ag-value-unit-line-height: 2.375rem}.awf-form-low-density ag-stepper,.awf-density-low ag-stepper{--ag-step-height: 2.5rem;--ag-step-font-size: 1rem;--ag-step-padding-x: .75rem}.awf-form-low-density ag-breadcrumbs,.awf-density-low ag-breadcrumbs{--ag-breadcrumbs-height: 40px;--ag-breadcrumbs-font-size: 1rem;--ag-breadcrumbs-padding: .75rem}.awf-form-low-density ag-tabset,.awf-form-low-density awf-tabset-ng,.awf-density-low ag-tabset,.awf-density-low awf-tabset-ng{--ag-tab-header-height: 2.5rem;--ag-tab-header-padding: .75rem;--ag-tab-header-font-size: 1rem;--ag-tab-icon-font-size: 2rem}.awf-form-high-density,.awf-density-high{--ag-label-font-size: .75rem;--ag-label-padding-top: .211rem;--ag-label-top: 20px;--ag-linear-field-container-margin-bottom: 4px;--ag-label-left-icon-padding-left: 19px}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-paginator,.awf-density-high ag-icon-button,.awf-density-high ag-paginator{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-icon-button,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-input,.awf-form-high-density ag-input-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-input,.awf-density-high ag-input-wc,.awf-density-high ag-paginator{--ag-input-font-size: .75rem;--ag-input-height: 1.375rem;--ag-input-padding-left: .375rem;--ag-input-padding-right: .375rem;--ag-input-icon-font-size: 1rem}.awf-form-high-density ag-button,.awf-form-high-density awf-button-ng,.awf-form-high-density ag-button-wc,.awf-form-high-density ag-file-selector,.awf-form-high-density ag-paginator,.awf-density-high ag-button,.awf-density-high awf-button-ng,.awf-density-high ag-button-wc,.awf-density-high ag-file-selector,.awf-density-high ag-paginator{--ag-button-font-size: .75rem;--ag-button-height: 1.5rem;--ag-button-icon-font-size: 1rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .5rem;--ag-button-padding: 0 8px}.awf-form-high-density ag-paginator,.awf-density-high ag-paginator{--ag-paginator-margin-left: .375rem}.awf-form-high-density awf-checkbox-ng,.awf-form-high-density ag-checkbox,.awf-density-high awf-checkbox-ng,.awf-density-high ag-checkbox{--ag-checkbox-font-size: .75rem;--ag-checkbox-icon-font-size: .75rem;--ag-checkbox-size: .75rem}.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-datepicker-input-font-size: .75rem;--ag-datepicker-input-height: 1.375rem;--ag-datepicker-input-padding-left: .375rem;--ag-datepicker-input-padding-right: .375rem}.awf-form-high-density ag-date-range-picker,.awf-form-high-density awf-date-range-picker-ng,.awf-density-high ag-date-range-picker,.awf-density-high awf-date-range-picker-ng{--ag-date-range-picker-input-width: 9.0625rem}.awf-form-high-density ag-file-selector,.awf-density-high ag-file-selector{--ag-file-selector-input-height: 1.375rem;--ag-file-selector-input-font-size: .75rem;--ag-file-selector-padding-left: .375rem;--ag-file-selector-clear-top: 1px;--ag-file-selector-browse-top-padding: 0;--ag-file-selector-browse-right-padding: .375rem}.awf-form-high-density ag-input-tree,.awf-density-high ag-input-tree{--ag-input-tree-height: 1.375rem;--ag-input-tree-font-size: .75rem;--ag-input-tree-arrow-down-top: .1875rem;--ag-input-tree-arrow-up-top: .375rem;--ag-input-tree-clear-top: .125rem;--ag-input-tree-padding-left: .375rem;--ag-input-tree-padding-right: .375rem}.awf-form-high-density ag-select,.awf-form-high-density ag-select-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-select,.awf-density-high ag-select-wc,.awf-density-high ag-paginator{--ag-select-padding-left: .375rem;--ag-select-height: 1.5rem;--ag-select-clear-top: .25rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-select-value-font-size: .75rem;--ag-select-value-multiple-value-height: 1.25rem}.awf-form-high-density ag-value-unit,.awf-density-high ag-value-unit{--ag-value-unit-height: 1.375rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-value-unit-padding-left: .375rem}.awf-form-high-density ag-value-unit,.awf-form-high-density ag-value-unit .ng-select-container,.awf-density-high ag-value-unit,.awf-density-high ag-value-unit .ng-select-container{--ag-select-height: 1.375rem;--ag-value-unit-font-size: .75rem;--ag-value-unit-line-height: 1.1875rem}.awf-form-high-density ag-stepper,.awf-density-high ag-stepper{--ag-step-height: 1.5rem;--ag-step-font-size: .75rem;--ag-step-padding-x: .375rem}.awf-form-high-density ag-breadcrumbs,.awf-density-high ag-breadcrumbs{--ag-breadcrumbs-height: 24px;--ag-breadcrumbs-font-size: .75rem;--ag-breadcrumbs-padding: .375rem}.awf-form-high-density ag-tabset,.awf-form-high-density awf-tabset-ng,.awf-density-high ag-tabset,.awf-density-high awf-tabset-ng{--ag-tab-header-height: 1.5rem;--ag-tab-header-padding: .375rem;--ag-tab-header-font-size: .75rem;--ag-tab-icon-font-size: 1rem}.awf-form-medium-density,.awf-density-medium,form{--ag-label-font-size: .875rem;--ag-linear-field-container-margin-bottom: 8px}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-paginator,.awf-density-medium ag-icon-button,.awf-density-medium ag-paginator,form ag-icon-button,form ag-paginator{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-icon-button,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-icon-button,form ag-datepicker,form awf-input-date-ng{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-button,.awf-form-medium-density awf-button-ng,.awf-form-medium-density ag-button-wc,.awf-form-medium-density ag-file-selector,.awf-form-medium-density ag-paginator,.awf-density-medium ag-button,.awf-density-medium awf-button-ng,.awf-density-medium ag-button-wc,.awf-density-medium ag-file-selector,.awf-density-medium ag-paginator,form ag-button,form awf-button-ng,form ag-button-wc,form ag-file-selector,form ag-paginator{--ag-button-font-size: .875rem;--ag-button-height: 2rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .75rem}.awf-form-medium-density ag-paginator,.awf-density-medium ag-paginator,form ag-paginator{--ag-paginator-margin-left: .5rem}.awf-form-medium-density awf-checkbox-ng,.awf-form-medium-density ag-checkbox,.awf-density-medium awf-checkbox-ng,.awf-density-medium ag-checkbox,form awf-checkbox-ng,form ag-checkbox{--ag-checkbox-font-size: .875rem;--ag-checkbox-icon-font-size: 1rem;--ag-checkbox-size: 1rem}.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-datepicker,form awf-input-date-ng{--ag-datepicker-input-font-size: .875rem;--ag-datepicker-input-height: 1.875rem;--ag-datepicker-input-padding-left: .5rem;--ag-datepicker-input-padding-right: .5rem}.awf-form-medium-density ag-date-range-picker,.awf-form-medium-density awf-date-range-picker-ng,.awf-density-medium ag-date-range-picker,.awf-density-medium awf-date-range-picker-ng,form ag-date-range-picker,form awf-date-range-picker-ng{--ag-date-range-picker-input-width: 10.9375rem}.awf-form-medium-density ag-file-selector,.awf-density-medium ag-file-selector,form ag-file-selector{--ag-file-selector-input-height: 1.875rem;--ag-file-selector-input-font-size: .875rem;--ag-file-selector-padding-left: .5rem;--ag-file-selector-clear-top: 5px;--ag-file-selector-browse-top-padding: 4px;--ag-file-selector-browse-right-padding: .5rem}.awf-form-medium-density ag-input-tree,.awf-density-medium ag-input-tree,form ag-input-tree{--ag-input-tree-height: 1.875rem;--ag-input-tree-font-size: .875rem;--ag-input-tree-padding-left: .5rem;--ag-input-tree-padding-right: .5rem}.awf-form-medium-density ag-value-unit,.awf-density-medium ag-value-unit,form ag-value-unit{--ag-value-unit-height: 1.875rem;--ag-value-unit-font-size: .875rem;--ag-value-unit-padding-left: .5rem}.awf-form-medium-density ag-select,.awf-form-medium-density ag-select-wc,.awf-form-medium-density ag-paginator,.awf-density-medium ag-select,.awf-density-medium ag-select-wc,.awf-density-medium ag-paginator,form ag-select,form ag-select-wc,form ag-paginator{--ag-select-clear-top: .4375rem;--ag-select-value-font-size: .875rem;--ag-select-value-multiple-value-height: 1.5rem}.awf-form-medium-density ag-stepper,.awf-density-medium ag-stepper,form ag-stepper{--ag-step-height: 2rem;--ag-step-font-size: .875rem;--ag-step-padding-x: .5rem}.awf-form-medium-density ag-breadcrumbs,.awf-density-medium ag-breadcrumbs,form ag-breadcrumbs{--ag-breadcrumbs-height: 32px;--ag-breadcrumbs-font-size: .875rem;--ag-breadcrumbs-padding: .5rem}.awf-form-medium-density ag-tabset,.awf-form-medium-density awf-tabset-ng,.awf-density-medium ag-tabset,.awf-density-medium awf-tabset-ng,form ag-tabset,form awf-tabset-ng{--ag-tab-header-height: 2rem;--ag-tab-header-padding: .5rem;--ag-tab-header-font-size: .875rem;--ag-tab-icon-font-size: 1.5rem}/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host input,:host textarea{border-radius:0;box-shadow:none}:host input::-webkit-input-placeholder,:host textarea::-webkit-input-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input::-moz-placeholder,:host textarea::-moz-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input:-ms-input-placeholder,:host textarea:-ms-input-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input:-moz-placeholder,:host textarea:-moz-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input[disabled]::-webkit-input-placeholder,:host textarea[disabled]::-webkit-input-placeholder{color:var(--at-gray)}:host input[disabled]::-moz-placeholder,:host textarea[disabled]::-moz-placeholder{color:var(--at-gray)}:host input[disabled]:-ms-input-placeholder,:host textarea[disabled]:-ms-input-placeholder{color:var(--at-gray)}:host input[disabled]:-moz-placeholder,:host textarea[disabled]:-moz-placeholder{color:var(--at-gray)}:host(:not(.has-error)){background-color:#fff}:host(.disabled){background-color:#fff}:host(.has-error).row{margin-left:0;margin-right:0}:host(.has-error) input,:host(.has-error) input:focus,:host(.has-error) textarea{background-color:transparent;color:var(--at-red)}:host(.has-error) .input-group{background-color:var(--at-red-light);border:1px solid var(--at-red)!important}:host(.awf-mouse-over) .input-group,:host(.has-focus) .input-group{border:1px solid var(--at-blue-shade)}:host(.awf-mouse-over) label,:host(.has-focus) label{color:var(--at-blue-shade)}input,textarea{border:0;box-sizing:border-box;font-family:inherit;font-size:var(--ag-input-font-size, .875rem)!important;width:100%}input{height:var(--ag-input-height, 1.875rem)!important;padding-left:var(--ag-input-padding-left, .5rem)!important;padding-right:var(--ag-input-padding-right, .5rem)!important}input:not(:first-child){margin-left:-1px}textarea{line-height:1.5;min-height:var(--ag-input-height, 1.875rem)!important;padding:.375rem .75rem;resize:none}input:focus,textarea:focus{outline:0}.inputs-icon{--awf-icon-size: var(--ag-input-icon-font-size, 1.5rem) !important}.inputs-icon:focus-visible{outline:none}.prependIcon.inputs-icon{padding:3px 0 3px 4px}.appendIcon.inputs-icon{padding:3px 4px}input[disabled],textarea[disabled]{background-color:transparent;cursor:not-allowed;color:var(--at-gray)!important}.input-group{align-items:flex-start;border:1px solid var(--at-gray);display:flex;position:relative}.input-group.disabled{border-color:var(--at-gray-soft)}.input-group.disabled .inputs-icon{--awf-icon-color: var(--at-gray)}input:invalid,:-moz-ui-invalid{box-shadow:inherit}.clickable-icon{cursor:pointer}.disabled-icon{cursor:not-allowed;color:var(--at-gray)}.input-group-append{margin-left:-1px}\n'],encapsulation:3})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputWrapperComponent,[{type:core.Component,args:[{selector:"ag-input-wrapper",template:'<ng-container *ngTemplateOutlet="templateRef"></ng-container>',encapsulation:core.ViewEncapsulation.ShadowDom,styles:['@charset "UTF-8";:host{display:block}.ng-option-label,.awf-dropdown-menu{font-size:var(--ag-dropdown-item-font-size, .875rem)!important}.awf-form-low-density,.awf-density-low{--ag-label-font-size: 1rem;--ag-label-padding-top: .531rem;--ag-label-top: 24px;--ag-linear-field-container-margin-bottom: 12px;--ag-label-left-icon-padding-left: 35px}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-paginator,.awf-density-low ag-icon-button,.awf-density-low ag-paginator{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-icon-button,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-input,.awf-form-low-density ag-input-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-input,.awf-density-low ag-input-wc,.awf-density-low ag-paginator{--ag-input-font-size: 1rem;--ag-input-height: 2.375rem;--ag-input-padding-left: .75rem;--ag-input-padding-right: .75rem;--ag-input-icon-font-size: 2rem}.awf-form-low-density ag-button,.awf-form-low-density awf-button-ng,.awf-form-low-density ag-button-wc,.awf-form-low-density ag-button-group,.awf-form-low-density ag-file-selector,.awf-form-low-density ag-paginator,.awf-density-low ag-button,.awf-density-low awf-button-ng,.awf-density-low ag-button-wc,.awf-density-low ag-button-group,.awf-density-low ag-file-selector,.awf-density-low ag-paginator{--ag-button-font-size: 1rem;--ag-button-height: 2.5rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .5rem;--ag-button-children-margin: 1rem;--ag-button-padding: 0 16px}.awf-form-low-density ag-paginator,.awf-density-low ag-paginator{--ag-paginator-margin-left: .75rem}.awf-form-low-density awf-checkbox-ng,.awf-form-low-density ag-checkbox,.awf-density-low awf-checkbox-ng,.awf-density-low ag-checkbox{--ag-checkbox-font-size: 1rem;--ag-checkbox-icon-font-size: 1.25rem;--ag-checkbox-size: 1.25rem}.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-datepicker-input-font-size: 1rem;--ag-datepicker-input-height: 2.375rem;--ag-datepicker-input-padding-left: .75rem;--ag-datepicker-input-padding-right: .75rem}.awf-form-low-density ag-date-range-picker,.awf-form-low-density awf-date-range-picker-ng,.awf-density-low ag-date-range-picker,.awf-density-low awf-date-range-picker-ng{--ag-date-range-picker-input-width: 12.8125rem}.awf-form-low-density ag-file-selector,.awf-density-low ag-file-selector{--ag-file-selector-input-height: 2.375rem;--ag-file-selector-input-font-size: 1rem;--ag-file-selector-padding-left: .75rem;--ag-file-selector-clear-top: 9px;--ag-file-selector-browse-top-padding: 9px;--ag-file-selector-browse-right-padding: .75rem}.awf-form-low-density ag-input-tree,.awf-density-low ag-input-tree{--ag-input-tree-height: 2.375rem;--ag-input-tree-font-size: 1rem;--ag-input-tree-padding-left: .75rem;--ag-input-tree-padding-right: .75rem}.awf-form-low-density ag-select,.awf-form-low-density ag-select-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-select,.awf-density-low ag-select-wc,.awf-density-low ag-paginator{--ag-select-padding-left: .75rem;--ag-select-height: 2.5rem;--ag-select-clear-top: .75rem;--ag-select-value-font-size: 1rem;--ag-select-value-multiple-value-height: 1.875rem}.awf-form-low-density ag-value-unit,.awf-density-low ag-value-unit{--ag-value-unit-height: 2.375rem;--ag-value-unit-padding-left: .75rem}.awf-form-low-density ag-value-unit,.awf-form-low-density ag-value-unit .ng-select-container,.awf-density-low ag-value-unit,.awf-density-low ag-value-unit .ng-select-container{--ag-select-height: 2.375rem;--ag-value-unit-font-size: 1rem;--ag-value-unit-line-height: 2.375rem}.awf-form-low-density ag-stepper,.awf-density-low ag-stepper{--ag-step-height: 2.5rem;--ag-step-font-size: 1rem;--ag-step-padding-x: .75rem}.awf-form-low-density ag-breadcrumbs,.awf-density-low ag-breadcrumbs{--ag-breadcrumbs-height: 40px;--ag-breadcrumbs-font-size: 1rem;--ag-breadcrumbs-padding: .75rem}.awf-form-low-density ag-tabset,.awf-form-low-density awf-tabset-ng,.awf-density-low ag-tabset,.awf-density-low awf-tabset-ng{--ag-tab-header-height: 2.5rem;--ag-tab-header-padding: .75rem;--ag-tab-header-font-size: 1rem;--ag-tab-icon-font-size: 2rem}.awf-form-high-density,.awf-density-high{--ag-label-font-size: .75rem;--ag-label-padding-top: .211rem;--ag-label-top: 20px;--ag-linear-field-container-margin-bottom: 4px;--ag-label-left-icon-padding-left: 19px}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-paginator,.awf-density-high ag-icon-button,.awf-density-high ag-paginator{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-icon-button,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-input,.awf-form-high-density ag-input-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-input,.awf-density-high ag-input-wc,.awf-density-high ag-paginator{--ag-input-font-size: .75rem;--ag-input-height: 1.375rem;--ag-input-padding-left: .375rem;--ag-input-padding-right: .375rem;--ag-input-icon-font-size: 1rem}.awf-form-high-density ag-button,.awf-form-high-density awf-button-ng,.awf-form-high-density ag-button-wc,.awf-form-high-density ag-file-selector,.awf-form-high-density ag-paginator,.awf-density-high ag-button,.awf-density-high awf-button-ng,.awf-density-high ag-button-wc,.awf-density-high ag-file-selector,.awf-density-high ag-paginator{--ag-button-font-size: .75rem;--ag-button-height: 1.5rem;--ag-button-icon-font-size: 1rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .5rem;--ag-button-padding: 0 8px}.awf-form-high-density ag-paginator,.awf-density-high ag-paginator{--ag-paginator-margin-left: .375rem}.awf-form-high-density awf-checkbox-ng,.awf-form-high-density ag-checkbox,.awf-density-high awf-checkbox-ng,.awf-density-high ag-checkbox{--ag-checkbox-font-size: .75rem;--ag-checkbox-icon-font-size: .75rem;--ag-checkbox-size: .75rem}.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-datepicker-input-font-size: .75rem;--ag-datepicker-input-height: 1.375rem;--ag-datepicker-input-padding-left: .375rem;--ag-datepicker-input-padding-right: .375rem}.awf-form-high-density ag-date-range-picker,.awf-form-high-density awf-date-range-picker-ng,.awf-density-high ag-date-range-picker,.awf-density-high awf-date-range-picker-ng{--ag-date-range-picker-input-width: 9.0625rem}.awf-form-high-density ag-file-selector,.awf-density-high ag-file-selector{--ag-file-selector-input-height: 1.375rem;--ag-file-selector-input-font-size: .75rem;--ag-file-selector-padding-left: .375rem;--ag-file-selector-clear-top: 1px;--ag-file-selector-browse-top-padding: 0;--ag-file-selector-browse-right-padding: .375rem}.awf-form-high-density ag-input-tree,.awf-density-high ag-input-tree{--ag-input-tree-height: 1.375rem;--ag-input-tree-font-size: .75rem;--ag-input-tree-arrow-down-top: .1875rem;--ag-input-tree-arrow-up-top: .375rem;--ag-input-tree-clear-top: .125rem;--ag-input-tree-padding-left: .375rem;--ag-input-tree-padding-right: .375rem}.awf-form-high-density ag-select,.awf-form-high-density ag-select-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-select,.awf-density-high ag-select-wc,.awf-density-high ag-paginator{--ag-select-padding-left: .375rem;--ag-select-height: 1.5rem;--ag-select-clear-top: .25rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-select-value-font-size: .75rem;--ag-select-value-multiple-value-height: 1.25rem}.awf-form-high-density ag-value-unit,.awf-density-high ag-value-unit{--ag-value-unit-height: 1.375rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-value-unit-padding-left: .375rem}.awf-form-high-density ag-value-unit,.awf-form-high-density ag-value-unit .ng-select-container,.awf-density-high ag-value-unit,.awf-density-high ag-value-unit .ng-select-container{--ag-select-height: 1.375rem;--ag-value-unit-font-size: .75rem;--ag-value-unit-line-height: 1.1875rem}.awf-form-high-density ag-stepper,.awf-density-high ag-stepper{--ag-step-height: 1.5rem;--ag-step-font-size: .75rem;--ag-step-padding-x: .375rem}.awf-form-high-density ag-breadcrumbs,.awf-density-high ag-breadcrumbs{--ag-breadcrumbs-height: 24px;--ag-breadcrumbs-font-size: .75rem;--ag-breadcrumbs-padding: .375rem}.awf-form-high-density ag-tabset,.awf-form-high-density awf-tabset-ng,.awf-density-high ag-tabset,.awf-density-high awf-tabset-ng{--ag-tab-header-height: 1.5rem;--ag-tab-header-padding: .375rem;--ag-tab-header-font-size: .75rem;--ag-tab-icon-font-size: 1rem}.awf-form-medium-density,.awf-density-medium,form{--ag-label-font-size: .875rem;--ag-linear-field-container-margin-bottom: 8px}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-paginator,.awf-density-medium ag-icon-button,.awf-density-medium ag-paginator,form ag-icon-button,form ag-paginator{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-icon-button,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-icon-button,form ag-datepicker,form awf-input-date-ng{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-button,.awf-form-medium-density awf-button-ng,.awf-form-medium-density ag-button-wc,.awf-form-medium-density ag-file-selector,.awf-form-medium-density ag-paginator,.awf-density-medium ag-button,.awf-density-medium awf-button-ng,.awf-density-medium ag-button-wc,.awf-density-medium ag-file-selector,.awf-density-medium ag-paginator,form ag-button,form awf-button-ng,form ag-button-wc,form ag-file-selector,form ag-paginator{--ag-button-font-size: .875rem;--ag-button-height: 2rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .75rem}.awf-form-medium-density ag-paginator,.awf-density-medium ag-paginator,form ag-paginator{--ag-paginator-margin-left: .5rem}.awf-form-medium-density awf-checkbox-ng,.awf-form-medium-density ag-checkbox,.awf-density-medium awf-checkbox-ng,.awf-density-medium ag-checkbox,form awf-checkbox-ng,form ag-checkbox{--ag-checkbox-font-size: .875rem;--ag-checkbox-icon-font-size: 1rem;--ag-checkbox-size: 1rem}.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-datepicker,form awf-input-date-ng{--ag-datepicker-input-font-size: .875rem;--ag-datepicker-input-height: 1.875rem;--ag-datepicker-input-padding-left: .5rem;--ag-datepicker-input-padding-right: .5rem}.awf-form-medium-density ag-date-range-picker,.awf-form-medium-density awf-date-range-picker-ng,.awf-density-medium ag-date-range-picker,.awf-density-medium awf-date-range-picker-ng,form ag-date-range-picker,form awf-date-range-picker-ng{--ag-date-range-picker-input-width: 10.9375rem}.awf-form-medium-density ag-file-selector,.awf-density-medium ag-file-selector,form ag-file-selector{--ag-file-selector-input-height: 1.875rem;--ag-file-selector-input-font-size: .875rem;--ag-file-selector-padding-left: .5rem;--ag-file-selector-clear-top: 5px;--ag-file-selector-browse-top-padding: 4px;--ag-file-selector-browse-right-padding: .5rem}.awf-form-medium-density ag-input-tree,.awf-density-medium ag-input-tree,form ag-input-tree{--ag-input-tree-height: 1.875rem;--ag-input-tree-font-size: .875rem;--ag-input-tree-padding-left: .5rem;--ag-input-tree-padding-right: .5rem}.awf-form-medium-density ag-value-unit,.awf-density-medium ag-value-unit,form ag-value-unit{--ag-value-unit-height: 1.875rem;--ag-value-unit-font-size: .875rem;--ag-value-unit-padding-left: .5rem}.awf-form-medium-density ag-select,.awf-form-medium-density ag-select-wc,.awf-form-medium-density ag-paginator,.awf-density-medium ag-select,.awf-density-medium ag-select-wc,.awf-density-medium ag-paginator,form ag-select,form ag-select-wc,form ag-paginator{--ag-select-clear-top: .4375rem;--ag-select-value-font-size: .875rem;--ag-select-value-multiple-value-height: 1.5rem}.awf-form-medium-density ag-stepper,.awf-density-medium ag-stepper,form ag-stepper{--ag-step-height: 2rem;--ag-step-font-size: .875rem;--ag-step-padding-x: .5rem}.awf-form-medium-density ag-breadcrumbs,.awf-density-medium ag-breadcrumbs,form ag-breadcrumbs{--ag-breadcrumbs-height: 32px;--ag-breadcrumbs-font-size: .875rem;--ag-breadcrumbs-padding: .5rem}.awf-form-medium-density ag-tabset,.awf-form-medium-density awf-tabset-ng,.awf-density-medium ag-tabset,.awf-density-medium awf-tabset-ng,form ag-tabset,form awf-tabset-ng{--ag-tab-header-height: 2rem;--ag-tab-header-padding: .5rem;--ag-tab-header-font-size: .875rem;--ag-tab-icon-font-size: 1.5rem}/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host input,:host textarea{border-radius:0;box-shadow:none}:host input::-webkit-input-placeholder,:host textarea::-webkit-input-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input::-moz-placeholder,:host textarea::-moz-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input:-ms-input-placeholder,:host textarea:-ms-input-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input:-moz-placeholder,:host textarea:-moz-placeholder{font-style:italic;color:var(--at-gray-medium);font-weight:400}:host input[disabled]::-webkit-input-placeholder,:host textarea[disabled]::-webkit-input-placeholder{color:var(--at-gray)}:host input[disabled]::-moz-placeholder,:host textarea[disabled]::-moz-placeholder{color:var(--at-gray)}:host input[disabled]:-ms-input-placeholder,:host textarea[disabled]:-ms-input-placeholder{color:var(--at-gray)}:host input[disabled]:-moz-placeholder,:host textarea[disabled]:-moz-placeholder{color:var(--at-gray)}:host(:not(.has-error)){background-color:#fff}:host(.disabled){background-color:#fff}:host(.has-error).row{margin-left:0;margin-right:0}:host(.has-error) input,:host(.has-error) input:focus,:host(.has-error) textarea{background-color:transparent;color:var(--at-red)}:host(.has-error) .input-group{background-color:var(--at-red-light);border:1px solid var(--at-red)!important}:host(.awf-mouse-over) .input-group,:host(.has-focus) .input-group{border:1px solid var(--at-blue-shade)}:host(.awf-mouse-over) label,:host(.has-focus) label{color:var(--at-blue-shade)}input,textarea{border:0;box-sizing:border-box;font-family:inherit;font-size:var(--ag-input-font-size, .875rem)!important;width:100%}input{height:var(--ag-input-height, 1.875rem)!important;padding-left:var(--ag-input-padding-left, .5rem)!important;padding-right:var(--ag-input-padding-right, .5rem)!important}input:not(:first-child){margin-left:-1px}textarea{line-height:1.5;min-height:var(--ag-input-height, 1.875rem)!important;padding:.375rem .75rem;resize:none}input:focus,textarea:focus{outline:0}.inputs-icon{--awf-icon-size: var(--ag-input-icon-font-size, 1.5rem) !important}.inputs-icon:focus-visible{outline:none}.prependIcon.inputs-icon{padding:3px 0 3px 4px}.appendIcon.inputs-icon{padding:3px 4px}input[disabled],textarea[disabled]{background-color:transparent;cursor:not-allowed;color:var(--at-gray)!important}.input-group{align-items:flex-start;border:1px solid var(--at-gray);display:flex;position:relative}.input-group.disabled{border-color:var(--at-gray-soft)}.input-group.disabled .inputs-icon{--awf-icon-color: var(--at-gray)}input:invalid,:-moz-ui-invalid{box-shadow:inherit}.clickable-icon{cursor:pointer}.disabled-icon{cursor:not-allowed;color:var(--at-gray)}.input-group-append{margin-left:-1px}\n']}]}],(function(){return[]}),{templateRef:[{type:core.Input}]});class AgValidators{static numberValidator(){return control=>{let forbidden=!1;if(void 0!==control.value&&null!=control.value&&""!==control.value){const formattedValue=`${control.value}`;forbidden=!/^(\-|\+)?([0-9]*(\.[0-9]*)?((e|E)(\-|\+)?[0-9]+)?)$/.test(formattedValue)}let validated=null;return forbidden&&(validated={notANumber:{value:control.value}}),validated}}static wholeNumberValidator(){return control=>{let forbidden=!1;if(void 0!==control.value&&""!==control.value){const numberValue=Number(control.value);forbidden=!Number.isInteger(numberValue)}let validated=null;return forbidden&&(validated={notAnInteger:{value:control.value}}),validated}}static passwordValidator(){return control=>{let forbidden=!1;if(void 0!==control.value&&null!=control.value&&""!==control.value){const formattedValue=`${control.value}`;forbidden=!/^[\u0020-\u00FF]*$/g.test(formattedValue)}let validated=null;return forbidden&&(validated={invalidCharacter:{value:control.value}}),validated}}}class NumberValidator{characterAllowService;get numberValidator(){return this._numberValidator}set numberValidator(val){this._numberValidator=coerceBooleanProperty(val)}_numberValidator=!1;agType;get precision(){return this.agType===agilent_ui_element_input_InputType.INTEGER?0:this._precision}set precision(val){isDefined(val)?this._precision=coerceNumberProperty(val):this._precision=void 0}_precision;get scientificNotation(){return this._scientificNotation}set scientificNotation(val){this._scientificNotation=coerceBooleanProperty(val)}_scientificNotation=!1;min;validator;integerValidator;constructor(characterAllowService){this.characterAllowService=characterAllowService,this.validator=AgValidators.numberValidator(),this.integerValidator=AgValidators.wholeNumberValidator()}handleKeyboardEvent(event){if(this._numberValidator){const value=event.target.value;event.target.value=this.characterAllowService.excludeNonNumericCharacters(value,this._scientificNotation,this.agType,this.min)}}validate(formControl){return!1===this._numberValidator?null:0===this.precision?this.integerValidator(formControl):this.validator(formControl)}static ɵfac=function NumberValidator_Factory(t){return new(t||NumberValidator)(core["ɵɵdirectiveInject"](InputCharacterAllowService))};static ɵdir=core["ɵɵdefineDirective"]({type:NumberValidator,selectors:[["","agNumberValidator",""]],hostBindings:function NumberValidator_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("input",(function NumberValidator_input_HostBindingHandler($event){return ctx.handleKeyboardEvent($event)}))},inputs:{numberValidator:["agNumberValidator","numberValidator"],agType:"agType",precision:"precision",scientificNotation:"scientificNotation",min:["agMin","min"]},features:[core["ɵɵProvidersFeature"]([{provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>NumberValidator)),multi:!0}])]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NumberValidator,[{type:core.Directive,args:[{selector:"[agNumberValidator]",providers:[{provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>NumberValidator)),multi:!0}]}]}],(function(){return[{type:InputCharacterAllowService}]}),{numberValidator:[{type:core.Input,args:["agNumberValidator"]}],agType:[{type:core.Input,args:["agType"]}],precision:[{type:core.Input,args:["precision"]}],scientificNotation:[{type:core.Input,args:["scientificNotation"]}],min:[{type:core.Input,args:["agMin"]}],handleKeyboardEvent:[{type:core.HostListener,args:["input",["$event"]]}]});class MinValidatorDirective{min;_onChange=()=>{};constructor(){}validate(formControl){return Validators.min(this.min)(formControl)}registerOnValidatorChange(fn){this._onChange=fn}ngOnChanges(changes){this._onChange()}static ɵfac=function MinValidatorDirective_Factory(t){return new(t||MinValidatorDirective)};static ɵdir=core["ɵɵdefineDirective"]({type:MinValidatorDirective,selectors:[["","agInput","","agMin",""]],inputs:{min:["agMin","min"]},features:[core["ɵɵProvidersFeature"]([{provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MinValidatorDirective)),multi:!0}]),core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MinValidatorDirective,[{type:core.Directive,args:[{selector:"[agInput][agMin]",providers:[{provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MinValidatorDirective)),multi:!0}]}]}],(function(){return[]}),{min:[{type:core.Input,args:["agMin"]}]});class MaxValidatorDirective{max;_onChange=()=>{};constructor(){}validate(formControl){return Validators.max(this.max)(formControl)}registerOnValidatorChange(fn){this._onChange=fn}ngOnChanges(){this._onChange()}static ɵfac=function MaxValidatorDirective_Factory(t){return new(t||MaxValidatorDirective)};static ɵdir=core["ɵɵdefineDirective"]({type:MaxValidatorDirective,selectors:[["","agInput","","agMax",""]],inputs:{max:["agMax","max"]},features:[core["ɵɵProvidersFeature"]([{provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MaxValidatorDirective)),multi:!0}]),core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MaxValidatorDirective,[{type:core.Directive,args:[{selector:"[agInput][agMax]",providers:[{provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>MaxValidatorDirective)),multi:!0}]}]}],(function(){return[]}),{max:[{type:core.Input,args:["agMax"]}]});const AG_INPUT_VALUE_ACCESSOR={provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>InputComponent)),multi:!0},AG_INPUT_VALIDATOR={provide:NG_VALIDATORS,useExisting:(0,core.forwardRef)((()=>InputComponent)),multi:!0};class InputComponent{changeDetectorRef;elementRef;i18n;inputErrorService;inputCharacterAllowService;inputModel;inputElement;get labelTop(){return"left"!==this.labelPosition}get labelLeft(){return"left"===this.labelPosition}onFocusOut(){this.onBlur()}label="";labelPosition="top";valueType=agilent_ui_element_input_InputType.TEXT;prependIcon;appendIcon;get prependIconName(){if(!this.prependIcon?.startsWith("<"))return this.prependIcon}get prependIconRaw(){return this.showIncrementButtons?remove_subtract_minus.I:this.prependIcon?.startsWith("<")?this.prependIcon:void 0}get appendIconName(){if(!this.appendIcon?.startsWith("<"))return this.appendIcon}get appendIconRaw(){return this.showIncrementButtons?add_plus.d:this.appendIcon?.startsWith("<")?this.appendIcon:void 0}get precision(){return this.valueType===agilent_ui_element_input_InputType.INTEGER?0:this._precision}set precision(val){isDefined(val)?this._precision=coerceNumberProperty(val):this._precision=void 0}_precision;scientificNotation=!0;thousandSeparator=!1;required=!1;disabled=!1;warningMessage;requiredMessageKey="messages.error.required";set alignContentOnRight(alignContentOnRight){this._alignContentOnRight=void 0!==alignContentOnRight?coerceBooleanProperty(alignContentOnRight):void 0}get alignContentOnRight(){return this._alignContentOnRight}_alignContentOnRight;maxlength;set min(val){this._min=val}get min(){return this.isNumeric()?this._min:null}set max(val){this._max=val}get max(){return this.isNumeric()?this._max:null}set placeholder(val){this._placeholder=val}get placeholder(){return"top"===this.labelPosition?"":this._placeholder??""}form;set allowsAutocomplete(val){this._allowsAutocomplete=val}get allowsAutocomplete(){return this.valueType!==agilent_ui_element_input_InputType.PASSWORD&&this._allowsAutocomplete}_allowsAutocomplete=!0;forceFocus=!1;height;errorMessage;mask;set showIncrementButtons(show){this._showIncrementButtons=show}get showIncrementButtons(){return this.isNumeric()&&this._showIncrementButtons&&!this.disabled}_showIncrementButtons=!1;incrementalValue=1;value;hasFocus=!1;hasMouseOver=!1;errors=new Array;valueChange=new core.EventEmitter;touched=new core.EventEmitter;focused=new core.EventEmitter;focusLost=new core.EventEmitter;validValueChange=new core.EventEmitter;inputChange=new core.EventEmitter;_placeholder="";_min;_max;changeFunction=()=>{};touchedFunction=()=>{};subscriptions=new Subscription.w0;constructor(changeDetectorRef,elementRef,i18n,inputErrorService,inputCharacterAllowService){this.changeDetectorRef=changeDetectorRef,this.elementRef=elementRef,this.i18n=i18n,this.inputErrorService=inputErrorService,this.inputCharacterAllowService=inputCharacterAllowService}ngOnInit(){this.form&&this.subscriptions.add(this.form.ngSubmit.subscribe((()=>this.computeErrors())))}ngAfterViewInit(){this.forceFocus&&setTimeout((()=>{this.inputElement.nativeElement.focus()})),this.subscriptions.add(this.inputModel.statusChanges.subscribe((()=>this.computeErrors())))}ngOnChanges(changes){changes.errorMessage&&(this.errors=this.getErrors())}ngOnDestroy(){this.subscriptions.unsubscribe()}writeValue(obj){this.value=obj,this.changeDetectorRef.markForCheck()}hasValue(){return!isNullOrUndefined(this.value)&&""!==this.value}registerOnChange(fn){this.changeFunction=fn}registerOnTouched(fn){this.touchedFunction=fn}setDisabledState(isDisabled){this.disabled=isDisabled,this.changeDetectorRef.markForCheck()}onNgModelChange(){null===this.inputModel.errors&&(this.valueType===agilent_ui_element_input_InputType.NUMBER&&this.value.startsWith(".")&&this.value.length>1&&(this.value=`0${this.value}`),this.validValueChange.emit(this.value)),this.changeFunction(this.value)}onInputChange($event){this.inputChange.emit($event)}getInnerInputId(){const id=this.elementRef.nativeElement.id;return id?`input_${id}`:null}onBlur(){this.hasFocus=!1,this.computeErrors(),this.touchedFunction(),this.touched.emit(),this.focusLost.emit()}onInputBlur(){this.computeErrors()}onFocus(){this.hasFocus=!0,this.focused.emit()}validate(){return this.getErrors().length>0?this.inputModel?.errors:null}onEnterPress(){isDefined(this.form)&&this.form.ngSubmit.emit()}onKeyDown(event){const modifierKeyBesidesShiftKey=event.altKey||event.ctrlKey||event.metaKey;if(this.isNumeric()&&1===event.key.length&&!modifierKeyBesidesShiftKey)if("."===event.key&&this.value?.indexOf(".")>-1)event.preventDefault();else{const filterRegex=this.inputCharacterAllowService.getRegExp(this.scientificNotation,this.valueType),isNotNumeric=filterRegex.test(event.key);filterRegex.lastIndex=0,isNotNumeric&&event.preventDefault()}this.valueType===agilent_ui_element_input_InputType.PASSWORD&&(event.getModifierState&&event.getModifierState("CapsLock")?this.warningMessage=this.i18n.instant("login.messages.capsLockIsOn"):this.warningMessage=null)}isNumeric(){return[agilent_ui_element_input_InputType.NUMBER,agilent_ui_element_input_InputType.INTEGER].includes(this.valueType)}appendIconDoClick(){const currentValue=+this.value;this.showIncrementButtons&&!isNaN(currentValue)&&this.isAppendIconEnabled()&&(this.value=""+ +(currentValue+this.incrementalValue).toFixed(12),this.changeFunction(this.value),this.touchedFunction(),null===this.inputModel.errors&&this.validValueChange.emit(this.value)),this.changeDetectorRef.detectChanges(),this.changeDetectorRef.markForCheck()}prependIconDoClick(){const currentValue=+this.value;this.showIncrementButtons&&!isNaN(currentValue)&&this.isPrependIconEnabled()&&(this.value=""+ +(currentValue-this.incrementalValue).toFixed(12),this.changeFunction(this.value),this.touchedFunction(),null===this.inputModel.errors&&this.validValueChange.emit(this.value)),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges()}isAppendIconEnabled(){return this.showIncrementButtons&&!this.isMaxValueWouldBeReached()}isPrependIconEnabled(){return this.showIncrementButtons&&!this.isMinValueWouldBeReached()}isMaxValueWouldBeReached(){return+this.value+this.incrementalValue>this.max}isMinValueWouldBeReached(){return+this.value-this.incrementalValue<this.min}computeErrors(){this.errors=this.getErrors(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges()}getErrors(){const errors=[];if(this.errorMessage&&errors.push(this.errorMessage),this.required&&this.inputErrorService.canDisplayError("required",this.inputModel,this.form)){let keyToUse=this.requiredMessageKey;void 0===keyToUse&&(keyToUse="messages.error.required"),errors.push(this.i18n.instant(keyToUse))}return this.inputErrorService.canDisplayError("notANumber",this.inputModel,this.form)&&errors.push(this.i18n.instant("messages.error.notANumber")),this.inputErrorService.canDisplayError("notAnInteger",this.inputModel,this.form)&&errors.push(this.i18n.instant("messages.error.notAnInteger")),this.inputErrorService.canDisplayError("min",this.inputModel,this.form)&&errors.push(this.i18n.instant("messages.error.min",{min:this.min})),this.inputErrorService.canDisplayError("max",this.inputModel,this.form)&&errors.push(this.i18n.instant("messages.error.max",{max:this.max})),errors}static ɵfac=function InputComponent_Factory(t){return new(t||InputComponent)(core["ɵɵdirectiveInject"](core.ChangeDetectorRef),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](TranslateService),core["ɵɵdirectiveInject"](InputErrorService),core["ɵɵdirectiveInject"](InputCharacterAllowService))};static ɵcmp=core["ɵɵdefineComponent"]({type:InputComponent,selectors:[["ag-input"]],viewQuery:function InputComponent_Query(rf,ctx){if(1&rf&&(core["ɵɵviewQuery"](agilent_ui_element_input_c0,5),core["ɵɵviewQuery"](agilent_ui_element_input_c1,5)),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.inputModel=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.inputElement=_t.first)}},hostVars:4,hostBindings:function InputComponent_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("blur",(function InputComponent_blur_HostBindingHandler(){return ctx.onFocusOut()})),2&rf&&core["ɵɵclassProp"]("label-top",ctx.labelTop)("label-left",ctx.labelLeft)},inputs:{label:"label",labelPosition:"labelPosition",valueType:"valueType",prependIcon:"prependIcon",appendIcon:"appendIcon",precision:"precision",scientificNotation:"scientificNotation",thousandSeparator:"thousandSeparator",required:"required",disabled:"disabled",warningMessage:"warningMessage",requiredMessageKey:"requiredMessageKey",alignContentOnRight:"alignContentOnRight",maxlength:"maxlength",min:"min",max:"max",placeholder:"placeholder",form:"form",allowsAutocomplete:"allowsAutocomplete",forceFocus:"forceFocus",height:"height",errorMessage:"errorMessage",mask:"mask",showIncrementButtons:"showIncrementButtons",incrementalValue:"incrementalValue"},outputs:{valueChange:"valueChange",touched:"touched",focused:"focused",focusLost:"focusLost",validValueChange:"validValueChange",inputChange:"inputChange"},features:[core["ɵɵProvidersFeature"]([AG_INPUT_VALUE_ACCESSOR,AG_INPUT_VALIDATOR]),core["ɵɵNgOnChangesFeature"]],decls:3,vars:12,consts:[[3,"fieldTemplate","label","labelPosition","required","hasMouseOver","hasFocus","hostHasValue","errors","warning","hasPrependIcon","hasAppendIcon","disabled"],["customField",""],[3,"templateRef"],["inputComponent",""],[1,"input-group","position-relative"],["class","input-group-prepend",4,"ngIf"],["agInput","","autocapitalize","none",3,"agNumberAlignOnRight","agNumberValidator","agType","required","agMin","agMax","precision","scientificNotation","thousandSeparator","placeholder","disabled","agMask","ngModel","ngModelChange","focus","blur","mouseenter","mouseleave","keydown.enter","keydown","input",4,"ngIf"],["class","form-control",3,"ngModel","required","placeholder","disabled","height","maxlength","ngModelChange","focus","blur","mouseenter","mouseleave",4,"ngIf"],["class","input-group-append",4,"ngIf"],[1,"input-group-prepend"],[1,"prependIcon","inputs-icon",3,"name","raw","ngClass","mouseenter","mouseleave","click"],["agInput","","autocapitalize","none",3,"agNumberAlignOnRight","agNumberValidator","agType","required","agMin","agMax","precision","scientificNotation","thousandSeparator","placeholder","disabled","agMask","ngModel","ngModelChange","focus","blur","mouseenter","mouseleave","keydown.enter","keydown","input"],["inputModel","ngModel","inputElement",""],[1,"form-control",3,"ngModel","required","placeholder","disabled","maxlength","ngModelChange","focus","blur","mouseenter","mouseleave"],[1,"input-group-append"],[1,"appendIcon","inputs-icon",3,"name","raw","ngClass","mouseenter","mouseleave","click"]],template:function InputComponent_Template(rf,ctx){if(1&rf&&(core["ɵɵelement"](0,"ag-linear-field",0),core["ɵɵtemplate"](1,InputComponent_ng_template_1_Template,3,7,"ng-template",null,1,core["ɵɵtemplateRefExtractor"])),2&rf){const _r0=core["ɵɵreference"](2);core["ɵɵproperty"]("fieldTemplate",_r0)("label",ctx.label)("labelPosition",ctx.labelPosition)("required",ctx.required)("hasMouseOver",!ctx.disabled&&ctx.hasMouseOver)("hasFocus",ctx.hasFocus)("hostHasValue",ctx.hasValue())("errors",ctx.errors)("warning",ctx.warningMessage)("hasPrependIcon",ctx.prependIcon||ctx.showIncrementButtons)("hasAppendIcon",ctx.appendIcon||ctx.showIncrementButtons)("disabled",ctx.disabled)}},dependencies:[common.NgClass,common.NgIf,DefaultValueAccessor,NgControlStatus,RequiredValidator,MaxLengthValidator,NgModel,LinearFieldComponent,agilent_ui_element_icon.oJ,InputDirective,InputWrapperComponent,NumberValidator,MinValidatorDirective,MaxValidatorDirective],encapsulation:3,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputComponent,[{type:core.Component,args:[{selector:"ag-input",changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[AG_INPUT_VALUE_ACCESSOR,AG_INPUT_VALIDATOR],encapsulation:core.ViewEncapsulation.ShadowDom,template:'\r\n\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2020-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n\r\n<ag-linear-field [fieldTemplate]="customField"\r\n                 [label]="label"\r\n                 [labelPosition]="labelPosition"\r\n                 [required]="required"\r\n                 [hasMouseOver]="!disabled && hasMouseOver"\r\n                 [hasFocus]="hasFocus"\r\n                 [hostHasValue]="hasValue()"\r\n                 [errors]="errors"\r\n                 [warning]="warningMessage"\r\n                 [hasPrependIcon]="prependIcon || showIncrementButtons"\r\n                 [hasAppendIcon]="appendIcon || showIncrementButtons"\r\n                 [disabled]="disabled">\r\n</ag-linear-field>\r\n\r\n<ng-template #customField>\r\n    <ag-input-wrapper [templateRef]="inputComponent"\r\n                      [class.has-error]="errors.length > 0"\r\n                      [class.awf-mouse-over]="!disabled && hasMouseOver"\r\n                      [class.has-focus]="hasFocus">\r\n        <ng-template #inputComponent>\r\n            <div class="input-group position-relative"\r\n                 [class.disabled]="disabled">\r\n                <div *ngIf="prependIcon || showIncrementButtons"\r\n                     class="input-group-prepend">\r\n                    <awf-icon-ng class="prependIcon inputs-icon"\r\n                             [name]="prependIconName"\r\n                             [raw]="prependIconRaw"\r\n                             [ngClass]="{ \'clickable-icon\': showIncrementButtons, \'disabled-icon\': !isPrependIconEnabled() }"\r\n                             (mouseenter)="hasMouseOver = true"\r\n                             (mouseleave)="hasMouseOver = false"\r\n                             (click)="prependIconDoClick()"\r\n                             [attr.tabindex]="showIncrementButtons ? 0 : -1">\r\n                    </awf-icon-ng>\r\n                </div>\r\n\r\n                <input *ngIf="valueType != \'multiline\'"\r\n                       agInput\r\n                       [agNumberAlignOnRight]="alignContentOnRight"\r\n                       [agNumberValidator]="isNumeric()"\r\n                       [agType]="valueType"\r\n                       [required]="required"\r\n                       [agMin]="min"\r\n                       [agMax]="max"\r\n                       [precision]="precision"\r\n                       [scientificNotation]="scientificNotation"\r\n                       [thousandSeparator]="thousandSeparator"\r\n                       [placeholder]="placeholder"\r\n                       [disabled]="disabled"\r\n                       [agMask]="mask"\r\n                       [(ngModel)]="value"\r\n                       (focus)="onFocus()"\r\n                       (blur)="onInputBlur()"\r\n                       (mouseenter)="hasMouseOver = true"\r\n                       (mouseleave)="hasMouseOver = false"\r\n                       (keydown.enter)="onEnterPress()"\r\n                       (keydown)="onKeyDown($event)"\r\n                       (input)="onInputChange($event.target.value)"\r\n                       (ngModelChange)="onNgModelChange()"\r\n                       [attr.autocomplete]="allowsAutocomplete ? null : \'off\'"\r\n                       [attr.id]="getInnerInputId()"\r\n                       [attr.maxlength]="maxlength"\r\n                       autocapitalize="none"\r\n                       #inputModel="ngModel"\r\n                       #inputElement>\r\n\r\n                <textarea *ngIf="valueType == \'multiline\'"\r\n                          class="form-control"\r\n                          [attr.id]="getInnerInputId()"\r\n                          [(ngModel)]="value"\r\n                          (ngModelChange)="onNgModelChange()"\r\n                          [required]="required"\r\n                          [placeholder]="placeholder"\r\n                          [disabled]="disabled"\r\n                          (focus)="hasFocus = true"\r\n                          (blur)="onBlur()"\r\n                          (mouseenter)="hasMouseOver = true"\r\n                          (mouseleave)="hasMouseOver = false"\r\n                          #inputModel="ngModel"\r\n                          #inputElement\r\n                          [style.height.px]="height ? height : null"\r\n                          [maxlength]="maxlength"></textarea>\r\n                <div *ngIf="appendIcon || showIncrementButtons"\r\n                     class="input-group-append">\r\n                    <awf-icon-ng class="appendIcon inputs-icon"\r\n                             [name]="appendIconName"\r\n                             [raw]="appendIconRaw"\r\n                             [ngClass]="{ \'clickable-icon\': showIncrementButtons, \'disabled-icon\': !isAppendIconEnabled() }"\r\n                             (mouseenter)="hasMouseOver = true"\r\n                             (mouseleave)="hasMouseOver = false"\r\n                             (click)="appendIconDoClick()"\r\n                             [attr.tabindex]="showIncrementButtons ? 0 : -1">\r\n                    </awf-icon-ng>\r\n                </div>\r\n            </div>\r\n        </ng-template>\r\n    </ag-input-wrapper>\r\n</ng-template>\r\n'}]}],(function(){return[{type:core.ChangeDetectorRef},{type:core.ElementRef},{type:TranslateService},{type:InputErrorService},{type:InputCharacterAllowService}]}),{inputModel:[{type:core.ViewChild,args:["inputModel",{static:!1}]}],inputElement:[{type:core.ViewChild,args:["inputElement",{static:!1}]}],labelTop:[{type:core.HostBinding,args:["class.label-top"]}],labelLeft:[{type:core.HostBinding,args:["class.label-left"]}],onFocusOut:[{type:core.HostListener,args:["blur"]}],label:[{type:core.Input}],labelPosition:[{type:core.Input}],valueType:[{type:core.Input}],prependIcon:[{type:core.Input}],appendIcon:[{type:core.Input}],precision:[{type:core.Input,args:["precision"]}],scientificNotation:[{type:core.Input}],thousandSeparator:[{type:core.Input}],required:[{type:core.Input}],disabled:[{type:core.Input}],warningMessage:[{type:core.Input}],requiredMessageKey:[{type:core.Input}],alignContentOnRight:[{type:core.Input}],maxlength:[{type:core.Input}],min:[{type:core.Input}],max:[{type:core.Input}],placeholder:[{type:core.Input}],form:[{type:core.Input}],allowsAutocomplete:[{type:core.Input}],forceFocus:[{type:core.Input}],height:[{type:core.Input}],errorMessage:[{type:core.Input}],mask:[{type:core.Input}],showIncrementButtons:[{type:core.Input}],incrementalValue:[{type:core.Input}],valueChange:[{type:core.Output}],touched:[{type:core.Output}],focused:[{type:core.Output}],focusLost:[{type:core.Output}],validValueChange:[{type:core.Output}],inputChange:[{type:core.Output}]});class MaxFractionalDigitCountDirective{host;hostRef;renderer;maxFractionalDigitCount=0;savedValue;get actualMaxDigit(){let actualMaxDigit=this.maxFractionalDigitCount;return 0!==actualMaxDigit&&this.host.precision&&(actualMaxDigit=Math.max(this.host.precision,this.maxFractionalDigitCount)),actualMaxDigit}unlisten;constructor(host,hostRef,renderer){this.host=host,this.hostRef=hostRef,this.renderer=renderer}ngOnInit(){this.host.valueType===agilent_ui_element_input_InputType.NUMBER&&(this.unlisten=this.renderer.listen(this.hostRef.nativeElement,"input",(()=>this.onInput())),this.savedValue=this.host.value)}ngOnDestroy(){this.unlisten&&this.unlisten()}onInput(){if(this.actualMaxDigit>0){this.computeFractionalPartLength(Number(this.host.value))>this.actualMaxDigit&&(this.host.inputElement.nativeElement.value=this.savedValue)}this.savedValue=this.host.inputElement.nativeElement.value}computeFractionalPartLength(value){if(Number.isNaN(value))return 0;const integerPart=this.computeIntegerPart(value);if(value%integerPart==0)return 0;return Math.abs(value).toString().replace(integerPart.toString(),"").toString().length-1}computeIntegerPart(value){return Math.floor(Math.abs(value))}static ɵfac=function MaxFractionalDigitCountDirective_Factory(t){return new(t||MaxFractionalDigitCountDirective)(core["ɵɵdirectiveInject"](InputComponent),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2))};static ɵdir=core["ɵɵdefineDirective"]({type:MaxFractionalDigitCountDirective,selectors:[["ag-input","maxFractionalDigitCount",""]],inputs:{maxFractionalDigitCount:"maxFractionalDigitCount"}})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MaxFractionalDigitCountDirective,[{type:core.Directive,args:[{selector:"ag-input[maxFractionalDigitCount]"}]}],(function(){return[{type:InputComponent},{type:core.ElementRef},{type:core.Renderer2}]}),{maxFractionalDigitCount:[{type:core.Input}]});class MaxIntegerDigitCountDirective{host;hostRef;renderer;maxIntegerDigitCount=0;savedValue;unlisten;constructor(host,hostRef,renderer){this.host=host,this.hostRef=hostRef,this.renderer=renderer}ngOnInit(){this.host.valueType!==agilent_ui_element_input_InputType.INTEGER&&this.host.valueType!==agilent_ui_element_input_InputType.NUMBER||(this.unlisten=this.renderer.listen(this.hostRef.nativeElement,"input",(()=>this.onInput())),this.savedValue=this.host.value)}ngOnDestroy(){this.unlisten&&this.unlisten()}onInput(){if(this.maxIntegerDigitCount>0){this.computeIntegerPartLength(Number(this.host.inputElement.nativeElement.value))>this.maxIntegerDigitCount&&(this.host.inputElement.nativeElement.value=this.savedValue)}this.savedValue=this.host.inputElement.nativeElement.value}computeIntegerPartLength(value){return Number.isNaN(value)?0:this.computeIntegerPart(value).toString().length}computeIntegerPart(value){return Math.floor(Math.abs(value))}static ɵfac=function MaxIntegerDigitCountDirective_Factory(t){return new(t||MaxIntegerDigitCountDirective)(core["ɵɵdirectiveInject"](InputComponent),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.Renderer2))};static ɵdir=core["ɵɵdefineDirective"]({type:MaxIntegerDigitCountDirective,selectors:[["ag-input","maxIntegerDigitCount",""]],inputs:{maxIntegerDigitCount:"maxIntegerDigitCount"}})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MaxIntegerDigitCountDirective,[{type:core.Directive,args:[{selector:"ag-input[maxIntegerDigitCount]"}]}],(function(){return[{type:InputComponent},{type:core.ElementRef},{type:core.Renderer2}]}),{maxIntegerDigitCount:[{type:core.Input}]});class InputModule{static ɵfac=function InputModule_Factory(t){return new(t||InputModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:InputModule,declarations:[InputComponent,InputDirective,InputWrapperComponent,DisplayNumberPipe,NumberValidator,MaxFractionalDigitCountDirective,MaxIntegerDigitCountDirective,MinValidatorDirective,MaxValidatorDirective],imports:[common.CommonModule,FormsModule,ReactiveFormsModule,LabelModule,LinearFieldModule,agilent_ui_element_icon.QX,IconButtonModule,SharedTranslateModule],exports:[InputComponent,InputDirective,NumberValidator,MaxFractionalDigitCountDirective,MaxIntegerDigitCountDirective,MinValidatorDirective,MaxValidatorDirective,DisplayNumberPipe]});static ɵinj=core["ɵɵdefineInjector"]({providers:[InputCharacterAllowService,provideNgxMask({showMaskTyped:!0})],imports:[common.CommonModule,FormsModule,ReactiveFormsModule,LabelModule,LinearFieldModule,agilent_ui_element_icon.QX,IconButtonModule,SharedTranslateModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](InputModule,[{type:core.NgModule,args:[{imports:[common.CommonModule,FormsModule,ReactiveFormsModule,LabelModule,LinearFieldModule,agilent_ui_element_icon.QX,IconButtonModule,SharedTranslateModule],exports:[InputComponent,InputDirective,NumberValidator,MaxFractionalDigitCountDirective,MaxIntegerDigitCountDirective,MinValidatorDirective,MaxValidatorDirective,DisplayNumberPipe],declarations:[InputComponent,InputDirective,InputWrapperComponent,DisplayNumberPipe,NumberValidator,MaxFractionalDigitCountDirective,MaxIntegerDigitCountDirective,MinValidatorDirective,MaxValidatorDirective],providers:[InputCharacterAllowService,provideNgxMask({showMaskTyped:!0})]}]}],null,null);var lift=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/lift.js"),noop=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/noop.js");function takeUntil(notifier){return(0,lift.e)((function(source,subscriber){(0,innerFrom.Xf)(notifier).subscribe((0,OperatorSubscriber.x)(subscriber,(function(){return subscriber.complete()}),noop.Z)),!subscriber.closed&&source.subscribe(subscriber)}))}var Action=function(_super){function Action(scheduler,work){return _super.call(this)||this}return(0,tslib_es6.ZT)(Action,_super),Action.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),this},Action}(Subscription.w0),intervalProvider={setInterval:function(handler,timeout){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var delegate=intervalProvider.delegate;return(null==delegate?void 0:delegate.setInterval)?delegate.setInterval.apply(delegate,(0,tslib_es6.ev)([handler,timeout],(0,tslib_es6.CR)(args))):setInterval.apply(void 0,(0,tslib_es6.ev)([handler,timeout],(0,tslib_es6.CR)(args)))},clearInterval:function(handle){var delegate=intervalProvider.delegate;return((null==delegate?void 0:delegate.clearInterval)||clearInterval)(handle)},delegate:void 0},arrRemove=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/arrRemove.js"),AsyncAction=function(_super){function AsyncAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this.pending=!1,_this}return(0,tslib_es6.ZT)(AsyncAction,_super),AsyncAction.prototype.schedule=function(state,delay){var _a;if(void 0===delay&&(delay=0),this.closed)return this;this.state=state;var id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.pending=!0,this.delay=delay,this.id=null!==(_a=this.id)&&void 0!==_a?_a:this.requestAsyncId(scheduler,this.id,delay),this},AsyncAction.prototype.requestAsyncId=function(scheduler,_id,delay){return void 0===delay&&(delay=0),intervalProvider.setInterval(scheduler.flush.bind(scheduler,this),delay)},AsyncAction.prototype.recycleAsyncId=function(_scheduler,id,delay){if(void 0===delay&&(delay=0),null!=delay&&this.delay===delay&&!1===this.pending)return id;null!=id&&intervalProvider.clearInterval(id)},AsyncAction.prototype.execute=function(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(state,_delay){var errorValue,errored=!1;try{this.work(state)}catch(e){errored=!0,errorValue=e||new Error("Scheduled action threw falsy error")}if(errored)return this.unsubscribe(),errorValue},AsyncAction.prototype.unsubscribe=function(){if(!this.closed){var id=this.id,scheduler=this.scheduler,actions=scheduler.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,arrRemove.P)(actions,this),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null,_super.prototype.unsubscribe.call(this)}},AsyncAction}(Action),Scheduler=function(){function Scheduler(schedulerActionCtor,now){void 0===now&&(now=Scheduler.now),this.schedulerActionCtor=schedulerActionCtor,this.now=now}return Scheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),new this.schedulerActionCtor(this,work).schedule(state,delay)},Scheduler.now=dateTimestampProvider.now,Scheduler}(),AsyncScheduler=function(_super){function AsyncScheduler(SchedulerAction,now){void 0===now&&(now=Scheduler.now);var _this=_super.call(this,SchedulerAction,now)||this;return _this.actions=[],_this._active=!1,_this}return(0,tslib_es6.ZT)(AsyncScheduler,_super),AsyncScheduler.prototype.flush=function(action){var actions=this.actions;if(this._active)actions.push(action);else{var error;this._active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this._active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}},AsyncScheduler}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async_async=asyncScheduler;var isScheduler=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isScheduler.js");function timer(dueTime,intervalOrScheduler,scheduler){void 0===dueTime&&(dueTime=0),void 0===scheduler&&(scheduler=async_async);var intervalDuration=-1;return null!=intervalOrScheduler&&((0,isScheduler.K)(intervalOrScheduler)?scheduler=intervalOrScheduler:intervalDuration=intervalOrScheduler),new Observable.y((function(subscriber){var due=function isValidDate(value){return value instanceof Date&&!isNaN(value)}(dueTime)?+dueTime-scheduler.now():dueTime;due<0&&(due=0);var n=0;return scheduler.schedule((function(){subscriber.closed||(subscriber.next(n++),0<=intervalDuration?this.schedule(void 0,intervalDuration):subscriber.complete())}),due)}))}function auditTime(duration,scheduler){return void 0===scheduler&&(scheduler=asyncScheduler),function audit(durationSelector){return(0,lift.e)((function(source,subscriber){var hasValue=!1,lastValue=null,durationSubscriber=null,isComplete=!1,endDuration=function(){if(null==durationSubscriber||durationSubscriber.unsubscribe(),durationSubscriber=null,hasValue){hasValue=!1;var value=lastValue;lastValue=null,subscriber.next(value)}isComplete&&subscriber.complete()},cleanupDuration=function(){durationSubscriber=null,isComplete&&subscriber.complete()};source.subscribe((0,OperatorSubscriber.x)(subscriber,(function(value){hasValue=!0,lastValue=value,durationSubscriber||(0,innerFrom.Xf)(durationSelector(value)).subscribe(durationSubscriber=(0,OperatorSubscriber.x)(subscriber,endDuration,cleanupDuration))}),(function(){isComplete=!0,(!hasValue||!durationSubscriber||durationSubscriber.closed)&&subscriber.complete()})))}))}((function(){return timer(duration,scheduler)}))}var tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js");var resolved,filter=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),animationFrameProvider={schedule:function(callback){var request=requestAnimationFrame,cancel=cancelAnimationFrame,delegate=animationFrameProvider.delegate;delegate&&(request=delegate.requestAnimationFrame,cancel=delegate.cancelAnimationFrame);var handle=request((function(timestamp){cancel=void 0,callback(timestamp)}));return new Subscription.w0((function(){return null==cancel?void 0:cancel(handle)}))},requestAnimationFrame:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var delegate=animationFrameProvider.delegate;return((null==delegate?void 0:delegate.requestAnimationFrame)||requestAnimationFrame).apply(void 0,(0,tslib_es6.ev)([],(0,tslib_es6.CR)(args)))},cancelAnimationFrame:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var delegate=animationFrameProvider.delegate;return((null==delegate?void 0:delegate.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,(0,tslib_es6.ev)([],(0,tslib_es6.CR)(args)))},delegate:void 0},AnimationFrameAction=function(_super){function AnimationFrameAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this}return(0,tslib_es6.ZT)(AnimationFrameAction,_super),AnimationFrameAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler._scheduled||(scheduler._scheduled=animationFrameProvider.requestAnimationFrame((function(){return scheduler.flush(void 0)}))))},AnimationFrameAction.prototype.recycleAsyncId=function(scheduler,id,delay){var _a;if(void 0===delay&&(delay=0),null!=delay?delay>0:this.delay>0)return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay);var actions=scheduler.actions;null!=id&&(null===(_a=actions[actions.length-1])||void 0===_a?void 0:_a.id)!==id&&(animationFrameProvider.cancelAnimationFrame(id),scheduler._scheduled=void 0)},AnimationFrameAction}(AsyncAction),animationFrameScheduler=new(function(_super){function AnimationFrameScheduler(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(AnimationFrameScheduler,_super),AnimationFrameScheduler.prototype.flush=function(action){this._active=!0;var flushId=this._scheduled;this._scheduled=void 0;var error,actions=this.actions;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while((action=actions[0])&&action.id===flushId&&actions.shift());if(this._active=!1,error){for(;(action=actions[0])&&action.id===flushId&&actions.shift();)action.unsubscribe();throw error}},AnimationFrameScheduler}(AsyncScheduler))(AnimationFrameAction),nextHandle=1,activeHandles={};function findAndClearHandle(handle){return handle in activeHandles&&(delete activeHandles[handle],!0)}var setImmediate=function(cb){var handle=nextHandle++;return activeHandles[handle]=!0,resolved||(resolved=Promise.resolve()),resolved.then((function(){return findAndClearHandle(handle)&&cb()})),handle},clearImmediate=function(handle){findAndClearHandle(handle)},immediateProvider={setImmediate:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var delegate=immediateProvider.delegate;return((null==delegate?void 0:delegate.setImmediate)||setImmediate).apply(void 0,(0,tslib_es6.ev)([],(0,tslib_es6.CR)(args)))},clearImmediate:function(handle){var delegate=immediateProvider.delegate;return((null==delegate?void 0:delegate.clearImmediate)||clearImmediate)(handle)},delegate:void 0},AsapAction=function(_super){function AsapAction(scheduler,work){var _this=_super.call(this,scheduler,work)||this;return _this.scheduler=scheduler,_this.work=work,_this}return(0,tslib_es6.ZT)(AsapAction,_super),AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler._scheduled||(scheduler._scheduled=immediateProvider.setImmediate(scheduler.flush.bind(scheduler,void 0))))},AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){var _a;if(void 0===delay&&(delay=0),null!=delay?delay>0:this.delay>0)return _super.prototype.recycleAsyncId.call(this,scheduler,id,delay);var actions=scheduler.actions;null!=id&&(null===(_a=actions[actions.length-1])||void 0===_a?void 0:_a.id)!==id&&(immediateProvider.clearImmediate(id),scheduler._scheduled===id&&(scheduler._scheduled=void 0))},AsapAction}(AsyncAction),asapScheduler=new(function(_super){function AsapScheduler(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.ZT)(AsapScheduler,_super),AsapScheduler.prototype.flush=function(action){this._active=!0;var flushId=this._scheduled;this._scheduled=void 0;var error,actions=this.actions;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while((action=actions[0])&&action.id===flushId&&actions.shift());if(this._active=!1,error){for(;(action=actions[0])&&action.id===flushId&&actions.shift();)action.unsubscribe();throw error}},AsapScheduler}(AsyncScheduler))(AsapAction),mergeMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js"),isArrayLike=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js"),nodeEventEmitterMethods=["addListener","removeListener"],eventTargetMethods=["addEventListener","removeEventListener"],jqueryMethods=["on","off"];function fromEvent(target,eventName,options,resultSelector){if((0,isFunction.m)(options)&&(resultSelector=options,options=void 0),resultSelector)return fromEvent(target,eventName,options).pipe(mapOneOrManyArgs(resultSelector));var _a=(0,tslib_es6.CR)(function isEventTarget(target){return(0,isFunction.m)(target.addEventListener)&&(0,isFunction.m)(target.removeEventListener)}(target)?eventTargetMethods.map((function(methodName){return function(handler){return target[methodName](eventName,handler,options)}})):function isNodeStyleEventEmitter(target){return(0,isFunction.m)(target.addListener)&&(0,isFunction.m)(target.removeListener)}(target)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(target,eventName)):function isJQueryStyleEventEmitter(target){return(0,isFunction.m)(target.on)&&(0,isFunction.m)(target.off)}(target)?jqueryMethods.map(toCommonHandlerRegistry(target,eventName)):[],2),add=_a[0],remove=_a[1];if(!add&&(0,isArrayLike.z)(target))return(0,mergeMap.z)((function(subTarget){return fromEvent(subTarget,eventName,options)}))((0,innerFrom.Xf)(target));if(!add)throw new TypeError("Invalid event target");return new Observable.y((function(subscriber){var handler=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return subscriber.next(1<args.length?args:args[0])};return add(handler),function(){return remove(handler)}}))}function toCommonHandlerRegistry(target,eventName){return function(methodName){return function(handler){return target[methodName](eventName,handler)}}}var merge=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/merge.js");const ng_select_ng_select_c0=["content"],ng_select_ng_select_c1=["scroll"],ng_select_ng_select_c2=["padding"],_c3=function(a0){return{searchTerm:a0}};function NgDropdownPanelComponent_div_0_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",6),core["ɵɵelementContainer"](1,7),core["ɵɵelementEnd"]()),2&rf){const ctx_r0=core["ɵɵnextContext"]();core["ɵɵadvance"](1),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r0.headerTemplate)("ngTemplateOutletContext",core["ɵɵpureFunction1"](2,_c3,ctx_r0.filterValue))}}function NgDropdownPanelComponent_div_8_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",8),core["ɵɵelementContainer"](1,7),core["ɵɵelementEnd"]()),2&rf){const ctx_r4=core["ɵɵnextContext"]();core["ɵɵadvance"](1),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r4.footerTemplate)("ngTemplateOutletContext",core["ɵɵpureFunction1"](2,_c3,ctx_r4.filterValue))}}const _c4=["*"],_c5=["searchInput"],_c6=["clearButton"];function NgSelectComponent_ng_container_4_div_1_ng_template_1_Template(rf,ctx){if(1&rf){const _r13=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"span",15),core["ɵɵlistener"]("click",(function NgSelectComponent_ng_container_4_div_1_ng_template_1_Template_span_click_0_listener(){core["ɵɵrestoreView"](_r13);const item_r7=core["ɵɵnextContext"]().$implicit,ctx_r11=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r11.unselect(item_r7))})),core["ɵɵtext"](1,"×"),core["ɵɵelementEnd"](),core["ɵɵelement"](2,"span",16)}if(2&rf){const item_r7=core["ɵɵnextContext"]().$implicit,ctx_r9=core["ɵɵnextContext"](2);core["ɵɵadvance"](2),core["ɵɵproperty"]("ngItemLabel",item_r7.label)("escape",ctx_r9.escapeHTML)}}function NgSelectComponent_ng_container_4_div_1_ng_template_3_Template(rf,ctx){}const _c7=function(a0,a1,a2){return{item:a0,clear:a1,label:a2}};function NgSelectComponent_ng_container_4_div_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",12),core["ɵɵtemplate"](1,NgSelectComponent_ng_container_4_div_1_ng_template_1_Template,3,2,"ng-template",null,13,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_container_4_div_1_ng_template_3_Template,0,0,"ng-template",14),core["ɵɵelementEnd"]()),2&rf){const item_r7=ctx.$implicit,_r8=core["ɵɵreference"](2),ctx_r6=core["ɵɵnextContext"](2);core["ɵɵclassProp"]("ng-value-disabled",item_r7.disabled),core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r6.labelTemplate||_r8)("ngTemplateOutletContext",core["ɵɵpureFunction3"](4,_c7,item_r7.value,ctx_r6.clearItem,item_r7.label))}}function NgSelectComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core["ɵɵelementContainerStart"](0),core["ɵɵtemplate"](1,NgSelectComponent_ng_container_4_div_1_Template,4,8,"div",11),core["ɵɵelementContainerEnd"]()),2&rf){const ctx_r0=core["ɵɵnextContext"]();core["ɵɵadvance"](1),core["ɵɵproperty"]("ngForOf",ctx_r0.selectedItems)("ngForTrackBy",ctx_r0.trackByOption)}}function NgSelectComponent_5_ng_template_0_Template(rf,ctx){}const _c8=function(a0,a1){return{items:a0,clear:a1}};function NgSelectComponent_5_Template(rf,ctx){if(1&rf&&core["ɵɵtemplate"](0,NgSelectComponent_5_ng_template_0_Template,0,0,"ng-template",14),2&rf){const ctx_r1=core["ɵɵnextContext"]();core["ɵɵproperty"]("ngTemplateOutlet",ctx_r1.multiLabelTemplate)("ngTemplateOutletContext",core["ɵɵpureFunction2"](2,_c8,ctx_r1.selectedValues,ctx_r1.clearItem))}}function NgSelectComponent_ng_container_9_ng_template_1_Template(rf,ctx){1&rf&&core["ɵɵelement"](0,"div",19)}function NgSelectComponent_ng_container_9_ng_template_3_Template(rf,ctx){}function NgSelectComponent_ng_container_9_Template(rf,ctx){if(1&rf&&(core["ɵɵelementContainerStart"](0),core["ɵɵtemplate"](1,NgSelectComponent_ng_container_9_ng_template_1_Template,1,0,"ng-template",null,17,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_container_9_ng_template_3_Template,0,0,"ng-template",18),core["ɵɵelementContainerEnd"]()),2&rf){const _r16=core["ɵɵreference"](2),ctx_r3=core["ɵɵnextContext"]();core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r3.loadingSpinnerTemplate||_r16)}}function NgSelectComponent_span_10_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"span",20,21)(2,"span",22),core["ɵɵtext"](3,"×"),core["ɵɵelementEnd"]()()),2&rf){const ctx_r4=core["ɵɵnextContext"]();core["ɵɵpropertyInterpolate"]("title",ctx_r4.clearAllText)}}function NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_1_Template(rf,ctx){if(1&rf&&core["ɵɵelement"](0,"span",28),2&rf){const item_r25=core["ɵɵnextContext"]().$implicit,ctx_r27=core["ɵɵnextContext"](2);core["ɵɵproperty"]("ngItemLabel",item_r25.label)("escape",ctx_r27.escapeHTML)}}function NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_3_Template(rf,ctx){}const _c9=function(a0,a1,a2,a3){return{item:a0,item$:a1,index:a2,searchTerm:a3}};function NgSelectComponent_ng_dropdown_panel_13_div_2_Template(rf,ctx){if(1&rf){const _r31=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"div",26),core["ɵɵlistener"]("click",(function NgSelectComponent_ng_dropdown_panel_13_div_2_Template_div_click_0_listener(){const item_r25=core["ɵɵrestoreView"](_r31).$implicit,ctx_r30=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r30.toggleItem(item_r25))}))("mouseover",(function NgSelectComponent_ng_dropdown_panel_13_div_2_Template_div_mouseover_0_listener(){const item_r25=core["ɵɵrestoreView"](_r31).$implicit,ctx_r32=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r32.onItemHover(item_r25))})),core["ɵɵtemplate"](1,NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_1_Template,1,2,"ng-template",null,27,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_dropdown_panel_13_div_2_ng_template_3_Template,0,0,"ng-template",14),core["ɵɵelementEnd"]()}if(2&rf){const item_r25=ctx.$implicit,_r26=core["ɵɵreference"](2),ctx_r20=core["ɵɵnextContext"](2);core["ɵɵclassProp"]("ng-option-disabled",item_r25.disabled)("ng-option-selected",item_r25.selected)("ng-optgroup",item_r25.children)("ng-option",!item_r25.children)("ng-option-child",!!item_r25.parent)("ng-option-marked",item_r25===ctx_r20.itemsList.markedItem),core["ɵɵattribute"]("role",item_r25.children?"group":"option")("aria-selected",item_r25.selected)("id",null==item_r25?null:item_r25.htmlId),core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",item_r25.children?ctx_r20.optgroupTemplate||_r26:ctx_r20.optionTemplate||_r26)("ngTemplateOutletContext",core["ɵɵpureFunction4"](17,_c9,item_r25.value,item_r25,item_r25.index,ctx_r20.searchTerm))}}function NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"span")(1,"span",31),core["ɵɵtext"](2),core["ɵɵelementEnd"](),core["ɵɵtext"](3),core["ɵɵelementEnd"]()),2&rf){const ctx_r34=core["ɵɵnextContext"](3);core["ɵɵadvance"](2),core["ɵɵtextInterpolate"](ctx_r34.addTagText),core["ɵɵadvance"](1),core["ɵɵtextInterpolate1"]('"',ctx_r34.searchTerm,'"')}}function NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_3_Template(rf,ctx){}function NgSelectComponent_ng_dropdown_panel_13_div_3_Template(rf,ctx){if(1&rf){const _r37=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"div",29),core["ɵɵlistener"]("mouseover",(function NgSelectComponent_ng_dropdown_panel_13_div_3_Template_div_mouseover_0_listener(){core["ɵɵrestoreView"](_r37);const ctx_r36=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r36.itemsList.unmarkItem())}))("click",(function NgSelectComponent_ng_dropdown_panel_13_div_3_Template_div_click_0_listener(){core["ɵɵrestoreView"](_r37);const ctx_r38=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r38.selectTag())})),core["ɵɵtemplate"](1,NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_1_Template,4,2,"ng-template",null,30,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_dropdown_panel_13_div_3_ng_template_3_Template,0,0,"ng-template",14),core["ɵɵelementEnd"]()}if(2&rf){const _r33=core["ɵɵreference"](2),ctx_r21=core["ɵɵnextContext"](2);core["ɵɵclassProp"]("ng-option-marked",!ctx_r21.itemsList.markedItem),core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r21.tagTemplate||_r33)("ngTemplateOutletContext",core["ɵɵpureFunction1"](4,_c3,ctx_r21.searchTerm))}}function NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",33),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf){const ctx_r40=core["ɵɵnextContext"](3);core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](ctx_r40.notFoundText)}}function NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_3_Template(rf,ctx){}function NgSelectComponent_ng_dropdown_panel_13_ng_container_4_Template(rf,ctx){if(1&rf&&(core["ɵɵelementContainerStart"](0),core["ɵɵtemplate"](1,NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_1_Template,2,1,"ng-template",null,32,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_dropdown_panel_13_ng_container_4_ng_template_3_Template,0,0,"ng-template",14),core["ɵɵelementContainerEnd"]()),2&rf){const _r39=core["ɵɵreference"](2),ctx_r22=core["ɵɵnextContext"](2);core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r22.notFoundTemplate||_r39)("ngTemplateOutletContext",core["ɵɵpureFunction1"](2,_c3,ctx_r22.searchTerm))}}function NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",33),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf){const ctx_r43=core["ɵɵnextContext"](3);core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](ctx_r43.typeToSearchText)}}function NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_3_Template(rf,ctx){}function NgSelectComponent_ng_dropdown_panel_13_ng_container_5_Template(rf,ctx){if(1&rf&&(core["ɵɵelementContainerStart"](0),core["ɵɵtemplate"](1,NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_1_Template,2,1,"ng-template",null,34,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_dropdown_panel_13_ng_container_5_ng_template_3_Template,0,0,"ng-template",18),core["ɵɵelementContainerEnd"]()),2&rf){const _r42=core["ɵɵreference"](2),ctx_r23=core["ɵɵnextContext"](2);core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r23.typeToSearchTemplate||_r42)}}function NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",33),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf){const ctx_r46=core["ɵɵnextContext"](3);core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](ctx_r46.loadingText)}}function NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_3_Template(rf,ctx){}function NgSelectComponent_ng_dropdown_panel_13_ng_container_6_Template(rf,ctx){if(1&rf&&(core["ɵɵelementContainerStart"](0),core["ɵɵtemplate"](1,NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_1_Template,2,1,"ng-template",null,35,core["ɵɵtemplateRefExtractor"]),core["ɵɵtemplate"](3,NgSelectComponent_ng_dropdown_panel_13_ng_container_6_ng_template_3_Template,0,0,"ng-template",14),core["ɵɵelementContainerEnd"]()),2&rf){const _r45=core["ɵɵreference"](2),ctx_r24=core["ɵɵnextContext"](2);core["ɵɵadvance"](3),core["ɵɵproperty"]("ngTemplateOutlet",ctx_r24.loadingTextTemplate||_r45)("ngTemplateOutletContext",core["ɵɵpureFunction1"](2,_c3,ctx_r24.searchTerm))}}function NgSelectComponent_ng_dropdown_panel_13_Template(rf,ctx){if(1&rf){const _r49=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"ng-dropdown-panel",23),core["ɵɵlistener"]("update",(function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_update_0_listener($event){core["ɵɵrestoreView"](_r49);const ctx_r48=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r48.viewPortItems=$event)}))("scroll",(function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_scroll_0_listener($event){core["ɵɵrestoreView"](_r49);const ctx_r50=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r50.scroll.emit($event))}))("scrollToEnd",(function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_scrollToEnd_0_listener($event){core["ɵɵrestoreView"](_r49);const ctx_r51=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r51.scrollToEnd.emit($event))}))("outsideClick",(function NgSelectComponent_ng_dropdown_panel_13_Template_ng_dropdown_panel_outsideClick_0_listener(){core["ɵɵrestoreView"](_r49);const ctx_r52=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r52.close())})),core["ɵɵelementContainerStart"](1),core["ɵɵtemplate"](2,NgSelectComponent_ng_dropdown_panel_13_div_2_Template,4,22,"div",24),core["ɵɵtemplate"](3,NgSelectComponent_ng_dropdown_panel_13_div_3_Template,4,6,"div",25),core["ɵɵelementContainerEnd"](),core["ɵɵtemplate"](4,NgSelectComponent_ng_dropdown_panel_13_ng_container_4_Template,4,4,"ng-container",3),core["ɵɵtemplate"](5,NgSelectComponent_ng_dropdown_panel_13_ng_container_5_Template,4,1,"ng-container",3),core["ɵɵtemplate"](6,NgSelectComponent_ng_dropdown_panel_13_ng_container_6_Template,4,4,"ng-container",3),core["ɵɵelementEnd"]()}if(2&rf){const ctx_r5=core["ɵɵnextContext"]();core["ɵɵclassProp"]("ng-select-multiple",ctx_r5.multiple),core["ɵɵproperty"]("virtualScroll",ctx_r5.virtualScroll)("bufferAmount",ctx_r5.bufferAmount)("appendTo",ctx_r5.appendTo)("position",ctx_r5.dropdownPosition)("headerTemplate",ctx_r5.headerTemplate)("footerTemplate",ctx_r5.footerTemplate)("filterValue",ctx_r5.searchTerm)("items",ctx_r5.itemsList.filteredItems)("markedItem",ctx_r5.itemsList.markedItem)("ngClass",ctx_r5.appendTo?ctx_r5.classes:null)("id",ctx_r5.dropdownId),core["ɵɵadvance"](2),core["ɵɵproperty"]("ngForOf",ctx_r5.viewPortItems)("ngForTrackBy",ctx_r5.trackByOption),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx_r5.showAddTag),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx_r5.showNoItemsFound()),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx_r5.showTypeToSearch()),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx_r5.loading&&0===ctx_r5.itemsList.filteredItems.length)}}const unescapedHTMLExp=/[&<>"']/g,hasUnescapedHTMLExp=RegExp(unescapedHTMLExp.source),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ng_select_ng_select_isDefined(value){return null!=value}function ng_select_ng_select_isObject(value){return"object"==typeof value&&ng_select_ng_select_isDefined(value)}function ng_select_ng_select_isFunction(value){return value instanceof Function}class NgItemLabelDirective{constructor(element){this.element=element,this.escape=!0}ngOnChanges(changes){this.element.nativeElement.innerHTML=this.escape?function escapeHTML(value){return value&&hasUnescapedHTMLExp.test(value)?value.replace(unescapedHTMLExp,(chr=>htmlEscapes[chr])):value}(this.ngItemLabel):this.ngItemLabel}static#_=this.ɵfac=function NgItemLabelDirective_Factory(t){return new(t||NgItemLabelDirective)(core["ɵɵdirectiveInject"](core.ElementRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgItemLabelDirective,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[core["ɵɵNgOnChangesFeature"]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgItemLabelDirective,[{type:core.Directive,args:[{selector:"[ngItemLabel]"}]}],(function(){return[{type:core.ElementRef}]}),{ngItemLabel:[{type:core.Input}],escape:[{type:core.Input}]});class NgOptionTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgOptionTemplateDirective_Factory(t){return new(t||NgOptionTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgOptionTemplateDirective,selectors:[["","ng-option-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgOptionTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-option-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgOptgroupTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgOptgroupTemplateDirective_Factory(t){return new(t||NgOptgroupTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgOptgroupTemplateDirective,selectors:[["","ng-optgroup-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgOptgroupTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-optgroup-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgLabelTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgLabelTemplateDirective_Factory(t){return new(t||NgLabelTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgLabelTemplateDirective,selectors:[["","ng-label-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgLabelTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-label-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgMultiLabelTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgMultiLabelTemplateDirective_Factory(t){return new(t||NgMultiLabelTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgMultiLabelTemplateDirective,selectors:[["","ng-multi-label-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgMultiLabelTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-multi-label-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgHeaderTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgHeaderTemplateDirective_Factory(t){return new(t||NgHeaderTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgHeaderTemplateDirective,selectors:[["","ng-header-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgHeaderTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-header-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgFooterTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgFooterTemplateDirective_Factory(t){return new(t||NgFooterTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgFooterTemplateDirective,selectors:[["","ng-footer-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgFooterTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-footer-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgNotFoundTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgNotFoundTemplateDirective_Factory(t){return new(t||NgNotFoundTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgNotFoundTemplateDirective,selectors:[["","ng-notfound-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgNotFoundTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-notfound-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgTypeToSearchTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgTypeToSearchTemplateDirective_Factory(t){return new(t||NgTypeToSearchTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgTypeToSearchTemplateDirective,selectors:[["","ng-typetosearch-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgTypeToSearchTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-typetosearch-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgLoadingTextTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgLoadingTextTemplateDirective_Factory(t){return new(t||NgLoadingTextTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgLoadingTextTemplateDirective,selectors:[["","ng-loadingtext-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgLoadingTextTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-loadingtext-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgTagTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgTagTemplateDirective_Factory(t){return new(t||NgTagTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgTagTemplateDirective,selectors:[["","ng-tag-tmp",""]]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgTagTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-tag-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);class NgLoadingSpinnerTemplateDirective{constructor(template){this.template=template}static#_=this.ɵfac=function NgLoadingSpinnerTemplateDirective_Factory(t){return new(t||NgLoadingSpinnerTemplateDirective)(core["ɵɵdirectiveInject"](core.TemplateRef))};static#_2=this.ɵdir=core["ɵɵdefineDirective"]({type:NgLoadingSpinnerTemplateDirective,selectors:[["","ng-loadingspinner-tmp",""]]})}function newId(){return"axxxxxxxxxxx".replace(/[x]/g,(()=>(16*Math.random()|0).toString(16)))}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgLoadingSpinnerTemplateDirective,[{type:core.Directive,args:[{selector:"[ng-loadingspinner-tmp]"}]}],(function(){return[{type:core.TemplateRef}]}),null);const diacritics={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ω:"ω",ς:"σ"};function stripSpecialChars(text){return text.replace(/[^\u0000-\u007E]/g,(a=>diacritics[a]||a))}class ItemsList{constructor(_ngSelect,_selectionModel){this._ngSelect=_ngSelect,this._selectionModel=_selectionModel,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let i=this.selectedItems.length-1;for(;i>=0;i--){const item=this.selectedItems[i];if(!item.disabled)return item}return null}setItems(items){this._items=items.map(((item,index)=>this.mapItem(item,index))),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(item){if(item.selected||this.maxItemsSelected)return;const multiple=this._ngSelect.multiple;multiple||this.clearSelected(),this._selectionModel.select(item,multiple,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(item)}unselect(item){item.selected&&(this._selectionModel.unselect(item,this._ngSelect.multiple),this._ngSelect.hideSelected&&ng_select_ng_select_isDefined(item.index)&&this._ngSelect.multiple&&this._showSelected(item))}findItem(value){let findBy;return findBy=this._ngSelect.compareWith?item=>this._ngSelect.compareWith(item.value,value):this._ngSelect.bindValue?item=>!item.children&&this.resolveNested(item.value,this._ngSelect.bindValue)===value:item=>item.value===value||!item.children&&item.label&&item.label===this.resolveNested(value,this._ngSelect.bindLabel),this._items.find((item=>findBy(item)))}addItem(item){const option=this.mapItem(item,this._items.length);return this._items.push(option),this._filteredItems.push(option),option}clearSelected(keepDisabled=!1){this._selectionModel.clear(keepDisabled),this._items.forEach((item=>{item.selected=keepDisabled&&item.selected&&item.disabled,item.marked=!1})),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(term){return term=stripSpecialChars(term).toLocaleLowerCase(),this.filteredItems.find((item=>stripSpecialChars(item.label).toLocaleLowerCase().substr(0,term.length)===term))}filter(term){if(!term)return void this.resetFilteredItems();this._filteredItems=[],term=this._ngSelect.searchFn?term:stripSpecialChars(term).toLocaleLowerCase();const match=this._ngSelect.searchFn||this._defaultSearchFn,hideSelected=this._ngSelect.hideSelected;for(const key of Array.from(this._groups.keys())){const matchedItems=[];for(const item of this._groups.get(key)){if(hideSelected&&(item.parent&&item.parent.selected||item.selected))continue;match(term,this._ngSelect.searchFn?item.value:item)&&matchedItems.push(item)}if(matchedItems.length>0){const[last]=matchedItems.slice(-1);if(last.parent){const head=this._items.find((x=>x===last.parent));this._filteredItems.push(head)}this._filteredItems.push(...matchedItems)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter((x=>!x.selected)):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(item){this._markedIndex=this._filteredItems.indexOf(item)}markSelectedOrDefault(markDefault){if(0===this._filteredItems.length)return;const lastMarkedIndex=this._getLastMarkedIndex();this._markedIndex=lastMarkedIndex>-1?lastMarkedIndex:markDefault?this.filteredItems.findIndex((x=>!x.disabled)):-1}resolveNested(option,key){if(!ng_select_ng_select_isObject(option))return option;if(-1===key.indexOf("."))return option[key];{const keys=key.split(".");let value=option;for(let i=0,len=keys.length;i<len;++i){if(null==value)return null;value=value[keys[i]]}return value}}mapItem(item,index){const label=ng_select_ng_select_isDefined(item.$ngOptionLabel)?item.$ngOptionLabel:this.resolveNested(item,this._ngSelect.bindLabel),value=ng_select_ng_select_isDefined(item.$ngOptionValue)?item.$ngOptionValue:item;return{index,label:ng_select_ng_select_isDefined(label)?label.toString():"",value,disabled:item.disabled,htmlId:`${this._ngSelect.dropdownId}-${index}`}}mapSelectedItems(){const multiple=this._ngSelect.multiple;for(const selected of this.selectedItems){const value=this._ngSelect.bindValue?this.resolveNested(selected.value,this._ngSelect.bindValue):selected.value,item=ng_select_ng_select_isDefined(value)?this.findItem(value):null;this._selectionModel.unselect(selected,multiple),this._selectionModel.select(item||selected,multiple,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter((x=>-1===this.selectedItems.indexOf(x))))}_showSelected(item){if(this._filteredItems.push(item),item.parent){const parent=item.parent,parentExists=this._filteredItems.find((x=>x===parent));parentExists||this._filteredItems.push(parent)}else if(item.children)for(const child of item.children)child.selected=!1,this._filteredItems.push(child);this._filteredItems=[...this._filteredItems.sort(((a,b)=>a.index-b.index))]}_hideSelected(item){if(this._filteredItems=this._filteredItems.filter((x=>x!==item)),item.parent){item.parent.children.every((x=>x.selected))&&(this._filteredItems=this._filteredItems.filter((x=>x!==item.parent)))}else item.children&&(this._filteredItems=this.filteredItems.filter((x=>x.parent!==item)))}_defaultSearchFn(search,opt){return stripSpecialChars(opt.label).toLocaleLowerCase().indexOf(search)>-1}_getNextItemIndex(steps){return steps>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(steps){0===this._filteredItems.length||this._filteredItems.every((x=>x.disabled))||(this._markedIndex=this._getNextItemIndex(steps),this.markedItem.disabled&&this._stepToItem(steps))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;const selectedIndex=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&selectedIndex<0?-1:Math.max(this.markedIndex,selectedIndex)}_groupBy(items,prop){const groups=new Map;if(0===items.length)return groups;if(Array.isArray(items[0].value[prop])){for(const item of items){const children=(item.value[prop]||[]).map(((x,index)=>this.mapItem(x,index)));groups.set(item,children)}return groups}const isFnKey=ng_select_ng_select_isFunction(this._ngSelect.groupBy),keyFn=item=>{const key=isFnKey?prop(item.value):item.value[prop];return ng_select_ng_select_isDefined(key)?key:void 0};for(const item of items){const key=keyFn(item),group=groups.get(key);group?group.push(item):groups.set(key,[item])}return groups}_flatten(groups){const isGroupByFn=ng_select_ng_select_isFunction(this._ngSelect.groupBy),items=[];for(const key of Array.from(groups.keys())){let i=items.length;if(void 0===key){const withoutGroup=groups.get(void 0)||[];items.push(...withoutGroup.map((x=>(x.index=i++,x))));continue}const isObjectKey=ng_select_ng_select_isObject(key),parent={label:isObjectKey?"":String(key),children:void 0,parent:null,index:i++,disabled:!this._ngSelect.selectableGroup,htmlId:newId()},groupKey=isGroupByFn?this._ngSelect.bindLabel:this._ngSelect.groupBy,groupValue=this._ngSelect.groupValue||(()=>isObjectKey?key.value:{[groupKey]:key}),children=groups.get(key).map((x=>(x.parent=parent,x.children=void 0,x.index=i++,x)));parent.children=children,parent.value=groupValue(key,children.map((x=>x.value))),items.push(parent),items.push(...children)}return items}}var KeyCode;!function(KeyCode){KeyCode[KeyCode.Tab=9]="Tab",KeyCode[KeyCode.Enter=13]="Enter",KeyCode[KeyCode.Esc=27]="Esc",KeyCode[KeyCode.Space=32]="Space",KeyCode[KeyCode.ArrowUp=38]="ArrowUp",KeyCode[KeyCode.ArrowDown=40]="ArrowDown",KeyCode[KeyCode.Backspace=8]="Backspace"}(KeyCode||(KeyCode={}));class NgDropdownPanelService{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(scrollPos,itemsLength,buffer){const d=this._dimensions,scrollHeight=d.itemHeight*itemsLength,indexByScrollTop=Math.max(0,scrollPos)/scrollHeight*itemsLength;let end=Math.min(itemsLength,Math.ceil(indexByScrollTop)+(d.itemsPerViewport+1));const maxStartEnd=end,maxStart=Math.max(0,maxStartEnd-d.itemsPerViewport);let start=Math.min(maxStart,Math.floor(indexByScrollTop)),topPadding=d.itemHeight*Math.ceil(start)-d.itemHeight*Math.min(start,buffer);return topPadding=isNaN(topPadding)?0:topPadding,start=isNaN(start)?-1:start,end=isNaN(end)?-1:end,start-=buffer,start=Math.max(0,start),end+=buffer,end=Math.min(itemsLength,end),{topPadding,scrollHeight,start,end}}setDimensions(itemHeight,panelHeight){const itemsPerViewport=Math.max(1,Math.floor(panelHeight/itemHeight));this._dimensions={itemHeight,panelHeight,itemsPerViewport}}getScrollTo(itemTop,itemHeight,lastScroll){const{panelHeight}=this.dimensions,itemBottom=itemTop+itemHeight,bottom=lastScroll+panelHeight;return panelHeight>=itemBottom&&lastScroll===itemTop?null:itemBottom>bottom?lastScroll+itemBottom-bottom:itemTop<=lastScroll?itemTop:null}static#_=this.ɵfac=function NgDropdownPanelService_Factory(t){return new(t||NgDropdownPanelService)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:NgDropdownPanelService,factory:NgDropdownPanelService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgDropdownPanelService,[{type:core.Injectable}],null,null);const CSS_POSITIONS=["top","right","bottom","left"],SCROLL_SCHEDULER="undefined"!=typeof requestAnimationFrame?animationFrameScheduler:asapScheduler;class NgDropdownPanelComponent{constructor(_renderer,_zone,_panelService,_elementRef,_document){this._renderer=_renderer,this._zone=_zone,this._panelService=_panelService,this._document=_document,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new core.EventEmitter,this.scroll=new core.EventEmitter,this.scrollToEnd=new core.EventEmitter,this.outsideClick=new core.EventEmitter,this._destroy$=new Subject.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=_elementRef.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(value){value!==this._itemsLength&&(this._itemsLength=value,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight,panelHeight}=this._panelService.dimensions,offset=this.markedItem.index*itemHeight;return panelHeight>offset?0:offset}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(changes){if(changes.items){const change=changes.items;this._onItemsChange(change.currentValue,change.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(option,startFromOption=!1){if(!option)return;const index=this.items.indexOf(option);if(index<0||index>=this.itemsLength)return;let scrollTo;if(this.virtualScroll){const itemHeight=this._panelService.dimensions.itemHeight;scrollTo=this._panelService.getScrollTo(index*itemHeight,itemHeight,this._lastScrollPosition)}else{const item=this._dropdown.querySelector(`#${option.htmlId}`),lastScroll=startFromOption?item.offsetTop:this._lastScrollPosition;scrollTo=this._panelService.getScrollTo(item.offsetTop,item.clientHeight,lastScroll)}ng_select_ng_select_isDefined(scrollTo)&&(this._scrollablePanel.scrollTop=scrollTo)}scrollToTag(){const panel=this._scrollablePanel;panel.scrollTop=panel.scrollHeight-panel.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),CSS_POSITIONS.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(currentPosition){CSS_POSITIONS.forEach((position=>{const REMOVE_CSS_CLASS=`ng-select-${position}`;this._renderer.removeClass(this._dropdown,REMOVE_CSS_CLASS),this._renderer.removeClass(this._select,REMOVE_CSS_CLASS)}));const ADD_CSS_CLASS=`ng-select-${currentPosition}`;this._renderer.addClass(this._dropdown,ADD_CSS_CLASS),this._renderer.addClass(this._select,ADD_CSS_CLASS)}_handleScroll(){this._zone.runOutsideAngular((()=>{fromEvent(this.scrollElementRef.nativeElement,"scroll").pipe(takeUntil(this._destroy$),auditTime(0,SCROLL_SCHEDULER)).subscribe((e=>{const path=e.path||e.composedPath&&e.composedPath(),scrollTop=path&&0!==path.length?path[0].scrollTop:e.target.scrollTop;this._onContentScrolled(scrollTop)}))}))}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular((()=>{(0,merge.T)(fromEvent(this._document,"touchstart",{capture:!0}),fromEvent(this._document,"mousedown",{capture:!0})).pipe(takeUntil(this._destroy$)).subscribe(($event=>this._checkToClose($event)))}))}_checkToClose($event){if(this._select.contains($event.target)||this._dropdown.contains($event.target))return;const path=$event.path||$event.composedPath&&$event.composedPath();$event.target&&$event.target.shadowRoot&&path&&path[0]&&this._select.contains(path[0])||this._zone.run((()=>this.outsideClick.emit()))}_onItemsChange(items,firstChange){this.items=items||[],this._scrollToEndFired=!1,this.itemsLength=items.length,this.virtualScroll?this._updateItemsRange(firstChange):(this._setVirtualHeight(),this._updateItems(firstChange))}_updateItems(firstChange){this.update.emit(this.items),!1!==firstChange&&this._zone.runOutsideAngular((()=>{Promise.resolve().then((()=>{const panelHeight=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,panelHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,firstChange)}))}))}_updateItemsRange(firstChange){this._zone.runOutsideAngular((()=>{this._measureDimensions().then((()=>{firstChange?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()}))}))}_onContentScrolled(scrollTop){this.virtualScroll&&this._renderItemsRange(scrollTop),this._lastScrollPosition=scrollTop,this._fireScrollToEnd(scrollTop)}_updateVirtualHeight(height){this._updateScrollHeight&&(this._virtualPadding.style.height=`${height}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(scrollTop=null){if(scrollTop&&this._lastScrollPosition===scrollTop)return;scrollTop=scrollTop||this._scrollablePanel.scrollTop;const range=this._panelService.calculateItems(scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(range.scrollHeight),this._contentPanel.style.transform=`translateY(${range.topPadding}px)`,this._zone.run((()=>{this.update.emit(this.items.slice(range.start,range.end)),this.scroll.emit({start:range.start,end:range.end})})),ng_select_ng_select_isDefined(scrollTop)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=scrollTop,this._lastScrollPosition=scrollTop)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[first]=this.items;return this.update.emit([first]),Promise.resolve().then((()=>{const optionHeight=this._dropdown.querySelector(`#${first.htmlId}`).clientHeight;this._virtualPadding.style.height=optionHeight*this.itemsLength+"px";const panelHeight=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(optionHeight,panelHeight),this._panelService.dimensions}))}_fireScrollToEnd(scrollTop){if(this._scrollToEndFired||0===scrollTop)return;const padding=this.virtualScroll?this._virtualPadding:this._contentPanel;scrollTop+this._dropdown.clientHeight>=padding.clientHeight-1&&(this._zone.run((()=>this.scrollToEnd.emit())),this._scrollToEndFired=!0)}_calculateCurrentPosition(dropdownEl){if("auto"!==this.position)return this.position;const selectRect=this._select.getBoundingClientRect(),scrollTop=document.documentElement.scrollTop||document.body.scrollTop;return selectRect.top+window.pageYOffset+selectRect.height+dropdownEl.getBoundingClientRect().height>scrollTop+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const select=this._select.getBoundingClientRect(),parent=this._parent.getBoundingClientRect(),offsetLeft=select.left-parent.left;this._dropdown.style.left=offsetLeft+"px",this._dropdown.style.width=select.width+"px",this._dropdown.style.minWidth=select.width+"px"}_updateYPosition(){const select=this._select.getBoundingClientRect(),parent=this._parent.getBoundingClientRect(),delta=select.height;if("top"===this._currentPosition){const offsetBottom=parent.bottom-select.bottom;this._dropdown.style.bottom=offsetBottom+delta+"px",this._dropdown.style.top="auto"}else if("bottom"===this._currentPosition){const offsetTop=select.top-parent.top;this._dropdown.style.top=offsetTop+delta+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular((()=>{fromEvent(this._dropdown,"mousedown").pipe(takeUntil(this._destroy$)).subscribe((event=>{"INPUT"!==event.target.tagName&&event.preventDefault()}))}))}static#_=this.ɵfac=function NgDropdownPanelComponent_Factory(t){return new(t||NgDropdownPanelComponent)(core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](core.NgZone),core["ɵɵdirectiveInject"](NgDropdownPanelService),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](common.DOCUMENT,8))};static#_2=this.ɵcmp=core["ɵɵdefineComponent"]({type:NgDropdownPanelComponent,selectors:[["ng-dropdown-panel"]],viewQuery:function NgDropdownPanelComponent_Query(rf,ctx){if(1&rf&&(core["ɵɵviewQuery"](ng_select_ng_select_c0,7,core.ElementRef),core["ɵɵviewQuery"](ng_select_ng_select_c1,7,core.ElementRef),core["ɵɵviewQuery"](ng_select_ng_select_c2,7,core.ElementRef)),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.contentElementRef=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.scrollElementRef=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.paddingElementRef=_t.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[core["ɵɵNgOnChangesFeature"]],ngContentSelectors:_c4,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function NgDropdownPanelComponent_Template(rf,ctx){1&rf&&(core["ɵɵprojectionDef"](),core["ɵɵtemplate"](0,NgDropdownPanelComponent_div_0_Template,2,4,"div",0),core["ɵɵelementStart"](1,"div",1,2),core["ɵɵelement"](3,"div",null,3),core["ɵɵelementStart"](5,"div",null,4),core["ɵɵprojection"](7),core["ɵɵelementEnd"]()(),core["ɵɵtemplate"](8,NgDropdownPanelComponent_div_8_Template,2,4,"div",5)),2&rf&&(core["ɵɵproperty"]("ngIf",ctx.headerTemplate),core["ɵɵadvance"](3),core["ɵɵclassProp"]("total-padding",ctx.virtualScroll),core["ɵɵadvance"](2),core["ɵɵclassProp"]("scrollable-content",ctx.virtualScroll&&ctx.items.length),core["ɵɵadvance"](3),core["ɵɵproperty"]("ngIf",ctx.footerTemplate))},dependencies:[common.NgIf,common.NgTemplateOutlet],encapsulation:2,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgDropdownPanelComponent,[{type:core.Component,args:[{changeDetection:core.ChangeDetectionStrategy.OnPush,encapsulation:core.ViewEncapsulation.None,selector:"ng-dropdown-panel",template:'\n        <div *ngIf="headerTemplate" class="ng-dropdown-header">\n            <ng-container [ngTemplateOutlet]="headerTemplate" [ngTemplateOutletContext]="{ searchTerm: filterValue }"></ng-container>\n        </div>\n        <div #scroll role="listbox" class="ng-dropdown-panel-items scroll-host">\n            <div #padding [class.total-padding]="virtualScroll"></div>\n            <div #content [class.scrollable-content]="virtualScroll && items.length">\n                <ng-content></ng-content>\n            </div>\n        </div>\n        <div *ngIf="footerTemplate" class="ng-dropdown-footer">\n            <ng-container [ngTemplateOutlet]="footerTemplate" [ngTemplateOutletContext]="{ searchTerm: filterValue }"></ng-container>\n        </div>\n    '}]}],(function(){return[{type:core.Renderer2},{type:core.NgZone},{type:NgDropdownPanelService},{type:core.ElementRef},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[common.DOCUMENT]}]}]}),{items:[{type:core.Input}],markedItem:[{type:core.Input}],position:[{type:core.Input}],appendTo:[{type:core.Input}],bufferAmount:[{type:core.Input}],virtualScroll:[{type:core.Input}],headerTemplate:[{type:core.Input}],footerTemplate:[{type:core.Input}],filterValue:[{type:core.Input}],update:[{type:core.Output}],scroll:[{type:core.Output}],scrollToEnd:[{type:core.Output}],outsideClick:[{type:core.Output}],contentElementRef:[{type:core.ViewChild,args:["content",{read:core.ElementRef,static:!0}]}],scrollElementRef:[{type:core.ViewChild,args:["scroll",{read:core.ElementRef,static:!0}]}],paddingElementRef:[{type:core.ViewChild,args:["padding",{read:core.ElementRef,static:!0}]}]});class NgOptionComponent{get disabled(){return this._disabled}set disabled(value){this._disabled=this._isDisabled(value)}constructor(elementRef){this.elementRef=elementRef,this.stateChange$=new Subject.x,this._disabled=!1}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(changes){changes.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(value){return null!=value&&"false"!=`${value}`}static#_=this.ɵfac=function NgOptionComponent_Factory(t){return new(t||NgOptionComponent)(core["ɵɵdirectiveInject"](core.ElementRef))};static#_2=this.ɵcmp=core["ɵɵdefineComponent"]({type:NgOptionComponent,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[core["ɵɵNgOnChangesFeature"]],ngContentSelectors:_c4,decls:1,vars:0,template:function NgOptionComponent_Template(rf,ctx){1&rf&&(core["ɵɵprojectionDef"](),core["ɵɵprojection"](0))},encapsulation:2,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgOptionComponent,[{type:core.Component,args:[{selector:"ng-option",changeDetection:core.ChangeDetectionStrategy.OnPush,template:"<ng-content></ng-content>"}]}],(function(){return[{type:core.ElementRef}]}),{value:[{type:core.Input}],disabled:[{type:core.Input}]});class NgSelectConfig{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static#_=this.ɵfac=function NgSelectConfig_Factory(t){return new(t||NgSelectConfig)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:NgSelectConfig,factory:NgSelectConfig.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgSelectConfig,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);class ConsoleService{warn(message){console.warn(message)}static#_=this.ɵfac=function ConsoleService_Factory(t){return new(t||ConsoleService)};static#_2=this.ɵprov=core["ɵɵdefineInjectable"]({token:ConsoleService,factory:ConsoleService.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ConsoleService,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);const SELECTION_MODEL_FACTORY=new core.InjectionToken("ng-select-selection-model");class NgSelectComponent{get items(){return this._items}set items(value){null===value&&(value=[]),this._itemsAreUsed=!0,this._items=value}get compareWith(){return this._compareWith}set compareWith(fn){if(null!=fn&&!ng_select_ng_select_isFunction(fn))throw Error("`compareWith` must be a function.");this._compareWith=fn}get clearSearchOnAdd(){return ng_select_ng_select_isDefined(this._clearSearchOnAdd)?this._clearSearchOnAdd:ng_select_ng_select_isDefined(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(value){this._clearSearchOnAdd=value}get deselectOnClick(){return ng_select_ng_select_isDefined(this._deselectOnClick)?this._deselectOnClick:ng_select_ng_select_isDefined(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(value){this._deselectOnClick=value}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(classes,autoFocus,config,newSelectionModel,_elementRef,_cd,_console){this.classes=classes,this.autoFocus=autoFocus,this.config=config,this._cd=_cd,this._console=_console,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=_=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new core.EventEmitter,this.focusEvent=new core.EventEmitter,this.changeEvent=new core.EventEmitter,this.openEvent=new core.EventEmitter,this.closeEvent=new core.EventEmitter,this.searchEvent=new core.EventEmitter,this.clearEvent=new core.EventEmitter,this.addEvent=new core.EventEmitter,this.removeEvent=new core.EventEmitter,this.scroll=new core.EventEmitter,this.scrollToEnd=new core.EventEmitter,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=newId(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Subject.x,this._keyPress$=new Subject.x,this._onChange=_=>{},this._onTouched=()=>{},this.clearItem=item=>{const option=this.selectedItems.find((x=>x.value===item));this.unselect(option)},this.trackByOption=(_,item)=>this.trackByFn?this.trackByFn(item.value):item,this._mergeGlobalConfig(config),this.itemsList=new ItemsList(this,newSelectionModel()),this.element=_elementRef.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map((x=>x.value))}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(changes){changes.multiple&&this.itemsList.clearSelected(),changes.items&&this._setItems(changes.items.currentValue||[]),changes.isOpen&&(this._manualOpen=ng_select_ng_select_isDefined(changes.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),ng_select_ng_select_isDefined(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown($event){if(KeyCode[$event.which]){if(!1===this.keyDownFn($event))return;this.handleKeyCode($event)}else $event.key&&1===$event.key.length&&this._keyPress$.next($event.key.toLocaleLowerCase())}handleKeyCode($event){const target=$event.target;this.clearButton&&this.clearButton.nativeElement===target?this.handleKeyCodeClear($event):this.handleKeyCodeInput($event)}handleKeyCodeInput($event){switch($event.which){case KeyCode.ArrowDown:this._handleArrowDown($event);break;case KeyCode.ArrowUp:this._handleArrowUp($event);break;case KeyCode.Space:this._handleSpace($event);break;case KeyCode.Enter:this._handleEnter($event);break;case KeyCode.Tab:this._handleTab($event);break;case KeyCode.Esc:this.close(),$event.preventDefault();break;case KeyCode.Backspace:this._handleBackspace()}}handleKeyCodeClear($event){if($event.which===KeyCode.Enter)this.handleClearClick(),$event.preventDefault()}handleMousedown($event){const target=$event.target;"INPUT"!==target.tagName&&$event.preventDefault(),target.classList.contains("ng-clear-wrapper")?this.handleClearClick():target.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():target.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(value){this.itemsList.clearSelected(),this._handleWriteValue(value),this._cd.markForCheck()}registerOnChange(fn){this._onChange=fn}registerOnTouched(fn){this._onTouched=fn}setDisabledState(state){this._disabled=state,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(item){!item||item.disabled||this.disabled||(this.deselectOnClick&&item.selected?this.unselect(item):this.select(item),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(item){item.selected||(this.itemsList.select(item),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(item.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(item){item&&(this.itemsList.unselect(item),this.focus(),this._updateNgModel(),this.removeEvent.emit(item.value))}selectTag(){let tag;tag=ng_select_ng_select_isFunction(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const handleTag=item=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(item,null):this.itemsList.addItem(item);!function isPromise(value){return value instanceof Promise}(tag)?tag&&this.select(handleTag(tag)):tag.then((item=>this.select(handleTag(item)))).catch((()=>{}))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;const term=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some((x=>x.label.toLowerCase()===term))&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some((x=>x.label.toLowerCase()===term)))&&!this.loading}showNoItemsFound(){const empty=0===this.itemsList.filteredItems.length;return(empty&&!this._isTypeahead&&!this.loading||empty&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(term){this._isComposing=!1,this.searchWhileComposing||this.filter(term)}filter(term){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=term,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(term),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term,items:this.itemsList.filteredItems.map((x=>x.value))}),this.open())}onInputFocus($event){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit($event),this.focused=!0)}onInputBlur($event){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit($event),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(item){item.disabled||this.itemsList.markItem(item)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const selected=this.selectedItems&&this.selectedItems[0];this.searchTerm=selected&&selected.label||null}_setItems(items){const firstItem=items[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=ng_select_ng_select_isDefined(firstItem)?!ng_select_ng_select_isObject(firstItem):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(items),items.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&ng_select_ng_select_isDefined(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const mapNgOptions=options=>{this.items=options.map((option=>({$ngOptionValue:option.value,$ngOptionLabel:option.elementRef.nativeElement.innerHTML,disabled:option.disabled}))),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},handleOptionChange=()=>{const changedOrDestroyed=(0,merge.T)(this.ngOptions.changes,this._destroy$);(0,merge.T)(...this.ngOptions.map((option=>option.stateChange$))).pipe(takeUntil(changedOrDestroyed)).subscribe((option=>{const item=this.itemsList.findItem(option.value);item.disabled=option.disabled,item.label=option.label||item.label,this._cd.detectChanges()}))};this.ngOptions.changes.pipe(function startWith(){for(var values=[],_i=0;_i<arguments.length;_i++)values[_i]=arguments[_i];var scheduler=(0,util_args.yG)(values);return(0,lift.e)((function(source,subscriber){(scheduler?concat(values,source,scheduler):concat(values,source)).subscribe(subscriber)}))}(this.ngOptions),takeUntil(this._destroy$)).subscribe((options=>{this.bindLabel=this._defaultLabel,mapNgOptions(options),handleOptionChange()}))}_isValidWriteValue(value){if(!ng_select_ng_select_isDefined(value)||this.multiple&&""===value||Array.isArray(value)&&0===value.length)return!1;const validateBinding=item=>!(!ng_select_ng_select_isDefined(this.compareWith)&&ng_select_ng_select_isObject(item)&&this.bindValue)||(this._console.warn(`Setting object(${JSON.stringify(item)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1);return this.multiple?Array.isArray(value)?value.every((item=>validateBinding(item))):(this._console.warn("Multiple select ngModel should be array."),!1):validateBinding(value)}_handleWriteValue(ngModel){if(!this._isValidWriteValue(ngModel))return;const select=val=>{let item=this.itemsList.findItem(val);if(item)this.itemsList.select(item);else{const isValObject=ng_select_ng_select_isObject(val),isPrimitive=!isValObject&&!this.bindValue;isValObject||isPrimitive?this.itemsList.select(this.itemsList.mapItem(val,null)):this.bindValue&&(item={[this.bindLabel]:null,[this.bindValue]:val},this.itemsList.select(this.itemsList.mapItem(item,null)))}};this.multiple?ngModel.forEach((item=>select(item))):select(ngModel)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(takeUntil(this._destroy$),(0,tap.b)((letter=>this._pressedKeys.push(letter))),function debounceTime(dueTime,scheduler){return void 0===scheduler&&(scheduler=asyncScheduler),(0,lift.e)((function(source,subscriber){var activeTask=null,lastValue=null,lastTime=null,emit=function(){if(activeTask){activeTask.unsubscribe(),activeTask=null;var value=lastValue;lastValue=null,subscriber.next(value)}};function emitWhenIdle(){var targetTime=lastTime+dueTime,now=scheduler.now();if(now<targetTime)return activeTask=this.schedule(void 0,targetTime-now),void subscriber.add(activeTask);emit()}source.subscribe((0,OperatorSubscriber.x)(subscriber,(function(value){lastValue=value,lastTime=scheduler.now(),activeTask||(activeTask=scheduler.schedule(emitWhenIdle,dueTime),subscriber.add(activeTask))}),(function(){emit(),subscriber.complete()}),void 0,(function(){lastValue=activeTask=null})))}))}(200),(0,filter.h)((()=>this._pressedKeys.length>0)),(0,map.U)((()=>this._pressedKeys.join("")))).subscribe((term=>{const item=this.itemsList.findByLabel(term);item&&(this.isOpen?(this.itemsList.markItem(item),this._scrollToMarked(),this._cd.markForCheck()):this.select(item)),this._pressedKeys=[]}))}_setInputAttributes(){const input=this.searchInput.nativeElement,attributes={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const key of Object.keys(attributes))input.setAttribute(key,attributes[key])}_updateNgModel(){const model=[];for(const item of this.selectedItems)if(this.bindValue){let value=null;if(item.children){const groupKey=this.groupValue?this.bindValue:this.groupBy;value=item.value[groupKey||this.groupBy]}else value=this.itemsList.resolveNested(item.value,this.bindValue);model.push(value)}else model.push(item.value);const selected=this.selectedItems.map((x=>x.value));this.multiple?(this._onChange(model),this.changeEvent.emit(selected)):(this._onChange(ng_select_ng_select_isDefined(model[0])?model[0]:null),this.changeEvent.emit(selected[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(searchTerm){this.searchTerm=searchTerm,this._isTypeahead&&this.typeahead.next(searchTerm)}_scrollToMarked(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab($event){if(!1===this.isOpen)if(this.showClear())this.focusOnClear(),$event.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),$event.preventDefault()):this.showAddTag?(this.selectTag(),$event.preventDefault()):this.close():this.close()}_handleEnter($event){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}$event.preventDefault()}_handleSpace($event){this.isOpen||this._manualOpen||(this.open(),$event.preventDefault())}_handleArrowDown($event){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),$event.preventDefault()}_handleArrowUp($event){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),$event.preventDefault())}_nextItemIsTag(nextStep){const nextIndex=this.itemsList.markedIndex+nextStep;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(nextIndex<0||nextIndex===this.itemsList.filteredItems.length)}_handleBackspace(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const term=this.searchTerm&&this.searchTerm.trim();return term&&term.length>=this.minTermLength}_mergeGlobalConfig(config){this.placeholder=this.placeholder||config.placeholder,this.notFoundText=this.notFoundText||config.notFoundText,this.typeToSearchText=this.typeToSearchText||config.typeToSearchText,this.addTagText=this.addTagText||config.addTagText,this.loadingText=this.loadingText||config.loadingText,this.clearAllText=this.clearAllText||config.clearAllText,this.virtualScroll=ng_select_ng_select_isDefined(this.virtualScroll)?this.virtualScroll:!!ng_select_ng_select_isDefined(config.disableVirtualScroll)&&!config.disableVirtualScroll,this.openOnEnter=ng_select_ng_select_isDefined(this.openOnEnter)?this.openOnEnter:config.openOnEnter,this.appendTo=this.appendTo||config.appendTo,this.bindValue=this.bindValue||config.bindValue,this.bindLabel=this.bindLabel||config.bindLabel,this.appearance=this.appearance||config.appearance}static#_=this.ɵfac=function NgSelectComponent_Factory(t){return new(t||NgSelectComponent)(core["ɵɵinjectAttribute"]("class"),core["ɵɵinjectAttribute"]("autofocus"),core["ɵɵdirectiveInject"](NgSelectConfig),core["ɵɵdirectiveInject"](SELECTION_MODEL_FACTORY),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](core.ChangeDetectorRef),core["ɵɵdirectiveInject"](ConsoleService))};static#_2=this.ɵcmp=core["ɵɵdefineComponent"]({type:NgSelectComponent,selectors:[["ng-select"]],contentQueries:function NgSelectComponent_ContentQueries(rf,ctx,dirIndex){if(1&rf&&(core["ɵɵcontentQuery"](dirIndex,NgOptionTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgOptgroupTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgLabelTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgMultiLabelTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgHeaderTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgFooterTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgNotFoundTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgTypeToSearchTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgLoadingTextTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgTagTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgLoadingSpinnerTemplateDirective,5,core.TemplateRef),core["ɵɵcontentQuery"](dirIndex,NgOptionComponent,5)),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.optionTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.optgroupTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.labelTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.multiLabelTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.headerTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.footerTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.notFoundTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.typeToSearchTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.loadingTextTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.tagTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.loadingSpinnerTemplate=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.ngOptions=_t)}},viewQuery:function NgSelectComponent_Query(rf,ctx){if(1&rf&&(core["ɵɵviewQuery"](NgDropdownPanelComponent,5),core["ɵɵviewQuery"](_c5,7),core["ɵɵviewQuery"](_c6,5)),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.dropdownPanel=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.searchInput=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.clearButton=_t.first)}},hostVars:20,hostBindings:function NgSelectComponent_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("keydown",(function NgSelectComponent_keydown_HostBindingHandler($event){return ctx.handleKeyDown($event)})),2&rf&&core["ɵɵclassProp"]("ng-select-typeahead",ctx.typeahead)("ng-select-multiple",ctx.multiple)("ng-select-taggable",ctx.addTag)("ng-select-searchable",ctx.searchable)("ng-select-clearable",ctx.clearable)("ng-select-opened",ctx.isOpen)("ng-select",ctx.useDefaultClass)("ng-select-disabled",ctx.disabled)("ng-select-filtered",ctx.filtered)("ng-select-single",ctx.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[core["ɵɵProvidersFeature"]([{provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>NgSelectComponent)),multi:!0},NgDropdownPanelService]),core["ɵɵNgOnChangesFeature"]],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper","tabindex","0",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],["clearButton",""],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function NgSelectComponent_Template(rf,ctx){if(1&rf){const _r53=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"div",0),core["ɵɵlistener"]("mousedown",(function NgSelectComponent_Template_div_mousedown_0_listener($event){return ctx.handleMousedown($event)})),core["ɵɵelementStart"](1,"div",1)(2,"div",2),core["ɵɵtext"](3),core["ɵɵelementEnd"](),core["ɵɵtemplate"](4,NgSelectComponent_ng_container_4_Template,2,2,"ng-container",3),core["ɵɵtemplate"](5,NgSelectComponent_5_Template,1,5,null,3),core["ɵɵelementStart"](6,"div",4)(7,"input",5,6),core["ɵɵlistener"]("input",(function NgSelectComponent_Template_input_input_7_listener(){core["ɵɵrestoreView"](_r53);const _r2=core["ɵɵreference"](8);return core["ɵɵresetView"](ctx.filter(_r2.value))}))("compositionstart",(function NgSelectComponent_Template_input_compositionstart_7_listener(){return ctx.onCompositionStart()}))("compositionend",(function NgSelectComponent_Template_input_compositionend_7_listener(){core["ɵɵrestoreView"](_r53);const _r2=core["ɵɵreference"](8);return core["ɵɵresetView"](ctx.onCompositionEnd(_r2.value))}))("focus",(function NgSelectComponent_Template_input_focus_7_listener($event){return ctx.onInputFocus($event)}))("blur",(function NgSelectComponent_Template_input_blur_7_listener($event){return ctx.onInputBlur($event)}))("change",(function NgSelectComponent_Template_input_change_7_listener($event){return $event.stopPropagation()})),core["ɵɵelementEnd"]()()(),core["ɵɵtemplate"](9,NgSelectComponent_ng_container_9_Template,4,1,"ng-container",3),core["ɵɵtemplate"](10,NgSelectComponent_span_10_Template,4,1,"span",7),core["ɵɵelementStart"](11,"span",8),core["ɵɵelement"](12,"span",9),core["ɵɵelementEnd"]()(),core["ɵɵtemplate"](13,NgSelectComponent_ng_dropdown_panel_13_Template,7,19,"ng-dropdown-panel",10)}2&rf&&(core["ɵɵclassProp"]("ng-appearance-outline","outline"===ctx.appearance)("ng-has-value",ctx.hasValue),core["ɵɵadvance"](3),core["ɵɵtextInterpolate"](ctx.placeholder),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",(!ctx.multiLabelTemplate||!ctx.multiple)&&ctx.selectedItems.length>0),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx.multiple&&ctx.multiLabelTemplate&&ctx.selectedValues.length>0),core["ɵɵadvance"](1),core["ɵɵattribute"]("aria-expanded",ctx.isOpen)("aria-owns",ctx.isOpen?ctx.dropdownId:null),core["ɵɵadvance"](1),core["ɵɵproperty"]("readOnly",!ctx.searchable||ctx.itemsList.maxItemsSelected)("disabled",ctx.disabled)("value",ctx.searchTerm?ctx.searchTerm:""),core["ɵɵattribute"]("id",ctx.labelForId)("tabindex",ctx.tabIndex)("aria-activedescendant",ctx.isOpen?null==ctx.itemsList||null==ctx.itemsList.markedItem?null:ctx.itemsList.markedItem.htmlId:null)("aria-controls",ctx.isOpen?ctx.dropdownId:null),core["ɵɵadvance"](2),core["ɵɵproperty"]("ngIf",ctx.loading),core["ɵɵadvance"](1),core["ɵɵproperty"]("ngIf",ctx.showClear()),core["ɵɵadvance"](3),core["ɵɵproperty"]("ngIf",ctx.isOpen))},dependencies:[common.NgClass,common.NgForOf,common.NgIf,common.NgTemplateOutlet,NgDropdownPanelComponent,NgItemLabelDirective],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0})}function DefaultSelectionModelFactory(){return new DefaultSelectionModel}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgSelectComponent,[{type:core.Component,args:[{selector:"ng-select",providers:[{provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>NgSelectComponent)),multi:!0},NgDropdownPanelService],encapsulation:core.ViewEncapsulation.None,changeDetection:core.ChangeDetectionStrategy.OnPush,template:'<div\n    (mousedown)="handleMousedown($event)"\n    [class.ng-appearance-outline]="appearance === \'outline\'"\n    [class.ng-has-value]="hasValue"\n    class="ng-select-container">\n\n    <div class="ng-value-container">\n        <div class="ng-placeholder">{{placeholder}}</div>\n\n        <ng-container *ngIf="(!multiLabelTemplate  || !multiple ) && selectedItems.length > 0">\n            <div [class.ng-value-disabled]="item.disabled" class="ng-value" *ngFor="let item of selectedItems; trackBy: trackByOption">\n                <ng-template #defaultLabelTemplate>\n                    <span class="ng-value-icon left" (click)="unselect(item);" aria-hidden="true">×</span>\n                    <span class="ng-value-label" [ngItemLabel]="item.label" [escape]="escapeHTML"></span>\n                </ng-template>\n\n                <ng-template\n                    [ngTemplateOutlet]="labelTemplate || defaultLabelTemplate"\n                    [ngTemplateOutletContext]="{ item: item.value, clear: clearItem, label: item.label }">\n                </ng-template>\n            </div>\n        </ng-container>\n\n        <ng-template *ngIf="multiple && multiLabelTemplate && selectedValues.length > 0"\n                [ngTemplateOutlet]="multiLabelTemplate"\n                [ngTemplateOutletContext]="{ items: selectedValues, clear: clearItem }">\n        </ng-template>\n\n        <div class="ng-input"\n            role="combobox" \n            [attr.aria-expanded]="isOpen" \n            [attr.aria-owns]="isOpen ? dropdownId : null" \n            aria-haspopup="listbox">\n\n            <input #searchInput\n                   [attr.id]="labelForId"\n                   [attr.tabindex]="tabIndex"\n                   [readOnly]="!searchable || itemsList.maxItemsSelected"\n                   [disabled]="disabled"\n                   [value]="searchTerm ? searchTerm : \'\'"\n                   (input)="filter(searchInput.value)"\n                   (compositionstart)="onCompositionStart()"\n                   (compositionend)="onCompositionEnd(searchInput.value)"\n                   (focus)="onInputFocus($event)"\n                   (blur)="onInputBlur($event)"\n                   (change)="$event.stopPropagation()"\n                   [attr.aria-activedescendant]="isOpen ? itemsList?.markedItem?.htmlId : null"\n                   aria-autocomplete="list"\n                   [attr.aria-controls]="isOpen ? dropdownId : null">\n        </div>\n    </div>\n\n    <ng-container *ngIf="loading">\n        <ng-template #defaultLoadingSpinnerTemplate>\n            <div class="ng-spinner-loader"></div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]="loadingSpinnerTemplate || defaultLoadingSpinnerTemplate">\n        </ng-template>\n    </ng-container>\n\n    <span *ngIf="showClear()" class="ng-clear-wrapper" tabindex="0" title="{{clearAllText}}" #clearButton>\n        <span class="ng-clear" aria-hidden="true">×</span>\n    </span>\n\n    <span class="ng-arrow-wrapper">\n        <span class="ng-arrow"></span>\n    </span>\n</div>\n\n<ng-dropdown-panel *ngIf="isOpen"\n                   class="ng-dropdown-panel"\n                   [virtualScroll]="virtualScroll"\n                   [bufferAmount]="bufferAmount"\n                   [appendTo]="appendTo"\n                   [position]="dropdownPosition"\n                   [headerTemplate]="headerTemplate"\n                   [footerTemplate]="footerTemplate"\n                   [filterValue]="searchTerm"\n                   [items]="itemsList.filteredItems"\n                   [markedItem]="itemsList.markedItem"\n                   (update)="viewPortItems = $event"\n                   (scroll)="scroll.emit($event)"\n                   (scrollToEnd)="scrollToEnd.emit($event)"\n                   (outsideClick)="close()"\n                   [class.ng-select-multiple]="multiple"\n                   [ngClass]="appendTo ? classes : null"\n                   [id]="dropdownId"\n                   role="listbox"\n                   aria-label="Options list">\n\n    <ng-container>\n        <div class="ng-option" [attr.role]="item.children ? \'group\' : \'option\'" (click)="toggleItem(item)" (mouseover)="onItemHover(item)"\n                *ngFor="let item of viewPortItems; trackBy: trackByOption"\n                [class.ng-option-disabled]="item.disabled"\n                [class.ng-option-selected]="item.selected"\n                [class.ng-optgroup]="item.children"\n                [class.ng-option]="!item.children"\n                [class.ng-option-child]="!!item.parent"\n                [class.ng-option-marked]="item === itemsList.markedItem"\n                [attr.aria-selected]="item.selected"\n                [attr.id]="item?.htmlId">\n\n            <ng-template #defaultOptionTemplate>\n                <span class="ng-option-label" [ngItemLabel]="item.label" [escape]="escapeHTML"></span>\n            </ng-template>\n\n            <ng-template\n                [ngTemplateOutlet]="item.children ? (optgroupTemplate || defaultOptionTemplate) : (optionTemplate || defaultOptionTemplate)"\n                [ngTemplateOutletContext]="{ item: item.value, item$:item, index: item.index, searchTerm: searchTerm }">\n            </ng-template>\n        </div>\n\n        <div class="ng-option" [class.ng-option-marked]="!itemsList.markedItem" (mouseover)="itemsList.unmarkItem()" role="option" (click)="selectTag()" *ngIf="showAddTag">\n            <ng-template #defaultTagTemplate>\n                <span><span class="ng-tag-label">{{addTagText}}</span>"{{searchTerm}}"</span>\n            </ng-template>\n\n            <ng-template\n                [ngTemplateOutlet]="tagTemplate || defaultTagTemplate"\n                [ngTemplateOutletContext]="{ searchTerm: searchTerm }">\n            </ng-template>\n        </div>\n    </ng-container>\n\n    <ng-container *ngIf="showNoItemsFound()">\n        <ng-template #defaultNotFoundTemplate>\n            <div class="ng-option ng-option-disabled">{{notFoundText}}</div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]="notFoundTemplate || defaultNotFoundTemplate"\n            [ngTemplateOutletContext]="{ searchTerm: searchTerm }">\n        </ng-template>\n    </ng-container>\n\n    <ng-container *ngIf="showTypeToSearch()">\n        <ng-template #defaultTypeToSearchTemplate>\n            <div class="ng-option ng-option-disabled">{{typeToSearchText}}</div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]="typeToSearchTemplate || defaultTypeToSearchTemplate">\n        </ng-template>\n    </ng-container>\n\n    <ng-container *ngIf="loading && itemsList.filteredItems.length === 0">\n        <ng-template #defaultLoadingTextTemplate>\n            <div class="ng-option ng-option-disabled">{{loadingText}}</div>\n        </ng-template>\n\n        <ng-template\n            [ngTemplateOutlet]="loadingTextTemplate || defaultLoadingTextTemplate"\n            [ngTemplateOutletContext]="{ searchTerm: searchTerm }">\n        </ng-template>\n    </ng-container>\n\n</ng-dropdown-panel>\n',styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n']}]}],(function(){return[{type:void 0,decorators:[{type:core.Attribute,args:["class"]}]},{type:void 0,decorators:[{type:core.Attribute,args:["autofocus"]}]},{type:NgSelectConfig},{type:void 0,decorators:[{type:core.Inject,args:[SELECTION_MODEL_FACTORY]}]},{type:core.ElementRef},{type:core.ChangeDetectorRef},{type:ConsoleService}]}),{bindLabel:[{type:core.Input}],bindValue:[{type:core.Input}],markFirst:[{type:core.Input}],placeholder:[{type:core.Input}],notFoundText:[{type:core.Input}],typeToSearchText:[{type:core.Input}],addTagText:[{type:core.Input}],loadingText:[{type:core.Input}],clearAllText:[{type:core.Input}],appearance:[{type:core.Input}],dropdownPosition:[{type:core.Input}],appendTo:[{type:core.Input}],loading:[{type:core.Input}],closeOnSelect:[{type:core.Input}],hideSelected:[{type:core.Input}],selectOnTab:[{type:core.Input}],openOnEnter:[{type:core.Input}],maxSelectedItems:[{type:core.Input}],groupBy:[{type:core.Input}],groupValue:[{type:core.Input}],bufferAmount:[{type:core.Input}],virtualScroll:[{type:core.Input}],selectableGroup:[{type:core.Input}],selectableGroupAsModel:[{type:core.Input}],searchFn:[{type:core.Input}],trackByFn:[{type:core.Input}],clearOnBackspace:[{type:core.Input}],labelForId:[{type:core.Input}],inputAttrs:[{type:core.Input}],tabIndex:[{type:core.Input}],readonly:[{type:core.Input}],searchWhileComposing:[{type:core.Input}],minTermLength:[{type:core.Input}],editableSearchTerm:[{type:core.Input}],keyDownFn:[{type:core.Input}],typeahead:[{type:core.Input},{type:core.HostBinding,args:["class.ng-select-typeahead"]}],multiple:[{type:core.Input},{type:core.HostBinding,args:["class.ng-select-multiple"]}],addTag:[{type:core.Input},{type:core.HostBinding,args:["class.ng-select-taggable"]}],searchable:[{type:core.Input},{type:core.HostBinding,args:["class.ng-select-searchable"]}],clearable:[{type:core.Input},{type:core.HostBinding,args:["class.ng-select-clearable"]}],isOpen:[{type:core.Input},{type:core.HostBinding,args:["class.ng-select-opened"]}],items:[{type:core.Input}],compareWith:[{type:core.Input}],clearSearchOnAdd:[{type:core.Input}],deselectOnClick:[{type:core.Input}],blurEvent:[{type:core.Output,args:["blur"]}],focusEvent:[{type:core.Output,args:["focus"]}],changeEvent:[{type:core.Output,args:["change"]}],openEvent:[{type:core.Output,args:["open"]}],closeEvent:[{type:core.Output,args:["close"]}],searchEvent:[{type:core.Output,args:["search"]}],clearEvent:[{type:core.Output,args:["clear"]}],addEvent:[{type:core.Output,args:["add"]}],removeEvent:[{type:core.Output,args:["remove"]}],scroll:[{type:core.Output,args:["scroll"]}],scrollToEnd:[{type:core.Output,args:["scrollToEnd"]}],optionTemplate:[{type:core.ContentChild,args:[NgOptionTemplateDirective,{read:core.TemplateRef}]}],optgroupTemplate:[{type:core.ContentChild,args:[NgOptgroupTemplateDirective,{read:core.TemplateRef}]}],labelTemplate:[{type:core.ContentChild,args:[NgLabelTemplateDirective,{read:core.TemplateRef}]}],multiLabelTemplate:[{type:core.ContentChild,args:[NgMultiLabelTemplateDirective,{read:core.TemplateRef}]}],headerTemplate:[{type:core.ContentChild,args:[NgHeaderTemplateDirective,{read:core.TemplateRef}]}],footerTemplate:[{type:core.ContentChild,args:[NgFooterTemplateDirective,{read:core.TemplateRef}]}],notFoundTemplate:[{type:core.ContentChild,args:[NgNotFoundTemplateDirective,{read:core.TemplateRef}]}],typeToSearchTemplate:[{type:core.ContentChild,args:[NgTypeToSearchTemplateDirective,{read:core.TemplateRef}]}],loadingTextTemplate:[{type:core.ContentChild,args:[NgLoadingTextTemplateDirective,{read:core.TemplateRef}]}],tagTemplate:[{type:core.ContentChild,args:[NgTagTemplateDirective,{read:core.TemplateRef}]}],loadingSpinnerTemplate:[{type:core.ContentChild,args:[NgLoadingSpinnerTemplateDirective,{read:core.TemplateRef}]}],dropdownPanel:[{type:core.ViewChild,args:[(0,core.forwardRef)((()=>NgDropdownPanelComponent))]}],searchInput:[{type:core.ViewChild,args:["searchInput",{static:!0}]}],clearButton:[{type:core.ViewChild,args:["clearButton"]}],ngOptions:[{type:core.ContentChildren,args:[NgOptionComponent,{descendants:!0}]}],useDefaultClass:[{type:core.HostBinding,args:["class.ng-select"]}],disabled:[{type:core.HostBinding,args:["class.ng-select-disabled"]}],filtered:[{type:core.HostBinding,args:["class.ng-select-filtered"]}],single:[{type:core.HostBinding,args:["class.ng-select-single"]}],handleKeyDown:[{type:core.HostListener,args:["keydown",["$event"]]}]});class DefaultSelectionModel{constructor(){this._selected=[]}get value(){return this._selected}select(item,multiple,groupAsModel){if(item.selected=!0,(!item.children||!multiple&&groupAsModel)&&this._selected.push(item),multiple)if(item.parent){const childrenCount=item.parent.children.length,selectedCount=item.parent.children.filter((x=>x.selected)).length;item.parent.selected=childrenCount===selectedCount}else item.children&&(this._setChildrenSelectedState(item.children,!0),this._removeChildren(item),groupAsModel&&this._activeChildren(item)?this._selected=[...this._selected.filter((x=>x.parent!==item)),item]:this._selected=[...this._selected,...item.children.filter((x=>!x.disabled))])}unselect(item,multiple){if(this._selected=this._selected.filter((x=>x!==item)),item.selected=!1,multiple)if(item.parent&&item.parent.selected){const children=item.parent.children;this._removeParent(item.parent),this._removeChildren(item.parent),this._selected.push(...children.filter((x=>x!==item&&!x.disabled))),item.parent.selected=!1}else item.children&&(this._setChildrenSelectedState(item.children,!1),this._removeChildren(item))}clear(keepDisabled){this._selected=keepDisabled?this._selected.filter((x=>x.disabled)):[]}_setChildrenSelectedState(children,selected){for(const child of children)child.disabled||(child.selected=selected)}_removeChildren(parent){this._selected=[...this._selected.filter((x=>x.parent!==parent)),...parent.children.filter((x=>x.parent===parent&&x.disabled&&x.selected))]}_removeParent(parent){this._selected=this._selected.filter((x=>x!==parent))}_activeChildren(item){return item.children.every((x=>!x.disabled||x.selected))}}class NgSelectModule{static#_=this.ɵfac=function NgSelectModule_Factory(t){return new(t||NgSelectModule)};static#_2=this.ɵmod=core["ɵɵdefineNgModule"]({type:NgSelectModule,declarations:[NgDropdownPanelComponent,NgOptionComponent,NgSelectComponent,NgOptgroupTemplateDirective,NgOptionTemplateDirective,NgLabelTemplateDirective,NgMultiLabelTemplateDirective,NgHeaderTemplateDirective,NgFooterTemplateDirective,NgNotFoundTemplateDirective,NgTypeToSearchTemplateDirective,NgLoadingTextTemplateDirective,NgTagTemplateDirective,NgLoadingSpinnerTemplateDirective,NgItemLabelDirective],imports:[common.CommonModule],exports:[NgSelectComponent,NgOptionComponent,NgOptgroupTemplateDirective,NgOptionTemplateDirective,NgLabelTemplateDirective,NgMultiLabelTemplateDirective,NgHeaderTemplateDirective,NgFooterTemplateDirective,NgNotFoundTemplateDirective,NgTypeToSearchTemplateDirective,NgLoadingTextTemplateDirective,NgTagTemplateDirective,NgLoadingSpinnerTemplateDirective]});static#_3=this.ɵinj=core["ɵɵdefineInjector"]({providers:[{provide:SELECTION_MODEL_FACTORY,useValue:DefaultSelectionModelFactory}],imports:[common.CommonModule]})}function SelectWrapperComponent_ng_container_0_Template(rf,ctx){1&rf&&core["ɵɵelementContainer"](0)}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NgSelectModule,[{type:core.NgModule,args:[{declarations:[NgDropdownPanelComponent,NgOptionComponent,NgSelectComponent,NgOptgroupTemplateDirective,NgOptionTemplateDirective,NgLabelTemplateDirective,NgMultiLabelTemplateDirective,NgHeaderTemplateDirective,NgFooterTemplateDirective,NgNotFoundTemplateDirective,NgTypeToSearchTemplateDirective,NgLoadingTextTemplateDirective,NgTagTemplateDirective,NgLoadingSpinnerTemplateDirective,NgItemLabelDirective],imports:[common.CommonModule],exports:[NgSelectComponent,NgOptionComponent,NgOptgroupTemplateDirective,NgOptionTemplateDirective,NgLabelTemplateDirective,NgMultiLabelTemplateDirective,NgHeaderTemplateDirective,NgFooterTemplateDirective,NgNotFoundTemplateDirective,NgTypeToSearchTemplateDirective,NgLoadingTextTemplateDirective,NgTagTemplateDirective,NgLoadingSpinnerTemplateDirective],providers:[{provide:SELECTION_MODEL_FACTORY,useValue:DefaultSelectionModelFactory}]}]}],null,null);const agilent_ui_element_select_c0=["inputElement"],agilent_ui_element_select_c1=["ngSelectComponent"];function SelectComponent_ng_template_1_ng_template_2_ng_template_4_span_3_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"span",12),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf){const item_r9=core["ɵɵnextContext"]().item,ctx_r11=core["ɵɵnextContext"](3);core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](ctx_r11.computeValueLabel(item_r9))}}function SelectComponent_ng_template_1_ng_template_2_ng_template_4_Template(rf,ctx){if(1&rf){const _r14=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"span",10),core["ɵɵlistener"]("click",(function SelectComponent_ng_template_1_ng_template_2_ng_template_4_Template_span_click_0_listener(){const restoredCtx=core["ɵɵrestoreView"](_r14),item_r9=restoredCtx.item,clear_r10=restoredCtx.clear;return core["ɵɵresetView"](clear_r10(item_r9))})),core["ɵɵpipe"](1,"translate"),core["ɵɵtext"](2,"×"),core["ɵɵelementEnd"](),core["ɵɵtemplate"](3,SelectComponent_ng_template_1_ng_template_2_ng_template_4_span_3_Template,2,1,"span",11)}if(2&rf){const ctx_r6=core["ɵɵnextContext"](3);core["ɵɵproperty"]("tooltipContent",core["ɵɵpipeBind1"](1,2,"remove")),core["ɵɵadvance"](3),core["ɵɵproperty"]("ngIf",!ctx_r6.hideSelectedValueLabel)}}function SelectComponent_ng_template_1_ng_template_2_ng_template_5_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"div",13),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf){const item_r15=ctx.item,ctx_r7=core["ɵɵnextContext"](3);core["ɵɵproperty"]("disableTooltip",!ctx_r7.enableTooltip)("tooltipContent",item_r15),core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](ctx_r7.computeValueLabel(item_r15))}}function SelectComponent_ng_template_1_ng_template_2_span_6_Template(rf,ctx){if(1&rf){const _r17=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"span",14),core["ɵɵlistener"]("click",(function SelectComponent_ng_template_1_ng_template_2_span_6_Template_span_click_0_listener(){core["ɵɵrestoreView"](_r17);const ctx_r16=core["ɵɵnextContext"](3);return core["ɵɵresetView"](ctx_r16.clear())})),core["ɵɵelementStart"](1,"span",15),core["ɵɵpipe"](2,"translate"),core["ɵɵtext"](3,"×"),core["ɵɵelementEnd"]()()}2&rf&&(core["ɵɵadvance"](1),core["ɵɵpropertyInterpolate"]("tooltipContent",core["ɵɵpipeBind1"](2,1,"clear")))}function SelectComponent_ng_template_1_ng_template_2_Template(rf,ctx){if(1&rf){const _r19=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"ng-select",5,6),core["ɵɵlistener"]("ngModelChange",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_ngModelChange_0_listener($event){core["ɵɵrestoreView"](_r19);const ctx_r18=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r18.value=$event)}))("change",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_change_0_listener($event){core["ɵɵrestoreView"](_r19);const ctx_r20=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r20.onChange($event))}))("search",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_search_0_listener($event){core["ɵɵrestoreView"](_r19);const ctx_r21=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r21.triggerSearch($event))}))("focus",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_focus_0_listener(){core["ɵɵrestoreView"](_r19);const ctx_r22=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r22.hasFocus=!0)}))("blur",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_blur_0_listener(){core["ɵɵrestoreView"](_r19);const ctx_r23=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r23.onBlur())}))("open",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_open_0_listener(){core["ɵɵrestoreView"](_r19);const ctx_r24=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r24.detectChanges())}))("close",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_close_0_listener(){core["ɵɵrestoreView"](_r19);const ctx_r25=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r25.onClose())}))("keydown",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_keydown_0_listener($event){core["ɵɵrestoreView"](_r19);const ctx_r26=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r26.keyDown($event))}))("keyup",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_keyup_0_listener(){core["ɵɵrestoreView"](_r19);const ctx_r27=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r27.detectChanges())}))("click",(function SelectComponent_ng_template_1_ng_template_2_Template_ng_select_click_0_listener(){core["ɵɵrestoreView"](_r19);const ctx_r28=core["ɵɵnextContext"](2);return core["ɵɵresetView"](ctx_r28.onClick())})),core["ɵɵpipe"](3,"translate"),core["ɵɵtemplate"](4,SelectComponent_ng_template_1_ng_template_2_ng_template_4_Template,4,4,"ng-template",7),core["ɵɵtemplate"](5,SelectComponent_ng_template_1_ng_template_2_ng_template_5_Template,2,3,"ng-template",8),core["ɵɵelementEnd"](),core["ɵɵtemplate"](6,SelectComponent_ng_template_1_ng_template_2_span_6_Template,4,3,"span",9)}if(2&rf){const ctx_r3=core["ɵɵnextContext"](2);core["ɵɵclassProp"]("readonly",ctx_r3.readonly&&!ctx_r3.isDisabled),core["ɵɵpropertyInterpolate"]("notFoundText",core["ɵɵpipeBind1"](3,23,"noItemFound")),core["ɵɵproperty"]("ngClass",ctx_r3.autoFitDropdownContent?"ng-select-auto-fit-dropdown-content":"")("items",ctx_r3.values)("selectOnTab",!0)("ngModel",ctx_r3.value)("addTag",ctx_r3.addTag)("multiple",ctx_r3.multiple)("searchable",ctx_r3.addTag||!ctx_r3.disableSearch)("disabled",ctx_r3.isDisabled)("clearable",!1)("bindLabel",ctx_r3.bindProperty)("required",ctx_r3.required)("appendTo",ctx_r3.container)("readonly",ctx_r3.readonly)("keyDownFn",ctx_r3.keyDownFn())("agNumberValidator",ctx_r3.numericInputOnly)("dropdownPosition",ctx_r3.dropdownPosition)("placeholder",ctx_r3.placeholder)("disableTooltip",!ctx_r3.enableTooltip)("tooltipContent",ctx_r3.value),core["ɵɵadvance"](6),core["ɵɵproperty"]("ngIf",ctx_r3.isClearable())}}function SelectComponent_ng_template_1_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"span",2)(1,"ag-select-wrapper",3),core["ɵɵtemplate"](2,SelectComponent_ng_template_1_ng_template_2_Template,7,25,"ng-template",null,4,core["ɵɵtemplateRefExtractor"]),core["ɵɵelementEnd"]()()),2&rf){const _r2=core["ɵɵreference"](3),ctx_r1=core["ɵɵnextContext"]();core["ɵɵadvance"](1),core["ɵɵclassProp"]("has-error",ctx_r1.errors.length>0||ctx_r1.outOfBounds),core["ɵɵproperty"]("templateRef",_r2)}}class SelectWrapperComponent{templateRef;constructor(){}static ɵfac=function SelectWrapperComponent_Factory(t){return new(t||SelectWrapperComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:SelectWrapperComponent,selectors:[["ag-select-wrapper"]],inputs:{templateRef:"templateRef"},decls:1,vars:1,consts:[[4,"ngTemplateOutlet"]],template:function SelectWrapperComponent_Template(rf,ctx){1&rf&&core["ɵɵtemplate"](0,SelectWrapperComponent_ng_container_0_Template,1,0,"ng-container",0),2&rf&&core["ɵɵproperty"]("ngTemplateOutlet",ctx.templateRef)},dependencies:[common.NgTemplateOutlet],styles:['@charset "UTF-8";.ng-select{position:relative}.ng-select.ng-select-opened.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-clear-wrapper{opacity:0;pointer-events:none}.ng-select.ng-select-opened.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-arrow-wrapper{opacity:1;pointer-events:auto}.ng-select.ng-select-opened>.ng-select-container{background:#fff;border-color:#40a9ff;box-shadow:0 0 0 2px #1890ff33}.ng-select.ng-select-opened>.ng-select-container .ng-arrow-wrapper{transform:rotate(180deg);opacity:1}[dir=rtl] .ng-select.ng-select-opened>.ng-select-container .ng-arrow-wrapper{transform:rotate(-180deg)}.ng-select.ng-select-focused .ng-select-container{border-color:#40a9ff}.ng-select.ng-select-disabled>.ng-select-container{background-color:#f5f5f5}.ng-select.ng-select-disabled>.ng-select-container:hover{border:1px solid #d9d9d9;cursor:not-allowed}.ng-select.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{color:#00000040}.ng-select .ng-has-value .ng-placeholder{display:none}.ng-select.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-clear-wrapper{opacity:1}.ng-select.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-arrow-wrapper{opacity:0;pointer-events:none}.ng-select .ng-select-container{color:#000000a6;background-color:#fff;border-radius:4px;border:1px solid #d9d9d9;min-height:30px;align-items:center;transition:all .3s;box-sizing:border-box;padding-right:11px;padding-left:11px}.ng-select .ng-select-container .ng-input{line-height:22px}.ng-select .ng-select-container .ng-input input{color:#000000a6}.ng-select .ng-select-container .ng-value-container{align-items:center}.ng-select .ng-select-container .ng-value-container .ng-value{font-size:14px;color:#000000a6}.ng-select .ng-select-container .ng-value-container .ng-placeholder{font-size:14px;color:#999999a6}.ng-select.ng-select-single.ng-select-opened .ng-select-container .ng-value{opacity:.4}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{top:2px;left:0;padding-left:10px;padding-right:50px}[dir=rtl] .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-right:10px;padding-left:50px}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{background-color:#f5f5f5}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-label{padding:0 5px}.ng-select.ng-select-multiple .ng-select-container{min-height:32px;padding-left:5px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container{padding-right:5px;padding-left:11px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{margin-left:0;margin-right:6px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{padding-bottom:3px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{margin-top:3px;margin-right:4px;font-size:.9em;background-color:#fafafa;border:1px solid #e8e8e8;border-radius:2px;height:24px;line-height:22px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{margin-right:0;margin-left:4px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled{background-color:#f5f5f5;color:#00000040}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-label{padding-left:5px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-label{padding-left:0;padding-right:5px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-label,.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:inline-block;padding:0 5px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:50%;height:20px;margin-top:-10px;margin-left:6px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{height:24px;margin-top:3px}.ng-select .ng-clear-wrapper{opacity:0;color:#a6a6a6;background:#00000040;width:12px;height:12px;text-align:center;border-radius:12px;vertical-align:middle;transition:color .3s ease;position:absolute;right:13px}[dir=rtl] .ng-select .ng-clear-wrapper{left:13px;right:auto}.ng-select .ng-clear-wrapper:hover{background:#00000073}.ng-select .ng-clear-wrapper:focus{background:#00000073;outline:none}.ng-select .ng-clear-wrapper .ng-clear{color:#fff;font-size:9px;position:absolute;left:3px;line-height:12px}.ng-select .ng-spinner-zone{padding:5px 5px 0 0}[dir=rtl] .ng-select .ng-spinner-zone{padding:5px 0 0 5px}.ng-select .ng-arrow-wrapper{width:16px;height:26px;transition:transform .3s}.ng-select .ng-arrow-wrapper .ng-arrow{border-style:solid;border-width:.1rem .1rem 0 0;height:8px;width:8px;top:-2px;transform:rotate(135deg);color:#00000040}.ng-dropdown-panel{background-color:#fff;box-shadow:0 2px 8px #00000026;border-radius:4px;margin-top:4px;margin-bottom:4px;left:0}.ng-dropdown-panel.ng-select-top{bottom:100%;border-bottom-color:#f3f3f3}.ng-dropdown-panel.ng-select-right{left:100%;top:0;border-bottom-color:#f3f3f3;margin-top:0;margin-left:4px}.ng-dropdown-panel.ng-select-bottom{top:100%;border-top-color:#f3f3f3}.ng-dropdown-panel.ng-select-left{left:calc(-100% - 4px);top:0;border-bottom-color:#f3f3f3;margin-top:0}.ng-dropdown-panel .ng-dropdown-header{border-bottom:1px solid #d9d9d9;padding:5px 7px}.ng-dropdown-panel .ng-dropdown-footer{border-top:1px solid #d9d9d9;padding:5px 7px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{-webkit-user-select:none;user-select:none;padding:4px 12px;color:#00000073;cursor:pointer}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-disabled{cursor:default;color:#00000073}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-marked{background-color:#e6f7ff}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-selected{background-color:#fafafa;font-weight:600}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-selected.ng-option-marked{background-color:#e6f7ff}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{background-color:#fff;color:#000000a6;padding:5px 12px;transition:background .3s ease}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected{background-color:#fafafa;font-weight:600}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected.ng-option-marked{color:#000000a6;background-color:#e6f7ff}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-marked{background-color:#e6f7ff;color:#000000a6}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-disabled{color:#00000040;cursor:not-allowed}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-child{padding-left:20px}[dir=rtl] .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-child{padding-right:20px;padding-left:0}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label{font-size:14px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-tag-label{font-size:80%;font-weight:400;padding-right:5px}[dir=rtl] .ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-tag-label{padding-left:5px;padding-right:0}[dir=rtl] .ng-dropdown-panel{direction:rtl;text-align:right}/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:block}.ng-option-label,.awf-dropdown-menu{font-size:var(--ag-dropdown-item-font-size, .875rem)!important}.awf-form-low-density,.awf-density-low{--ag-label-font-size: 1rem;--ag-label-padding-top: .531rem;--ag-label-top: 24px;--ag-linear-field-container-margin-bottom: 12px;--ag-label-left-icon-padding-left: 35px}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-paginator,.awf-density-low ag-icon-button,.awf-density-low ag-paginator{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-icon-button,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-input,.awf-form-low-density ag-input-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-input,.awf-density-low ag-input-wc,.awf-density-low ag-paginator{--ag-input-font-size: 1rem;--ag-input-height: 2.375rem;--ag-input-padding-left: .75rem;--ag-input-padding-right: .75rem;--ag-input-icon-font-size: 2rem}.awf-form-low-density ag-button,.awf-form-low-density awf-button-ng,.awf-form-low-density ag-button-wc,.awf-form-low-density ag-button-group,.awf-form-low-density ag-file-selector,.awf-form-low-density ag-paginator,.awf-density-low ag-button,.awf-density-low awf-button-ng,.awf-density-low ag-button-wc,.awf-density-low ag-button-group,.awf-density-low ag-file-selector,.awf-density-low ag-paginator{--ag-button-font-size: 1rem;--ag-button-height: 2.5rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .5rem;--ag-button-children-margin: 1rem;--ag-button-padding: 0 16px}.awf-form-low-density ag-paginator,.awf-density-low ag-paginator{--ag-paginator-margin-left: .75rem}.awf-form-low-density awf-checkbox-ng,.awf-form-low-density ag-checkbox,.awf-density-low awf-checkbox-ng,.awf-density-low ag-checkbox{--ag-checkbox-font-size: 1rem;--ag-checkbox-icon-font-size: 1.25rem;--ag-checkbox-size: 1.25rem}.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-datepicker-input-font-size: 1rem;--ag-datepicker-input-height: 2.375rem;--ag-datepicker-input-padding-left: .75rem;--ag-datepicker-input-padding-right: .75rem}.awf-form-low-density ag-date-range-picker,.awf-form-low-density awf-date-range-picker-ng,.awf-density-low ag-date-range-picker,.awf-density-low awf-date-range-picker-ng{--ag-date-range-picker-input-width: 12.8125rem}.awf-form-low-density ag-file-selector,.awf-density-low ag-file-selector{--ag-file-selector-input-height: 2.375rem;--ag-file-selector-input-font-size: 1rem;--ag-file-selector-padding-left: .75rem;--ag-file-selector-clear-top: 9px;--ag-file-selector-browse-top-padding: 9px;--ag-file-selector-browse-right-padding: .75rem}.awf-form-low-density ag-input-tree,.awf-density-low ag-input-tree{--ag-input-tree-height: 2.375rem;--ag-input-tree-font-size: 1rem;--ag-input-tree-padding-left: .75rem;--ag-input-tree-padding-right: .75rem}.awf-form-low-density ag-select,.awf-form-low-density ag-select-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-select,.awf-density-low ag-select-wc,.awf-density-low ag-paginator{--ag-select-padding-left: .75rem;--ag-select-height: 2.5rem;--ag-select-clear-top: .75rem;--ag-select-value-font-size: 1rem;--ag-select-value-multiple-value-height: 1.875rem}.awf-form-low-density ag-value-unit,.awf-density-low ag-value-unit{--ag-value-unit-height: 2.375rem;--ag-value-unit-padding-left: .75rem}.awf-form-low-density ag-value-unit,.awf-form-low-density ag-value-unit .ng-select-container,.awf-density-low ag-value-unit,.awf-density-low ag-value-unit .ng-select-container{--ag-select-height: 2.375rem;--ag-value-unit-font-size: 1rem;--ag-value-unit-line-height: 2.375rem}.awf-form-low-density ag-stepper,.awf-density-low ag-stepper{--ag-step-height: 2.5rem;--ag-step-font-size: 1rem;--ag-step-padding-x: .75rem}.awf-form-low-density ag-breadcrumbs,.awf-density-low ag-breadcrumbs{--ag-breadcrumbs-height: 40px;--ag-breadcrumbs-font-size: 1rem;--ag-breadcrumbs-padding: .75rem}.awf-form-low-density ag-tabset,.awf-form-low-density awf-tabset-ng,.awf-density-low ag-tabset,.awf-density-low awf-tabset-ng{--ag-tab-header-height: 2.5rem;--ag-tab-header-padding: .75rem;--ag-tab-header-font-size: 1rem;--ag-tab-icon-font-size: 2rem}.awf-form-high-density,.awf-density-high{--ag-label-font-size: .75rem;--ag-label-padding-top: .211rem;--ag-label-top: 20px;--ag-linear-field-container-margin-bottom: 4px;--ag-label-left-icon-padding-left: 19px}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-paginator,.awf-density-high ag-icon-button,.awf-density-high ag-paginator{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-icon-button,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-input,.awf-form-high-density ag-input-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-input,.awf-density-high ag-input-wc,.awf-density-high ag-paginator{--ag-input-font-size: .75rem;--ag-input-height: 1.375rem;--ag-input-padding-left: .375rem;--ag-input-padding-right: .375rem;--ag-input-icon-font-size: 1rem}.awf-form-high-density ag-button,.awf-form-high-density awf-button-ng,.awf-form-high-density ag-button-wc,.awf-form-high-density ag-file-selector,.awf-form-high-density ag-paginator,.awf-density-high ag-button,.awf-density-high awf-button-ng,.awf-density-high ag-button-wc,.awf-density-high ag-file-selector,.awf-density-high ag-paginator{--ag-button-font-size: .75rem;--ag-button-height: 1.5rem;--ag-button-icon-font-size: 1rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .5rem;--ag-button-padding: 0 8px}.awf-form-high-density ag-paginator,.awf-density-high ag-paginator{--ag-paginator-margin-left: .375rem}.awf-form-high-density awf-checkbox-ng,.awf-form-high-density ag-checkbox,.awf-density-high awf-checkbox-ng,.awf-density-high ag-checkbox{--ag-checkbox-font-size: .75rem;--ag-checkbox-icon-font-size: .75rem;--ag-checkbox-size: .75rem}.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-datepicker-input-font-size: .75rem;--ag-datepicker-input-height: 1.375rem;--ag-datepicker-input-padding-left: .375rem;--ag-datepicker-input-padding-right: .375rem}.awf-form-high-density ag-date-range-picker,.awf-form-high-density awf-date-range-picker-ng,.awf-density-high ag-date-range-picker,.awf-density-high awf-date-range-picker-ng{--ag-date-range-picker-input-width: 9.0625rem}.awf-form-high-density ag-file-selector,.awf-density-high ag-file-selector{--ag-file-selector-input-height: 1.375rem;--ag-file-selector-input-font-size: .75rem;--ag-file-selector-padding-left: .375rem;--ag-file-selector-clear-top: 1px;--ag-file-selector-browse-top-padding: 0;--ag-file-selector-browse-right-padding: .375rem}.awf-form-high-density ag-input-tree,.awf-density-high ag-input-tree{--ag-input-tree-height: 1.375rem;--ag-input-tree-font-size: .75rem;--ag-input-tree-arrow-down-top: .1875rem;--ag-input-tree-arrow-up-top: .375rem;--ag-input-tree-clear-top: .125rem;--ag-input-tree-padding-left: .375rem;--ag-input-tree-padding-right: .375rem}.awf-form-high-density ag-select,.awf-form-high-density ag-select-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-select,.awf-density-high ag-select-wc,.awf-density-high ag-paginator{--ag-select-padding-left: .375rem;--ag-select-height: 1.5rem;--ag-select-clear-top: .25rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-select-value-font-size: .75rem;--ag-select-value-multiple-value-height: 1.25rem}.awf-form-high-density ag-value-unit,.awf-density-high ag-value-unit{--ag-value-unit-height: 1.375rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-value-unit-padding-left: .375rem}.awf-form-high-density ag-value-unit,.awf-form-high-density ag-value-unit .ng-select-container,.awf-density-high ag-value-unit,.awf-density-high ag-value-unit .ng-select-container{--ag-select-height: 1.375rem;--ag-value-unit-font-size: .75rem;--ag-value-unit-line-height: 1.1875rem}.awf-form-high-density ag-stepper,.awf-density-high ag-stepper{--ag-step-height: 1.5rem;--ag-step-font-size: .75rem;--ag-step-padding-x: .375rem}.awf-form-high-density ag-breadcrumbs,.awf-density-high ag-breadcrumbs{--ag-breadcrumbs-height: 24px;--ag-breadcrumbs-font-size: .75rem;--ag-breadcrumbs-padding: .375rem}.awf-form-high-density ag-tabset,.awf-form-high-density awf-tabset-ng,.awf-density-high ag-tabset,.awf-density-high awf-tabset-ng{--ag-tab-header-height: 1.5rem;--ag-tab-header-padding: .375rem;--ag-tab-header-font-size: .75rem;--ag-tab-icon-font-size: 1rem}.awf-form-medium-density,.awf-density-medium,form{--ag-label-font-size: .875rem;--ag-linear-field-container-margin-bottom: 8px}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-paginator,.awf-density-medium ag-icon-button,.awf-density-medium ag-paginator,form ag-icon-button,form ag-paginator{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-icon-button,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-icon-button,form ag-datepicker,form awf-input-date-ng{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-button,.awf-form-medium-density awf-button-ng,.awf-form-medium-density ag-button-wc,.awf-form-medium-density ag-file-selector,.awf-form-medium-density ag-paginator,.awf-density-medium ag-button,.awf-density-medium awf-button-ng,.awf-density-medium ag-button-wc,.awf-density-medium ag-file-selector,.awf-density-medium ag-paginator,form ag-button,form awf-button-ng,form ag-button-wc,form ag-file-selector,form ag-paginator{--ag-button-font-size: .875rem;--ag-button-height: 2rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .75rem}.awf-form-medium-density ag-paginator,.awf-density-medium ag-paginator,form ag-paginator{--ag-paginator-margin-left: .5rem}.awf-form-medium-density awf-checkbox-ng,.awf-form-medium-density ag-checkbox,.awf-density-medium awf-checkbox-ng,.awf-density-medium ag-checkbox,form awf-checkbox-ng,form ag-checkbox{--ag-checkbox-font-size: .875rem;--ag-checkbox-icon-font-size: 1rem;--ag-checkbox-size: 1rem}.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-datepicker,form awf-input-date-ng{--ag-datepicker-input-font-size: .875rem;--ag-datepicker-input-height: 1.875rem;--ag-datepicker-input-padding-left: .5rem;--ag-datepicker-input-padding-right: .5rem}.awf-form-medium-density ag-date-range-picker,.awf-form-medium-density awf-date-range-picker-ng,.awf-density-medium ag-date-range-picker,.awf-density-medium awf-date-range-picker-ng,form ag-date-range-picker,form awf-date-range-picker-ng{--ag-date-range-picker-input-width: 10.9375rem}.awf-form-medium-density ag-file-selector,.awf-density-medium ag-file-selector,form ag-file-selector{--ag-file-selector-input-height: 1.875rem;--ag-file-selector-input-font-size: .875rem;--ag-file-selector-padding-left: .5rem;--ag-file-selector-clear-top: 5px;--ag-file-selector-browse-top-padding: 4px;--ag-file-selector-browse-right-padding: .5rem}.awf-form-medium-density ag-input-tree,.awf-density-medium ag-input-tree,form ag-input-tree{--ag-input-tree-height: 1.875rem;--ag-input-tree-font-size: .875rem;--ag-input-tree-padding-left: .5rem;--ag-input-tree-padding-right: .5rem}.awf-form-medium-density ag-value-unit,.awf-density-medium ag-value-unit,form ag-value-unit{--ag-value-unit-height: 1.875rem;--ag-value-unit-font-size: .875rem;--ag-value-unit-padding-left: .5rem}.awf-form-medium-density ag-select,.awf-form-medium-density ag-select-wc,.awf-form-medium-density ag-paginator,.awf-density-medium ag-select,.awf-density-medium ag-select-wc,.awf-density-medium ag-paginator,form ag-select,form ag-select-wc,form ag-paginator{--ag-select-clear-top: .4375rem;--ag-select-value-font-size: .875rem;--ag-select-value-multiple-value-height: 1.5rem}.awf-form-medium-density ag-stepper,.awf-density-medium ag-stepper,form ag-stepper{--ag-step-height: 2rem;--ag-step-font-size: .875rem;--ag-step-padding-x: .5rem}.awf-form-medium-density ag-breadcrumbs,.awf-density-medium ag-breadcrumbs,form ag-breadcrumbs{--ag-breadcrumbs-height: 32px;--ag-breadcrumbs-font-size: .875rem;--ag-breadcrumbs-padding: .5rem}.awf-form-medium-density ag-tabset,.awf-form-medium-density awf-tabset-ng,.awf-density-medium ag-tabset,.awf-density-medium awf-tabset-ng,form ag-tabset,form awf-tabset-ng{--ag-tab-header-height: 2rem;--ag-tab-header-padding: .5rem;--ag-tab-header-font-size: .875rem;--ag-tab-icon-font-size: 1.5rem}:host{position:relative}:host(.has-error) .ng-select.awf .ng-select-container,:host(.has-error) .ng-select.awf .ng-select-container:hover{border:1px solid var(--at-red);background-color:var(--at-red-light)}.ng-select.awf .ng-select-container .ng-value-container .ng-value{font-size:var(--ag-select-value-font-size, .875rem);color:var(--at-dark-navy)}.ng-select.awf{border:0;min-height:0;border-radius:0;width:100%}.ng-select.awf.ng-select-opened .ng-value-container .ng-value{color:var(--at-gray)}.ng-select.ng-select-opened{z-index:11}.ng-select.awf input{height:100%;font-size:var(--ag-select-value-font-size, .875rem)}.ng-select-auto-fit-dropdown-content .ng-dropdown-panel{width:auto!important;max-width:550px;min-width:100%}.ng-select-auto-fit-dropdown-content .ng-clear-wrapper{display:none}.ng-select.awf .ng-select-container{min-height:0;border-radius:0;position:relative;overflow:visible;transition:all .15s cubic-bezier(0,0,.2,1);height:var(--ag-select-height, 32px);border-color:var(--at-gray);padding-right:0;padding-left:var(--ag-select-padding-left, .5rem)}.ng-select.awf .ng-select-container:hover{background-color:var(--at-blue-soft);border:1px solid var(--at-blue-medium)}.ng-select.awf .ng-select-container .ng-arrow-wrapper{opacity:1!important}.ng-select.awf.ng-select-focused .ng-select-container{border-color:var(--at-blue-shade)}.ng-select.awf.ng-select-opened>.ng-select-container{background-color:#fff;box-shadow:none;border-color:var(--at-gray)}.ng-select.awf.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:calc(var(--ag-select-padding-left, .5rem) - 2px);height:100%;top:0}.ng-select.awf.ng-select-single .ng-select-container .ng-value-container .ng-input input{height:100%}.ng-select.awf .ng-arrow-wrapper{height:1.625rem;width:1.625rem;text-align:center;font-size:.875rem;transition:all .15s cubic-bezier(0,0,.2,1);margin-top:var(--ag-select-arrow-wrapper-margin-top, auto);margin-bottom:auto;margin-right:4px;border:solid 1px transparent;cursor:pointer}.ng-select.awf .ng-arrow-wrapper .ng-arrow{border:solid var(--at-dark-navy);border-width:0 2px 2px 0;transform:rotate(45deg);position:absolute;top:.3125rem;left:.4375rem;display:inline-block;width:.625rem;height:.625rem}.ng-select.awf .ng-clear-wrapper{width:1.625rem;height:1.625rem;text-align:center;background-color:transparent;transition:all .15s cubic-bezier(0,0,.2,1);opacity:0;z-index:10;border-radius:0;right:0;border:solid 1px transparent;position:relative;margin-right:4px}.ng-select.awf .ng-clear-wrapper .ng-clear{line-height:17px;height:18px;width:18px;background-color:transparent;color:var(--at-gray-medium-shadow);border-radius:50%;transition:all .15s cubic-bezier(0,0,.2,1);font-size:20px;position:absolute;top:4px;right:3px}.ng-select.awf .ng-clear-wrapper:hover .ng-clear{background-color:var(--at-blue-medium);color:#fff}.ng-select.awf.ng-select-multiple .ng-value-container{padding-bottom:0;align-items:center;flex-wrap:nowrap!important;overflow:hidden}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value{position:relative;display:flex;flex-direction:row-reverse;align-items:center;border-radius:20px;margin:3px 5px;padding:3px 3px 3px 7px;background-color:var(--at-blue-pale);font-size:var(--ag-select-value-font-size, .875rem);height:var(--ag-select-value-multiple-value-height, 1.5rem)}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value .ng-value-icon.left{border:none;border-radius:50%;width:20px;height:20px;padding:0;text-align:center;font-size:20px;line-height:20px}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value .ng-value-icon.left:hover{background-color:var(--at-blue-soft)}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value .ng-value-label{padding:0;margin:0 8px}.ng-select.awf.ng-select-disabled>.ng-select-container{background-color:#fff;border:1px solid var(--at-gray);color:var(--at-gray)}.ng-select.awf.ng-select-disabled>.ng-select-container:hover{background-color:#fff;border:1px solid var(--at-gray)}.ng-select.awf.ng-select-disabled>.ng-select-container .ng-value-container .ng-input>input{cursor:not-allowed}.ng-select.awf.ng-select-disabled .ng-arrow-wrapper{cursor:not-allowed}.ng-select.awf.ng-select-disabled .ng-arrow-wrapper .ng-arrow{border-color:var(--at-gray)}.ng-select.readonly.ng-select-disabled .ng-arrow-wrapper{display:none}.ng-select.readonly.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{color:var(--at-gray-medium-shadow)}.awf-action-wrapper{display:var(--ag-select-clear-display, inline)}.awf-clear-button{position:absolute;top:var(--ag-select-clear-top, .4375rem);right:39px;z-index:99;display:block;text-align:center;cursor:pointer;width:18px;height:18px;line-height:18px;border-radius:50%;font-size:20px;vertical-align:middle;transition:all .15s cubic-bezier(0,0,.2,1)}.awf-action-wrapper:hover .awf-clear-button{background-color:var(--at-blue-medium);color:#fff}.awf.ng-select .ng-select-container .ng-value-container .ng-placeholder{color:var(--ag-select-placeholder-color, var(--at-gray));font-style:italic;font-weight:400}\n'],encapsulation:3})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectWrapperComponent,[{type:core.Component,args:[{selector:"ag-select-wrapper",template:'<ng-container *ngTemplateOutlet="templateRef"></ng-container>',encapsulation:core.ViewEncapsulation.ShadowDom,styles:['@charset "UTF-8";.ng-select{position:relative}.ng-select.ng-select-opened.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-clear-wrapper{opacity:0;pointer-events:none}.ng-select.ng-select-opened.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-arrow-wrapper{opacity:1;pointer-events:auto}.ng-select.ng-select-opened>.ng-select-container{background:#fff;border-color:#40a9ff;box-shadow:0 0 0 2px #1890ff33}.ng-select.ng-select-opened>.ng-select-container .ng-arrow-wrapper{transform:rotate(180deg);opacity:1}[dir=rtl] .ng-select.ng-select-opened>.ng-select-container .ng-arrow-wrapper{transform:rotate(-180deg)}.ng-select.ng-select-focused .ng-select-container{border-color:#40a9ff}.ng-select.ng-select-disabled>.ng-select-container{background-color:#f5f5f5}.ng-select.ng-select-disabled>.ng-select-container:hover{border:1px solid #d9d9d9;cursor:not-allowed}.ng-select.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{color:#00000040}.ng-select .ng-has-value .ng-placeholder{display:none}.ng-select.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-clear-wrapper{opacity:1}.ng-select.ng-select-clearable .ng-select-container.ng-has-value:hover .ng-arrow-wrapper{opacity:0;pointer-events:none}.ng-select .ng-select-container{color:#000000a6;background-color:#fff;border-radius:4px;border:1px solid #d9d9d9;min-height:30px;align-items:center;transition:all .3s;box-sizing:border-box;padding-right:11px;padding-left:11px}.ng-select .ng-select-container .ng-input{line-height:22px}.ng-select .ng-select-container .ng-input input{color:#000000a6}.ng-select .ng-select-container .ng-value-container{align-items:center}.ng-select .ng-select-container .ng-value-container .ng-value{font-size:14px;color:#000000a6}.ng-select .ng-select-container .ng-value-container .ng-placeholder{font-size:14px;color:#999999a6}.ng-select.ng-select-single.ng-select-opened .ng-select-container .ng-value{opacity:.4}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{top:2px;left:0;padding-left:10px;padding-right:50px}[dir=rtl] .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-right:10px;padding-left:50px}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{background-color:#f5f5f5}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-label{padding:0 5px}.ng-select.ng-select-multiple .ng-select-container{min-height:32px;padding-left:5px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container{padding-right:5px;padding-left:11px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{margin-left:0;margin-right:6px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{padding-bottom:3px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{margin-top:3px;margin-right:4px;font-size:.9em;background-color:#fafafa;border:1px solid #e8e8e8;border-radius:2px;height:24px;line-height:22px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{margin-right:0;margin-left:4px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled{background-color:#f5f5f5;color:#00000040}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-label{padding-left:5px}[dir=rtl] .ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-label{padding-left:0;padding-right:5px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-label,.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:inline-block;padding:0 5px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{top:50%;height:20px;margin-top:-10px;margin-left:6px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{height:24px;margin-top:3px}.ng-select .ng-clear-wrapper{opacity:0;color:#a6a6a6;background:#00000040;width:12px;height:12px;text-align:center;border-radius:12px;vertical-align:middle;transition:color .3s ease;position:absolute;right:13px}[dir=rtl] .ng-select .ng-clear-wrapper{left:13px;right:auto}.ng-select .ng-clear-wrapper:hover{background:#00000073}.ng-select .ng-clear-wrapper:focus{background:#00000073;outline:none}.ng-select .ng-clear-wrapper .ng-clear{color:#fff;font-size:9px;position:absolute;left:3px;line-height:12px}.ng-select .ng-spinner-zone{padding:5px 5px 0 0}[dir=rtl] .ng-select .ng-spinner-zone{padding:5px 0 0 5px}.ng-select .ng-arrow-wrapper{width:16px;height:26px;transition:transform .3s}.ng-select .ng-arrow-wrapper .ng-arrow{border-style:solid;border-width:.1rem .1rem 0 0;height:8px;width:8px;top:-2px;transform:rotate(135deg);color:#00000040}.ng-dropdown-panel{background-color:#fff;box-shadow:0 2px 8px #00000026;border-radius:4px;margin-top:4px;margin-bottom:4px;left:0}.ng-dropdown-panel.ng-select-top{bottom:100%;border-bottom-color:#f3f3f3}.ng-dropdown-panel.ng-select-right{left:100%;top:0;border-bottom-color:#f3f3f3;margin-top:0;margin-left:4px}.ng-dropdown-panel.ng-select-bottom{top:100%;border-top-color:#f3f3f3}.ng-dropdown-panel.ng-select-left{left:calc(-100% - 4px);top:0;border-bottom-color:#f3f3f3;margin-top:0}.ng-dropdown-panel .ng-dropdown-header{border-bottom:1px solid #d9d9d9;padding:5px 7px}.ng-dropdown-panel .ng-dropdown-footer{border-top:1px solid #d9d9d9;padding:5px 7px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{-webkit-user-select:none;user-select:none;padding:4px 12px;color:#00000073;cursor:pointer}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-disabled{cursor:default;color:#00000073}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-marked{background-color:#e6f7ff}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-selected{background-color:#fafafa;font-weight:600}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup.ng-option-selected.ng-option-marked{background-color:#e6f7ff}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{background-color:#fff;color:#000000a6;padding:5px 12px;transition:background .3s ease}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected{background-color:#fafafa;font-weight:600}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-selected.ng-option-marked{color:#000000a6;background-color:#e6f7ff}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-marked{background-color:#e6f7ff;color:#000000a6}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-disabled{color:#00000040;cursor:not-allowed}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-child{padding-left:20px}[dir=rtl] .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-child{padding-right:20px;padding-left:0}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label{font-size:14px}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-tag-label{font-size:80%;font-weight:400;padding-right:5px}[dir=rtl] .ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-tag-label{padding-left:5px;padding-right:0}[dir=rtl] .ng-dropdown-panel{direction:rtl;text-align:right}/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:block}.ng-option-label,.awf-dropdown-menu{font-size:var(--ag-dropdown-item-font-size, .875rem)!important}.awf-form-low-density,.awf-density-low{--ag-label-font-size: 1rem;--ag-label-padding-top: .531rem;--ag-label-top: 24px;--ag-linear-field-container-margin-bottom: 12px;--ag-label-left-icon-padding-left: 35px}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-paginator,.awf-density-low ag-icon-button,.awf-density-low ag-paginator{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-icon-button,.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-icon-button,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-icon-button-dimension: 2.5rem;--ag-icon-button-font-size: 2rem}.awf-form-low-density ag-input,.awf-form-low-density ag-input-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-input,.awf-density-low ag-input-wc,.awf-density-low ag-paginator{--ag-input-font-size: 1rem;--ag-input-height: 2.375rem;--ag-input-padding-left: .75rem;--ag-input-padding-right: .75rem;--ag-input-icon-font-size: 2rem}.awf-form-low-density ag-button,.awf-form-low-density awf-button-ng,.awf-form-low-density ag-button-wc,.awf-form-low-density ag-button-group,.awf-form-low-density ag-file-selector,.awf-form-low-density ag-paginator,.awf-density-low ag-button,.awf-density-low awf-button-ng,.awf-density-low ag-button-wc,.awf-density-low ag-button-group,.awf-density-low ag-file-selector,.awf-density-low ag-paginator{--ag-button-font-size: 1rem;--ag-button-height: 2.5rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .5rem;--ag-button-children-margin: 1rem;--ag-button-padding: 0 16px}.awf-form-low-density ag-paginator,.awf-density-low ag-paginator{--ag-paginator-margin-left: .75rem}.awf-form-low-density awf-checkbox-ng,.awf-form-low-density ag-checkbox,.awf-density-low awf-checkbox-ng,.awf-density-low ag-checkbox{--ag-checkbox-font-size: 1rem;--ag-checkbox-icon-font-size: 1.25rem;--ag-checkbox-size: 1.25rem}.awf-form-low-density ag-datepicker,.awf-form-low-density awf-input-date-ng,.awf-density-low ag-datepicker,.awf-density-low awf-input-date-ng{--ag-datepicker-input-font-size: 1rem;--ag-datepicker-input-height: 2.375rem;--ag-datepicker-input-padding-left: .75rem;--ag-datepicker-input-padding-right: .75rem}.awf-form-low-density ag-date-range-picker,.awf-form-low-density awf-date-range-picker-ng,.awf-density-low ag-date-range-picker,.awf-density-low awf-date-range-picker-ng{--ag-date-range-picker-input-width: 12.8125rem}.awf-form-low-density ag-file-selector,.awf-density-low ag-file-selector{--ag-file-selector-input-height: 2.375rem;--ag-file-selector-input-font-size: 1rem;--ag-file-selector-padding-left: .75rem;--ag-file-selector-clear-top: 9px;--ag-file-selector-browse-top-padding: 9px;--ag-file-selector-browse-right-padding: .75rem}.awf-form-low-density ag-input-tree,.awf-density-low ag-input-tree{--ag-input-tree-height: 2.375rem;--ag-input-tree-font-size: 1rem;--ag-input-tree-padding-left: .75rem;--ag-input-tree-padding-right: .75rem}.awf-form-low-density ag-select,.awf-form-low-density ag-select-wc,.awf-form-low-density ag-paginator,.awf-density-low ag-select,.awf-density-low ag-select-wc,.awf-density-low ag-paginator{--ag-select-padding-left: .75rem;--ag-select-height: 2.5rem;--ag-select-clear-top: .75rem;--ag-select-value-font-size: 1rem;--ag-select-value-multiple-value-height: 1.875rem}.awf-form-low-density ag-value-unit,.awf-density-low ag-value-unit{--ag-value-unit-height: 2.375rem;--ag-value-unit-padding-left: .75rem}.awf-form-low-density ag-value-unit,.awf-form-low-density ag-value-unit .ng-select-container,.awf-density-low ag-value-unit,.awf-density-low ag-value-unit .ng-select-container{--ag-select-height: 2.375rem;--ag-value-unit-font-size: 1rem;--ag-value-unit-line-height: 2.375rem}.awf-form-low-density ag-stepper,.awf-density-low ag-stepper{--ag-step-height: 2.5rem;--ag-step-font-size: 1rem;--ag-step-padding-x: .75rem}.awf-form-low-density ag-breadcrumbs,.awf-density-low ag-breadcrumbs{--ag-breadcrumbs-height: 40px;--ag-breadcrumbs-font-size: 1rem;--ag-breadcrumbs-padding: .75rem}.awf-form-low-density ag-tabset,.awf-form-low-density awf-tabset-ng,.awf-density-low ag-tabset,.awf-density-low awf-tabset-ng{--ag-tab-header-height: 2.5rem;--ag-tab-header-padding: .75rem;--ag-tab-header-font-size: 1rem;--ag-tab-icon-font-size: 2rem}.awf-form-high-density,.awf-density-high{--ag-label-font-size: .75rem;--ag-label-padding-top: .211rem;--ag-label-top: 20px;--ag-linear-field-container-margin-bottom: 4px;--ag-label-left-icon-padding-left: 19px}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-paginator,.awf-density-high ag-icon-button,.awf-density-high ag-paginator{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-icon-button,.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-icon-button,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-icon-button-dimension: 1.5rem;--ag-icon-button-font-size: 1rem}.awf-form-high-density ag-input,.awf-form-high-density ag-input-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-input,.awf-density-high ag-input-wc,.awf-density-high ag-paginator{--ag-input-font-size: .75rem;--ag-input-height: 1.375rem;--ag-input-padding-left: .375rem;--ag-input-padding-right: .375rem;--ag-input-icon-font-size: 1rem}.awf-form-high-density ag-button,.awf-form-high-density awf-button-ng,.awf-form-high-density ag-button-wc,.awf-form-high-density ag-file-selector,.awf-form-high-density ag-paginator,.awf-density-high ag-button,.awf-density-high awf-button-ng,.awf-density-high ag-button-wc,.awf-density-high ag-file-selector,.awf-density-high ag-paginator{--ag-button-font-size: .75rem;--ag-button-height: 1.5rem;--ag-button-icon-font-size: 1rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .5rem;--ag-button-padding: 0 8px}.awf-form-high-density ag-paginator,.awf-density-high ag-paginator{--ag-paginator-margin-left: .375rem}.awf-form-high-density awf-checkbox-ng,.awf-form-high-density ag-checkbox,.awf-density-high awf-checkbox-ng,.awf-density-high ag-checkbox{--ag-checkbox-font-size: .75rem;--ag-checkbox-icon-font-size: .75rem;--ag-checkbox-size: .75rem}.awf-form-high-density ag-datepicker,.awf-form-high-density awf-input-date-ng,.awf-density-high ag-datepicker,.awf-density-high awf-input-date-ng{--ag-datepicker-input-font-size: .75rem;--ag-datepicker-input-height: 1.375rem;--ag-datepicker-input-padding-left: .375rem;--ag-datepicker-input-padding-right: .375rem}.awf-form-high-density ag-date-range-picker,.awf-form-high-density awf-date-range-picker-ng,.awf-density-high ag-date-range-picker,.awf-density-high awf-date-range-picker-ng{--ag-date-range-picker-input-width: 9.0625rem}.awf-form-high-density ag-file-selector,.awf-density-high ag-file-selector{--ag-file-selector-input-height: 1.375rem;--ag-file-selector-input-font-size: .75rem;--ag-file-selector-padding-left: .375rem;--ag-file-selector-clear-top: 1px;--ag-file-selector-browse-top-padding: 0;--ag-file-selector-browse-right-padding: .375rem}.awf-form-high-density ag-input-tree,.awf-density-high ag-input-tree{--ag-input-tree-height: 1.375rem;--ag-input-tree-font-size: .75rem;--ag-input-tree-arrow-down-top: .1875rem;--ag-input-tree-arrow-up-top: .375rem;--ag-input-tree-clear-top: .125rem;--ag-input-tree-padding-left: .375rem;--ag-input-tree-padding-right: .375rem}.awf-form-high-density ag-select,.awf-form-high-density ag-select-wc,.awf-form-high-density ag-paginator,.awf-density-high ag-select,.awf-density-high ag-select-wc,.awf-density-high ag-paginator{--ag-select-padding-left: .375rem;--ag-select-height: 1.5rem;--ag-select-clear-top: .25rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-select-value-font-size: .75rem;--ag-select-value-multiple-value-height: 1.25rem}.awf-form-high-density ag-value-unit,.awf-density-high ag-value-unit{--ag-value-unit-height: 1.375rem;--ag-select-arrow-wrapper-margin-top: -2px;--ag-value-unit-padding-left: .375rem}.awf-form-high-density ag-value-unit,.awf-form-high-density ag-value-unit .ng-select-container,.awf-density-high ag-value-unit,.awf-density-high ag-value-unit .ng-select-container{--ag-select-height: 1.375rem;--ag-value-unit-font-size: .75rem;--ag-value-unit-line-height: 1.1875rem}.awf-form-high-density ag-stepper,.awf-density-high ag-stepper{--ag-step-height: 1.5rem;--ag-step-font-size: .75rem;--ag-step-padding-x: .375rem}.awf-form-high-density ag-breadcrumbs,.awf-density-high ag-breadcrumbs{--ag-breadcrumbs-height: 24px;--ag-breadcrumbs-font-size: .75rem;--ag-breadcrumbs-padding: .375rem}.awf-form-high-density ag-tabset,.awf-form-high-density awf-tabset-ng,.awf-density-high ag-tabset,.awf-density-high awf-tabset-ng{--ag-tab-header-height: 1.5rem;--ag-tab-header-padding: .375rem;--ag-tab-header-font-size: .75rem;--ag-tab-icon-font-size: 1rem}.awf-form-medium-density,.awf-density-medium,form{--ag-label-font-size: .875rem;--ag-linear-field-container-margin-bottom: 8px}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-paginator,.awf-density-medium ag-icon-button,.awf-density-medium ag-paginator,form ag-icon-button,form ag-paginator{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-icon-button,.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-icon-button,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-icon-button,form ag-datepicker,form awf-input-date-ng{--ag-icon-button-dimension: 2rem;--ag-icon-button-font-size: 1.5rem}.awf-form-medium-density ag-button,.awf-form-medium-density awf-button-ng,.awf-form-medium-density ag-button-wc,.awf-form-medium-density ag-file-selector,.awf-form-medium-density ag-paginator,.awf-density-medium ag-button,.awf-density-medium awf-button-ng,.awf-density-medium ag-button-wc,.awf-density-medium ag-file-selector,.awf-density-medium ag-paginator,form ag-button,form awf-button-ng,form ag-button-wc,form ag-file-selector,form ag-paginator{--ag-button-font-size: .875rem;--ag-button-height: 2rem;--ag-button-icon-font-size: 1.5rem;--ag-button-icon-margins: .25rem;--ag-button-children-margin: .75rem}.awf-form-medium-density ag-paginator,.awf-density-medium ag-paginator,form ag-paginator{--ag-paginator-margin-left: .5rem}.awf-form-medium-density awf-checkbox-ng,.awf-form-medium-density ag-checkbox,.awf-density-medium awf-checkbox-ng,.awf-density-medium ag-checkbox,form awf-checkbox-ng,form ag-checkbox{--ag-checkbox-font-size: .875rem;--ag-checkbox-icon-font-size: 1rem;--ag-checkbox-size: 1rem}.awf-form-medium-density ag-datepicker,.awf-form-medium-density awf-input-date-ng,.awf-density-medium ag-datepicker,.awf-density-medium awf-input-date-ng,form ag-datepicker,form awf-input-date-ng{--ag-datepicker-input-font-size: .875rem;--ag-datepicker-input-height: 1.875rem;--ag-datepicker-input-padding-left: .5rem;--ag-datepicker-input-padding-right: .5rem}.awf-form-medium-density ag-date-range-picker,.awf-form-medium-density awf-date-range-picker-ng,.awf-density-medium ag-date-range-picker,.awf-density-medium awf-date-range-picker-ng,form ag-date-range-picker,form awf-date-range-picker-ng{--ag-date-range-picker-input-width: 10.9375rem}.awf-form-medium-density ag-file-selector,.awf-density-medium ag-file-selector,form ag-file-selector{--ag-file-selector-input-height: 1.875rem;--ag-file-selector-input-font-size: .875rem;--ag-file-selector-padding-left: .5rem;--ag-file-selector-clear-top: 5px;--ag-file-selector-browse-top-padding: 4px;--ag-file-selector-browse-right-padding: .5rem}.awf-form-medium-density ag-input-tree,.awf-density-medium ag-input-tree,form ag-input-tree{--ag-input-tree-height: 1.875rem;--ag-input-tree-font-size: .875rem;--ag-input-tree-padding-left: .5rem;--ag-input-tree-padding-right: .5rem}.awf-form-medium-density ag-value-unit,.awf-density-medium ag-value-unit,form ag-value-unit{--ag-value-unit-height: 1.875rem;--ag-value-unit-font-size: .875rem;--ag-value-unit-padding-left: .5rem}.awf-form-medium-density ag-select,.awf-form-medium-density ag-select-wc,.awf-form-medium-density ag-paginator,.awf-density-medium ag-select,.awf-density-medium ag-select-wc,.awf-density-medium ag-paginator,form ag-select,form ag-select-wc,form ag-paginator{--ag-select-clear-top: .4375rem;--ag-select-value-font-size: .875rem;--ag-select-value-multiple-value-height: 1.5rem}.awf-form-medium-density ag-stepper,.awf-density-medium ag-stepper,form ag-stepper{--ag-step-height: 2rem;--ag-step-font-size: .875rem;--ag-step-padding-x: .5rem}.awf-form-medium-density ag-breadcrumbs,.awf-density-medium ag-breadcrumbs,form ag-breadcrumbs{--ag-breadcrumbs-height: 32px;--ag-breadcrumbs-font-size: .875rem;--ag-breadcrumbs-padding: .5rem}.awf-form-medium-density ag-tabset,.awf-form-medium-density awf-tabset-ng,.awf-density-medium ag-tabset,.awf-density-medium awf-tabset-ng,form ag-tabset,form awf-tabset-ng{--ag-tab-header-height: 2rem;--ag-tab-header-padding: .5rem;--ag-tab-header-font-size: .875rem;--ag-tab-icon-font-size: 1.5rem}:host{position:relative}:host(.has-error) .ng-select.awf .ng-select-container,:host(.has-error) .ng-select.awf .ng-select-container:hover{border:1px solid var(--at-red);background-color:var(--at-red-light)}.ng-select.awf .ng-select-container .ng-value-container .ng-value{font-size:var(--ag-select-value-font-size, .875rem);color:var(--at-dark-navy)}.ng-select.awf{border:0;min-height:0;border-radius:0;width:100%}.ng-select.awf.ng-select-opened .ng-value-container .ng-value{color:var(--at-gray)}.ng-select.ng-select-opened{z-index:11}.ng-select.awf input{height:100%;font-size:var(--ag-select-value-font-size, .875rem)}.ng-select-auto-fit-dropdown-content .ng-dropdown-panel{width:auto!important;max-width:550px;min-width:100%}.ng-select-auto-fit-dropdown-content .ng-clear-wrapper{display:none}.ng-select.awf .ng-select-container{min-height:0;border-radius:0;position:relative;overflow:visible;transition:all .15s cubic-bezier(0,0,.2,1);height:var(--ag-select-height, 32px);border-color:var(--at-gray);padding-right:0;padding-left:var(--ag-select-padding-left, .5rem)}.ng-select.awf .ng-select-container:hover{background-color:var(--at-blue-soft);border:1px solid var(--at-blue-medium)}.ng-select.awf .ng-select-container .ng-arrow-wrapper{opacity:1!important}.ng-select.awf.ng-select-focused .ng-select-container{border-color:var(--at-blue-shade)}.ng-select.awf.ng-select-opened>.ng-select-container{background-color:#fff;box-shadow:none;border-color:var(--at-gray)}.ng-select.awf.ng-select-single .ng-select-container .ng-value-container .ng-input{padding-left:calc(var(--ag-select-padding-left, .5rem) - 2px);height:100%;top:0}.ng-select.awf.ng-select-single .ng-select-container .ng-value-container .ng-input input{height:100%}.ng-select.awf .ng-arrow-wrapper{height:1.625rem;width:1.625rem;text-align:center;font-size:.875rem;transition:all .15s cubic-bezier(0,0,.2,1);margin-top:var(--ag-select-arrow-wrapper-margin-top, auto);margin-bottom:auto;margin-right:4px;border:solid 1px transparent;cursor:pointer}.ng-select.awf .ng-arrow-wrapper .ng-arrow{border:solid var(--at-dark-navy);border-width:0 2px 2px 0;transform:rotate(45deg);position:absolute;top:.3125rem;left:.4375rem;display:inline-block;width:.625rem;height:.625rem}.ng-select.awf .ng-clear-wrapper{width:1.625rem;height:1.625rem;text-align:center;background-color:transparent;transition:all .15s cubic-bezier(0,0,.2,1);opacity:0;z-index:10;border-radius:0;right:0;border:solid 1px transparent;position:relative;margin-right:4px}.ng-select.awf .ng-clear-wrapper .ng-clear{line-height:17px;height:18px;width:18px;background-color:transparent;color:var(--at-gray-medium-shadow);border-radius:50%;transition:all .15s cubic-bezier(0,0,.2,1);font-size:20px;position:absolute;top:4px;right:3px}.ng-select.awf .ng-clear-wrapper:hover .ng-clear{background-color:var(--at-blue-medium);color:#fff}.ng-select.awf.ng-select-multiple .ng-value-container{padding-bottom:0;align-items:center;flex-wrap:nowrap!important;overflow:hidden}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value{position:relative;display:flex;flex-direction:row-reverse;align-items:center;border-radius:20px;margin:3px 5px;padding:3px 3px 3px 7px;background-color:var(--at-blue-pale);font-size:var(--ag-select-value-font-size, .875rem);height:var(--ag-select-value-multiple-value-height, 1.5rem)}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value .ng-value-icon.left{border:none;border-radius:50%;width:20px;height:20px;padding:0;text-align:center;font-size:20px;line-height:20px}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value .ng-value-icon.left:hover{background-color:var(--at-blue-soft)}.ng-select.awf.ng-select-multiple .ng-value-container .ng-value .ng-value-label{padding:0;margin:0 8px}.ng-select.awf.ng-select-disabled>.ng-select-container{background-color:#fff;border:1px solid var(--at-gray);color:var(--at-gray)}.ng-select.awf.ng-select-disabled>.ng-select-container:hover{background-color:#fff;border:1px solid var(--at-gray)}.ng-select.awf.ng-select-disabled>.ng-select-container .ng-value-container .ng-input>input{cursor:not-allowed}.ng-select.awf.ng-select-disabled .ng-arrow-wrapper{cursor:not-allowed}.ng-select.awf.ng-select-disabled .ng-arrow-wrapper .ng-arrow{border-color:var(--at-gray)}.ng-select.readonly.ng-select-disabled .ng-arrow-wrapper{display:none}.ng-select.readonly.ng-select-disabled>.ng-select-container .ng-value-container .ng-value{color:var(--at-gray-medium-shadow)}.awf-action-wrapper{display:var(--ag-select-clear-display, inline)}.awf-clear-button{position:absolute;top:var(--ag-select-clear-top, .4375rem);right:39px;z-index:99;display:block;text-align:center;cursor:pointer;width:18px;height:18px;line-height:18px;border-radius:50%;font-size:20px;vertical-align:middle;transition:all .15s cubic-bezier(0,0,.2,1)}.awf-action-wrapper:hover .awf-clear-button{background-color:var(--at-blue-medium);color:#fff}.awf.ng-select .ng-select-container .ng-value-container .ng-placeholder{color:var(--ag-select-placeholder-color, var(--at-gray));font-style:italic;font-weight:400}\n']}]}],(function(){return[]}),{templateRef:[{type:core.Input}]});class SelectComponent{changeDetectorRef;i18n;inputErrorService;densityUpdaterService;elementRef;dropdownUtil;inputElement;ngSelectComponent;get labelTop(){return"left"!==this.labelPosition}get labelLeft(){return"left"===this.labelPosition}agSelectClass=!0;values;bindProperty;label="";autoFitDropdownContent=!1;hideSelectedValueLabel=!1;labelPosition="top";errorMessage;readonly=!1;dropdownPosition="auto";set placeholder(val){this._placeholder=val}get placeholder(){return"top"===this.labelPosition?"":this._placeholder}appendToElement=!1;get container(){if(!this.appendToElement)return"body"}persistOutOfRangeValue=!1;showErrorOnOutOfRange=!1;set addTag(addTag){this._addTag=coerceBooleanProperty(addTag)}get addTag(){return this._addTag}set multiple(multiple){this._multiple=coerceBooleanProperty(multiple)}get multiple(){return this._multiple}set required(required){this._required=coerceBooleanProperty(required)}get required(){return this._required}set disableSearch(disableSearch){this._disableSearch=coerceBooleanProperty(disableSearch)}get disableSearch(){return this._disableSearch}customInput=!1;numericInputOnly=!1;numericInputMin;numericInputMax;form;set searchable(searchable){this._disableSearch=!coerceBooleanProperty(searchable)}get searchable(){return!this.disableSearch}enableTooltip=!1;onSearch=new core.EventEmitter;touched=new core.EventEmitter;valueChange=new core.EventEmitter;value;isDisabled=!1;hasFocus;hasMouseOver;errors=[];outOfBounds=!1;_required=!1;_multiple=!1;_addTag=!1;_disableSearch=!1;subscriptions=new Subscription.w0;oldFontSize="";isOpen=!1;_placeholder="";onChangeFn=()=>{};onTouchedFn=()=>{};constructor(changeDetectorRef,i18n,inputErrorService,densityUpdaterService,elementRef,dropdownUtil){this.changeDetectorRef=changeDetectorRef,this.i18n=i18n,this.inputErrorService=inputErrorService,this.densityUpdaterService=densityUpdaterService,this.elementRef=elementRef,this.dropdownUtil=dropdownUtil}ngDoCheck(){this.oldFontSize=this.densityUpdaterService.getDropdownItemFontSize(this.elementRef.nativeElement,this.oldFontSize,"--ag-select-value-font-size")}ngOnChanges(changes){changes.errorMessage&&(changes.errorMessage.previousValue&&this.errors.shift(),changes.errorMessage.currentValue&&this.errors.splice(0,0,changes.errorMessage.currentValue))}ngAfterViewInit(){this.subscriptions.add(this.inputElement.statusChanges.subscribe((()=>this.computeErrors()))),this.form&&this.subscriptions.add(this.form.ngSubmit.subscribe((()=>this.computeErrors())))}ngOnDestroy(){this.subscriptions.unsubscribe()}onChange(event){this.onChangeFn(event)}writeValue(obj){this.value=obj,this.changeDetectorRef.markForCheck(),setTimeout((()=>this.changeDetectorRef.detectChanges()),0)}registerOnChange(fn){this.onChangeFn=fn}registerOnTouched(fn){this.onTouchedFn=fn}setDisabledState(isDisabled){this.isDisabled=isDisabled,this.changeDetectorRef.markForCheck()}updateValue(value){this.value=value,this.valueChange.emit(this.value)}triggerSearch(search){let updatedValue=search.term;if(this.customInput){if(this.numericInputOnly){const notNumericRegex=/[^0-9\.\-]+/g;updatedValue=updatedValue.replace(notNumericRegex,""),""!==updatedValue&&(this.showErrorOnOutOfRange&&this.checkOutOfBounds(updatedValue),this.persistOutOfRangeValue||(updatedValue=this.getBoundedValue(updatedValue)))}this.updateValue(updatedValue)}this.onSearch.emit(search)}getBoundedValue(updatedValue){return this.isLessThanMin(updatedValue)&&(updatedValue=this.numericInputMin.toString()),this.isMoreThanMax(updatedValue)&&(updatedValue=this.numericInputMax.toString()),updatedValue}checkOutOfBounds(updatedValue){this.outOfBounds=this.isLessThanMin(updatedValue)||this.isMoreThanMax(updatedValue)}isLessThanMin(value){return void 0!==this.numericInputMin&&parseFloat(value)<this.numericInputMin}isMoreThanMax(value){return void 0!==this.numericInputMax&&parseFloat(value)>this.numericInputMax}isClearable(){return this.hasValue()&&!this.isDisabled&&!this.required&&this.hasMouseOver&&!this.readonly}hasValue(){return Array.isArray(this.value)?this.value.length>0:!isNullOrUndefined(this.value)}onBlur(){this.hasFocus=!1,this.onTouchedFn(),this.touched.emit()}computeValueLabel(value){return isNullOrUndefined(this.bindProperty)?value:value[this.bindProperty]}detectChanges(){this.isOpen=!0,this.changeDetectorRef.detectChanges()}keyDown(event){this.isOpen&&("ArrowUp"!==event.key&&"ArrowDown"!==event.key||(document.documentElement.style.setProperty("--ag-marked-border","1px solid #037cc2"),document.documentElement.style.setProperty("--ag-marked-background-color","white")),document.addEventListener("mouseout",(()=>{document.documentElement.style.setProperty("--ag-marked-border","1px solid transparent"),document.documentElement.style.setProperty("--ag-marked-background-color","#cce7f7")}))),setTimeout((()=>this.changeDetectorRef.detectChanges()),0)}keyDownFn(){return(event=>!(!this.addTag&&this.disableSearch)||this.dropdownUtil.onSpaceDown(event)).bind(this)}onClose(){this.isOpen=!1,this.computeErrors()}clear(){this.ngSelectComponent.clearable=!0,this.ngSelectComponent.clearModel(),this.ngSelectComponent.clearable=!1}onClick(){this.readonly||this.ngSelectComponent.searchInput.nativeElement.focus()}computeErrors(){this.errors=[],this.errorMessage&&this.errors.push(this.errorMessage),this.inputErrorService.canDisplayError("required",this.inputElement,this.form)&&this.errors.push(this.i18n.instant("messages.error.required")),this.changeDetectorRef.detectChanges()}static ɵfac=function SelectComponent_Factory(t){return new(t||SelectComponent)(core["ɵɵdirectiveInject"](core.ChangeDetectorRef),core["ɵɵdirectiveInject"](TranslateService),core["ɵɵdirectiveInject"](InputErrorService),core["ɵɵdirectiveInject"](DensityUpdaterService),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](DropdownUtil))};static ɵcmp=core["ɵɵdefineComponent"]({type:SelectComponent,selectors:[["ag-select"]],viewQuery:function SelectComponent_Query(rf,ctx){if(1&rf&&(core["ɵɵviewQuery"](agilent_ui_element_select_c0,5),core["ɵɵviewQuery"](agilent_ui_element_select_c1,5)),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.inputElement=_t.first),core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.ngSelectComponent=_t.first)}},hostVars:6,hostBindings:function SelectComponent_HostBindings(rf,ctx){2&rf&&core["ɵɵclassProp"]("label-top",ctx.labelTop)("label-left",ctx.labelLeft)("awf-select",ctx.agSelectClass)},inputs:{values:"values",bindProperty:"bindProperty",label:"label",autoFitDropdownContent:"autoFitDropdownContent",hideSelectedValueLabel:"hideSelectedValueLabel",labelPosition:"labelPosition",errorMessage:"errorMessage",readonly:"readonly",dropdownPosition:"dropdownPosition",placeholder:"placeholder",appendToElement:"appendToElement",persistOutOfRangeValue:"persistOutOfRangeValue",showErrorOnOutOfRange:"showErrorOnOutOfRange",addTag:"addTag",multiple:"multiple",required:"required",disableSearch:"disableSearch",customInput:"customInput",numericInputOnly:"numericInputOnly",numericInputMin:"numericInputMin",numericInputMax:"numericInputMax",form:"form",searchable:"searchable",enableTooltip:"enableTooltip"},outputs:{onSearch:"onSearch",touched:"touched",valueChange:"valueChange"},features:[core["ɵɵProvidersFeature"]([{provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>SelectComponent)),multi:!0}]),core["ɵɵNgOnChangesFeature"]],decls:3,vars:9,consts:[["widthOffset","35px",3,"fieldTemplate","label","labelPosition","required","hasMouseOver","hasFocus","hostHasValue","errors","disabled","mouseenter","mouseleave"],["customField",""],["agLocaleFont",""],[3,"templateRef"],["selectComponent",""],["agTooltip","",1,"awf",3,"ngClass","items","selectOnTab","ngModel","addTag","multiple","searchable","disabled","clearable","notFoundText","bindLabel","required","appendTo","readonly","keyDownFn","agNumberValidator","dropdownPosition","placeholder","disableTooltip","tooltipContent","ngModelChange","change","search","focus","blur","open","close","keydown","keyup","click"],["ngSelectComponent","","inputElement","ngModel"],["ng-label-tmp",""],["ng-option-tmp",""],["class","awf-action-wrapper clear",3,"click",4,"ngIf"],["agTooltip","","aria-hidden","true",1,"ng-value-icon","left",3,"tooltipContent","click"],["class","ng-value-label",4,"ngIf"],[1,"ng-value-label"],["agTooltip","",3,"disableTooltip","tooltipContent"],[1,"awf-action-wrapper","clear",3,"click"],["agTooltip","",1,"action-icon","awf-clear-button",3,"tooltipContent"]],template:function SelectComponent_Template(rf,ctx){if(1&rf&&(core["ɵɵelementStart"](0,"ag-linear-field",0),core["ɵɵlistener"]("mouseenter",(function SelectComponent_Template_ag_linear_field_mouseenter_0_listener(){return ctx.hasMouseOver=!0}))("mouseleave",(function SelectComponent_Template_ag_linear_field_mouseleave_0_listener(){return ctx.hasMouseOver=!1})),core["ɵɵelementEnd"](),core["ɵɵtemplate"](1,SelectComponent_ng_template_1_Template,4,3,"ng-template",null,1,core["ɵɵtemplateRefExtractor"])),2&rf){const _r0=core["ɵɵreference"](2);core["ɵɵproperty"]("fieldTemplate",_r0)("label",ctx.label)("labelPosition",ctx.labelPosition)("required",ctx.required)("hasMouseOver",!ctx.isDisabled&&ctx.hasMouseOver)("hasFocus",ctx.hasFocus)("hostHasValue",!!ctx.value)("errors",ctx.errors)("disabled",ctx.isDisabled)}},dependencies:[common.NgClass,common.NgIf,NgControlStatus,RequiredValidator,NgModel,NgSelectComponent,NgOptionTemplateDirective,NgLabelTemplateDirective,LinearFieldComponent,LocaleFontDirective,AgilentTooltipDirective,NumberValidator,SelectWrapperComponent,TranslatePipe],styles:[":host{display:block}\n"],encapsulation:3,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectComponent,[{type:core.Component,args:[{selector:"ag-select",providers:[{provide:NG_VALUE_ACCESSOR,useExisting:(0,core.forwardRef)((()=>SelectComponent)),multi:!0}],changeDetection:core.ChangeDetectionStrategy.OnPush,encapsulation:core.ViewEncapsulation.ShadowDom,template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2020-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n\r\n<ag-linear-field [fieldTemplate]="customField"\r\n                 [label]="label"\r\n                 [labelPosition]="labelPosition"\r\n                 [required]="required"\r\n                 [hasMouseOver]="!isDisabled && hasMouseOver"\r\n                 [hasFocus]="hasFocus"\r\n                 [hostHasValue]="!!value"\r\n                 [errors]="errors"\r\n                 widthOffset="35px"\r\n                 [disabled]="isDisabled"\r\n                 (mouseenter)="hasMouseOver = true"\r\n                 (mouseleave)="hasMouseOver = false">\r\n</ag-linear-field>\r\n\r\n<ng-template #customField>\r\n    <span agLocaleFont>\r\n        <ag-select-wrapper [templateRef]="selectComponent"\r\n            [class.has-error]="errors.length > 0 || outOfBounds">\r\n            <ng-template #selectComponent>\r\n                <ng-select class="awf"\r\n                        #ngSelectComponent\r\n                        [ngClass]="autoFitDropdownContent ? \'ng-select-auto-fit-dropdown-content\' : \'\'"\r\n                        [class.readonly]="readonly && !isDisabled"\r\n                        [items]="values"\r\n                        #inputElement="ngModel"\r\n                        [selectOnTab]="true"\r\n                        [(ngModel)]="value"\r\n                        (change)="onChange($event)"\r\n                        [addTag]="addTag"\r\n                        [multiple]="multiple"\r\n                        [searchable]="addTag || !disableSearch"\r\n                        (search)="triggerSearch($event)"\r\n                        [disabled]="isDisabled"\r\n                        [clearable]="false"\r\n                        notFoundText="{{\'noItemFound\' | translate }}"\r\n                        [bindLabel]="bindProperty"\r\n                        (focus)="hasFocus = true" \r\n                        (blur)="onBlur()"\r\n                        [required] = "required"\r\n                        [appendTo]="container"\r\n                        (open)="detectChanges()"\r\n                        (close)="onClose()"\r\n                        (keydown)="keyDown($event)"\r\n                        (keyup)="detectChanges()"\r\n                        (click)="onClick()"\r\n                        [readonly]="readonly"\r\n                        [keyDownFn]="keyDownFn()"\r\n                        [agNumberValidator]="numericInputOnly"\r\n                        [dropdownPosition]="dropdownPosition"\r\n                        [placeholder]="placeholder"\r\n                        agTooltip \r\n                        [disableTooltip]="!enableTooltip"\r\n                        [tooltipContent]="value">\r\n                    <ng-template ng-label-tmp let-item="item" let-clear="clear">\r\n                        <span agTooltip [tooltipContent]="\'remove\' | translate" class="ng-value-icon left" (click)="clear(item)" aria-hidden="true">×</span>\r\n                        <span *ngIf="!hideSelectedValueLabel" class="ng-value-label">{{computeValueLabel(item)}}</span>\r\n                    </ng-template>\r\n                    <ng-template ng-option-tmp let-item="item">\r\n                        <div agTooltip [disableTooltip]="!enableTooltip" [tooltipContent]="item">{{computeValueLabel(item)}}</div>\r\n                    </ng-template>\r\n                </ng-select>\r\n                <span class="awf-action-wrapper clear" *ngIf="isClearable()" (click)="clear()">\r\n                    <span class="action-icon awf-clear-button" agTooltip tooltipContent="{{\'clear\' | translate}}">×</span>\r\n                </span>\r\n            </ng-template>\r\n        </ag-select-wrapper>\r\n    </span>\r\n</ng-template>\r\n',styles:[":host{display:block}\n"]}]}],(function(){return[{type:core.ChangeDetectorRef},{type:TranslateService},{type:InputErrorService},{type:DensityUpdaterService},{type:core.ElementRef},{type:DropdownUtil}]}),{inputElement:[{type:core.ViewChild,args:["inputElement",{static:!1}]}],ngSelectComponent:[{type:core.ViewChild,args:["ngSelectComponent",{static:!1}]}],labelTop:[{type:core.HostBinding,args:["class.label-top"]}],labelLeft:[{type:core.HostBinding,args:["class.label-left"]}],agSelectClass:[{type:core.HostBinding,args:["class.awf-select"]}],values:[{type:core.Input}],bindProperty:[{type:core.Input}],label:[{type:core.Input}],autoFitDropdownContent:[{type:core.Input}],hideSelectedValueLabel:[{type:core.Input}],labelPosition:[{type:core.Input}],errorMessage:[{type:core.Input}],readonly:[{type:core.Input}],dropdownPosition:[{type:core.Input}],placeholder:[{type:core.Input}],appendToElement:[{type:core.Input}],persistOutOfRangeValue:[{type:core.Input}],showErrorOnOutOfRange:[{type:core.Input}],addTag:[{type:core.Input}],multiple:[{type:core.Input}],required:[{type:core.Input}],disableSearch:[{type:core.Input}],customInput:[{type:core.Input}],numericInputOnly:[{type:core.Input}],numericInputMin:[{type:core.Input}],numericInputMax:[{type:core.Input}],form:[{type:core.Input}],searchable:[{type:core.Input}],enableTooltip:[{type:core.Input}],onSearch:[{type:core.Output}],touched:[{type:core.Output}],valueChange:[{type:core.Output}]});class SelectModule{static ɵfac=function SelectModule_Factory(t){return new(t||SelectModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:SelectModule,declarations:[SelectComponent,SelectWrapperComponent],imports:[common.CommonModule,FormsModule,NgSelectModule,LabelModule,LinearFieldModule,SharedTranslateModule,TooltipModule,InputModule],exports:[SelectComponent]});static ɵinj=core["ɵɵdefineInjector"]({providers:[InputErrorService],imports:[common.CommonModule,FormsModule,NgSelectModule,LabelModule,LinearFieldModule,SharedTranslateModule,TooltipModule,InputModule]})}function CancelCellChangesComponent_awf_icon_ng_0_Template(rf,ctx){if(1&rf){const _r2=core["ɵɵgetCurrentView"]();core["ɵɵelementStart"](0,"awf-icon-ng",1),core["ɵɵlistener"]("click",(function CancelCellChangesComponent_awf_icon_ng_0_Template_awf_icon_ng_click_0_listener(){core["ɵɵrestoreView"](_r2);const ctx_r1=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r1.cancelChanges())})),core["ɵɵelementEnd"]()}if(2&rf){const ctx_r0=core["ɵɵnextContext"]();core["ɵɵproperty"]("raw",ctx_r0.cancelIcon)}}function HeaderSaveCancelChangesComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r2=core["ɵɵgetCurrentView"]();core["ɵɵelementContainerStart"](0),core["ɵɵelementStart"](1,"div",1),core["ɵɵlistener"]("click",(function HeaderSaveCancelChangesComponent_ng_container_0_Template_div_click_1_listener(){core["ɵɵrestoreView"](_r2);const ctx_r1=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r1.cancelChanges())})),core["ɵɵnamespaceSVG"](),core["ɵɵelementStart"](2,"svg",2),core["ɵɵelement"](3,"path",3)(4,"path",4),core["ɵɵelementEnd"]()(),core["ɵɵnamespaceHTML"](),core["ɵɵelementStart"](5,"div",5),core["ɵɵlistener"]("click",(function HeaderSaveCancelChangesComponent_ng_container_0_Template_div_click_5_listener(){core["ɵɵrestoreView"](_r2);const ctx_r3=core["ɵɵnextContext"]();return core["ɵɵresetView"](ctx_r3.saveChanges())})),core["ɵɵnamespaceSVG"](),core["ɵɵelementStart"](6,"svg",2),core["ɵɵelement"](7,"path",6)(8,"path",7),core["ɵɵelementEnd"]()(),core["ɵɵelementContainerEnd"]()}}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectModule,[{type:core.NgModule,args:[{imports:[common.CommonModule,FormsModule,NgSelectModule,LabelModule,LinearFieldModule,SharedTranslateModule,TooltipModule,InputModule],declarations:[SelectComponent,SelectWrapperComponent],exports:[SelectComponent],providers:[InputErrorService]}]}],null,null);const agilent_ag_grid_community_extensions_c0=["agSelect"],NumericCellEditorConfigToken=new core.InjectionToken("numericCellEditorConfigToken");class NumericCellEditorComponent{renderer;ref;config;agInput;value;type=agilent_ui_element_input_InputType.NUMBER;max;min;showIncrementButtons=!0;incrementalValue=1;persistOutOfRangeValue=!1;precision;scientificNotation=!0;thousandSeparator=!1;params;api;warningMessageProvider;tooltipId="numeric-cell-editor-warning-tooltip";constructor(renderer,ref,config){this.renderer=renderer,this.ref=ref,this.config=config,config&&(this.showIncrementButtons=config.showIncrementButtons)}ngAfterViewInit(){setTimeout((()=>{const nativeElement=this.agInput.inputElement.nativeElement;if(nativeElement.focus(),!this.showIncrementButtons){const charPress=this.params?.eventKey;charPress&&/[0-9\.\-]+/g.test(charPress)?(nativeElement.value=charPress,this.agInput.onNgModelChange()):nativeElement.select()}this.showHideWarningTooltip(nativeElement.value)}))}ngOnDestroy(){this.hideTooltip()}agInit(params){this.params=params,this.api=this.params.api,this.value=this.params.value,this.min=this.params.min,this.max=this.params.max,this.precision=this.params.precision,this.scientificNotation=this.params.scientificNotation,this.thousandSeparator=this.params.thousandSeparator,this.params.wholeNumber&&(this.type=agilent_ui_element_input_InputType.INTEGER),void 0!==this.params.showIncrementButtons&&(this.showIncrementButtons=this.params.showIncrementButtons),this.params.incrementalValue&&(this.incrementalValue=this.params.incrementalValue),this.params.warningMessage&&(this.warningMessageProvider=this.params.warningMessage),this.params.persistOutOfRangeValue&&(this.persistOutOfRangeValue=this.params.persistOutOfRangeValue)}getValue(){let number=null;return null!=this.value&&this.value.toString().length>0&&(number=this.type===agilent_ui_element_input_InputType.INTEGER?Number.parseInt(this.value):Number.parseFloat(this.value)),number}isPopup(){return!0}getInputComponentMin(){return this.persistOutOfRangeValue?void 0:this.min}getInputComponentMax(){return this.persistOutOfRangeValue?void 0:this.max}isCancelAfterEnd(){return this.agInput.errors.length>0}onFocusLost(){this.api.stopEditing()}onInputChange(valueStr){this.showHideWarningTooltip(valueStr)}showHideWarningTooltip(valueStr){this.hideTooltip();let value=Number(valueStr),valueOutOfRange=void 0!==this.min&&value<this.min||void 0!==this.max&&value>this.max;if(this.warningMessageProvider&&valueOutOfRange){const warningMessage=this.warningMessageProvider(this.params,value);warningMessage&&this.showTooltip(warningMessage)}}showTooltip(message){const tooltip=this.renderer.createElement("div");tooltip.innerText=message,tooltip.style.position="absolute",tooltip.style.backgroundColor="var(--at-red)",tooltip.style.color="white",tooltip.style.fontFamily="Noto Sans Display",tooltip.style.padding="0 11px",tooltip.style.width=`${this.agInput.inputElement.nativeElement.getBoundingClientRect().width+2}px`,tooltip.id=this.tooltipId,tooltip.style.wordBreak="break-word";const agRootWrapper=this.ref.nativeElement.closest(".ag-root-wrapper");agRootWrapper.getBoundingClientRect().y+agRootWrapper.getBoundingClientRect().height-(this.ref.nativeElement.getBoundingClientRect().y+this.ref.nativeElement.getBoundingClientRect().height)<=30&&(tooltip.style.bottom=`${this.agInput.inputElement.nativeElement.getBoundingClientRect().height}px`),this.renderer.appendChild(this.ref.nativeElement,tooltip)}hideTooltip(){const tooltip=document.getElementById(this.tooltipId);tooltip&&this.renderer.removeChild(this.ref.nativeElement,tooltip)}static ɵfac=function NumericCellEditorComponent_Factory(t){return new(t||NumericCellEditorComponent)(core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](core.ElementRef),core["ɵɵdirectiveInject"](NumericCellEditorConfigToken,8))};static ɵcmp=core["ɵɵdefineComponent"]({type:NumericCellEditorComponent,selectors:[["ag-numeric-cell-editor"]],viewQuery:function NumericCellEditorComponent_Query(rf,ctx){if(1&rf&&core["ɵɵviewQuery"](InputComponent,5),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.agInput=_t.first)}},decls:2,vars:9,consts:[["tabindex","0",3,"valueType","min","max","incrementalValue","showIncrementButtons","precision","scientificNotation","thousandSeparator","ngModel","ngModelChange","focusLost","inputChange"],["input",""]],template:function NumericCellEditorComponent_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"ag-input",0,1),core["ɵɵlistener"]("ngModelChange",(function NumericCellEditorComponent_Template_ag_input_ngModelChange_0_listener($event){return ctx.value=$event}))("focusLost",(function NumericCellEditorComponent_Template_ag_input_focusLost_0_listener(){return ctx.onFocusLost()}))("inputChange",(function NumericCellEditorComponent_Template_ag_input_inputChange_0_listener($event){return ctx.onInputChange($event)})),core["ɵɵelementEnd"]()),2&rf&&core["ɵɵproperty"]("valueType",ctx.type)("min",ctx.getInputComponentMin())("max",ctx.getInputComponentMax())("incrementalValue",ctx.incrementalValue)("showIncrementButtons",ctx.showIncrementButtons)("precision",ctx.precision)("scientificNotation",ctx.scientificNotation)("thousandSeparator",ctx.thousandSeparator)("ngModel",ctx.value)},dependencies:[NgControlStatus,NgModel,InputComponent],styles:['@charset "UTF-8";\n\n\n\n\n\n\n[_nghost-%COMP%]{--ag-linear-field-container-margin-bottom: 0;--ag-linear-field-container-padding-top: 0;--ag-linear-field-container-padding-bottom: 0;--ag-input-message-display: none;position:relative}']})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NumericCellEditorComponent,[{type:core.Component,args:[{selector:"ag-numeric-cell-editor",template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2021-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n<ag-input tabindex="0"\r\n          #input\r\n          [valueType]="type"\r\n          [min]="getInputComponentMin()"\r\n          [max]="getInputComponentMax()"\r\n          [incrementalValue]="incrementalValue"\r\n          [showIncrementButtons]="showIncrementButtons"\r\n          [precision]="precision"\r\n          [scientificNotation]="scientificNotation"\r\n          [thousandSeparator]="thousandSeparator"\r\n          [(ngModel)]="value"\r\n          (focusLost)="onFocusLost()"\r\n          (inputChange)="onInputChange($event)">\r\n</ag-input>\r\n',styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2021-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{--ag-linear-field-container-margin-bottom: 0;--ag-linear-field-container-padding-top: 0;--ag-linear-field-container-padding-bottom: 0;--ag-input-message-display: none;position:relative}\n']}]}],(function(){return[{type:core.Renderer2},{type:core.ElementRef},{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[NumericCellEditorConfigToken]}]}]}),{agInput:[{type:core.ViewChild,args:[InputComponent]}]});class NumericCellEditorModule{static forRoot(config){return{ngModule:NumericCellEditorModule,providers:[{provide:NumericCellEditorConfigToken,useValue:config}]}}static ɵfac=function NumericCellEditorModule_Factory(t){return new(t||NumericCellEditorModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:NumericCellEditorModule,declarations:[NumericCellEditorComponent],imports:[common.CommonModule,FormsModule,InputModule],exports:[NumericCellEditorComponent]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule,FormsModule,InputModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](NumericCellEditorModule,[{type:core.NgModule,args:[{declarations:[NumericCellEditorComponent],imports:[common.CommonModule,FormsModule,InputModule],exports:[NumericCellEditorComponent]}]}],null,null);class AgGridAwfEditorsModule{static ɵfac=function AgGridAwfEditorsModule_Factory(t){return new(t||AgGridAwfEditorsModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:AgGridAwfEditorsModule,imports:[NumericCellEditorModule]});static ɵinj=core["ɵɵdefineInjector"]({imports:[NumericCellEditorModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AgGridAwfEditorsModule,[{type:core.NgModule,args:[{imports:[NumericCellEditorModule]}]}],null,null);class AgGridCommunityExtensionsService{constructor(){}static ɵfac=function AgGridCommunityExtensionsService_Factory(t){return new(t||AgGridCommunityExtensionsService)};static ɵprov=core["ɵɵdefineInjectable"]({token:AgGridCommunityExtensionsService,factory:AgGridCommunityExtensionsService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AgGridCommunityExtensionsService,[{type:core.Injectable}],(function(){return[]}),null);class AwfCellRendererComponent{renderer;element;static ERROR_MESSAGE_PARAM="errorMessage";static WARNING_MESSAGE_PARAM="warningMessage";get value(){return this.params?.value}errorMessage;warningMessage;params;errorDiv;warningDiv;mutationObserver;constructor(renderer,element){this.renderer=renderer,this.element=element,this.mutationObserver=new MutationObserver((mutationsList=>this.onDOMChanged(mutationsList)))}ngOnDestroy(){this.mutationObserver?.disconnect()}agInit(params){this.params=params;const errorMessageParam=this.params[AwfCellRendererComponent.ERROR_MESSAGE_PARAM];this.errorMessage=errorMessageParam?errorMessageParam(this.params):null;const warningMessageParam=this.params[AwfCellRendererComponent.WARNING_MESSAGE_PARAM];this.warningMessage=warningMessageParam?warningMessageParam(this.params):null,this.errorDiv=this.createTooltipElement(this.errorMessage,"var(--at-red)","white"),this.warningDiv=this.createTooltipElement(this.warningMessage,"var(--at-yellow)","var(--at-dark-navy)"),this.mutationObserver.observe(this.params.eGridCell,{childList:!0})}refresh(){return!1}onMouseEnter(){0===this.params.api.getEditingCells().length&&(this.errorMessage?this.showTooltip(this.errorDiv):this.warningMessage&&this.showTooltip(this.warningDiv))}onMouseLeave(){this.removeTooltips()}onDoubleClick(){this.params.colDef.cellEditor&&this.removeTooltips()}showTooltip(messageDiv){messageDiv.style.top=`${this.params.eGridCell.getBoundingClientRect().bottom}px`,messageDiv.style.left=`${this.params.eGridCell.getBoundingClientRect().left}px`,messageDiv.style.padding="0 11px",messageDiv.style.lineHeight="21px",this.renderer.appendChild(document.body,messageDiv)}removeTooltips(){document.body.querySelectorAll(`div[for-comp-id="${this.params.eGridCell.getAttribute("comp-id")}"`).forEach((div=>this.renderer.removeChild(document.body,div)))}createTooltipElement(message,backgroundColor,color){const messageDiv=this.renderer.createElement("div");return messageDiv.innerText=message,messageDiv.style.position="absolute",messageDiv.style.backgroundColor=backgroundColor,messageDiv.style.color=color,messageDiv.style.fontFamily="Noto Sans Display",messageDiv.setAttribute("for-comp-id",this.params.eGridCell.getAttribute("comp-id")),messageDiv}onDOMChanged(mutationsList){this.editingEnded(mutationsList)&&this.removeTooltips()}editingEnded(mutationsList){return mutationsList.some((mutation=>{let isAdded=!1;for(let i=0;!isAdded&&i<mutation.addedNodes.length;i++){isAdded=mutation.addedNodes.item(i)===this.element.nativeElement}return isAdded}))}static ɵfac=function AwfCellRendererComponent_Factory(t){return new(t||AwfCellRendererComponent)(core["ɵɵdirectiveInject"](core.Renderer2),core["ɵɵdirectiveInject"](core.ElementRef))};static ɵcmp=core["ɵɵdefineComponent"]({type:AwfCellRendererComponent,selectors:[["awf-cell-renderer"]],hostBindings:function AwfCellRendererComponent_HostBindings(rf,ctx){1&rf&&core["ɵɵlistener"]("dblclick",(function AwfCellRendererComponent_dblclick_HostBindingHandler(){return ctx.onDoubleClick()}))},decls:2,vars:1,consts:[[1,"awf-cell-value",3,"mouseenter","mouseleave"]],template:function AwfCellRendererComponent_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"div",0),core["ɵɵlistener"]("mouseenter",(function AwfCellRendererComponent_Template_div_mouseenter_0_listener(){return ctx.onMouseEnter()}))("mouseleave",(function AwfCellRendererComponent_Template_div_mouseleave_0_listener(){return ctx.onMouseLeave()})),core["ɵɵtext"](1),core["ɵɵelementEnd"]()),2&rf&&(core["ɵɵadvance"](1),core["ɵɵtextInterpolate"](ctx.value))},styles:['@charset "UTF-8";\n\n\n\n\n\n\n[_nghost-%COMP%]{display:block;height:100%}.awf-cell-value[_ngcontent-%COMP%]{height:100%}']})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AwfCellRendererComponent,[{type:core.Component,args:[{selector:"awf-cell-renderer",template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2022-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n<div class="awf-cell-value"\r\n     (mouseenter)="onMouseEnter()"\r\n     (mouseleave)="onMouseLeave()">{{value}}</div>\r\n',styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2022-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:block;height:100%}.awf-cell-value{height:100%}\n']}]}],(function(){return[{type:core.Renderer2},{type:core.ElementRef}]}),{onDoubleClick:[{type:core.HostListener,args:["dblclick"]}]});class AwfCellRendererModule{static ɵfac=function AwfCellRendererModule_Factory(t){return new(t||AwfCellRendererModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:AwfCellRendererModule,declarations:[AwfCellRendererComponent],exports:[AwfCellRendererComponent]});static ɵinj=core["ɵɵdefineInjector"]({})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](AwfCellRendererModule,[{type:core.NgModule,args:[{declarations:[AwfCellRendererComponent],exports:[AwfCellRendererComponent]}]}],null,null);class CancelCellChangesComponent{isRowUpdated=!1;cancelIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n    <path fill="none" stroke="#e72503" stroke-miterlimit="10" d="M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"/>\n    <path fill="none" stroke="#e72503" stroke-miterlimit="10" stroke-width="1.5" d="M5.03 4.97l6 6M11.03 4.97l-6 6"/></svg>';params;field;onCancelChanges=()=>{};constructor(){}agInit(params){this.params=params,this.isRowUpdated=params.value,this.field=this.params.colDef.field,this.params.onCancelChanges&&(this.onCancelChanges=this.params.onCancelChanges)}refresh(){return!1}cancelChanges(){this.params.setValue(!1);const changes=this.restoreData();this.params.api.refreshHeader(),this.onCancelChanges(changes)}restoreData(){const allChanges=this.params.changes,rowNodeId=this.params.node.id,changes=[];return this.params.api.getColumnDefs().map((colDef=>colDef.field)).filter((field=>field!==this.field)).filter((field=>allChanges.has(`${rowNodeId}_${field}`))).forEach((field=>{const key=`${rowNodeId}_${field}`;changes.push(allChanges.get(key)),this.params.node.setDataValue(field,allChanges.get(key).savedValue)})),changes}static ɵfac=function CancelCellChangesComponent_Factory(t){return new(t||CancelCellChangesComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:CancelCellChangesComponent,selectors:[["cancel-cell-changes-component"]],decls:1,vars:1,consts:[["class","cancel-icon",3,"raw","click",4,"ngIf"],[1,"cancel-icon",3,"raw","click"]],template:function CancelCellChangesComponent_Template(rf,ctx){1&rf&&core["ɵɵtemplate"](0,CancelCellChangesComponent_awf_icon_ng_0_Template,1,1,"awf-icon-ng",0),2&rf&&core["ɵɵproperty"]("ngIf",ctx.isRowUpdated)},dependencies:[agilent_ui_element_icon.oJ,common.NgIf],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex}.cancel-icon[_ngcontent-%COMP%]{cursor:pointer;--awf-icon-size: 16px}']})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CancelCellChangesComponent,[{type:core.Component,args:[{selector:"cancel-cell-changes-component",template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2021-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n\r\n<awf-icon-ng *ngIf="isRowUpdated" (click)="cancelChanges()" [raw]="cancelIcon" class="cancel-icon"></awf-icon-ng>',styles:['@charset "UTF-8";:host{display:flex}.cancel-icon{cursor:pointer;--awf-icon-size: 16px}\n']}]}],(function(){return[]}),null);class CancelCellChangesModule{static ɵfac=function CancelCellChangesModule_Factory(t){return new(t||CancelCellChangesModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:CancelCellChangesModule,declarations:[CancelCellChangesComponent],imports:[agilent_ui_element_icon.QX,FormsModule,common.CommonModule],exports:[CancelCellChangesComponent]});static ɵinj=core["ɵɵdefineInjector"]({imports:[agilent_ui_element_icon.QX,FormsModule,common.CommonModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CancelCellChangesModule,[{type:core.NgModule,args:[{imports:[agilent_ui_element_icon.QX,FormsModule,common.CommonModule],declarations:[CancelCellChangesComponent],exports:[CancelCellChangesComponent]}]}],null,null);class CellChangeService{cellChanges=new Map;onCellValueChanged(event,cancelFieldName){if(event.colDef.field!==cancelFieldName){let saved=event.oldValue;const key=`${event.node.id}_${event.colDef.field}`;if(this.cellChanges.has(key)&&(saved=this.cellChanges.get(key).savedValue),saved!==event.newValue){const change={rowNodeId:event.node.id,field:event.colDef.field,savedValue:saved,newValue:event.newValue};this.cellChanges.set(key,change),event.node.setDataValue(cancelFieldName,!0),event.api.refreshHeader()}}}static ɵfac=function CellChangeService_Factory(t){return new(t||CellChangeService)};static ɵprov=core["ɵɵdefineInjectable"]({token:CellChangeService,factory:CellChangeService.ɵfac})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CellChangeService,[{type:core.Injectable}],null,null);class HeaderSaveCancelChangesComponent{hasPendingChanges=!1;params;changes;cancelFieldName;onSaveChanges=()=>{};onCancelChanges;constructor(){}refresh(){return!1}agInit(params){this.params=params,this.cancelFieldName=this.params.cancelFieldName,this.hasPendingChanges=this.params.data.some((element=>element[this.cancelFieldName])),this.changes=this.params.changes,this.params.onSaveChanges&&(this.onSaveChanges=this.params.onSaveChanges),this.params.onCancelChanges&&(this.onCancelChanges=this.params.onCancelChanges)}cancelChanges(){const copyOfChanges=Array.from(this.changes.values());this.hasPendingChanges=!1,this.changes.forEach((change=>{this.params.api.getRowNode(change.rowNodeId).setDataValue(change.field,change.savedValue)})),this.hideAllCancelButtons(),this.onCancelChanges(copyOfChanges)}saveChanges(){const copyOfChanges=Array.from(this.changes.values());this.hasPendingChanges=!1,this.changes.clear(),this.hideAllCancelButtons(),this.onSaveChanges(copyOfChanges)}hideAllCancelButtons(){this.params.api.forEachNode((rowNode=>rowNode.setDataValue(this.cancelFieldName,!1)))}static ɵfac=function HeaderSaveCancelChangesComponent_Factory(t){return new(t||HeaderSaveCancelChangesComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:HeaderSaveCancelChangesComponent,selectors:[["header-save-cancel-changes-component"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"cancel-icon",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16"],["fill","none","stroke","#e72503","stroke-miterlimit","10","d","M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"],["fill","none","stroke","#e72503","stroke-miterlimit","10","stroke-width","1.5","d","M5.03 4.97l6 6M11.03 4.97l-6 6"],[1,"save-icon",3,"click"],["fill","none","stroke","#75c335","stroke-miterlimit","10","d","M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"],["fill","none","stroke","#75c335","stroke-miterlimit","10","stroke-width","1.5","d","M11.53 5.53L6.5 10.56 4.47 8.53"]],template:function HeaderSaveCancelChangesComponent_Template(rf,ctx){1&rf&&core["ɵɵtemplate"](0,HeaderSaveCancelChangesComponent_ng_container_0_Template,9,0,"ng-container",0),2&rf&&core["ɵɵproperty"]("ngIf",ctx.hasPendingChanges)},dependencies:[common.NgIf],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}.cancel-icon[_ngcontent-%COMP%], .save-icon[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;width:16px}.save-icon[_ngcontent-%COMP%]{margin-left:2px}.cancel-icon[_ngcontent-%COMP%]{margin-right:2px}  .ag-header-cell{justify-content:center}']})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](HeaderSaveCancelChangesComponent,[{type:core.Component,args:[{selector:"header-save-cancel-changes-component",template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2021-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n<ng-container *ngIf="hasPendingChanges">\r\n    <div class="cancel-icon" (click)="cancelChanges()">\r\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n        <path fill="none" stroke="#e72503" stroke-miterlimit="10" d="M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"/>\r\n        <path fill="none" stroke="#e72503" stroke-miterlimit="10" stroke-width="1.5" d="M5.03 4.97l6 6M11.03 4.97l-6 6"/>\r\n      </svg>\r\n    </div>\r\n    <div class="save-icon" (click)="saveChanges()">\r\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\r\n        <path fill="none" stroke="#75c335" stroke-miterlimit="10" d="M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"/>\r\n        <path fill="none" stroke="#75c335" stroke-miterlimit="10" stroke-width="1.5" d="M11.53 5.53L6.5 10.56 4.47 8.53"/>\r\n      </svg>\r\n    </div>\r\n</ng-container>\r\n',styles:['@charset "UTF-8";:host{display:flex;justify-content:center;align-items:center}.cancel-icon,.save-icon{cursor:pointer;display:inline-flex;width:16px}.save-icon{margin-left:2px}.cancel-icon{margin-right:2px}::ng-deep .ag-header-cell{justify-content:center}\n']}]}],(function(){return[]}),null);class HeaderSaveCancelChangesModule{static ɵfac=function HeaderSaveCancelChangesModule_Factory(t){return new(t||HeaderSaveCancelChangesModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:HeaderSaveCancelChangesModule,declarations:[HeaderSaveCancelChangesComponent],imports:[FormsModule,common.CommonModule],exports:[HeaderSaveCancelChangesComponent]});static ɵinj=core["ɵɵdefineInjector"]({imports:[FormsModule,common.CommonModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](HeaderSaveCancelChangesModule,[{type:core.NgModule,args:[{imports:[FormsModule,common.CommonModule],declarations:[HeaderSaveCancelChangesComponent],exports:[HeaderSaveCancelChangesComponent]}]}],null,null);class CellChangesModule{static ɵfac=function CellChangesModule_Factory(t){return new(t||CellChangesModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:CellChangesModule,imports:[common.CommonModule,CancelCellChangesModule,HeaderSaveCancelChangesModule]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule,CancelCellChangesModule,HeaderSaveCancelChangesModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](CellChangesModule,[{type:core.NgModule,args:[{declarations:[],imports:[common.CommonModule,CancelCellChangesModule,HeaderSaveCancelChangesModule]}]}],null,null);class SelectCellEditorComponent{selectComponent;value;values;numericInputOnly=!1;params;numericInputMin;numericInputMax;persistOutOfRangeValue=!0;customInput=!0;showErrorOnOutOfRange=!0;disableSearch=!1;outOfBounds=!1;agInit(params){this.params=params,this.value=this.params.value,void 0!==this.params.numericInputOnly&&(this.numericInputOnly=this.params.numericInputOnly,void 0!==this.params.numericInputMin&&(this.numericInputMin=this.params.numericInputMin),void 0!==this.params.numericInputMax&&(this.numericInputMax=this.params.numericInputMax),void 0!==this.params.persistOutOfRangeValue&&(this.persistOutOfRangeValue=this.params.persistOutOfRangeValue)),this.params.values&&(this.values=this.params.values)}getValue(){return this.value}ngAfterViewInit(){setTimeout((()=>{this.selectComponent.ngSelectComponent.focus(),this.selectComponent.ngSelectComponent.open()}))}valueChange(value){this.value=value}static ɵfac=function SelectCellEditorComponent_Factory(t){return new(t||SelectCellEditorComponent)};static ɵcmp=core["ɵɵdefineComponent"]({type:SelectCellEditorComponent,selectors:[["ag-select-cell-editor"]],viewQuery:function SelectCellEditorComponent_Query(rf,ctx){if(1&rf&&core["ɵɵviewQuery"](agilent_ag_grid_community_extensions_c0,5),2&rf){let _t;core["ɵɵqueryRefresh"](_t=core["ɵɵloadQuery"]())&&(ctx.selectComponent=_t.first)}},hostAttrs:[1,"awf-form-high-density"],decls:2,vars:9,consts:[[3,"ngModel","values","customInput","disableSearch","numericInputOnly","persistOutOfRangeValue","numericInputMin","numericInputMax","showErrorOnOutOfRange","ngModelChange","valueChange"],["agSelect",""]],template:function SelectCellEditorComponent_Template(rf,ctx){1&rf&&(core["ɵɵelementStart"](0,"ag-select",0,1),core["ɵɵlistener"]("ngModelChange",(function SelectCellEditorComponent_Template_ag_select_ngModelChange_0_listener($event){return ctx.value=$event}))("valueChange",(function SelectCellEditorComponent_Template_ag_select_valueChange_0_listener($event){return ctx.valueChange($event)})),core["ɵɵelementEnd"]()),2&rf&&core["ɵɵproperty"]("ngModel",ctx.value)("values",ctx.values)("customInput",ctx.customInput)("disableSearch",ctx.disableSearch)("numericInputOnly",ctx.numericInputOnly)("persistOutOfRangeValue",ctx.persistOutOfRangeValue)("numericInputMin",ctx.numericInputMin)("numericInputMax",ctx.numericInputMax)("showErrorOnOutOfRange",ctx.showErrorOnOutOfRange)},dependencies:[NgControlStatus,NgModel,SelectComponent],encapsulation:2})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectCellEditorComponent,[{type:core.Component,args:[{selector:"ag-select-cell-editor",host:{class:"awf-form-high-density"},template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2022-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n<ag-select #agSelect\r\n           [(ngModel)]="value"\r\n           [values]="values"\r\n           [customInput]="customInput"\r\n           [disableSearch]="disableSearch"\r\n           [numericInputOnly]="numericInputOnly"\r\n           [persistOutOfRangeValue]="persistOutOfRangeValue"\r\n           [numericInputMin]="numericInputMin"\r\n           [numericInputMax]="numericInputMax"\r\n           [showErrorOnOutOfRange]="showErrorOnOutOfRange"\r\n           (valueChange)="valueChange($event)">\r\n</ag-select>'}]}],null,{selectComponent:[{type:core.ViewChild,args:["agSelect",{static:!1}]}]});class SelectCellEditorModule{static ɵfac=function SelectCellEditorModule_Factory(t){return new(t||SelectCellEditorModule)};static ɵmod=core["ɵɵdefineNgModule"]({type:SelectCellEditorModule,declarations:[SelectCellEditorComponent],imports:[common.CommonModule,FormsModule,SelectModule,InputModule],exports:[SelectCellEditorComponent]});static ɵinj=core["ɵɵdefineInjector"]({imports:[common.CommonModule,FormsModule,SelectModule,InputModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SelectCellEditorModule,[{type:core.NgModule,args:[{declarations:[SelectCellEditorComponent],imports:[common.CommonModule,FormsModule,SelectModule,InputModule],exports:[SelectCellEditorComponent]}]}],null,null);class ColumnDefinitionFactory{createCancelColumnDefinition(data,cellChanges,fieldName="changed",width,onCancelChanges,onSaveChanges,onCancelAllChanges){const colDef={headerName:"",field:fieldName,width,headerComponent:HeaderSaveCancelChangesComponent,cellRenderer:CancelCellChangesComponent,cellStyle:{display:"flex","justify-content":"center","align-items":"center"},cellRendererParams:{changes:cellChanges,onCancelChanges:void 0},headerComponentParams:{data,cancelFieldName:fieldName,changes:cellChanges,onSaveChanges:void 0,onCancelChanges:void 0}};return onCancelChanges&&(colDef.cellRendererParams.onCancelChanges=changes=>onCancelChanges(changes)),onSaveChanges&&(colDef.headerComponentParams.onSaveChanges=changes=>onSaveChanges(changes)),onCancelAllChanges&&(colDef.headerComponentParams.onCancelChanges=changes=>onCancelAllChanges(changes)),colDef}setCaseInsensitiveSortedColumn(col){col.comparator=(valueA,valueB,nodeA,nodeB,isInverted)=>"number"==typeof valueA?isNaN(valueB)?-1:valueA===valueB?0:valueA>valueB?1:-1:valueA?valueA.localeCompare(valueB):valueB?1:0}static ɵfac=function ColumnDefinitionFactory_Factory(t){return new(t||ColumnDefinitionFactory)};static ɵprov=core["ɵɵdefineInjectable"]({token:ColumnDefinitionFactory,factory:ColumnDefinitionFactory.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ColumnDefinitionFactory,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);class EditionStateFactory{updateEditionState(nativeElement,editable){return editable?nativeElement.style.setProperty("--ag-cell-horizontal-border","solid #eaebed"):nativeElement.style.setProperty("--ag-cell-horizontal-border","solid transparent"),editable}static ɵfac=function EditionStateFactory_Factory(t){return new(t||EditionStateFactory)};static ɵprov=core["ɵɵdefineInjectable"]({token:EditionStateFactory,factory:EditionStateFactory.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](EditionStateFactory,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null);class ValidationStateFactory{createCellClassRules(errorCondition,warningCondition){return{"cell-error-state":errorCondition,"cell-warning-state":warningCondition}}createRowClassRules(errorCondition,warningCondition){return{"row-error-state":errorCondition,"row-warning-state":warningCondition}}static ɵfac=function ValidationStateFactory_Factory(t){return new(t||ValidationStateFactory)};static ɵprov=core["ɵɵdefineInjectable"]({token:ValidationStateFactory,factory:ValidationStateFactory.ɵfac,providedIn:"root"})}("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](ValidationStateFactory,[{type:core.Injectable,args:[{providedIn:"root"}]}],null,null)},"./node_modules/@agilent/awf-wc/assets/icons/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>AwfCheckmark20px,Hp:()=>AwfDirtyDot24,N$:()=>DeleteCross12px,jV:()=>SampleStatusIndicatorErrorOutlineRed16px,__:()=>SampleStatusIndicatorErrorOutlineRed24px,cC:()=>SampleStatusIndicatorSuccessOutlineGreen16px,QA:()=>SampleStatusIndicatorSuccessOutlineGreen24px,A4:()=>SampleStatusIndicatorWarningOutlineYellow16px,YM:()=>SampleStatusIndicatorWarningOutlineYellow24px});const AwfCheckmark20px={height:"100%",name:"awf-checkmark-20px",svgHash:"",svg:'<g id="ᗢaajnmg-{{uuid}}-Layer_4" data-name="Layer 4"><polygon points="6.37 14.41 2.46 10.51 3.88 9.09 6.37 11.59 13.66 4.29 15.08 5.71 6.37 14.41"/></g>',viewBox:{minx:0,miny:0,width:18,height:18},width:"100%"},AwfDirtyDot24={height:"100%",name:"awf-dirty-dot-24px",svgHash:"",svg:'<circle cx="6" cy="12" r="2" fill="black" stroke="none"/>',viewBox:{minx:0,miny:0,width:8,height:24},width:"100%"},DeleteCross12px={height:"100%",name:"delete-cross-12px",svgHash:"ᗢz944yj",svg:'<?xml version="1.0" encoding="utf-8"?><polygon fill="currentColor" points="9.9,2.9 9.1,2.1 6,5.3 2.9,2.1 2.1,2.9 5.3,6 2.1,9.1 2.9,9.9 6,6.7 9.1,9.9 9.9,9.1 6.7,6 "/>',viewBox:{minx:0,miny:0,width:12,height:12},width:"100%"},SampleStatusIndicatorErrorOutlineRed16px={height:"100%",name:"sample-status-indicator-error-outline-red-16px",svgHash:"",svg:'<?xml version="1.0" encoding="UTF-8"?><path fill="none" stroke="#e72503" stroke-miterlimit="10" d="M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"/><path fill="none" stroke="#e72503" stroke-miterlimit="10" stroke-width="1.5" d="M5.03 4.97l6 6M11.03 4.97l-6 6"/>',viewBox:{minx:0,miny:0,width:16,height:16},width:"100%"},SampleStatusIndicatorErrorOutlineRed24px={height:"100%",name:"sample-status-indicator-error-outline-red-24px",svgHash:"",svg:'<?xml version="1.0" encoding="UTF-8"?><path fill="none" stroke="#e72503" stroke-miterlimit="10" stroke-width="1.5" d="M8.5 8.5l7 7M15.5 8.5l-7 7"/><circle cx="12" cy="12" r="9.5" fill="none" stroke="#e72503" stroke-miterlimit="10"/>',viewBox:{minx:0,miny:0,width:24,height:24},width:"100%"},SampleStatusIndicatorSuccessOutlineGreen16px={height:"100%",name:"sample-status-indicator-success-outline-green-16px",svgHash:"",svg:'<?xml version="1.0" encoding="UTF-8"?><path fill="none" stroke="#75c335" stroke-miterlimit="10" d="M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"/><path fill="none" stroke="#75c335" stroke-miterlimit="10" stroke-width="1.5" d="M11.53 5.53L6.5 10.56 4.47 8.53"/>',viewBox:{minx:0,miny:0,width:16,height:16},width:"100%"},SampleStatusIndicatorSuccessOutlineGreen24px={height:"100%",name:"sample-status-indicator-success-outline-green-24px",svgHash:"",svg:'<?xml version="1.0" encoding="UTF-8"?><circle cx="12" cy="12" r="9.5" fill="none" stroke="#75c335" stroke-miterlimit="10"/><path fill="none" stroke="#75c335" stroke-miterlimit="10" d="M17.53 8.53l-7.03 7.03-3.03-3.03"/>',viewBox:{minx:0,miny:0,width:24,height:24},width:"100%"},SampleStatusIndicatorWarningOutlineYellow16px={height:"100%",name:"sample-status-indicator-warning-outline-yellow-16px",svgHash:"",svg:'<?xml version="1.0" encoding="UTF-8"?><path fill="none" stroke="#ffba00" stroke-miterlimit="10" d="M8 1.5A6.5 6.5 0 1 0 14.5 8 6.5 6.5 0 0 0 8 1.5z"/><path fill="none" stroke="#ffba00" stroke-miterlimit="10" stroke-width="2" d="M8 4v5M8 10v2"/>',viewBox:{minx:0,miny:0,width:16,height:16},width:"100%"},SampleStatusIndicatorWarningOutlineYellow24px={height:"100%",name:"sample-status-indicator-warning-outline-yellow-24px",svgHash:"",svg:'<?xml version="1.0" encoding="UTF-8"?><circle cx="12" cy="12" r="9.5" fill="none" stroke="#ffba00" stroke-miterlimit="10"/><circle cx="12" cy="18" r="1.25" fill="#ffba00"/><path fill="none" stroke="#ffba00" stroke-miterlimit="10" stroke-width="2" d="M12 6v9"/>',viewBox:{minx:0,miny:0,width:24,height:24},width:"100%"}},"./node_modules/@agilent/awf-wc/src/atoms/icon/icon.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),lit=__webpack_require__("./node_modules/lit/index.js"),decorators=__webpack_require__("./node_modules/lit/decorators.js"),directive=__webpack_require__("./node_modules/lit-html/directive.js"),unsafe_html=__webpack_require__("./node_modules/lit-html/directives/unsafe-html.js");class t extends unsafe_html.B{}t.directiveName="unsafeSVG",t.resultType=2;const o=(0,directive.XM)(t);var add_plus=__webpack_require__("./node_modules/@agilent/web-icons/core/add-plus.js"),calendar=__webpack_require__("./node_modules/@agilent/web-icons/core/calendar.js"),checkmark=__webpack_require__("./node_modules/@agilent/web-icons/core/checkmark.js"),delete_cross=__webpack_require__("./node_modules/@agilent/web-icons/core/delete-cross.js"),delete_trash=__webpack_require__("./node_modules/@agilent/web-icons/core/delete-trash.js"),drop_down_more_details_column_descending=__webpack_require__("./node_modules/@agilent/web-icons/core/drop-down-more-details-column-descending.js"),error_octagon=__webpack_require__("./node_modules/@agilent/web-icons/core/error-octagon.js"),info_circle=__webpack_require__("./node_modules/@agilent/web-icons/core/info-circle.js"),less_details_column_ascending=__webpack_require__("./node_modules/@agilent/web-icons/core/less-details-column-ascending.js"),meta_menu_dot=__webpack_require__("./node_modules/@agilent/web-icons/core/meta-menu-dot.js"),page_next=__webpack_require__("./node_modules/@agilent/web-icons/core/page-next.js"),page_previous=__webpack_require__("./node_modules/@agilent/web-icons/core/page-previous.js"),remove_subtract_minus=__webpack_require__("./node_modules/@agilent/web-icons/core/remove-subtract-minus.js"),core_reset=__webpack_require__("./node_modules/@agilent/web-icons/core/reset.js"),sample_status_indicator_success=__webpack_require__("./node_modules/@agilent/web-icons/core/sample-status-indicator-success.js"),warning_triangle=__webpack_require__("./node_modules/@agilent/web-icons/core/warning-triangle.js"),icons=__webpack_require__("./node_modules/@agilent/awf-wc/assets/icons/index.js");const assetsMap={"add-plus-24px":{svg:add_plus.d,viewBox:{minx:0,miny:0,height:24,width:24}},"archive-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="archive">\n<path d="M21,20H3V10H2V5h20v5h-1V20z M4,19h16v-9H4V19z M3,9h18V6H3V9z M16,13H8v-1h8V13z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"assay-media-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="assay-media">\n<g>\n\t<path d="M9,19h6v-7H9V19z M10,13h4v5h-4V13z"></path>\n\t<path d="M17.4,8.8L14.5,7H15V2H9v5h0.5L6.6,8.8C6.2,9.1,6,9.5,6,10v10.5C6,21.3,6.7,22,7.5,22h9c0.8,0,1.5-0.7,1.5-1.5V10\n\t\tC18,9.5,17.8,9.1,17.4,8.8z M7.2,9.6L11,7.3V6h-1V3h4v3h-1v1.3l3.8,2.3C16.9,9.7,17,9.8,17,10H7C7,9.8,7.1,9.7,7.2,9.6z M16.5,21\n\t\th-9C7.2,21,7,20.8,7,20.5V11h10v9.5C17,20.8,16.8,21,16.5,21z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"awf-caret-left-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="caret-left">\n<polygon points="6,8 10,12 10,4 "></polygon>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"awf-caret-right-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="caret-right">\n<polygon points="6,4 6,12 10,8 "></polygon>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"awf-caret-up-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="caret-up">\n<polygon points="8,6 4,10 12,10 "></polygon>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"awf-checkmark-20px":icons.a,"awf-dirty-dot-24px":icons.Hp,"awf-domain-32px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve" data-icon-name="domain">\n<path d="M16.2,2H16C8.3,2,2,8.3,2,16s6.3,14,14,14h0.2C23.8,29.9,30,23.7,30,16v0v0C30,8.3,23.9,2.1,16.2,2z M20.2,4.7\n\tc2.9,1.1,5.2,3.2,6.5,6l0,0.1l-0.1,0h-4.4C22,8.5,21.2,6.4,20.2,4.7L20.2,4.7z M20.5,19.3h-8.9c-0.3-2.2-0.3-4.4,0-6.7h8.9\n\tc0.1,1,0.2,2.1,0.2,3.3v0C20.7,17.1,20.7,18.2,20.5,19.3z M16,4c1.6,0,3.2,2.6,4,6.7h-8C12.8,6.6,14.5,4,16,4z M12.1,4.7L12.1,4.7\n\tc-1.1,1.8-1.8,3.8-2.2,5.9l0,0.1H5.3C6.7,7.8,9.1,5.7,12.1,4.7z M4.5,12.5L4.5,12.5L4.5,12.5C4.5,12.5,4.5,12.5,4.5,12.5z M4,15.9\n\tc0-1.1,0.2-2.2,0.5-3.3h5.2c-0.2,2.3-0.2,4.5,0,6.8l0-0.1H4.5C4.2,18.3,4,17.1,4,15.9z M12.2,27.4c-3.1-1-5.5-3.2-6.9-6l0,0H10\n\tC10.3,23.5,11.1,25.6,12.2,27.4L12.2,27.4z M16.2,28H16c-1.5,0-3.2-2.6-4-6.7h8.2C19.4,25.4,17.7,28,16.2,28z M20.2,27.2L20.2,27.2\n\tc1-1.8,1.7-3.7,2-5.8l0-0.1h4.5C25.3,24.1,23,26.2,20.2,27.2z M27.5,19.5L27.5,19.5L27.5,19.5l-4.9-0.1c0.1-1.1,0.2-2.3,0.2-3.4v0\n\tc0-1.2-0.1-2.3-0.2-3.5l0,0.1h5c0.3,1,0.5,2.2,0.5,3.4S27.8,18.4,27.5,19.5z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:32,width:32}},"awf-no-permission-32px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve" data-icon-name="no-permission">\n<path d="M16,1.5C8,1.5,1.5,8,1.5,16S8,30.5,16,30.5S30.5,24,30.5,16S24,1.5,16,1.5z M16,28.7C9,28.7,3.3,23,3.3,16\n\tc0-3.1,1.1-6,3.1-8.3l17.9,17.9C22,27.6,19.1,28.7,16,28.7z M25.6,24.3L7.7,6.4c2.3-2,5.3-3.1,8.3-3.1C23,3.3,28.7,9,28.7,16\n\tC28.7,19.1,27.6,22,25.6,24.3z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:32,width:32}},"awf-nothing-to-show-32px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve" data-icon-name="nothing-to-show">\n<g>\n\t<polygon points="4.2,10.9 5.6,10.9 5.6,10.9 5.6,9.5 4.2,9.5 \t"></polygon>\n\t<rect x="4.2" y="12.4" width="1.5" height="1.5"></rect>\n\t<polygon points="4.2,8 5.6,8 5.6,8 5.6,6.5 4.2,6.5 \t"></polygon>\n\t<rect x="4.2" y="15.3" width="1.5" height="1.5"></rect>\n\t<rect x="6.9" y="29.8" width="1.4" height="1.5"></rect>\n\t<rect x="4.2" y="18.2" width="1.5" height="1.5"></rect>\n\t<rect x="7" y="0.7" width="1.5" height="1.5"></rect>\n\t<rect x="4.2" y="0.7" width="1.5" height="1.5"></rect>\n\t<rect x="4.2" y="3.6" width="1.5" height="1.5"></rect>\n\t<rect x="9.8" y="29.8" width="1.4" height="1.5"></rect>\n\t<rect x="4.2" y="21.1" width="1.5" height="1.5"></rect>\n\t<rect x="15.9" y="0.7" width="1.5" height="1.5"></rect>\n\t<rect x="12.9" y="0.7" width="1.5" height="1.5"></rect>\n\t<polygon points="25.6,8.5 25.6,8.5 26.7,7.5 25.7,6.5 24.6,7.5 \t"></polygon>\n\t<polygon points="19.6,2.5 20.6,1.5 19.9,0.7 18.9,0.7 18.9,2.2 19.3,2.2 \t"></polygon>\n\t<rect x="4.2" y="24" width="1.5" height="1.5"></rect>\n\t<rect x="4.2" y="29.8" width="1.5" height="1.5"></rect>\n\t<rect x="4.2" y="26.9" width="1.5" height="1.5"></rect>\n\t<rect x="27.1" y="29.8" width="1.5" height="1.5"></rect>\n\t<rect x="27.1" y="18.2" width="1.5" height="1.5"></rect>\n\t<rect x="24.2" y="29.8" width="1.4" height="1.5"></rect>\n\t<polygon points="27.1,21.1 27.1,22.5 28.5,22.5 28.5,21.1 27.1,21.1 \t"></polygon>\n\t<rect x="27.1" y="26.9" width="1.5" height="1.5"></rect>\n\t<rect x="27.1" y="24" width="1.5" height="1.5"></rect>\n\t<polygon points="27.7,8.5 26.6,9.5 27.1,10 27.1,10.2 27.1,10.9 28.5,10.9 28.5,10.2 28.5,9.8 28.5,9.4 \t"></polygon>\n\t<polygon points="27.1,15.3 27.1,16.7 28.5,16.7 28.5,15.3 27.1,15.3 \t"></polygon>\n\t<rect x="27.1" y="12.4" width="1.5" height="1.5"></rect>\n\t<path d="M16.2,10.6c-1,0-2,0.3-2.6,0.7l0.4,1.2c0.5-0.3,1.2-0.6,1.9-0.6c1.2,0,1.8,0.6,1.8,1.6c0,0.8-0.5,1.5-1.3,2.5\n\t\tC15.4,17.1,15,18,15.1,19l0,0.2h0h1.4l0-0.2c-0.1-0.9,0.2-1.5,1.1-2.5c0.9-1.1,1.6-2,1.6-3.2C19.2,11.9,18.3,10.6,16.2,10.6z"></path>\n\t<rect x="22.9" y="4.8" transform="matrix(0.7071 -0.7071 0.7071 0.7071 3.0348 18.3201)" width="1.5" height="1.4"></rect>\n\t<path d="M17,22.3c0-0.7-0.4-1.2-1.1-1.2c-0.6,0-1.1,0.5-1.1,1.2c0,0.6,0.4,1.1,1.1,1.1C16.5,23.5,17,23,17,22.3z"></path>\n\t<polygon points="10,0.7 10,2.2 11.4,2.2 11.4,0.7 \t"></polygon>\n\t<rect x="12.7" y="29.8" width="1.4" height="1.5"></rect>\n\t<rect x="15.6" y="29.8" width="1.4" height="1.5"></rect>\n\t<rect x="18.5" y="29.8" width="1.4" height="1.5"></rect>\n\t<rect x="21.3" y="29.8" width="1.4" height="1.5"></rect>\n\t<rect x="20.9" y="2.8" transform="matrix(0.7071 -0.7071 0.7071 0.7071 3.8706 16.3045)" width="1.5" height="1.4"></rect>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:32,width:32}},"burger-menu-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="burger-menu">\n<g>\n\t<rect x="3" y="6" width="18" height="2"></rect>\n\t<rect x="3" y="11" width="18" height="2"></rect>\n\t<rect x="3" y="16" width="18" height="2"></rect>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"calendar-24px":{svg:calendar.Y,viewBox:{minx:0,miny:0,height:24,width:24}},"checkmark-24px":{svg:checkmark.l,viewBox:{minx:0,miny:0,height:24,width:24}},"cloud-upload-24px":{svg:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="cloud-upload">\n<g id="icon">\n\t<path d="M19.5,19H7c-1.7,0-5-0.9-5-4.5c-0.1-2,1.2-3.9,3.1-4.4c0.3-1,1.4-2.3,3.6-2.1c0.9-1.8,2.7-3,4.8-3c3.7,0,5.1,3.5,5.4,4.6\n\t\tc0.6,0.2,1.9,0.8,2.6,2.1c0.6,1.2,0.6,2.6,0,4.2c0.2,0.4,0.6,1.1,0.4,1.7C21.9,18.1,21.4,19,19.5,19z M8.3,8.9\n\t\tC6.3,8.9,6,10.5,6,10.6l-0.1,0.3L5.6,11C4,11.3,2.9,12.8,3,14.5C3,17.9,6.8,18,7,18h12.5c0.8,0,1.4-0.2,1.5-0.6\n\t\tc0.1-0.3-0.2-0.8-0.4-1l-0.2-0.2l0.1-0.3c0.6-1.5,0.6-2.7,0.1-3.6c-0.7-1.3-2.3-1.7-2.3-1.7l-0.3-0.1L18,10.1C18,9.9,17,6,13.5,6\n\t\tc-1.8,0-3.4,1-4,2.7L9.3,9.1L8.9,9C8.7,9,8.5,8.9,8.3,8.9z"></path>\n</g>\n<g id="modifier">\n\t<polygon points="17.4,13.9 14.5,11 11.6,13.9 12.4,14.6 14,13 14,19 15,19 15,13 16.6,14.6 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"connection-test-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="connection-test">\n<g>\n\t<path d="M8,8H2v7h6v-3h2v-1H8V8z M7,14H3V9h4V14z"></path>\n\t<path d="M16,8v3h-2v1h2v3h6V8H16z M21,14h-4V9h4V14z"></path>\n\t<path d="M15,8c0-1.1-0.8-2-2.7-2c-0.8,0-1.6,0.2-2.3,0.6l0.4,0.9C10.9,7.1,11.4,7,12,7c1,0,1.6,0.6,1.6,1.2s-0.3,1.1-1.1,1.9\n\t\tc-0.8,0.9-1.3,1.4-1.3,2.3V13h1.3v-0.4c0.1-0.8,0.5-1.6,1.1-2.1C14.4,9.9,14.9,9,15,8z"></path>\n\t<circle cx="12" cy="15" r="1"></circle>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"delete-cross-12px":icons.N$,"delete-cross-24px":{svg:delete_cross.C,viewBox:{minx:0,miny:0,height:24,width:24}},"delete-trash-24px":{svg:delete_trash.U,viewBox:{minx:0,miny:0,height:24,width:24}},"drop-down-more-details-column-descending-24px":{svg:drop_down_more_details_column_descending.$,viewBox:{minx:0,miny:0,height:24,width:24}},"error-octagon-24px":{svg:error_octagon.N,viewBox:{minx:0,miny:0,height:24,width:24}},"expand-left-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="expand-left">\n<g>\n\t<polygon points="12.4,6.4 11.6,5.6 5.3,12 11.6,18.4 12.4,17.6 6.7,12 \t"></polygon>\n\t<polygon points="18.4,6.4 17.6,5.6 11.3,12 17.6,18.4 18.4,17.6 12.7,12 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"expand-right-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="expand-right">\n<g>\n\t<polygon points="12.4,5.6 11.6,6.4 17.3,12 11.6,17.6 12.4,18.4 18.7,12 \t"></polygon>\n\t<polygon points="6.4,5.6 5.6,6.4 11.3,12 5.6,17.6 6.4,18.4 12.7,12 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"file-document-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="file-document">\n<path d="M13.7,2H4v20h15V7.3L13.7,2z M14,3.7L17.3,7H14V3.7z M5,21V3h8v5h5v13H5z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"filter-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="filter">\n<path d="M3,2v3.7l6,6v7.1l6,3.2V11.7l6-6V2H3z M14,20.3l-4-2.1V12h4V20.3z M20,5.3L14.3,11H9.7L4,5.3V3h16V5.3z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"folder-new-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="folder-new">\n<g>\n\t<path d="M12,8V7.2c0-2-1.4-3.2-3.7-3.2H2v16h9v-1H3V5h5.3C9.5,5,11,5.4,11,7.2V9h10v3h1V8H12z"></path>\n\t<polygon points="18,13 17,13 17,17 13,17 13,18 17,18 17,22 18,22 18,18 22,18 22,17 18,17 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"grid-view-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="grid-view">\n<g>\n\t<path d="M2,11h9V2H2V11z M3,3h7v7H3V3z"></path>\n\t<path d="M13,2v9h9V2H13z M21,10h-7V3h7V10z"></path>\n\t<path d="M2,22h9v-9H2V22z M3,14h7v7H3V14z"></path>\n\t<path d="M13,22h9v-9h-9V22z M14,14h7v7h-7V14z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"group-folder-project-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="group-folder-project">\n<path d="M12,8V7.1c0-2-1.4-3.1-3.7-3.1H2v16h20V8H12z M21,19H3V5h5.3C9.5,5,11,5.4,11,7.1V9h10V19z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"home-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="home">\n<path d="M21.3,8.6L12,1.9L2.7,8.6l0.6,0.8L4,8.9V22h16V8.9l0.7,0.5L21.3,8.6z M14,21h-4v-7h4V21z M19,21h-4v-8H9v8H5V8.2l7-5l7,5.1\n\tV21z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"info-circle-24px":{svg:info_circle.N,viewBox:{minx:0,miny:0,height:24,width:24}},"less-details-column-ascending-24px":{svg:less_details_column_ascending.e,viewBox:{minx:0,miny:0,height:24,width:24}},"list-view-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="list-view">\n<g>\n\t<path d="M2,14h6v-4H2V14z M3,11h4v2H3V11z"></path>\n\t<path d="M2,22h6v-4H2V22z M3,19h4v2H3V19z"></path>\n\t<rect x="9" y="19" width="13" height="1"></rect>\n\t<rect x="9" y="3" width="13" height="1"></rect>\n\t<rect x="9" y="11" width="13" height="1"></rect>\n\t<path d="M2,6h6V2H2V6z M3,3h4v2H3V3z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"lock-locked-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="lock-locked">\n<g>\n\t<path d="M17.5,9H17V6.5C17,4,14.5,2,11.5,2S6,4,6,6.5V9H5.5C4.1,9,3,10.1,3,11.5V22h17V11.5C20,10.1,18.9,9,17.5,9z M7,6.5\n\t\tC7,4.6,9,3,11.5,3S16,4.6,16,6.5V9H7V6.5z M19,21H4v-9.5C4,10.7,4.7,10,5.5,10H6h1h9h1h0.5c0.8,0,1.5,0.7,1.5,1.5V21z"></path>\n\t<rect x="11" y="13" width="1" height="5"></rect>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"meta-menu-dot-24px":{svg:meta_menu_dot.Y,viewBox:{minx:0,miny:0,height:24,width:24}},"more-menu-dots-24px":{svg:'<svg id="Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-icon-name="more-menu-dots">\n  <path d="m13,7c0,.55-.45,1-1,1s-1-.45-1-1,.45-1,1-1,1,.45,1,1Zm-1,4c-.55,0-1,.45-1,1s.45,1,1,1,1-.45,1-1-.45-1-1-1Zm0,5c-.55,0-1,.45-1,1s.45,1,1,1,1-.45,1-1-.45-1-1-1Z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"notifications-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="notifications">\n<g>\n\t<path d="M13.5,21h-4C9.2,21,9,21.2,9,21.5S9.2,22,9.5,22h4c0.3,0,0.5-0.2,0.5-0.5S13.8,21,13.5,21z"></path>\n\t<path d="M17.7,12.7c-0.7-0.7-1.3-1.3-1.4-2.4C15.8,5.4,14.4,4.1,12,4V2.5C12,2.2,11.8,2,11.5,2S11,2.2,11,2.5V4\n\t\tc-2.4,0.1-3.8,1.4-4.3,6.3C6.6,11.5,6,12,5.3,12.7c-1,1-2.3,2.3-2.3,5.8V19h17v-0.5C20,15,18.7,13.8,17.7,12.7z M4,18\n\t\tc0.1-2.7,1.1-3.6,2-4.6c0.8-0.8,1.5-1.5,1.7-3.1C8.2,5.4,9.5,5,11.5,5l0,0l0,0c1.9,0,3.3,0.4,3.8,5.4c0.1,1.5,0.9,2.3,1.7,3.1\n\t\tc0.9,0.9,1.9,1.9,2,4.6H4V18z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"page-next-24px":{svg:page_next._,viewBox:{minx:0,miny:0,height:24,width:24}},"page-previous-24px":{svg:page_previous.g,viewBox:{minx:0,miny:0,height:24,width:24}},"pin-pinned-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="pin-pinned">\n<path d="M14,9.3V7c0.8-0.9,1.3-2,1.4-3.2c0-0.2,0-0.4-0.2-0.6C15.1,3.1,14.9,3,14.7,3H6.3C6.1,3,5.9,3.1,5.8,3.3\n\tC5.6,3.4,5.6,3.6,5.6,3.9C5.7,5,6.2,6.1,7,7v2.3c-1.8,0.9-2.9,2.9-2.8,4.9c0,0.4,0.3,0.7,0.7,0.7c0,0,0,0,0,0H10v6.5\n\tc0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5V15h5.1c0.4,0,0.7-0.4,0.7-0.8c0-0.1,0-0.2,0-0.2C16.7,11.5,15.4,9.9,14,9.3z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"pin-unpinned-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="pin-unpinned">\n<path d="M14,8.3V6c0.8-0.9,1.3-2,1.4-3.2c0-0.2,0-0.4-0.2-0.6C15,2.1,14.8,2,14.6,2H6.2C6,2,5.8,2.1,5.7,2.3c0,0-0.1,0.1-0.1,0.2\n\tc0,0.1-0.1,0.3,0,0.5C5.7,4.1,6.2,5.2,7,6v2.3l0,0c-1.9,1-3,2.9-2.8,4.9c0,0.4,0.3,0.8,0.7,0.8l0,0H10v6.5c0,0.3,0.2,0.5,0.5,0.5\n\ts0.5-0.2,0.5-0.5V14h5.1c0.3,0,0.6-0.3,0.6-0.8c0,0,0-0.1,0-0.2C16.6,10.3,15.2,8.8,14,8.3z M7.4,9.2l0.3-0.1C7.9,9,8,8.9,8,8.7V5.8\n\tc0-0.1,0-0.2-0.1-0.3L7.7,5.3C7.1,4.7,6.7,3.9,6.6,3h7.7c-0.1,0.9-0.5,1.7-1.1,2.4l-0.1,0.1C13,5.6,13,5.7,13,5.8v2.8\n\tc0,0.2,0.1,0.4,0.3,0.5l0.3,0.1c1,0.4,2,1.6,2.2,3.7H5.2C5.1,11.4,6,10,7.4,9.2z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"projects-24px":{svg:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="projects">\n<g>\n\t<rect x="6" y="18" width="10" height="1"></rect>\n\t<rect x="6" y="15" width="10" height="1"></rect>\n\t<rect x="6" y="12" width="10" height="1"></rect>\n\t<path d="M21,6V2h-2.5H3v20h15h1c1.1,0,2-0.9,2-2v-4h-2v-1c1.1,0,2-0.9,2-2V9h-2V8C20.1,8,21,7.1,21,6z M20,17v3c0,0.6-0.4,1-1,1v-4\n\t\tH20z M20,10v3c0,0.6-0.4,1-1,1v-4H20z M18,15v1v5H4V3h14.5H20v3c0,0.6-0.4,1-1,1h-0.5H18v2V15z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"quit-log-out-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="quit-log-out">\n<g>\n\t<polygon points="10,2 10,11 11,11 11,3 20,3 20,21 11,21 11,14 10,14 10,22 21,22 21,2 \t"></polygon>\n\t<polygon points="16,13 16,12 4.7,12 7.4,9.4 6.6,8.6 2.8,12.5 6.6,16.4 7.4,15.6 4.7,13 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"refresh-synchronize-plot-scale-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="refresh-synchronize-plot-scale">\n<g>\n\t<path d="M22.2,11.6L20.9,13c0-0.3,0.1-0.6,0.1-0.9c0-3.1-1.6-5.9-4.2-7.6c-2-1.3-4.4-1.7-6.8-1.2C7.6,3.8,5.6,5.2,4.4,7.2l0.8,0.5\n\t\tc1.1-1.8,2.9-3,5-3.5c2.1-0.5,4.3-0.1,6.1,1.1c2.4,1.5,3.8,4,3.8,6.8c0,0.4,0,0.7-0.1,1.1l-1.5-1.5l-0.7,0.7l2.7,2.7l2.7-2.7\n\t\tL22.2,11.6z"></path>\n\t<path d="M13.8,19.8c-2.1,0.5-4.2,0.1-6.1-1.1C5.4,17.3,4,14.7,4,12c0-0.3,0-0.5,0.1-0.7l1.5,1.5L6.3,12L3.6,9.4L0.9,12l0.7,0.7\n\t\tL3,11.4c0,0.2,0,0.4,0,0.6c0,3.1,1.6,5.9,4.2,7.6C8.7,20.6,10.3,21,12,21c0.7,0,1.3-0.1,2-0.2c2.3-0.5,4.3-1.9,5.6-3.9l-0.8-0.5\n\t\tC17.7,18.1,15.9,19.4,13.8,19.8z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"remove-subtract-minus-24px":{svg:remove_subtract_minus.I,viewBox:{minx:0,miny:0,height:24,width:24}},"reset-24px":{svg:core_reset.u,viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-acquiring-in-progress-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-acquiring-in-progress">\n<path d="M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M8,2c3.3,0,6,2.7,6,6H2C2,4.7,4.7,2,8,2z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"sample-status-indicator-acquiring-in-progress-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="sample-status-indicator-acquiring-in-progress">\n<path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M12,3c5,0,9,4,9,9H3C3,7,7,3,12,3z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-acquiring-in-progress-periwinkle-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve" data-icon-name="sample-status-indicator-acquiring-in-progress-periwinkle">\n<path style="fill:#4780EA;" d="M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7s7-3.1,7-7C15,4.1,11.9,1,8,1z M8,2c3.3,0,6,2.7,6,6H2\n\tC2,4.7,4.7,2,8,2z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"sample-status-indicator-acquiring-in-progress-periwinkle-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="sample-status-indicator-acquiring-in-progress-periwinkle">\n<path style="fill:#4780EA;" d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M12,3c5,0,9,4,9,9H3\n\tC3,7,7,3,12,3z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-error-filled-red-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve" data-icon-name="sample-status-indicator-error-filled-red">\n<path fill="#E72503" d="M8,1C4.1,1,1,4.1,1,8s3.1,7,7,7s7-3.1,7-7S11.9,1,8,1z M11.6,10.4l-1.1,1.1L8,9l-2.5,2.5l-1.1-1.1L7,8\n\tL4.5,5.5l1.1-1.1L8,6.9l2.5-2.5l1.1,1.1L9.1,8L11.6,10.4z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"sample-status-indicator-error-filled-red-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="sample-status-indicator-error-filled-red">\n<path style="fill:#E72503;" d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M16,15L15,16\n\tl-3-3l-3,3L8,15l3-3L8,9L9,8l3,3l3-3L16,9l-3,3L16,15z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-error-outline-red-16px":icons.jV,"sample-status-indicator-error-outline-red-24px":icons.__,"sample-status-indicator-success-filled-green-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve" data-icon-name="sample-status-indicator-success-filled-green">\n<path style="fill:#75C335;" d="M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7C15,4.1,11.9,1,8,1z M6.5,11.6L3.9,9.1L5,8\n\tl1.5,1.5L11,5l1.1,1.1L6.5,11.6z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"sample-status-indicator-success-filled-green-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="sample-status-indicator-success-filled-green">\n<path style="fill:#75C335;" d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M10.5,16.3\n\tl-3.4-3.4l0.7-0.7l2.7,2.7l6.7-6.7l0.7,0.7L10.5,16.3z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-success-outline-24px":{svg:sample_status_indicator_success.x,viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-success-outline-green-16px":icons.cC,"sample-status-indicator-success-outline-green-24px":icons.QA,"sample-status-indicator-warning-filled-yellow-16px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" style="enable-background:new 0 0 16 16;" xml:space="preserve" data-icon-name="sample-status-indicator-warning-filled-yellow">\n<path style="fill:#FFBA00;" d="M8,1C4.1,1,1,4.1,1,8c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7C15,4.1,11.9,1,8,1z M9,12H7v-2h2V12z M9,9H7V4\n\th2V9z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:16,width:16}},"sample-status-indicator-warning-filled-yellow-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="sample-status-indicator-warning-filled-yellow">\n<path style="fill:#FFBA00;" d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M11,6h2v9h-2V6z\n\t M12,19.2c-0.7,0-1.2-0.6-1.2-1.2s0.6-1.2,1.2-1.2s1.2,0.6,1.2,1.2S12.7,19.2,12,19.2z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"sample-status-indicator-warning-outline-yellow-16px":icons.A4,"sample-status-indicator-warning-outline-yellow-24px":icons.YM,"settings-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="settings">\n<g>\n\t<path d="M19.9,12.5v-1.1l2-1.8l-0.1-0.3c-0.2-0.9-0.6-1.7-1-2.5l-0.2-0.3l-2.8,0.2l-0.7-0.8l0.2-2.8l-0.3-0.2\n\t\tc-0.8-0.5-1.6-0.8-2.5-1.1L14.3,2l-1.8,2.1h-1.1L9.6,2L9.3,2.1C8.4,2.3,7.6,2.7,6.8,3.1L6.5,3.3L6.8,6L6,6.8L3.2,6.6L3.1,6.9\n\t\tC2.6,7.6,2.3,8.5,2,9.4L1.9,9.7L4,11.5v1.1l-2.1,1.8L2,14.7c0.2,0.9,0.6,1.7,1.1,2.5l0.2,0.3L6,17.2L6.8,18l-0.2,2.8l0.3,0.2\n\t\tc0.8,0.5,1.6,0.8,2.5,1.1L9.6,22l1.8-2.1h1.1l1.8,2.1l0.3-0.1c0.9-0.2,1.7-0.6,2.5-1.1l0.3-0.2L17.1,18l0.8-0.8l2.8,0.2l0.2-0.3\n\t\tc0.5-0.8,0.8-1.6,1.1-2.5l0.1-0.3L19.9,12.5z M20.1,16.4l-2.6-0.2l-1.4,1.4l0.2,2.6c-0.5,0.3-1.1,0.5-1.7,0.7l-1.7-1.9h-2l-1.7,1.9\n\t\tc-0.6-0.2-1.2-0.4-1.7-0.7l0.2-2.6l-1.4-1.4l-2.6,0.2c-0.3-0.5-0.5-1.1-0.7-1.7L5,13v-2L3.1,9.3c0.2-0.6,0.4-1.2,0.7-1.7l2.6,0.2\n\t\tl1.4-1.4L7.6,3.8c0.5-0.3,1.1-0.5,1.7-0.7L11,5.1h2l1.7-1.9c0.6,0.2,1.2,0.4,1.7,0.7l-0.2,2.6l1.4,1.4l2.6-0.2\n\t\tc0.3,0.5,0.5,1.1,0.7,1.7L18.9,11v2l1.9,1.7C20.6,15.3,20.4,15.8,20.1,16.4z"></path>\n\t<path d="M12,9c-1.7,0-3,1.3-3,3s1.3,3,3,3s3-1.3,3-3S13.7,9,12,9z M12,14c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2\n\t\tC14,13.1,13.1,14,12,14z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"skip-left-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="skip-left">\n<g>\n\t<rect x="4" y="5" width="1" height="14"></rect>\n\t<polygon points="13.4,6.4 12.6,5.6 6.3,12 12.6,18.4 13.4,17.6 7.7,12 \t"></polygon>\n\t<polygon points="19.4,6.4 18.6,5.6 12.3,12 18.6,18.4 19.4,17.6 13.7,12 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"skip-right-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="skip-right">\n<g>\n\t<rect x="19" y="5" width="1" height="14"></rect>\n\t<polygon points="10.6,6.4 16.3,12 10.6,17.6 11.4,18.4 17.7,12 11.4,5.6 \t"></polygon>\n\t<polygon points="5.4,5.6 4.6,6.4 10.3,12 4.6,17.6 5.4,18.4 11.7,12 \t"></polygon>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"star-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="star">\n<path d="M21,9h-7l-2.5-6L9,9H2l6,4.5L5,21l6.5-5l6.5,5l-3-7.5L21,9z M15.7,18l-4.2-3.2L7.3,18l1.9-4.8L5,10h4.7l1.8-4.4l1.8,4.4H18\n\tl-4.2,3.2L15.7,18z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"star-filled-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="star-filled">\n<polygon points="21,9 14,9 11.5,3 9,9 2,9 8,13.5 5,21 11.5,16 18,21 15,13.5 "></polygon>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"tree-collapsed-closed-12px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 12 12" enable-background="new 0 0 12 12" xml:space="preserve" data-icon-name="tree-collapsed-closed">\n<polygon points="4,0 4,12 10,6 "></polygon>\n</svg>',viewBox:{minx:0,miny:0,height:12,width:12}},"tree-expanded-open-12px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 12 12" enable-background="new 0 0 12 12" xml:space="preserve" data-icon-name="tree-expanded-open">\n<polygon points="0,5 6,11 12,5 "></polygon>\n</svg>',viewBox:{minx:0,miny:0,height:12,width:12}},"user-outline-circle-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="user-circle">\n<g>\n\t<path d="M22,12c0-5.5-4.5-10-10-10C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c2.5,0,4.8-0.9,6.5-2.4c0.1,0,0.2-0.1,0.3-0.3\n\t\tC20.8,17.5,22,14.9,22,12z M3,12c0-5,4-9,9-9c5,0,9,4,9,9c0,2.4-0.9,4.6-2.5,6.2c-0.7-1.6-1.9-2.9-3.4-3.7l-0.4-0.2l-0.3,0.3\n\t\tc0,0-0.6,0.8-2.5,0.8c-0.9,0-1.8-0.3-2.4-0.9l-0.3-0.2L9,14.5c-1.6,0.8-2.8,2.1-3.5,3.7C3.9,16.6,3,14.4,3,12z M6.3,18.9\n\t\tc0.5-1.4,1.6-2.7,2.9-3.4c0.8,0.6,1.9,1,2.9,0.9c1.6,0,2.5-0.5,2.9-0.9c1.3,0.8,2.3,2,2.8,3.4C16.2,20.2,14.2,21,12,21\n\t\tC9.8,21,7.8,20.2,6.3,18.9z"></path>\n\t<path d="M12,14c2.6,0,3.5-3.1,3.5-5.1H15l0.5-0.1C15.6,6.8,14,5.1,12,5l-0.2,0c-2,0.2-3.4,1.9-3.3,3.8C8.6,11.3,9.6,14,12,14z\n\t\t M11.9,6L11.9,6c1.5,0.1,2.7,1.3,2.6,2.8l0,0c0,1.6-0.7,4.1-2.5,4.1c-1.8,0-2.4-2.5-2.4-4.2C9.4,7.4,10.5,6.1,11.9,6z"></path>\n</g>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}},"warning-triangle-24px":{svg:warning_triangle.J,viewBox:{minx:0,miny:0,height:24,width:24}},"zoom-search-24px":{svg:'<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="zoom-search">\n<path d="M21.4,20.6l-4.5-4.5c1.3-1.5,2.2-3.5,2.2-5.6C19,5.8,15.2,2,10.5,2S2,5.8,2,10.5S5.8,19,10.5,19c2.2,0,4.1-0.8,5.6-2.2\n\tl4.5,4.5L21.4,20.6z M3,10.5C3,6.4,6.4,3,10.5,3S18,6.4,18,10.5S14.6,18,10.5,18S3,14.6,3,10.5z"></path>\n</svg>',viewBox:{minx:0,miny:0,height:24,width:24}}};var awf_custom_element=__webpack_require__("./node_modules/@agilent/awf-wc/src/common/decorators/awf-custom-element.js");const ICON_CSS_VARIABLES=lit.iv`
    :host {
        --awf-icon-color-inner: var(--awf-icon-color, var(--at-dark-navy));
        --awf-icon-modifier-color-inner: var(--awf-icon-modifier-color, var(--awf-icon-color-inner));
    }
`;const iconService=new class IconService{load(src){let name,url=src;const i=src.indexOf("@");return i>-1&&(name=src.substring(0,i),url=src.substring(i+1)),this.fetch(url,name)}fetch(url,name){var _this=this;return(0,asyncToGenerator.Z)((function*(){const response=yield fetch(url);if(!response.ok)return null;const svgNode=yield _this.extractSVGNode(response);let iconSvgNode=svgNode;return name&&svgNode?.querySelector("symbol")&&(iconSvgNode=svgNode.querySelector(`symbol[id=${name}]`)),_this.toSVG2TSFile(iconSvgNode)}))()}extractSVGNode(response){return(0,asyncToGenerator.Z)((function*(){const svgAsString=yield response.text();return(new DOMParser).parseFromString(svgAsString,"application/xml").querySelector("svg")}))()}toSVG2TSFile(iconSvgNode){const[minx,miny,height,width]=iconSvgNode?.getAttribute("viewBox")?.split(" ")??["0","0","0","0"];return{viewBox:{minx:Number.parseInt(minx),miny:Number.parseInt(miny),height:Number.parseInt(height),width:Number.parseInt(width)},name:"",svg:iconSvgNode?.innerHTML??"",svgHash:""}}},ICON_STYLES=lit.iv`
    img,
    ::slotted(svg) {
        max-width: 64px;
        max-height: 64px;
        display: block;
    }

    :host {
        display: inline-flex;
        fill: currentcolor;
        font-size: var(--awf-icon-calculated-size);
        height: var(--awf-icon-calculated-size);
        max-height: 48px;
        max-width: 48px;
        min-height: 12px;
        min-width: 12px;
        width: var(--awf-icon-calculated-size);
    }

    svg,
    ::slotted(svg) {
        color: var(--awf-icon-color-inner);
        width: inherit;
        height: inherit;
        fill: var(--awf-icon-color-inner);
    }

    svg #Modifier,
    svg #modifier {
        fill: var(--awf-icon-modifier-color-inner, --awf-icon-color-inner);
    }
`;let AwfIcon=class AwfIcon extends lit.oi{constructor(){super(...arguments),this.name="",this.url="",this.iconSize="24px",this.fetchedSvg=null}willUpdate(_changedProperties){var _this=this;return(0,asyncToGenerator.Z)((function*(){if(_changedProperties.has("url")||_changedProperties.has("name")||_changedProperties.has("src"))if(_this.url||_this.src){let fetchedSvg;fetchedSvg=_this.src?yield iconService.load(_this.src):yield iconService.fetch(_this.url,_this.name),_this.fetchedSvg=fetchedSvg,_this.iconSize=`${fetchedSvg?.viewBox?.height}px`,_this.requestUpdate()}else _this.fetchedSvg=null,_this.iconSize=`${assetsMap[_this.name]?.viewBox?.height??"24"}px`}))()}render(){const innerStyle=()=>lit.dy`<style>
            :host {
                --awf-icon-calculated-size: var(--awf-icon-size, ${this.iconSize});
            }
        </style>`;if(this.raw){const value=this.raw.matchAll(/viewBox="\d+ \d+ \d+ (\d+)"/g).next().value;return this.iconSize=value?`${value[1]}px`:"24px",lit.dy`${innerStyle()}${o(this.raw)}`}if(this.fetchedSvg)return lit.dy`${innerStyle()}${this.renderSvg(this.fetchedSvg)}`;if(this.name)return lit.dy`${innerStyle()}${this.renderSvg(assetsMap[this.name])}`;const svgElement=this.querySelector("svg");if(svgElement){const viewBox=svgElement.getAttribute("viewBox"),split=viewBox?.split(" ");this.iconSize=4===split?.length?`${split[3]}px`:"24px"}return lit.dy`${innerStyle()}<slot></slot>`}renderSvg(icon){return icon&&-1!==icon.svg.indexOf("<svg")?this.getSvgContent(icon):lit.dy`<svg viewBox=${this.getViewBox(icon)}>${this.getSvgContent(icon)}</svg>`}getSvgContent(asset){return lit.YP`${o(asset?.svg)}`}getViewBox(asset){return[asset?.viewBox?.minx??0,asset?.viewBox?.miny??0,asset?.viewBox?.width??0,asset?.viewBox?.height??0].join(" ")}};AwfIcon.styles=[ICON_CSS_VARIABLES,ICON_STYLES],(0,tslib_es6.gn)([(0,decorators.Cb)({reflect:!0})],AwfIcon.prototype,"name",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfIcon.prototype,"url",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfIcon.prototype,"raw",void 0),(0,tslib_es6.gn)([(0,decorators.Cb)()],AwfIcon.prototype,"src",void 0),AwfIcon=(0,tslib_es6.gn)([(0,awf_custom_element.M)("awf-icon",!0)],AwfIcon)},"./node_modules/@agilent/awf-wc/src/common/decorators/awf-custom-element.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>customElement});var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lit/decorators.js");function customElement(tagName,preventDuplicate){return function(constructor){preventDuplicate&&customElements.get(tagName)||(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.Mo)(tagName)(constructor)}}},"./node_modules/@agilent/ui-element/fesm2022/agilent-ui-element-icon.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{QX:()=>IconModule,oJ:()=>IconComponent});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");__webpack_require__("./node_modules/@agilent/awf-wc/src/atoms/icon/icon.js");function IconComponent_awf_icon_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0,"awf-icon",2),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1,"slot",3),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()),2&rf){const ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("name",ctx_r0.iconName)("url",ctx_r0.url)("src",ctx_r0.src)}}function IconComponent_awf_icon_1_Template(rf,ctx){if(1&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0,"awf-icon",4),2&rf){const ctx_r1=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("innerHTML",ctx_r1.safeRawSVG,_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeHtml"])}}const iconNameMap={"awf-archive":"archive-24px","awf-calendar":"calendar-24px","awf-caret-left_16px":"awf-caret-left-16px","awf-caret-right_16px":"awf-caret-right-16px","awf-caret-up_16px":"awf-caret-up-16px","awf-checkmark_20px":"awf-checkmark-20px","awf-chevron-down":"drop-down-more-details-column-descending-24px","awf-chevron-left":"page-previous-24px","awf-chevron-right":"page-next-24px","awf-chevron-up":"less-details-column-ascending-24px","awf-cloud-upload":"cloud-upload-24px","awf-collapse":"expand-left-24px","awf-connection-lost":"connection-test-24px","awf-delete-cross":"delete-cross-24px","awf-delete-trash":"delete-trash-24px","awf-dirty-dot":"awf-dirty-dot-24px","awf-domain_32px":"awf-domain-32px","awf-error":"error-octagon-24px","awf-error-colored":"sample-status-indicator-error-filled-red-24px","awf-error-colored_16px":"sample-status-indicator-error-filled-red-16px","awf-error-outline":"sample-status-indicator-error-outline-red-24px","awf-error-outline_16px":"sample-status-indicator-error-outline-red-16px","awf-expand":"expand-right-24px","awf-experiment":"assay-media-24px","awf-file":"file-document-24px","awf-filter":"filter-24px","awf-folder":"group-folder-project-24px","awf-hamburger-menu":"burger-menu-24px","awf-home":"home-24px","awf-info":"info-circle-24px","awf-list-view":"list-view-24px","awf-locker":"lock-locked-24px","awf-log-out":"quit-log-out-24px","awf-menu-vertical-3dots":"more-menu-dots-24px","awf-meta-menu":"meta-menu-dot-24px","awf-minus":"remove-subtract-minus-24px","awf-node-collapsed_12px":"tree-collapsed-closed-12px","awf-node-expanded_12px":"tree-expanded-open-12px","awf-no-permission_32px":"awf-no-permission-32px","awf-nothing-to-show_32px":"awf-nothing-to-show-32px","awf-notifications":"notifications-24px","awf-pin-pinned":"pin-pinned-24px","awf-pin-unpinned":"pin-unpinned-24px","awf-plus":"add-plus-24px","awf-progress":"sample-status-indicator-acquiring-in-progress-24px","awf-progress_16px":"sample-status-indicator-acquiring-in-progress-16px","awf-progress-colored":"sample-status-indicator-acquiring-in-progress-periwinkle-24px","awf-progress-colored_16px":"sample-status-indicator-acquiring-in-progress-periwinkle-16px","awf-project":"projects-24px","awf-refresh":"refresh-synchronize-plot-scale-24px","awf-search":"zoom-search-24px","awf-settings":"settings-24px","awf-skip-left":"skip-left-24px","awf-skip-right":"skip-right-24px","awf-star":"star-24px","awf-star-filled":"star-filled-24px","awf-success":"sample-status-indicator-success-outline-24px","awf-success-colored":"sample-status-indicator-success-filled-green-24px","awf-success-colored_16px":"sample-status-indicator-success-filled-green-16px","awf-success-outline":"sample-status-indicator-success-outline-green-24px","awf-success-outline_16px":"sample-status-indicator-success-outline-green-16px","awf-tiles-view":"grid-view-24px","awf-user-outline":"user-outline-circle-24px","awf-warning":"warning-triangle-24px","awf-warning-colored":"sample-status-indicator-warning-filled-yellow-24px","awf-warning-colored_16px":"sample-status-indicator-warning-filled-yellow-16px","awf-warning-outline":"sample-status-indicator-warning-outline-yellow-24px","awf-warning-outline_16px":"sample-status-indicator-warning-outline-yellow-16px"};class IconComponent{domSanitizer;clazz=!0;raw;name;url;src;safeRawSVG;get iconName(){return this.name?iconNameMap[this.name]||this.name:void 0}constructor(domSanitizer){this.domSanitizer=domSanitizer}ngOnChanges(changes){changes.raw&&(this.safeRawSVG=this.raw?this.domSanitizer.bypassSecurityTrustHtml(this.raw):null)}static ɵfac=function IconComponent_Factory(t){return new(t||IconComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__.DomSanitizer))};static ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({type:IconComponent,selectors:[["awf-icon-ng"],["ag-icon"]],hostVars:2,hostBindings:function IconComponent_HostBindings(rf,ctx){2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("awf-icon",ctx.clazz)},inputs:{raw:"raw",name:"name",url:"url",src:"src"},features:[_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],decls:2,vars:2,consts:[[3,"name","url","src",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"name","url","src"],["name","raw-svg"],[3,"innerHTML"]],template:function IconComponent_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0,IconComponent_awf_icon_0_Template,2,3,"awf-icon",0),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1,IconComponent_awf_icon_1_Template,1,1,"awf-icon",1)),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf",!ctx.safeRawSVG),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1),_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf",ctx.safeRawSVG))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf],styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:inline-flex;width:-moz-fit-content;width:fit-content}\n'],encapsulation:3,changeDetection:0})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IconComponent,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,args:[{selector:"awf-icon-ng, ag-icon",encapsulation:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.ShadowDom,changeDetection:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,template:'\x3c!--\r\n  ~ © Agilent Technologies, Inc. 2020-2023.\r\n  ~\r\n  ~ Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\r\n  ~ is prohibited and will be prosecuted to the maximum extent under the law.\r\n  ~\r\n  --\x3e\r\n<awf-icon *ngIf="!safeRawSVG" [name]="iconName" [url]="url" [src]="src">\r\n  <slot name="raw-svg"></slot>\r\n</awf-icon>\r\n<awf-icon *ngIf="safeRawSVG" [innerHTML]="safeRawSVG">\r\n</awf-icon>',styles:['@charset "UTF-8";/*!\n * © Agilent Technologies, Inc. 2020-2023.\n *\n * Warning: Unauthorized reproduction or distribution of this program, or any portion of it,\n * is prohibited and will be prosecuted to the maximum extent under the law.\n *\n */:host{display:inline-flex;width:-moz-fit-content;width:fit-content}\n']}]}],(function(){return[{type:_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__.DomSanitizer}]}),{clazz:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.HostBinding,args:["class.awf-icon"]}],raw:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],name:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],url:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}],src:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input}]});class IconModule{static ɵfac=function IconModule_Factory(t){return new(t||IconModule)};static ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({type:IconModule,declarations:[IconComponent],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule],exports:[IconComponent]});static ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule]})}("undefined"==typeof ngDevMode||ngDevMode)&&_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IconModule,[{type:_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,args:[{imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule],declarations:[IconComponent],exports:[IconComponent],schemas:[_angular_core__WEBPACK_IMPORTED_MODULE_1__.CUSTOM_ELEMENTS_SCHEMA]}]}],null,null)},"./node_modules/@agilent/web-icons/core/add-plus.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>agAddPlus});var agAddPlus='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="add-plus">\n<polygon points="20,11 12,11 12,3 11,3 11,11 3,11 3,12 11,12 11,20 12,20 12,12 20,12 "></polygon>\n</svg>'},"./node_modules/@agilent/web-icons/core/calendar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>agCalendar});var agCalendar='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="calendar">\n<g>\n\t<path d="M2,2v20h20V2H2z M21,21H3V9h18V21z M21,8H3V3h18V8z"></path>\n\t<rect x="15" y="5" width="4" height="1"></rect>\n\t<rect x="5" y="5" width="4" height="1"></rect>\n\t<polygon points="16,20 17,20 17,11 16.8,11 13.6,12.3 13.6,13.3 16,12.4 \t"></polygon>\n\t<path d="M12,19H7.5l2.4-2.5c0.9-0.8,1.5-1.9,1.7-3.1c0-0.7-0.2-1.3-0.7-1.7c-0.6-0.5-1.3-0.7-2-0.7c-0.8,0-1.5,0.2-2.1,0.7\n\t\tC6.2,12.3,6,13,6,13.7h1.1c0-0.5,0.1-1,0.5-1.3s0.8-0.5,1.3-0.5c0.4,0,0.8,0.1,1.1,0.4c0.3,0.3,0.5,0.7,0.5,1.2\n\t\tc0,0.3-0.1,0.7-0.2,1c-0.3,0.4-0.6,0.9-1,1.2L6,19.1V20h6V19z"></path>\n</g>\n</svg>'},"./node_modules/@agilent/web-icons/core/checkmark.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>agCheckmark});var agCheckmark='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="checkmark">\n<polygon points="21.1,5.1 8.5,17.8 2.9,12.1 2.1,12.9 8.5,19.2 21.9,5.9 "></polygon>\n</svg>'},"./node_modules/@agilent/web-icons/core/delete-cross.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>agDeleteCross});var agDeleteCross='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="delete-cross">\n<polygon points="21.4,3.4 20.6,2.6 12,11.3 3.4,2.6 2.6,3.4 11.3,12 2.6,20.6 3.4,21.4 12,12.7 20.6,21.4 21.4,20.6 12.7,12 "></polygon>\n</svg>'},"./node_modules/@agilent/web-icons/core/delete-trash.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>agDeleteTrash});var agDeleteTrash='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="delete-trash">\n<g>\n\t<path d="M22,4h-2.9H15V2H9v2H4.4H2v1h2.6L7,22h10l2-17h3V4z M16.1,21H7.9L5.6,5H18L16.1,21z"></path>\n\t<rect x="10" y="8" width="1" height="10"></rect>\n\t<rect x="13" y="8" width="1" height="10"></rect>\n</g>\n</svg>'},"./node_modules/@agilent/web-icons/core/drop-down-more-details-column-descending.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>agDropDownMoreDetailsColumnDescending});var agDropDownMoreDetailsColumnDescending='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="drop-down-more-details-column-descending">\n<path d="M21.3,7.6c-0.2-0.2-0.5-0.2-0.7,0L12,16.3L3.4,7.6c-0.2-0.2-0.5-0.2-0.7,0s-0.2,0.5,0,0.7l9,9c0.1,0.1,0.2,0.1,0.4,0.1\n\ts0.3-0.1,0.4-0.1l9-9C21.5,8.2,21.5,7.8,21.3,7.6z"></path>\n</svg>'},"./node_modules/@agilent/web-icons/core/error-octagon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>agErrorOctagon});var agErrorOctagon='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="error-octagon">\n<g>\n\t<polygon points="15.5,7.5 12,10.9 8.5,7.5 7.5,8.5 10.9,12 7.5,15.5 8.5,16.5 12,13.1 15.5,16.5 16.5,15.5 13.1,12 16.5,8.5 \t"></polygon>\n\t<path d="M16,2H8L2,8v8l6,6h8l6-6V8L16,2z M21,15.6L15.6,21H8.4L3,15.6V8.4L8.4,3h7.2L21,8.4V15.6z"></path>\n</g>\n</svg>'},"./node_modules/@agilent/web-icons/core/info-circle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>agInfoCircle});var agInfoCircle='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="info-circle">\n<g>\n\t<path d="M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,21c-5,0-9-4-9-9s4-9,9-9s9,4,9,9S17,21,12,21z"></path>\n\t<circle cx="12" cy="7.5" r="1.5"></circle>\n\t<rect x="11" y="11" width="2" height="7"></rect>\n</g>\n</svg>'},"./node_modules/@agilent/web-icons/core/less-details-column-ascending.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>agLessDetailsColumnAscending});var agLessDetailsColumnAscending='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="less-details-column-ascending">\n<path d="M21.3,16.6l-8.9-8.9c-0.2-0.2-0.5-0.2-0.7,0l-8.9,8.9c-0.2,0.2-0.2,0.5,0,0.7s0.5,0.2,0.7,0L12,8.7l8.6,8.6\n\tc0.1,0.1,0.2,0.1,0.4,0.1s0.3,0,0.4-0.1C21.5,17.1,21.5,16.8,21.3,16.6z"></path>\n</svg>'},"./node_modules/@agilent/web-icons/core/meta-menu-dot.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>agMetaMenuDot});var agMetaMenuDot='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="meta-menu-dot">\n<g>\n\t<rect x="11" y="19" width="2" height="2"></rect>\n\t<rect x="3" y="3" width="2" height="2"></rect>\n\t<rect x="3" y="11" width="2" height="2"></rect>\n\t<rect x="3" y="19" width="2" height="2"></rect>\n\t<rect x="19" y="19" width="2" height="2"></rect>\n\t<rect x="19" y="3" width="2" height="2"></rect>\n\t<rect x="11" y="11" width="2" height="2"></rect>\n\t<rect x="19" y="11" width="2" height="2"></rect>\n\t<rect x="11" y="3" width="2" height="2"></rect>\n</g>\n</svg>'},"./node_modules/@agilent/web-icons/core/page-next.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>agPageNext});var agPageNext='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="page-next">\n<polygon points="10.4,5.6 9.6,6.4 15.3,12 9.6,17.6 10.4,18.4 16.7,12 "></polygon>\n</svg>'},"./node_modules/@agilent/web-icons/core/page-previous.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>agPagePrevious});var agPagePrevious='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="page-previous">\n<polygon points="13.9,6.4 13.1,5.6 6.8,12 13.1,18.4 13.9,17.6 8.2,12 "></polygon>\n</svg>'},"./node_modules/@agilent/web-icons/core/remove-subtract-minus.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>agRemoveSubtractMinus});var agRemoveSubtractMinus='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="remove-subtract-minus">\n<rect x="3" y="11" width="17" height="1"></rect>\n</svg>'},"./node_modules/@agilent/web-icons/core/reset.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>agReset});var agReset='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="reset">\n<path d="M15,8H4.7l4.1-4.1L8.1,3.1L2.8,8.5l5.4,5.4l0.7-0.7L4.7,9H15c3.3,0,6,2.7,6,6s-2.7,6-6,6H4v1h11c3.9,0,7-3.1,7-7\n\tC22,11.1,18.9,8,15,8z"></path>\n</svg>'},"./node_modules/@agilent/web-icons/core/sample-status-indicator-success.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>agSampleStatusIndicatorSuccess});var agSampleStatusIndicatorSuccess='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" data-icon-name="sample-status-indicator-success">\n<g>\n\t<path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C22,6.5,17.5,2,12,2z M12,21c-5,0-9-4-9-9c0-5,4-9,9-9\n\t\tc5,0,9,4,9,9C21,17,17,21,12,21z"></path>\n\t<polygon points="10.5,14.9 7.8,12.2 7.1,12.9 10.5,16.3 17.9,8.9 17.2,8.2 \t"></polygon>\n</g>\n</svg>'},"./node_modules/@agilent/web-icons/core/warning-triangle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>agWarningTriangle});var agWarningTriangle='<svg version="1.1" id="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve" data-icon-name="warning-triangle">\n<g>\n\t<path d="M12,3L2,21h20L12,3z M12,5.1L20.3,20H3.7L12,5.1z"></path>\n\t<rect x="11" y="10" width="2" height="5"></rect>\n\t<circle cx="12" cy="17" r="1"></circle>\n</g>\n</svg>'},"./node_modules/@storybook/angular/dist/client/argsToTemplate.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=void 0,exports.argsToTemplate=function argsToTemplate(args,options={}){const includeSet=options.include?new Set(options.include):null,excludeSet=options.exclude?new Set(options.exclude):null;return Object.entries(args).filter((([key])=>void 0!==args[key])).filter((([key])=>includeSet?includeSet.has(key):!excludeSet||!excludeSet.has(key))).map((([key,value])=>"function"==typeof value?`(${key})="${key}($event)"`:`[${key}]="${key}"`)).join(" ")}},"./node_modules/@storybook/angular/dist/client/decorators.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.componentWrapperDecorator=exports.applicationConfig=exports.moduleMetadata=void 0;const ComputesTemplateFromComponent_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/ComputesTemplateFromComponent.js"),NgComponentAnalyzer_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/utils/NgComponentAnalyzer.js");exports.moduleMetadata=metadata=>storyFn=>{const story=storyFn(),storyMetadata=story.moduleMetadata||{};return metadata=metadata||{},{...story,moduleMetadata:{declarations:[...metadata.declarations||[],...storyMetadata.declarations||[]],entryComponents:[...metadata.entryComponents||[],...storyMetadata.entryComponents||[]],imports:[...metadata.imports||[],...storyMetadata.imports||[]],schemas:[...metadata.schemas||[],...storyMetadata.schemas||[]],providers:[...metadata.providers||[],...storyMetadata.providers||[]]}}},exports.applicationConfig=function applicationConfig(config){return storyFn=>{const story=storyFn(),storyConfig=story.applicationConfig;return{...story,applicationConfig:storyConfig||config?{...config,...storyConfig,providers:[...config?.providers||[],...storyConfig?.providers||[]]}:void 0}}};exports.componentWrapperDecorator=(element,props)=>(storyFn,storyContext)=>{const story=storyFn(),currentProps="function"==typeof props?props(storyContext):props,template=(0,NgComponentAnalyzer_1.isComponent)(element)?(0,ComputesTemplateFromComponent_1.computesTemplateFromComponent)(element,currentProps??{},story.template):element(story.template);return{...story,template,...currentProps||story.props?{props:{...currentProps,...story.props}}:{}}}},"./node_modules/@storybook/angular/dist/client/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=exports.applicationConfig=exports.componentWrapperDecorator=exports.moduleMetadata=void 0,__webpack_require__("./node_modules/@storybook/angular/dist/client/globals.js"),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/public-api.js"),exports),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/public-types.js"),exports);var decorators_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/decorators.js");Object.defineProperty(exports,"moduleMetadata",{enumerable:!0,get:function(){return decorators_1.moduleMetadata}}),Object.defineProperty(exports,"componentWrapperDecorator",{enumerable:!0,get:function(){return decorators_1.componentWrapperDecorator}}),Object.defineProperty(exports,"applicationConfig",{enumerable:!0,get:function(){return decorators_1.applicationConfig}});var argsToTemplate_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/argsToTemplate.js");Object.defineProperty(exports,"argsToTemplate",{enumerable:!0,get:function(){return argsToTemplate_1.argsToTemplate}})},"./node_modules/@storybook/angular/dist/client/public-api.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.raw=exports.forceReRender=exports.configure=exports.storiesOf=void 0;const preview_api_1=__webpack_require__("@storybook/preview-api"),render_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/render.js"),decorateStory_1=__importDefault(__webpack_require__("./node_modules/@storybook/angular/dist/client/decorateStory.js"));__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/public-types.js"),exports);const api=(0,preview_api_1.start)(render_1.renderToCanvas,{decorateStory:decorateStory_1.default,render:render_1.render});exports.storiesOf=(kind,m)=>api.clientApi.storiesOf(kind,m).addParameters({renderer:"angular"});exports.configure=(...args)=>api.configure("angular",...args),exports.forceReRender=api.forceReRender,exports.raw=api.clientApi.raw},"./node_modules/@storybook/angular/dist/client/public-types.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/@storybook/angular/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _client_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/client/index.js");__webpack_require__.o(_client_index__WEBPACK_IMPORTED_MODULE_0__,"moduleMetadata")&&__webpack_require__.d(__webpack_exports__,{moduleMetadata:function(){return _client_index__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata}})},"./node_modules/element-internals-polyfill/dist/index.js":()=>{!function(exports){"use strict";const refMap=new WeakMap,validityMap=new WeakMap,hiddenInputMap=new WeakMap,internalsMap=new WeakMap,validationMessageMap=new WeakMap,formsMap=new WeakMap,shadowHostsMap=new WeakMap,formElementsMap=new WeakMap,refValueMap=new WeakMap,upgradeMap=new WeakMap,shadowRootMap=new WeakMap,validationAnchorMap=new WeakMap,documentFragmentMap=new WeakMap,connectedCallbackMap=new WeakMap,validityUpgradeMap=new WeakMap,aom={ariaAtomic:"aria-atomic",ariaAutoComplete:"aria-autocomplete",ariaBusy:"aria-busy",ariaChecked:"aria-checked",ariaColCount:"aria-colcount",ariaColIndex:"aria-colindex",ariaColIndexText:"aria-colindextext",ariaColSpan:"aria-colspan",ariaCurrent:"aria-current",ariaDisabled:"aria-disabled",ariaExpanded:"aria-expanded",ariaHasPopup:"aria-haspopup",ariaHidden:"aria-hidden",ariaInvalid:"aria-invalid",ariaKeyShortcuts:"aria-keyshortcuts",ariaLabel:"aria-label",ariaLevel:"aria-level",ariaLive:"aria-live",ariaModal:"aria-modal",ariaMultiLine:"aria-multiline",ariaMultiSelectable:"aria-multiselectable",ariaOrientation:"aria-orientation",ariaPlaceholder:"aria-placeholder",ariaPosInSet:"aria-posinset",ariaPressed:"aria-pressed",ariaReadOnly:"aria-readonly",ariaRelevant:"aria-relevant",ariaRequired:"aria-required",ariaRoleDescription:"aria-roledescription",ariaRowCount:"aria-rowcount",ariaRowIndex:"aria-rowindex",ariaRowIndexText:"aria-rowindextext",ariaRowSpan:"aria-rowspan",ariaSelected:"aria-selected",ariaSetSize:"aria-setsize",ariaSort:"aria-sort",ariaValueMax:"aria-valuemax",ariaValueMin:"aria-valuemin",ariaValueNow:"aria-valuenow",ariaValueText:"aria-valuetext",role:"role"};function initNode(node){const internals=internalsMap.get(node),{form}=internals;initForm(node,form,internals),initLabels(node,internals.labels)}const walkFieldset=(node,firstRender=!1)=>{const walker=document.createTreeWalker(node,NodeFilter.SHOW_ELEMENT,{acceptNode:node=>internalsMap.has(node)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});let current=walker.nextNode();const isCallNecessary=!firstRender||node.disabled;for(;current;)current.formDisabledCallback&&isCallNecessary&&setDisabled(current,node.disabled),current=walker.nextNode()},disabledOrNameObserverConfig={attributes:!0,attributeFilter:["disabled","name"]},disabledOrNameObserver=mutationObserverExists()?new MutationObserver((mutationsList=>{for(const mutation of mutationsList){const target=mutation.target;if("disabled"===mutation.attributeName&&(target.constructor.formAssociated?setDisabled(target,target.hasAttribute("disabled")):"fieldset"===target.localName&&walkFieldset(target)),"name"===mutation.attributeName&&target.constructor.formAssociated){const internals=internalsMap.get(target),value=refValueMap.get(target);internals.setFormValue(value)}}})):{};function observerCallback(mutationList){mutationList.forEach((mutationRecord=>{const{addedNodes,removedNodes}=mutationRecord,added=Array.from(addedNodes),removed=Array.from(removedNodes);added.forEach((node=>{if(internalsMap.has(node)&&node.constructor.formAssociated&&initNode(node),upgradeMap.has(node)){const internals=upgradeMap.get(node);Object.keys(aom).filter((key=>null!==internals[key])).forEach((key=>{node.setAttribute(aom[key],internals[key])})),upgradeMap.delete(node)}if(validityUpgradeMap.has(node)){const internals=validityUpgradeMap.get(node);node.setAttribute("internals-valid",internals.validity.valid.toString()),node.setAttribute("internals-invalid",(!internals.validity.valid).toString()),node.setAttribute("aria-invalid",(!internals.validity.valid).toString()),validityUpgradeMap.delete(node)}if("form"===node.localName){const formElements=formElementsMap.get(node),walker=document.createTreeWalker(node,NodeFilter.SHOW_ELEMENT,{acceptNode:node=>!internalsMap.has(node)||!node.constructor.formAssociated||formElements&&formElements.has(node)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT});let current=walker.nextNode();for(;current;)initNode(current),current=walker.nextNode()}"fieldset"===node.localName&&(disabledOrNameObserver.observe?.(node,disabledOrNameObserverConfig),walkFieldset(node,!0))})),removed.forEach((node=>{const internals=internalsMap.get(node);if(internals&&hiddenInputMap.get(internals)&&removeHiddenInputs(internals),shadowHostsMap.has(node)){shadowHostsMap.get(node).disconnect()}}))}))}function fragmentObserverCallback(mutationList){mutationList.forEach((mutation=>{const{removedNodes}=mutation;removedNodes.forEach((node=>{const observer=documentFragmentMap.get(mutation.target);internalsMap.has(node)&&upgradeInternals(node),observer.disconnect()}))}))}!mutationObserverExists()||new MutationObserver(observerCallback);const observerConfig={childList:!0,subtree:!0},setDisabled=(ref,disabled)=>{ref.toggleAttribute("internals-disabled",disabled),disabled?ref.setAttribute("aria-disabled","true"):ref.removeAttribute("aria-disabled"),ref.formDisabledCallback&&ref.formDisabledCallback.apply(ref,[disabled])},removeHiddenInputs=internals=>{hiddenInputMap.get(internals).forEach((hiddenInput=>{hiddenInput.remove()})),hiddenInputMap.set(internals,[])},createHiddenInput=(ref,internals)=>{const input=document.createElement("input");return input.type="hidden",input.name=ref.getAttribute("name"),ref.after(input),hiddenInputMap.get(internals).push(input),input},initLabels=(ref,labels)=>{if(labels.length){Array.from(labels).forEach((label=>label.addEventListener("click",ref.click.bind(ref))));let firstLabelId=labels[0].id;labels[0].id||(firstLabelId=`${labels[0].htmlFor}_Label`,labels[0].id=firstLabelId),ref.setAttribute("aria-labelledby",firstLabelId)}},setFormValidity=form=>{const nativeControlValidity=Array.from(form.elements).filter((element=>!element.tagName.includes("-")&&element.validity)).map((element=>element.validity.valid)),polyfilledElements=formElementsMap.get(form)||[],hasInvalid=[...nativeControlValidity,...Array.from(polyfilledElements).filter((control=>control.isConnected)).map((control=>internalsMap.get(control).validity.valid))].includes(!1);form.toggleAttribute("internals-invalid",hasInvalid),form.toggleAttribute("internals-valid",!hasInvalid)},formInputCallback=event=>{setFormValidity(findParentForm(event.target))},formChangeCallback=event=>{setFormValidity(findParentForm(event.target))},formResetCallback=event=>{const elements=formElementsMap.get(event.target);elements&&elements.size&&elements.forEach((element=>{element.constructor.formAssociated&&element.formResetCallback&&element.formResetCallback.apply(element)}))},initForm=(ref,form,internals)=>{if(form){const formElements=formElementsMap.get(form);if(formElements)formElements.add(ref);else{const initSet=new Set;initSet.add(ref),formElementsMap.set(form,initSet),(form=>{const submitButtonSelector=["button[type=submit]","input[type=submit]","button:not([type])"].map((sel=>`${sel}:not([disabled])`)).map((sel=>`${sel}:not([form])${form.id?`,${sel}[form='${form.id}']`:""}`)).join(",");form.addEventListener("click",(event=>{if(event.target.closest(submitButtonSelector)){const elements=formElementsMap.get(form);if(form.noValidate)return;elements.size&&Array.from(elements).reverse().map((node=>internalsMap.get(node).reportValidity())).includes(!1)&&event.preventDefault()}}))})(form),form.addEventListener("reset",formResetCallback),form.addEventListener("input",formInputCallback),form.addEventListener("change",formChangeCallback)}formsMap.set(form,{ref,internals}),ref.constructor.formAssociated&&ref.formAssociatedCallback&&setTimeout((()=>{ref.formAssociatedCallback.apply(ref,[form])}),0),setFormValidity(form)}},findParentForm=elem=>{let parent=elem.parentNode;return parent&&"FORM"!==parent.tagName&&(parent=findParentForm(parent)),parent},throwIfNotFormAssociated=(ref,message,ErrorType=DOMException)=>{if(!ref.constructor.formAssociated)throw new ErrorType(message)},overrideFormMethod=(form,returnValue,method)=>{const elements=formElementsMap.get(form);return elements&&elements.size&&elements.forEach((element=>{internalsMap.get(element)[method]()||(returnValue=!1)})),returnValue},upgradeInternals=ref=>{if(ref.constructor.formAssociated){const internals=internalsMap.get(ref),{labels,form}=internals;initLabels(ref,labels),initForm(ref,form,internals)}};function mutationObserverExists(){return"undefined"!=typeof MutationObserver}class ValidityState{constructor(){this.badInput=!1,this.customError=!1,this.patternMismatch=!1,this.rangeOverflow=!1,this.rangeUnderflow=!1,this.stepMismatch=!1,this.tooLong=!1,this.tooShort=!1,this.typeMismatch=!1,this.valid=!0,this.valueMissing=!1,Object.seal(this)}}const isValid=validityState=>{let valid=!0;for(let key in validityState)"valid"!==key&&!1!==validityState[key]&&(valid=!1);return valid},customStateMap=new WeakMap;function addState(ref,stateName){ref.toggleAttribute(stateName,!0),ref.part&&ref.part.add(stateName)}class CustomStateSet extends Set{static get isPolyfilled(){return!0}constructor(ref){if(super(),!ref||!ref.tagName||-1===ref.tagName.indexOf("-"))throw new TypeError("Illegal constructor");customStateMap.set(this,ref)}add(state){if(!/^--/.test(state)||"string"!=typeof state)throw new DOMException(`Failed to execute 'add' on 'CustomStateSet': The specified value ${state} must start with '--'.`);const result=super.add(state),ref=customStateMap.get(this),stateName=`state${state}`;return ref.isConnected?addState(ref,stateName):setTimeout((()=>{addState(ref,stateName)})),result}clear(){for(let[entry]of this.entries())this.delete(entry);super.clear()}delete(state){const result=super.delete(state),ref=customStateMap.get(this);return ref.isConnected?(ref.toggleAttribute(`state${state}`,!1),ref.part&&ref.part.remove(`state${state}`)):setTimeout((()=>{ref.toggleAttribute(`state${state}`,!1),ref.part&&ref.part.remove(`state${state}`)})),result}}function __classPrivateFieldGet(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)}var _HTMLFormControlsCollection_elements;class HTMLFormControlsCollection{constructor(elements){_HTMLFormControlsCollection_elements.set(this,void 0),function __classPrivateFieldSet(receiver,state,value,kind,f){if("m"===kind)throw new TypeError("Private method is not writable");if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===kind?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}(this,_HTMLFormControlsCollection_elements,elements,"f");for(let i=0;i<elements.length;i++){let element=elements[i];this[i]=element,element.hasAttribute("name")&&(this[element.getAttribute("name")]=element)}Object.freeze(this)}get length(){return __classPrivateFieldGet(this,_HTMLFormControlsCollection_elements,"f").length}[(_HTMLFormControlsCollection_elements=new WeakMap,Symbol.iterator)](){return __classPrivateFieldGet(this,_HTMLFormControlsCollection_elements,"f")[Symbol.iterator]()}item(i){return null==this[i]?null:this[i]}namedItem(name){return null==this[name]?null:this[name]}}class ElementInternals{static get isPolyfilled(){return!0}constructor(ref){if(!ref||!ref.tagName||-1===ref.tagName.indexOf("-"))throw new TypeError("Illegal constructor");const rootNode=ref.getRootNode(),validity=new ValidityState;this.states=new CustomStateSet(ref),refMap.set(this,ref),validityMap.set(this,validity),internalsMap.set(ref,this),((ref,internals)=>{for(let key in aom){internals[key]=null;let closureValue=null;const attributeName=aom[key];Object.defineProperty(internals,key,{get:()=>closureValue,set(value){closureValue=value,ref.isConnected?ref.setAttribute(attributeName,value):upgradeMap.set(ref,internals)}})}})(ref,this),((ref,internals)=>{hiddenInputMap.set(internals,[]),disabledOrNameObserver.observe?.(ref,disabledOrNameObserverConfig)})(ref,this),Object.seal(this),rootNode instanceof DocumentFragment&&(fragment=>{const observer=new MutationObserver(fragmentObserverCallback);window?.ShadyDOM?.inUse&&fragment.mode&&fragment.host&&(fragment=fragment.host),observer.observe?.(fragment,{childList:!0}),documentFragmentMap.set(fragment,observer)})(rootNode)}checkValidity(){const ref=refMap.get(this);if(throwIfNotFormAssociated(ref,"Failed to execute 'checkValidity' on 'ElementInternals': The target element is not a form-associated custom element."),!this.willValidate)return!0;const validity=validityMap.get(this);if(!validity.valid){const validityEvent=new Event("invalid",{bubbles:!1,cancelable:!0,composed:!1});ref.dispatchEvent(validityEvent)}return validity.valid}get form(){const ref=refMap.get(this);let form;return throwIfNotFormAssociated(ref,"Failed to read the 'form' property from 'ElementInternals': The target element is not a form-associated custom element."),!0===ref.constructor.formAssociated&&(form=findParentForm(ref)),form}get labels(){const ref=refMap.get(this);throwIfNotFormAssociated(ref,"Failed to read the 'labels' property from 'ElementInternals': The target element is not a form-associated custom element.");const id=ref.getAttribute("id"),hostRoot=ref.getRootNode();return hostRoot&&id?hostRoot.querySelectorAll(`[for="${id}"]`):[]}reportValidity(){const ref=refMap.get(this);if(throwIfNotFormAssociated(ref,"Failed to execute 'reportValidity' on 'ElementInternals': The target element is not a form-associated custom element."),!this.willValidate)return!0;const valid=this.checkValidity(),anchor=validationAnchorMap.get(this);if(anchor&&!ref.constructor.formAssociated)throw new DOMException("Failed to execute 'reportValidity' on 'ElementInternals': The target element is not a form-associated custom element.");return!valid&&anchor&&(ref.focus(),anchor.focus()),valid}setFormValue(value){const ref=refMap.get(this);if(throwIfNotFormAssociated(ref,"Failed to execute 'setFormValue' on 'ElementInternals': The target element is not a form-associated custom element."),removeHiddenInputs(this),null==value||value instanceof FormData)null!=value&&value instanceof FormData&&Array.from(value).reverse().forEach((([formDataKey,formDataValue])=>{if("string"==typeof formDataValue){const hiddenInput=createHiddenInput(ref,this);hiddenInput.name=formDataKey,hiddenInput.value=formDataValue}}));else if(ref.getAttribute("name")){createHiddenInput(ref,this).value=value}refValueMap.set(ref,value)}setValidity(validityChanges,validationMessage,anchor){const ref=refMap.get(this);if(throwIfNotFormAssociated(ref,"Failed to execute 'setValidity' on 'ElementInternals': The target element is not a form-associated custom element."),!validityChanges)throw new TypeError("Failed to execute 'setValidity' on 'ElementInternals': 1 argument required, but only 0 present.");validationAnchorMap.set(this,anchor);const validity=validityMap.get(this),validityChangesObj={};for(const key in validityChanges)validityChangesObj[key]=validityChanges[key];var validityObject;0===Object.keys(validityChangesObj).length&&((validityObject=validity).badInput=!1,validityObject.customError=!1,validityObject.patternMismatch=!1,validityObject.rangeOverflow=!1,validityObject.rangeUnderflow=!1,validityObject.stepMismatch=!1,validityObject.tooLong=!1,validityObject.tooShort=!1,validityObject.typeMismatch=!1,validityObject.valid=!0,validityObject.valueMissing=!1);const check={...validity,...validityChangesObj};delete check.valid;const{valid}=((validityObject,newState,form)=>(validityObject.valid=isValid(newState),Object.keys(newState).forEach((key=>validityObject[key]=newState[key])),form&&setFormValidity(form),validityObject))(validity,check,this.form);if(!valid&&!validationMessage)throw new DOMException("Failed to execute 'setValidity' on 'ElementInternals': The second argument should not be empty if one or more flags in the first argument are true.");validationMessageMap.set(this,valid?"":validationMessage),ref.isConnected?(ref.toggleAttribute("internals-invalid",!valid),ref.toggleAttribute("internals-valid",valid),ref.setAttribute("aria-invalid",`${!valid}`)):validityUpgradeMap.set(ref,this)}get shadowRoot(){const ref=refMap.get(this),shadowRoot=shadowRootMap.get(ref);return shadowRoot||null}get validationMessage(){const ref=refMap.get(this);return throwIfNotFormAssociated(ref,"Failed to read the 'validationMessage' property from 'ElementInternals': The target element is not a form-associated custom element."),validationMessageMap.get(this)}get validity(){const ref=refMap.get(this);throwIfNotFormAssociated(ref,"Failed to read the 'validity' property from 'ElementInternals': The target element is not a form-associated custom element.");return validityMap.get(this)}get willValidate(){const ref=refMap.get(this);return throwIfNotFormAssociated(ref,"Failed to read the 'willValidate' property from 'ElementInternals': The target element is not a form-associated custom element."),!(ref.disabled||ref.hasAttribute("disabled")||ref.hasAttribute("readonly"))}}let hasElementInternalsPolyfillBeenApplied=!1,hasCustomStateSetPolyfillBeenApplied=!1;function forceCustomStateSetPolyfill(attachInternals){hasCustomStateSetPolyfillBeenApplied||(hasCustomStateSetPolyfillBeenApplied=!0,window.CustomStateSet=CustomStateSet,attachInternals&&(HTMLElement.prototype.attachInternals=function(...args){const internals=attachInternals.call(this,args);return internals.states=new CustomStateSet(this),internals}))}function forceElementInternalsPolyfill(forceCustomStateSet=!0){if(!hasElementInternalsPolyfillBeenApplied){if(hasElementInternalsPolyfillBeenApplied=!0,"undefined"!=typeof window&&(window.ElementInternals=ElementInternals),"undefined"!=typeof CustomElementRegistry){const define=CustomElementRegistry.prototype.define;CustomElementRegistry.prototype.define=function(name,constructor,options){if(constructor.formAssociated){const connectedCallback=constructor.prototype.connectedCallback;constructor.prototype.connectedCallback=function(){connectedCallbackMap.has(this)||(connectedCallbackMap.set(this,!0),this.hasAttribute("disabled")&&setDisabled(this,!0)),null!=connectedCallback&&connectedCallback.apply(this),upgradeInternals(this)}}define.call(this,name,constructor,options)}}if("undefined"!=typeof HTMLElement&&(HTMLElement.prototype.attachInternals=function(){if(!this.tagName)return{};if(-1===this.tagName.indexOf("-"))throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': Unable to attach ElementInternals to non-custom elements.");if(internalsMap.has(this))throw new DOMException("DOMException: Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");return new ElementInternals(this)}),"undefined"!=typeof Element){function attachShadowObserver(...args){const shadowRoot=attachShadow.apply(this,args);if(shadowRootMap.set(this,shadowRoot),mutationObserverExists()){const observer=new MutationObserver(observerCallback);window.ShadyDOM?observer.observe(this,observerConfig):observer.observe(shadowRoot,observerConfig),shadowHostsMap.set(this,observer)}return shadowRoot}const attachShadow=Element.prototype.attachShadow;Element.prototype.attachShadow=attachShadowObserver}if(mutationObserverExists()&&"undefined"!=typeof document){new MutationObserver(observerCallback).observe(document.documentElement,observerConfig)}"undefined"!=typeof HTMLFormElement&&function patchFormPrototype(){const checkValidity=HTMLFormElement.prototype.checkValidity;HTMLFormElement.prototype.checkValidity=function checkValidityOverride(...args){let returnValue=checkValidity.apply(this,args);return overrideFormMethod(this,returnValue,"checkValidity")};const reportValidity=HTMLFormElement.prototype.reportValidity;HTMLFormElement.prototype.reportValidity=function reportValidityOverride(...args){let returnValue=reportValidity.apply(this,args);return overrideFormMethod(this,returnValue,"reportValidity")};const{get}=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"elements");Object.defineProperty(HTMLFormElement.prototype,"elements",{get(...args){const elements=get.call(this,...args),polyfilledElements=Array.from(formElementsMap.get(this)||[]);if(0===polyfilledElements.length)return elements;const orderedElements=Array.from(elements).concat(polyfilledElements).sort(((a,b)=>a.compareDocumentPosition?2&a.compareDocumentPosition(b)?1:-1:0));return new HTMLFormControlsCollection(orderedElements)}})}(),(forceCustomStateSet||"undefined"!=typeof window&&!window.CustomStateSet)&&forceCustomStateSetPolyfill()}}!!customElements.polyfillWrapFlushCallback||(!function isElementInternalsSupported(){if("undefined"==typeof window||!window.ElementInternals||!HTMLElement.prototype.attachInternals)return!1;class ElementInternalsFeatureDetection extends HTMLElement{constructor(){super(),this.internals=this.attachInternals()}}const randomName=`element-internals-feature-detection-${Math.random().toString(36).replace(/[^a-z]+/g,"")}`;customElements.define(randomName,ElementInternalsFeatureDetection);const featureDetectionElement=new ElementInternalsFeatureDetection;return["shadowRoot","form","willValidate","validity","validationMessage","labels","setFormValue","setValidity","checkValidity","reportValidity"].every((prop=>prop in featureDetectionElement.internals))}()?forceElementInternalsPolyfill(!1):"undefined"==typeof window||window.CustomStateSet||forceCustomStateSetPolyfill(HTMLElement.prototype.attachInternals)),exports.forceCustomStateSetPolyfill=forceCustomStateSetPolyfill,exports.forceElementInternalsPolyfill=forceElementInternalsPolyfill,Object.defineProperty(exports,"__esModule",{value:!0})}({})},"./node_modules/lit-html/directive.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{XM:()=>e,Xe:()=>i,pX:()=>t});const t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},"./node_modules/lit-html/directives/unsafe-html.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>o,B:()=>e});var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lit-html/lit-html.js"),_directive_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lit-html/directive.js");class e extends _directive_js__WEBPACK_IMPORTED_MODULE_1__.Xe{constructor(i){if(super(i),this.et=_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.Ld,i.type!==_directive_js__WEBPACK_IMPORTED_MODULE_1__.pX.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(r){if(r===_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.Ld||null==r)return this.ft=void 0,this.et=r;if(r===_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.Jb)return r;if("string"!=typeof r)throw Error(this.constructor.directiveName+"() called with a non-string value");if(r===this.et)return this.ft;this.et=r;const s=[r];return s.raw=s,this.ft={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName="unsafeHTML",e.resultType=1;const o=(0,_directive_js__WEBPACK_IMPORTED_MODULE_1__.XM)(e)},"./node_modules/lit-html/lit-html.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var t;__webpack_require__.d(__webpack_exports__,{Jb:()=>T,Ld:()=>A,YP:()=>b,_$LH:()=>j,dy:()=>x,sY:()=>D});const i=window,s=i.trustedTypes,e=s?s.createPolicy("lit-html",{createHTML:t=>t}):void 0,o="$lit$",n=`lit$${(Math.random()+"").slice(9)}$`,l="?"+n,h=`<${l}>`,r=document,u=()=>r.createComment(""),d=t=>null===t||"object"!=typeof t&&"function"!=typeof t,c=Array.isArray,v=t=>c(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),a="[ \t\n\f\r]",f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\s"'>=/]+)(${a}*=${a}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),g=/'/g,$=/"/g,y=/^(?:script|style|textarea|title)$/i,w=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=w(1),b=w(2),T=Symbol.for("lit-noChange"),A=Symbol.for("lit-nothing"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(t,i){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==e?e.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,e=[];let l,r=2===i?"<svg>":"",u=f;for(let i=0;i<s;i++){const s=t[i];let d,c,v=-1,a=0;for(;a<s.length&&(u.lastIndex=a,c=u.exec(s),null!==c);)a=u.lastIndex,u===f?"!--"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(l=RegExp("</"+c[2],"g")),u=p):void 0!==c[3]&&(u=p):u===p?">"===c[0]?(u=null!=l?l:f,v=-1):void 0===c[1]?v=-2:(v=u.lastIndex-c[2].length,d=c[1],u=void 0===c[3]?p:'"'===c[3]?$:g):u===$||u===g?u=p:u===_||u===m?u=f:(u=p,l=void 0);const w=u===p&&t[i+1].startsWith("/>")?" ":"";r+=u===f?s+h:v>=0?(e.push(d),s.slice(0,v)+o+s.slice(v)+n+w):s+n+(-2===v?(e.push(void 0),i):w)}return[P(t,r+(t[s]||"<?>")+(2===i?"</svg>":"")),e]};class N{constructor({strings:t,_$litType$:i},e){let h;this.parts=[];let r=0,d=0;const c=t.length-1,v=this.parts,[a,f]=V(t,i);if(this.el=N.createElement(a,e),C.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(h=C.nextNode())&&v.length<c;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const i of h.getAttributeNames())if(i.endsWith(o)||i.startsWith(n)){const s=f[d++];if(t.push(i),void 0!==s){const t=h.getAttribute(s.toLowerCase()+o).split(n),i=/([.?@])?(.*)/.exec(s);v.push({type:1,index:r,name:i[2],strings:t,ctor:"."===i[1]?H:"?"===i[1]?L:"@"===i[1]?z:k})}else v.push({type:6,index:r})}for(const i of t)h.removeAttribute(i)}if(y.test(h.tagName)){const t=h.textContent.split(n),i=t.length-1;if(i>0){h.textContent=s?s.emptyScript:"";for(let s=0;s<i;s++)h.append(t[s],u()),C.nextNode(),v.push({type:2,index:++r});h.append(t[i],u())}}}else if(8===h.nodeType)if(h.data===l)v.push({type:2,index:r});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)v.push({type:7,index:r}),t+=n.length-1}r++}}static createElement(t,i){const s=r.createElement("template");return s.innerHTML=t,s}}function S(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=S(t,r._$AS(t,i.values),r,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:r).importNode(s,!0);C.currentNode=o;let n=C.nextNode(),l=0,h=0,u=e[0];for(;void 0!==u;){if(l===u.index){let i;2===u.type?i=new R(n,n.nextSibling,this,t):1===u.type?i=new u.ctor(n,u.name,u.strings,this,t):6===u.type&&(i=new Z(n,this,t)),this._$AV.push(i),u=e[++h]}l!==(null==u?void 0:u.index)&&(n=C.nextNode(),l++)}return C.currentNode=r,o}v(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{constructor(t,i,s,e){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cp=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null==t?void 0:t.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),d(t)?t===A||null==t||""===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):v(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&d(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){var i;const{values:s,_$litType$:e}=t,o="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=N.createElement(P(e.h,e.h[0]),this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.v(s);else{const t=new M(o,this),i=t.u(this.options);t.v(s),this.$(i),this._$AH=t}}_$AC(t){let i=E.get(t.strings);return void 0===i&&E.set(t.strings,i=new N(t)),i}T(t){c(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new R(this.k(u()),this.k(u()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cp=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class k{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=S(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=S(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:"")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}const I=s?s.emptyScript:"";class L extends k{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=S(this,t,i,0))&&void 0!==s?s:A)===T)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j={O:o,P:n,A:l,C:1,M:V,L:M,R:v,D:S,I:R,V:k,H:L,N:z,U:H,F:Z},B=i.litHtmlPolyfillSupport;null==B||B(N,R),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push("2.8.0");const D=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new R(i.insertBefore(u(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l}},"./node_modules/lit/decorators.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Mo:()=>e,hO:()=>event_options_e,Cb:()=>n,IO:()=>query_i,Kt:()=>query_all_e,NH:()=>query_assigned_elements_l,vZ:()=>o,SB:()=>t});const e=e=>n=>"function"==typeof n?((e,n)=>(customElements.define(e,n),n))(e,n):((e,n)=>{const{kind:t,elements:s}=n;return{kind:t,elements:s,finisher(n){customElements.define(e,n)}}})(e,n),i=(i,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}},property_e=(i,e,n)=>{e.constructor.createProperty(n,i)};function n(n){return(t,o)=>void 0!==o?property_e(n,t,o):i(n,t)}function t(t){return n({...t,state:!0})}const base_o=({finisher:e,descriptor:t})=>(o,n)=>{var r;if(void 0===n){const n=null!==(r=o.originalKey)&&void 0!==r?r:o.key,i=null!=t?{kind:"method",placement:"prototype",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(i.finisher=function(t){e(t,n)}),i}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),null==e||e(r,n)}};function event_options_e(e){return base_o({finisher:(r,t)=>{Object.assign(r.prototype[t],e)}})}function query_i(i,n){return base_o({descriptor:o=>{const t={get(){var o,n;return null!==(n=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(n){const n="symbol"==typeof o?Symbol():"__"+o;t.get=function(){var o,t;return void 0===this[n]&&(this[n]=null!==(t=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(i))&&void 0!==t?t:null),this[n]}}return t}})}function query_all_e(e){return base_o({descriptor:r=>({get(){var r,o;return null!==(o=null===(r=this.renderRoot)||void 0===r?void 0:r.querySelectorAll(e))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}var query_assigned_elements_n;const query_assigned_elements_e=null!=(null===(query_assigned_elements_n=window.HTMLSlotElement)||void 0===query_assigned_elements_n?void 0:query_assigned_elements_n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function query_assigned_elements_l(n){const{slot:l,selector:t}=null!=n?n:{};return base_o({descriptor:o=>({get(){var o;const r="slot"+(l?`[name=${l}]`:":not([name])"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?query_assigned_elements_e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}function o(o,n,r){let l,s=o;return"object"==typeof o?(s=o.slot,l=o):l={flatten:n},r?query_assigned_elements_l({slot:s,flatten:n,selector:r}):base_o({descriptor:e=>({get(){var e,t;const o="slot"+(s?`[name=${s}]`:":not([name])"),n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(o);return null!==(t=null==n?void 0:n.assignedNodes(l))&&void 0!==t?t:[]},enumerable:!0,configurable:!0})})}},"./node_modules/lit/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{oi:()=>lit_element_s,iv:()=>i,dy:()=>lit_html.dy,YP:()=>lit_html.YP});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");const css_tag_t=window,e=css_tag_t.ShadowRoot&&(void 0===css_tag_t.ShadyCSS||css_tag_t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),n=new WeakMap;class o{constructor(t,e,n){if(this._$cssResult$=!0,n!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=n.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&n.set(s,t))}return t}toString(){return this.cssText}}const i=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1]),t[0]);return new o(n,t,s)},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const s of t.cssRules)e+=s.cssText;return(t=>new o("string"==typeof t?t:t+"",void 0,s))(e)})(t):t;var reactive_element_s;const reactive_element_e=window,reactive_element_r=reactive_element_e.trustedTypes,h=reactive_element_r?reactive_element_r.emptyScript:"",reactive_element_o=reactive_element_e.reactiveElementPolyfillSupport,reactive_element_n={toAttribute(t,i){switch(i){case Boolean:t=t?h:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},a=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:reactive_element_n,reflect:!1,hasChanged:a},d="finalized";class u extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var i;this.finalize(),(null!==(i=this.h)&&void 0!==i?i:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Ep(s,i);void 0!==e&&(this._$Ev.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s="symbol"==typeof t?Symbol():"__"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(d))return!1;this[d]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(c(i))}else void 0!==i&&s.push(c(i));return s}static _$Ep(t,i){const s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((s,n)=>{e?s.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((e=>{const n=document.createElement("style"),o=css_tag_t.litNonce;void 0!==o&&n.setAttribute("nonce",o),n.textContent=e.cssText,s.appendChild(n)}))})(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$EO(t,i,s=l){var e;const r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){const h=(void 0!==(null===(e=s.converter)||void 0===e?void 0:e.toAttribute)?s.converter:reactive_element_n).toAttribute(i,s.type);this._$El=t,null==h?this.removeAttribute(r):this.setAttribute(r,h),this._$El=null}}_$AK(t,i){var s;const e=this.constructor,r=e._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=e.getPropertyOptions(r),h="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(s=t.converter)||void 0===s?void 0:s.fromAttribute)?t.converter:reactive_element_n;this._$El=r,this[r]=h.fromAttribute(i,t.type),this._$El=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||a)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}_$Ej(){var _this=this;return(0,asyncToGenerator.Z)((function*(){_this.isUpdatePending=!0;try{yield _this._$E_}catch(t){Promise.reject(t)}const t=_this.scheduleUpdate();return null!=t&&(yield t),!_this.isUpdatePending}))()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,i)=>this[i]=t)),this._$Ei=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$EO(i,this[i],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}u[d]=!0,u.elementProperties=new Map,u.elementStyles=[],u.shadowRootOptions={mode:"open"},null==reactive_element_o||reactive_element_o({ReactiveElement:u}),(null!==(reactive_element_s=reactive_element_e.reactiveElementVersions)&&void 0!==reactive_element_s?reactive_element_s:reactive_element_e.reactiveElementVersions=[]).push("1.6.3");var lit_element_l,lit_element_o,lit_html=__webpack_require__("./node_modules/lit-html/lit-html.js");class lit_element_s extends u{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=(0,lit_html.sY)(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return lit_html.Jb}}lit_element_s.finalized=!0,lit_element_s._$litElement$=!0,null===(lit_element_l=globalThis.litElementHydrateSupport)||void 0===lit_element_l||lit_element_l.call(globalThis,{LitElement:lit_element_s});const lit_element_n=globalThis.litElementPolyfillSupport;null==lit_element_n||lit_element_n({LitElement:lit_element_s});(null!==(lit_element_o=globalThis.litElementVersions)&&void 0!==lit_element_o?lit_element_o:globalThis.litElementVersions=[]).push("3.3.3")}}]);
//# sourceMappingURL=280.fdab1579.iframe.bundle.js.map