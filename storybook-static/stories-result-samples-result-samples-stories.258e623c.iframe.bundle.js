"use strict";(self.webpackChunkstorybook_demo=self.webpackChunkstorybook_demo||[]).push([[308],{"./src/stories/result-samples/result-samples.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>result_samples_stories});var ag_grid_community_angular=__webpack_require__("./node_modules/@ag-grid-community/angular/fesm2015/ag-grid-community-angular.js"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),main=__webpack_require__("./node_modules/@ag-grid-community/client-side-row-model/dist/esm/es6/main.mjs"),es6_main=__webpack_require__("./node_modules/@ag-grid-enterprise/row-grouping/dist/esm/es6/main.mjs");let ResultSamplesComponent=class ResultSamplesComponent{constructor(){this.columnDefs=[],this.rowData=[],this.modules=[main.I,es6_main.qZ],this.groupDisplayType="singleColumn",this.gridOptions={suppressAggFuncInHeader:!0,animateRows:!0,isExternalFilterPresent:function(){return!0},doesExternalFilterPass:function(rowNode){return!rowNode.data.issummary},autoGroupColumnDef:{field:"no",headerName:"",sortable:!0,cellRendererParams:{suppressCount:!0},pinned:"left"},defaultColDef:{resizable:!1,editable:!1,enableRowGroup:!0},getMainMenuItems:params=>this.getMainMenuItems(params),onColumnRowGroupChanged:params=>{params.columns.length>0&&"no"==params.columns[params.columns.length-1].getColId()?this.gridOptions.api.forEachNode(((node,index)=>{node.group&&1===node.childrenAfterFilter.length&&(this.gridOptions.api.setRowNodeExpanded(node,!0),this.gridOptions.groupHideOpenParents=!0)})):this.gridOptions.groupHideOpenParents=!1}}}static isSampleResultFailing(params){return params.data?"Fail"==params.data.summaryresult:"Fail"==params.node.aggData.summaryresult}static isSampleResultWarning(params){if(params.node.aggData){var rowCondition=params.node.allLeafChildren.filter((x=>"Fail"==x.data.summaryresult)).length>0;return"Pass"==params.node.aggData.summaryresult&&1==rowCondition}return!1}getMainMenuItems(params){return params.defaultItems.push("contractAll"),params.defaultItems[params.defaultItems.length-1]={name:"Reset Columns",action:()=>{this.resetColumnsWithAggregation()}},params.defaultItems.filter((item=>"resetColumns"!=item))}resetColumnsWithAggregation(){var currentAggState={};this.gridOptions.columnApi.getAllGridColumns().forEach((column=>{currentAggState[column.getColId()]={aggFunc:column.getAggFunc()}})),Object.keys(currentAggState).forEach((colId=>{var column=this.gridOptions.columnApi.getColumn(colId),aggState=currentAggState[colId];column&&(column.setAggFunc(aggState.aggFunc),column.setPinned(!1))})),this.defaultColDef={flex:1,minWidth:100,sortable:!0,resizable:!0},this.gridOptions.api.setColumnDefs(this.columnDefs)}onGridReady(params){this.gridApi=params.api,this.columnApi=params.columnApi}static#_=this.propDecorators={columnDefs:[{type:core.Input}],rowData:[{type:core.Input}]}};ResultSamplesComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"app-result-samples",template:'  \n    <div >     \n      <ag-grid-angular #agGrid\n        style="height: 500px" class="ag-theme-agilent"  [rowHeight] = 32     \n        [rowData]="rowData"\n        [columnDefs]="columnDefs"\n        [defaultColDef]="defaultColDef"\n        [modules] = "modules"\n        [gridOptions]="gridOptions"\n        [groupDisplayType]="groupDisplayType"\n        [animateRows]="true"        \n        (gridReady)="onGridReady($event)"> \n      >\n      </ag-grid-angular>\n    </div>\n  '})],ResultSamplesComponent);var CustomSvgIcons,agilent_ag_grid_community_extensions=__webpack_require__("./node_modules/@agilent/ag-grid-community-extensions/fesm2022/agilent-ag-grid-community-extensions.mjs");!function(CustomSvgIcons){CustomSvgIcons.SaveIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="#384350" stroke-miterlimit="10" d="M20.5 20.5h-17v-17h13l4 4v13zM13.5 5v4"/><path fill="none" stroke="#384350" stroke-miterlimit="10" d="M16.5 3.5v7h-9v-7"/></svg>',CustomSvgIcons.ResetIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="#384350" stroke-miterlimit="10" d="M8.5 3.5l-5 5 5 5"/><path fill="none" stroke="#384350" stroke-miterlimit="10" d="M4 21.5h11a6.5 6.5 0 0 0 0-13H4"/></svg>',CustomSvgIcons.AddIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="#384350" opacity="1" stroke-miterlimit="10" d="M2.5 2.5h14v5h-14zM2.5 7.5h14v5h-14zM2.5 12.5h14v5h-14z"/><path fill="#384350" stroke="#384350" opacity="1" stroke-miterlimit="10" d="M7.5 17.5h14v4h-14z"/><path fill="#384350" stroke="#384350" opacity="1" stroke-miterlimit="10" d="M7.5 17.5h14v4h-14z"/></svg>',CustomSvgIcons.AddIconDisabled='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="#C1C6C8" opacity="1" stroke-miterlimit="10" d="M2.5 2.5h14v5h-14zM2.5 7.5h14v5h-14zM2.5 12.5h14v5h-14z"/><path fill="#384350" stroke="#C1C6C8" opacity="1" stroke-miterlimit="10" d="M7.5 17.5h14v4h-14z"/><path fill="#384350" stroke="#C1C6C8" opacity="1" stroke-miterlimit="10" d="M7.5 17.5h14v4h-14z"/></svg>',CustomSvgIcons.InsertIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#383838" opacity="1" d="M100-117v307h-320v-307h-2683v842H182v-842h-82z"/><g stroke="#384350" opacity="1" stroke-miterlimit="10"><path fill="none" d="M2.5 2.5h14v5h-14zM2.5 7.5h14v5h-14zM2.5 16.5h14v5h-14z"/><path fill="#384350" opacity="1" d="M7.5 12.5h14v4h-14z"/></g></svg>',CustomSvgIcons.InsertIconDisabled='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#C1C6C8" opacity="1" d="M100-117v307h-320v-307h-2683v842H182v-842h-82z"/><g stroke="#C1C6C8" opacity="1" stroke-miterlimit="10"><path fill="none" d="M2.5 2.5h14v5h-14zM2.5 7.5h14v5h-14zM2.5 16.5h14v5h-14z"/><path fill="#C1C6C8" opacity="1" d="M7.5 12.5h14v4h-14z"/></g></svg>',CustomSvgIcons.DeleteIcon='<svg version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.cls-1{fill:none;stroke:#384350;opacity:1;stroke-miterlimit:10;}</style></defs><g id="Icons"><line class="cls-1" x1="2.5" y1="7.5" x2="15.5" y2="7.5"/><polyline class="cls-1" points="13 12.5 2.5 12.5 2.5 2.5 15.5 2.5 15.5 9"/><polyline class="cls-1" points="13 16.5 2.5 16.5 2.5 21.5 15.5 21.5 15.5 20"/><line class="cls-1" x1="15.5" y1="11.5" x2="21.5" y2="17.5"/><line class="cls-1" x1="21.5" y1="11.5" x2="15.5" y2="17.5"/><line class="cls-1" x1="2.5" y1="7.5" x2="15.5" y2="7.5"/><polyline class="cls-1" points="13 16.5 2.5 16.5 2.5 21.5 15.5 21.5 15.5 20"/></g><g id="Layer_12"><polyline class="cls-1" points="13 12.5 2.5 12.5 2.5 2.5 15.5 2.5 15.5 9"/></g></svg>',CustomSvgIcons.DeleteIconDisabled='<svg version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.cls-1{fill:none;stroke:#C1C6C8;opacity:1;stroke-miterlimit:10;}</style></defs><g id="Icons"><line class="cls-1" x1="2.5" y1="7.5" x2="15.5" y2="7.5"/><polyline class="cls-1" points="13 12.5 2.5 12.5 2.5 2.5 15.5 2.5 15.5 9"/><polyline class="cls-1" points="13 16.5 2.5 16.5 2.5 21.5 15.5 21.5 15.5 20"/><line class="cls-1" x1="15.5" y1="11.5" x2="21.5" y2="17.5"/><line class="cls-1" x1="21.5" y1="11.5" x2="15.5" y2="17.5"/><line class="cls-1" x1="2.5" y1="7.5" x2="15.5" y2="7.5"/><polyline class="cls-1" points="13 16.5 2.5 16.5 2.5 21.5 15.5 21.5 15.5 20"/></g><g id="Layer_12"><polyline class="cls-1" points="13 12.5 2.5 12.5 2.5 2.5 15.5 2.5 15.5 9"/></g></svg>',CustomSvgIcons.DuplicateIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="#384350" opacity="1" stroke-miterlimit="10" d="M2.5 9.5h12v12h-12z"/><path fill="none" stroke="#384350" opacity="1" stroke-miterlimit="10" d="M9.5 8V2.5h12v12H16"/></svg>',CustomSvgIcons.DuplicateIconDisabled='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="#C1C6C8" opacity="1" stroke-miterlimit="10" d="M2.5 9.5h12v12h-12z"/><path fill="none" stroke="#C1C6C8" opacity="1" stroke-miterlimit="10" d="M9.5 8V2.5h12v12H16"/></svg>',CustomSvgIcons.ResultPendingIcon='<svg height="27" style = "margin-right: 5px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><circle cx="8" cy="8" r="6.5" fill="none" stroke="#eaebed" stroke-miterlimit="10"/></svg>'}(CustomSvgIcons||(CustomSvgIcons={}));let ImageFormatterComponent=class ImageFormatterComponent extends agilent_ag_grid_community_extensions.eW{constructor(renderer,element,changeDetectorRef){super(renderer,element),this.changeDetectorRef=changeDetectorRef,this.frameworkComponents={awfCellRenderer:agilent_ag_grid_community_extensions.eW},this.raw="",this.applyItalics=!1}detectChanges(){this.changeDetectorRef.detectChanges()}get PendingIcon(){return CustomSvgIcons.ResultPendingIcon}agInit(params){switch(super.agInit(params),params.value="Fail",params.value){case"Pass":this.icon="awf-success-colored";break;case"Fail":this.icon="awf-error-colored";break;case"Pending":this.raw=this.PendingIcon,this.applyItalics=!0;break;default:this.icon="",this.raw=""}this.text=params.value;params.api.getDisplayedRowAtIndex(params.rowIndex).data}static#_=this.ctorParameters=()=>[{type:core.Renderer2},{type:core.ElementRef},{type:core.ChangeDetectorRef}]};ImageFormatterComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"app-image-formatter-cell",template:'<div style=\'display:flex\' \n  (mouseenter)="onMouseEnter()"\n  (mouseleave)="onMouseLeave()"\n  agTooltip\n  (hidden)="detectChanges()"  \n  tooltipPlacement="auto"><div style=\'padding-right:5px;\'><awf-icon-ng [raw]="raw" name="{{ icon }}"></awf-icon-ng></div><div [ngClass]= "{\'apply-Italic\':applyItalics}" >{{ text }}</div></div>'})],ImageFormatterComponent);var agilent_ui_element_icon=__webpack_require__("./node_modules/@agilent/ui-element/fesm2022/agilent-ui-element-icon.mjs");const result_samples_stories={title:"Result Samples",tags:["autodocs"],component:ResultSamplesComponent,decorators:[(0,dist.moduleMetadata)({declarations:[ImageFormatterComponent],imports:[ag_grid_community_angular.sF,agilent_ui_element_icon.QX]})]},Default=(args=>({component:ResultSamplesComponent,props:args})).bind({});Default.args={columnDefs:[{field:"measurementno",rowGroup:!0,hide:!0,headerName:"Measurement",valueGetter:function avgValueGetter(params){return params.data.measurementno.substring(0,3)}},{field:"repeatno",headerName:"Repeat No.",aggFunc:"first"},{field:"sampleno",rowGroup:!1,hide:!0},{field:"samplelabel",headerName:"Sample Label",aggFunc:"first"},{field:"issummary",headerName:"Is Summary",hide:!0,aggFunc:""},{field:"reason",headerName:"Reason",valueGetter:params=>params.node.group?{toString:()=>params.node.key==params.node.allLeafChildren[0].data.measurementno?params.node.allLeafChildren[0].data.reason:""}:{toString:()=>params.data.reason}},{field:"summaryresult",headerName:"Summary Result",aggFunc:"first",valueGetter:params=>params.node.group?{toString:()=>params.node.key==params.node.allLeafChildren[0].data.measurementno?params.node.allLeafChildren[0].data.summaryresult:""}:{toString:()=>params.data.summaryresult},cellRenderer:ImageFormatterComponent,cellRendererParams:{errorMessage:params=>ResultSamplesComponent.isSampleResultFailing(params)?"Sample result failed":"",warningMessage:params=>ResultSamplesComponent.isSampleResultWarning(params)?"average pass despite Individual row failure":""}}],rowData:[{sampleno:1,measurementno:"1.1",repeatno:"1",samplelabel:"Sample 1",summaryresult:"Pass",issummary:!0,reason:"Individual scan failures but overall Pass"},{sampleno:1,measurementno:"1.1.1",repeatno:"1",samplelabel:"Sample 1",summaryresult:"Pass",issummary:!1,reason:"reason1"},{sampleno:1,measurementno:"1.2",repeatno:"2",samplelabel:"Sample 1",summaryresult:"Fail",issummary:!0,reason:"Scan1:Repeat2:Weight out of range "},{sampleno:1,measurementno:"1.2.1",repeatno:"2",samplelabel:"Sample 1",summaryresult:"Fail",issummary:!1,reason:"fails"},{sampleno:2,measurementno:"2.1",repeatno:"1",samplelabel:"Sample 2",summaryresult:"Fail",issummary:!0,reason:"Weight max exceeds in 2.1 "},{sampleno:2,measurementno:"2.1.1",repeatno:"1",samplelabel:"Sample 2",summaryresult:"Fail",issummary:!1,reason:"fails"},{sampleno:2,measurementno:"2.2",repeatno:"2",samplelabel:"Sample 2",summaryresult:"Fail",issummary:!0,reason:"Weight max exceeds in scan 2"},{sampleno:2,measurementno:"2.2.1",repeatno:"2",samplelabel:"Sample 2",summaryresult:"Fail",issummary:!1,reason:"its again a weight issue"}]},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"(args: gridArgs) => ({\n  component: ResultSamplesComponent,\n  props: args\n})",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);